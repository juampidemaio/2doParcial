var nN=Object.create;var fg=Object.defineProperty,rN=Object.defineProperties,iN=Object.getOwnPropertyDescriptor,sN=Object.getOwnPropertyDescriptors,oN=Object.getOwnPropertyNames,CE=Object.getOwnPropertySymbols,AE=Object.getPrototypeOf,SE=Object.prototype.hasOwnProperty,aN=Object.prototype.propertyIsEnumerable,cN=Reflect.get;var TE=(n,e,t)=>e in n?fg(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,V=(n,e)=>{for(var t in e||={})SE.call(e,t)&&TE(n,t,e[t]);if(CE)for(var t of CE(e))aN.call(e,t)&&TE(n,t,e[t]);return n},le=(n,e)=>rN(n,sN(e));var uN=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var lN=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of oN(e))!SE.call(n,i)&&i!==t&&fg(n,i,{get:()=>e[i],enumerable:!(r=iN(e,i))||r.enumerable});return n};var C4=(n,e,t)=>(t=n!=null?nN(AE(n)):{},lN(e||!n||!n.__esModule?fg(t,"default",{value:n,enumerable:!0}):t,n));var yi=(n,e,t)=>cN(AE(n),t,e);var D=(n,e,t)=>new Promise((r,i)=>{var s=u=>{try{a(t.next(u))}catch(d){i(d)}},o=u=>{try{a(t.throw(u))}catch(d){i(d)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((t=t.apply(n,e)).next())});var I4=uN((gr,yE)=>{"use strict";(function(n,e){typeof gr=="object"&&typeof yE<"u"?yE.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self,n.Sweetalert2=e())})(gr,function(){"use strict";function n(l,h,y){if(typeof l=="function"?l===h:l.has(h))return arguments.length<3?h:y;throw new TypeError("Private element is not present on this object")}function e(l,h){if(h.has(l))throw new TypeError("Cannot initialize the same private elements twice on an object")}function t(l,h){return l.get(n(l,h))}function r(l,h,y){e(l,h),h.set(l,y)}function i(l,h,y){return l.set(n(l,h),y),y}let s=100,o={},a=()=>{o.previousActiveElement instanceof HTMLElement?(o.previousActiveElement.focus(),o.previousActiveElement=null):document.body&&document.body.focus()},u=l=>new Promise(h=>{if(!l)return h();let y=window.scrollX,w=window.scrollY;o.restoreFocusTimeout=setTimeout(()=>{a(),h()},s),window.scrollTo(y,w)}),d="swal2-",g=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((l,h)=>(l[h]=d+h,l),{}),E=["success","warning","info","question","error"].reduce((l,h)=>(l[h]=d+h,l),{}),M="SweetAlert2:",O=l=>l.charAt(0).toUpperCase()+l.slice(1),k=l=>{console.warn(`${M} ${typeof l=="object"?l.join(" "):l}`)},j=l=>{console.error(`${M} ${l}`)},G=[],q=l=>{G.includes(l)||(G.push(l),k(l))},K=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;q(`"${l}" is deprecated and will be removed in the next major release.${h?` Use "${h}" instead.`:""}`)},Te=l=>typeof l=="function"?l():l,J=l=>l&&typeof l.toPromise=="function",T=l=>J(l)?l.toPromise():Promise.resolve(l),I=l=>l&&Promise.resolve(l)===l,b=()=>document.body.querySelector(`.${g.container}`),A=l=>{let h=b();return h?h.querySelector(l):null},S=l=>A(`.${l}`),R=()=>S(g.popup),C=()=>S(g.icon),gn=()=>S(g["icon-content"]),Xr=()=>S(g.title),tc=()=>S(g["html-container"]),ei=()=>S(g.image),mr=()=>S(g["progress-steps"]),ti=()=>S(g["validation-message"]),zt=()=>A(`.${g.actions} .${g.confirm}`),ni=()=>A(`.${g.actions} .${g.cancel}`),Ct=()=>A(`.${g.actions} .${g.deny}`),ft=()=>S(g["input-label"]),ri=()=>A(`.${g.loader}`),mn=()=>S(g.actions),fl=()=>S(g.footer),Pn=()=>S(g["timer-progress-bar"]),nc=()=>S(g.close),Kp=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,ii=()=>{let l=R();if(!l)return[];let h=l.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),y=Array.from(h).sort(($,ue)=>{let Re=parseInt($.getAttribute("tabindex")||"0"),je=parseInt(ue.getAttribute("tabindex")||"0");return Re>je?1:Re<je?-1:0}),w=l.querySelectorAll(Kp),N=Array.from(w).filter($=>$.getAttribute("tabindex")!=="-1");return[...new Set(y.concat(N))].filter($=>_t($))},si=()=>Gt(document.body,g.shown)&&!Gt(document.body,g["toast-shown"])&&!Gt(document.body,g["no-backdrop"]),oi=()=>{let l=R();return l?Gt(l,g.toast):!1},rc=()=>{let l=R();return l?l.hasAttribute("data-loading"):!1},wt=(l,h)=>{if(l.textContent="",h){let w=new DOMParser().parseFromString(h,"text/html"),N=w.querySelector("head");N&&Array.from(N.childNodes).forEach(ue=>{l.appendChild(ue)});let $=w.querySelector("body");$&&Array.from($.childNodes).forEach(ue=>{ue instanceof HTMLVideoElement||ue instanceof HTMLAudioElement?l.appendChild(ue.cloneNode(!0)):l.appendChild(ue)})}},Gt=(l,h)=>{if(!h)return!1;let y=h.split(/\s+/);for(let w=0;w<y.length;w++)if(!l.classList.contains(y[w]))return!1;return!0},pl=(l,h)=>{Array.from(l.classList).forEach(y=>{!Object.values(g).includes(y)&&!Object.values(E).includes(y)&&!Object.values(h.showClass||{}).includes(y)&&l.classList.remove(y)})},Tt=(l,h,y)=>{if(pl(l,h),!h.customClass)return;let w=h.customClass[y];if(w){if(typeof w!="string"&&!w.forEach){k(`Invalid type of customClass.${y}! Expected string or iterable object, got "${typeof w}"`);return}ge(l,w)}},so=(l,h)=>{if(!h)return null;switch(h){case"select":case"textarea":case"file":return l.querySelector(`.${g.popup} > .${g[h]}`);case"checkbox":return l.querySelector(`.${g.popup} > .${g.checkbox} input`);case"radio":return l.querySelector(`.${g.popup} > .${g.radio} input:checked`)||l.querySelector(`.${g.popup} > .${g.radio} input:first-child`);case"range":return l.querySelector(`.${g.popup} > .${g.range} input`);default:return l.querySelector(`.${g.popup} > .${g.input}`)}},ic=l=>{if(l.focus(),l.type!=="file"){let h=l.value;l.value="",l.value=h}},sc=(l,h,y)=>{!l||!h||(typeof h=="string"&&(h=h.split(/\s+/).filter(Boolean)),h.forEach(w=>{Array.isArray(l)?l.forEach(N=>{y?N.classList.add(w):N.classList.remove(w)}):y?l.classList.add(w):l.classList.remove(w)}))},ge=(l,h)=>{sc(l,h,!0)},Wt=(l,h)=>{sc(l,h,!1)},kn=(l,h)=>{let y=Array.from(l.children);for(let w=0;w<y.length;w++){let N=y[w];if(N instanceof HTMLElement&&Gt(N,h))return N}},yn=(l,h,y)=>{y===`${parseInt(y)}`&&(y=parseInt(y)),y||parseInt(y)===0?l.style.setProperty(h,typeof y=="number"?`${y}px`:y):l.style.removeProperty(h)},ze=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";l&&(l.style.display=h)},Je=l=>{l&&(l.style.display="none")},Xe=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";l&&new MutationObserver(()=>{On(l,l.innerHTML,h)}).observe(l,{childList:!0,subtree:!0})},pt=(l,h,y,w)=>{let N=l.querySelector(h);N&&N.style.setProperty(y,w)},On=function(l,h){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";h?ze(l,y):Je(l)},_t=l=>!!(l&&(l.offsetWidth||l.offsetHeight||l.getClientRects().length)),gl=()=>!_t(zt())&&!_t(Ct())&&!_t(ni()),ml=l=>l.scrollHeight>l.clientHeight,ai=l=>{let h=window.getComputedStyle(l),y=parseFloat(h.getPropertyValue("animation-duration")||"0"),w=parseFloat(h.getPropertyValue("transition-duration")||"0");return y>0||w>0},oo=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=Pn();y&&_t(y)&&(h&&(y.style.transition="none",y.style.width="100%"),setTimeout(()=>{y.style.transition=`width ${l/1e3}s linear`,y.style.width="0%"},10))},yl=()=>{let l=Pn();if(!l)return;let h=parseInt(window.getComputedStyle(l).width);l.style.removeProperty("transition"),l.style.width="100%";let y=parseInt(window.getComputedStyle(l).width),w=h/y*100;l.style.width=`${w}%`},oc=()=>typeof window>"u"||typeof document>"u",Qp=`
 <div aria-labelledby="${g.title}" aria-describedby="${g["html-container"]}" class="${g.popup}" tabindex="-1">
   <button type="button" class="${g.close}"></button>
   <ul class="${g["progress-steps"]}"></ul>
   <div class="${g.icon}"></div>
   <img class="${g.image}" />
   <h2 class="${g.title}" id="${g.title}"></h2>
   <div class="${g["html-container"]}" id="${g["html-container"]}"></div>
   <input class="${g.input}" id="${g.input}" />
   <input type="file" class="${g.file}" />
   <div class="${g.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${g.select}" id="${g.select}"></select>
   <div class="${g.radio}"></div>
   <label class="${g.checkbox}">
     <input type="checkbox" id="${g.checkbox}" />
     <span class="${g.label}"></span>
   </label>
   <textarea class="${g.textarea}" id="${g.textarea}"></textarea>
   <div class="${g["validation-message"]}" id="${g["validation-message"]}"></div>
   <div class="${g.actions}">
     <div class="${g.loader}"></div>
     <button type="button" class="${g.confirm}"></button>
     <button type="button" class="${g.deny}"></button>
     <button type="button" class="${g.cancel}"></button>
   </div>
   <div class="${g.footer}"></div>
   <div class="${g["timer-progress-bar-container"]}">
     <div class="${g["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Yp=()=>{let l=b();return l?(l.remove(),Wt([document.documentElement,document.body],[g["no-backdrop"],g["toast-shown"],g["has-column"]]),!0):!1},vn=()=>{o.currentInstance.resetValidationMessage()},vl=()=>{let l=R(),h=kn(l,g.input),y=kn(l,g.file),w=l.querySelector(`.${g.range} input`),N=l.querySelector(`.${g.range} output`),$=kn(l,g.select),ue=l.querySelector(`.${g.checkbox} input`),Re=kn(l,g.textarea);h.oninput=vn,y.onchange=vn,$.onchange=vn,ue.onchange=vn,Re.oninput=vn,w.oninput=()=>{vn(),N.value=w.value},w.onchange=()=>{vn(),N.value=w.value}},wl=l=>typeof l=="string"?document.querySelector(l):l,Qi=l=>{let h=R();h.setAttribute("role",l.toast?"alert":"dialog"),h.setAttribute("aria-live",l.toast?"polite":"assertive"),l.toast||h.setAttribute("aria-modal","true")},ac=l=>{window.getComputedStyle(l).direction==="rtl"&&ge(b(),g.rtl)},cc=l=>{let h=Yp();if(oc()){j("SweetAlert2 requires document to initialize");return}let y=document.createElement("div");y.className=g.container,h&&ge(y,g["no-transition"]),wt(y,Qp);let w=wl(l.target);w.appendChild(y),Qi(l),ac(w),vl()},wn=(l,h)=>{l instanceof HTMLElement?h.appendChild(l):typeof l=="object"?_l(l,h):l&&wt(h,l)},_l=(l,h)=>{l.jquery?ao(h,l):wt(h,l.toString())},ao=(l,h)=>{if(l.textContent="",0 in h)for(let y=0;y in h;y++)l.appendChild(h[y].cloneNode(!0));else l.appendChild(h.cloneNode(!0))},Il=(l,h)=>{let y=mn(),w=ri();!y||!w||(!h.showConfirmButton&&!h.showDenyButton&&!h.showCancelButton?Je(y):ze(y),Tt(y,h,"actions"),Yi(y,w,h),wt(w,h.loaderHtml||""),Tt(w,h,"loader"))};function Yi(l,h,y){let w=zt(),N=Ct(),$=ni();!w||!N||!$||(at(w,"confirm",y),at(N,"deny",y),at($,"cancel",y),El(w,N,$,y),y.reverseButtons&&(y.toast?(l.insertBefore($,w),l.insertBefore(N,w)):(l.insertBefore($,h),l.insertBefore(N,h),l.insertBefore(w,h))))}function El(l,h,y,w){if(!w.buttonsStyling){Wt([l,h,y],g.styled);return}ge([l,h,y],g.styled),w.confirmButtonColor&&(l.style.backgroundColor=w.confirmButtonColor,ge(l,g["default-outline"])),w.denyButtonColor&&(h.style.backgroundColor=w.denyButtonColor,ge(h,g["default-outline"])),w.cancelButtonColor&&(y.style.backgroundColor=w.cancelButtonColor,ge(y,g["default-outline"]))}function at(l,h,y){let w=O(h);On(l,y[`show${w}Button`],"inline-block"),wt(l,y[`${h}ButtonText`]||""),l.setAttribute("aria-label",y[`${h}ButtonAriaLabel`]||""),l.className=g[h],Tt(l,y,`${h}Button`)}let bl=(l,h)=>{let y=nc();y&&(wt(y,h.closeButtonHtml||""),Tt(y,h,"closeButton"),On(y,h.showCloseButton),y.setAttribute("aria-label",h.closeButtonAriaLabel||""))},Zi=(l,h)=>{let y=b();y&&(Ji(y,h.backdrop),Zp(y,h.position),Jp(y,h.grow),Tt(y,h,"container"))};function Ji(l,h){typeof h=="string"?l.style.background=h:h||ge([document.documentElement,document.body],g["no-backdrop"])}function Zp(l,h){h&&(h in g?ge(l,g[h]):(k('The "position" parameter is not valid, defaulting to "center"'),ge(l,g.center)))}function Jp(l,h){h&&ge(l,g[`grow-${h}`])}var be={innerParams:new WeakMap,domCache:new WeakMap};let Xp=["input","file","range","select","radio","checkbox","textarea"],eg=(l,h)=>{let y=R();if(!y)return;let w=be.innerParams.get(l),N=!w||h.input!==w.input;Xp.forEach($=>{let ue=kn(y,g[$]);ue&&(uc($,h.inputAttributes),ue.className=g[$],N&&Je(ue))}),h.input&&(N&&co(h),uo(h))},co=l=>{if(!l.input)return;if(!Oe[l.input]){j(`Unexpected type of input! Expected ${Object.keys(Oe).join(" | ")}, got "${l.input}"`);return}let h=lc(l.input);if(!h)return;let y=Oe[l.input](h,l);ze(h),l.inputAutoFocus&&setTimeout(()=>{ic(y)})},Dl=l=>{for(let h=0;h<l.attributes.length;h++){let y=l.attributes[h].name;["id","type","value","style"].includes(y)||l.removeAttribute(y)}},uc=(l,h)=>{let y=R();if(!y)return;let w=so(y,l);if(w){Dl(w);for(let N in h)w.setAttribute(N,h[N])}},uo=l=>{if(!l.input)return;let h=lc(l.input);h&&Tt(h,l,"input")},rn=(l,h)=>{!l.placeholder&&h.inputPlaceholder&&(l.placeholder=h.inputPlaceholder)},ci=(l,h,y)=>{if(y.inputLabel){let w=document.createElement("label"),N=g["input-label"];w.setAttribute("for",l.id),w.className=N,typeof y.customClass=="object"&&ge(w,y.customClass.inputLabel),w.innerText=y.inputLabel,h.insertAdjacentElement("beforebegin",w)}},lc=l=>{let h=R();if(h)return kn(h,g[l]||g.input)},ui=(l,h)=>{["string","number"].includes(typeof h)?l.value=`${h}`:I(h)||k(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof h}"`)},Oe={};Oe.text=Oe.email=Oe.password=Oe.number=Oe.tel=Oe.url=Oe.search=Oe.date=Oe["datetime-local"]=Oe.time=Oe.week=Oe.month=(l,h)=>(ui(l,h.inputValue),ci(l,l,h),rn(l,h),l.type=h.input,l),Oe.file=(l,h)=>(ci(l,l,h),rn(l,h),l),Oe.range=(l,h)=>{let y=l.querySelector("input"),w=l.querySelector("output");return ui(y,h.inputValue),y.type=h.input,ui(w,h.inputValue),ci(y,l,h),l},Oe.select=(l,h)=>{if(l.textContent="",h.inputPlaceholder){let y=document.createElement("option");wt(y,h.inputPlaceholder),y.value="",y.disabled=!0,y.selected=!0,l.appendChild(y)}return ci(l,l,h),l},Oe.radio=l=>(l.textContent="",l),Oe.checkbox=(l,h)=>{let y=so(R(),"checkbox");y.value="1",y.checked=!!h.inputValue;let w=l.querySelector("span");return wt(w,h.inputPlaceholder||h.inputLabel),y},Oe.textarea=(l,h)=>{ui(l,h.inputValue),rn(l,h),ci(l,l,h);let y=w=>parseInt(window.getComputedStyle(w).marginLeft)+parseInt(window.getComputedStyle(w).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let w=parseInt(window.getComputedStyle(R()).width),N=()=>{if(!document.body.contains(l))return;let $=l.offsetWidth+y(l);$>w?R().style.width=`${$}px`:yn(R(),"width",h.width)};new MutationObserver(N).observe(l,{attributes:!0,attributeFilter:["style"]})}}),l};let Cl=(l,h)=>{let y=tc();y&&(Xe(y),Tt(y,h,"htmlContainer"),h.html?(wn(h.html,y),ze(y,"block")):h.text?(y.textContent=h.text,ze(y,"block")):Je(y),eg(l,h))},Tl=(l,h)=>{let y=fl();y&&(Xe(y),On(y,h.footer,"block"),h.footer&&wn(h.footer,y),Tt(y,h,"footer"))},tg=(l,h)=>{let y=be.innerParams.get(l),w=C();if(w){if(y&&h.icon===y.icon){Fn(w,h),Xi(w,h);return}if(!h.icon&&!h.iconHtml){Je(w);return}if(h.icon&&Object.keys(E).indexOf(h.icon)===-1){j(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${h.icon}"`),Je(w);return}ze(w),Fn(w,h),Xi(w,h),ge(w,h.showClass&&h.showClass.icon)}},Xi=(l,h)=>{for(let[y,w]of Object.entries(E))h.icon!==y&&Wt(l,w);ge(l,h.icon&&E[h.icon]),hc(l,h),Al(),Tt(l,h,"icon")},Al=()=>{let l=R();if(!l)return;let h=window.getComputedStyle(l).getPropertyValue("background-color"),y=l.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let w=0;w<y.length;w++)y[w].style.backgroundColor=h},dc=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,es=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Fn=(l,h)=>{if(!h.icon&&!h.iconHtml)return;let y=l.innerHTML,w="";h.iconHtml?w=Sl(h.iconHtml):h.icon==="success"?(w=dc,y=y.replace(/ style=".*?"/g,"")):h.icon==="error"?w=es:h.icon&&(w=Sl({question:"?",warning:"!",info:"i"}[h.icon])),y.trim()!==w.trim()&&wt(l,w)},hc=(l,h)=>{if(h.iconColor){l.style.color=h.iconColor,l.style.borderColor=h.iconColor;for(let y of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])pt(l,y,"background-color",h.iconColor);pt(l,".swal2-success-ring","border-color",h.iconColor)}},Sl=l=>`<div class="${g["icon-content"]}">${l}</div>`,Rl=(l,h)=>{let y=ei();if(y){if(!h.imageUrl){Je(y);return}ze(y,""),y.setAttribute("src",h.imageUrl),y.setAttribute("alt",h.imageAlt||""),yn(y,"width",h.imageWidth),yn(y,"height",h.imageHeight),y.className=g.image,Tt(y,h,"image")}},xl=(l,h)=>{let y=b(),w=R();if(!(!y||!w)){if(h.toast){yn(y,"width",h.width),w.style.width="100%";let N=ri();N&&w.insertBefore(N,C())}else yn(w,"width",h.width);yn(w,"padding",h.padding),h.color&&(w.style.color=h.color),h.background&&(w.style.background=h.background),Je(ti()),Ml(w,h)}},Ml=(l,h)=>{let y=h.showClass||{};l.className=`${g.popup} ${_t(l)?y.popup:""}`,h.toast?(ge([document.documentElement,document.body],g["toast-shown"]),ge(l,g.toast)):ge(l,g.modal),Tt(l,h,"popup"),typeof h.customClass=="string"&&ge(l,h.customClass),h.icon&&ge(l,g[`icon-${h.icon}`])},fc=(l,h)=>{let y=mr();if(!y)return;let{progressSteps:w,currentProgressStep:N}=h;if(!w||w.length===0||N===void 0){Je(y);return}ze(y),y.textContent="",N>=w.length&&k("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),w.forEach(($,ue)=>{let Re=pc($);if(y.appendChild(Re),ue===N&&ge(Re,g["active-progress-step"]),ue!==w.length-1){let je=Nl(h);y.appendChild(je)}})},pc=l=>{let h=document.createElement("li");return ge(h,g["progress-step"]),wt(h,l),h},Nl=l=>{let h=document.createElement("li");return ge(h,g["progress-step-line"]),l.progressStepsDistance&&yn(h,"width",l.progressStepsDistance),h},Pl=(l,h)=>{let y=Xr();y&&(Xe(y),On(y,h.title||h.titleText,"block"),h.title&&wn(h.title,y),h.titleText&&(y.innerText=h.titleText),Tt(y,h,"title"))},kl=(l,h)=>{xl(l,h),Zi(l,h),fc(l,h),tg(l,h),Rl(l,h),Pl(l,h),bl(l,h),Cl(l,h),Il(l,h),Tl(l,h);let y=R();typeof h.didRender=="function"&&y&&h.didRender(y),o.eventEmitter.emit("didRender",y)},ng=()=>_t(R()),gc=()=>{var l;return(l=zt())===null||l===void 0?void 0:l.click()},Ol=()=>{var l;return(l=Ct())===null||l===void 0?void 0:l.click()},rg=()=>{var l;return(l=ni())===null||l===void 0?void 0:l.click()},Lt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),sn=l=>{l.keydownTarget&&l.keydownHandlerAdded&&(l.keydownTarget.removeEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!1)},lo=(l,h,y)=>{sn(l),h.toast||(l.keydownHandler=w=>ho(h,w,y),l.keydownTarget=h.keydownListenerCapture?window:R(),l.keydownListenerCapture=h.keydownListenerCapture,l.keydownTarget.addEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!0)},li=(l,h)=>{var y;let w=ii();if(w.length){l=l+h,l===w.length?l=0:l===-1&&(l=w.length-1),w[l].focus();return}(y=R())===null||y===void 0||y.focus()},mc=["ArrowRight","ArrowDown"],Pe=["ArrowLeft","ArrowUp"],ho=(l,h,y)=>{l&&(h.isComposing||h.keyCode===229||(l.stopKeydownPropagation&&h.stopPropagation(),h.key==="Enter"?ts(h,l):h.key==="Tab"?ns(h):[...mc,...Pe].includes(h.key)?ig(h.key):h.key==="Escape"&&Fl(h,l,y)))},ts=(l,h)=>{if(!Te(h.allowEnterKey))return;let y=so(R(),h.input);if(l.target&&y&&l.target instanceof HTMLElement&&l.target.outerHTML===y.outerHTML){if(["textarea","file"].includes(h.input))return;gc(),l.preventDefault()}},ns=l=>{let h=l.target,y=ii(),w=-1;for(let N=0;N<y.length;N++)if(h===y[N]){w=N;break}l.shiftKey?li(w,-1):li(w,1),l.stopPropagation(),l.preventDefault()},ig=l=>{let h=mn(),y=zt(),w=Ct(),N=ni();if(!h||!y||!w||!N)return;let $=[y,w,N];if(document.activeElement instanceof HTMLElement&&!$.includes(document.activeElement))return;let ue=mc.includes(l)?"nextElementSibling":"previousElementSibling",Re=document.activeElement;if(Re){for(let je=0;je<h.children.length;je++){if(Re=Re[ue],!Re)return;if(Re instanceof HTMLButtonElement&&_t(Re))break}Re instanceof HTMLButtonElement&&Re.focus()}},Fl=(l,h,y)=>{Te(h.allowEscapeKey)&&(l.preventDefault(),y(Lt.esc))};var di={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let sg=()=>{let l=b();Array.from(document.body.children).forEach(y=>{y.contains(l)||(y.hasAttribute("aria-hidden")&&y.setAttribute("data-previous-aria-hidden",y.getAttribute("aria-hidden")||""),y.setAttribute("aria-hidden","true"))})},Ll=()=>{Array.from(document.body.children).forEach(h=>{h.hasAttribute("data-previous-aria-hidden")?(h.setAttribute("aria-hidden",h.getAttribute("data-previous-aria-hidden")||""),h.removeAttribute("data-previous-aria-hidden")):h.removeAttribute("aria-hidden")})},Vl=typeof window<"u"&&!!window.GestureEvent,rs=()=>{if(Vl&&!Gt(document.body,g.iosfix)){let l=document.body.scrollTop;document.body.style.top=`${l*-1}px`,ge(document.body,g.iosfix),Ln()}},Ln=()=>{let l=b();if(!l)return;let h;l.ontouchstart=y=>{h=Ul(y)},l.ontouchmove=y=>{h&&(y.preventDefault(),y.stopPropagation())}},Ul=l=>{let h=l.target,y=b(),w=tc();return!y||!w||jl(l)||Bl(l)?!1:h===y||!ml(y)&&h instanceof HTMLElement&&h.tagName!=="INPUT"&&h.tagName!=="TEXTAREA"&&!(ml(w)&&w.contains(h))},jl=l=>l.touches&&l.touches.length&&l.touches[0].touchType==="stylus",Bl=l=>l.touches&&l.touches.length>1,hi=()=>{if(Gt(document.body,g.iosfix)){let l=parseInt(document.body.style.top,10);Wt(document.body,g.iosfix),document.body.style.top="",document.body.scrollTop=l*-1}},og=()=>{let l=document.createElement("div");l.className=g["scrollbar-measure"],document.body.appendChild(l);let h=l.getBoundingClientRect().width-l.clientWidth;return document.body.removeChild(l),h},fi=null,ag=l=>{fi===null&&(document.body.scrollHeight>window.innerHeight||l==="scroll")&&(fi=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${fi+og()}px`)},Vn=()=>{fi!==null&&(document.body.style.paddingRight=`${fi}px`,fi=null)};function $l(l,h,y,w){oi()?Fe(l,w):(u(y).then(()=>Fe(l,w)),sn(o)),Vl?(h.setAttribute("style","display:none !important"),h.removeAttribute("class"),h.innerHTML=""):h.remove(),si()&&(Vn(),hi(),Ll()),cg()}function cg(){Wt([document.documentElement,document.body],[g.shown,g["height-auto"],g["no-backdrop"],g["toast-shown"]])}function Vt(l){l=is(l);let h=di.swalPromiseResolve.get(this),y=fo(this);this.isAwaitingPromise?l.isDismissed||(_n(this),h(l)):y&&h(l)}let fo=l=>{let h=R();if(!h)return!1;let y=be.innerParams.get(l);if(!y||Gt(h,y.hideClass.popup))return!1;Wt(h,y.showClass.popup),ge(h,y.hideClass.popup);let w=b();return Wt(w,y.showClass.backdrop),ge(w,y.hideClass.backdrop),Hl(l,h,y),!0};function yc(l){let h=di.swalPromiseReject.get(this);_n(this),h&&h(l)}let _n=l=>{l.isAwaitingPromise&&(delete l.isAwaitingPromise,be.innerParams.get(l)||l._destroy())},is=l=>typeof l>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},l),Hl=(l,h,y)=>{let w=b(),N=ai(h);typeof y.willClose=="function"&&y.willClose(h),o.eventEmitter.emit("willClose",h),N?vc(l,h,w,y.returnFocus,y.didClose):$l(l,w,y.returnFocus,y.didClose)},vc=(l,h,y,w,N)=>{o.swalCloseEventFinishedCallback=$l.bind(null,l,y,w,N);let $=function(ue){ue.target===h&&(o.swalCloseEventFinishedCallback(),delete o.swalCloseEventFinishedCallback,h.removeEventListener("animationend",$),h.removeEventListener("transitionend",$))};h.addEventListener("animationend",$),h.addEventListener("transitionend",$)},Fe=(l,h)=>{setTimeout(()=>{typeof h=="function"&&h.bind(l.params)(),o.eventEmitter.emit("didClose"),l._destroy&&l._destroy()})},pi=l=>{let h=R();if(h||new id,h=R(),!h)return;let y=ri();oi()?Je(C()):ug(h,l),ze(y),h.setAttribute("data-loading","true"),h.setAttribute("aria-busy","true"),h.focus()},ug=(l,h)=>{let y=mn(),w=ri();!y||!w||(!h&&_t(zt())&&(h=zt()),ze(y),h&&(Je(h),w.setAttribute("data-button-to-replace",h.className),y.insertBefore(w,h)),ge([l,y],g.loading))},ql=(l,h)=>{h.input==="select"||h.input==="radio"?In(l,h):["text","email","number","tel","textarea"].some(y=>y===h.input)&&(J(h.inputValue)||I(h.inputValue))&&(pi(zt()),Kl(l,h))},zl=(l,h)=>{let y=l.getInput();if(!y)return null;switch(h.input){case"checkbox":return Gl(y);case"radio":return po(y);case"file":return Wl(y);default:return h.inputAutoTrim?y.value.trim():y.value}},Gl=l=>l.checked?1:0,po=l=>l.checked?l.value:null,Wl=l=>l.files&&l.files.length?l.getAttribute("multiple")!==null?l.files:l.files[0]:null,In=(l,h)=>{let y=R();if(!y)return;let w=N=>{h.input==="select"?lg(y,os(N),h):h.input==="radio"&&ss(y,os(N),h)};J(h.inputOptions)||I(h.inputOptions)?(pi(zt()),T(h.inputOptions).then(N=>{l.hideLoading(),w(N)})):typeof h.inputOptions=="object"?w(h.inputOptions):j(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof h.inputOptions}`)},Kl=(l,h)=>{let y=l.getInput();y&&(Je(y),T(h.inputValue).then(w=>{y.value=h.input==="number"?`${parseFloat(w)||0}`:`${w}`,ze(y),y.focus(),l.hideLoading()}).catch(w=>{j(`Error in inputValue promise: ${w}`),y.value="",ze(y),y.focus(),l.hideLoading()}))};function lg(l,h,y){let w=kn(l,g.select);if(!w)return;let N=($,ue,Re)=>{let je=document.createElement("option");je.value=Re,wt(je,ue),je.selected=go(Re,y.inputValue),$.appendChild(je)};h.forEach($=>{let ue=$[0],Re=$[1];if(Array.isArray(Re)){let je=document.createElement("optgroup");je.label=ue,je.disabled=!1,w.appendChild(je),Re.forEach(wo=>N(je,wo[1],wo[0]))}else N(w,Re,ue)}),w.focus()}function ss(l,h,y){let w=kn(l,g.radio);if(!w)return;h.forEach($=>{let ue=$[0],Re=$[1],je=document.createElement("input"),wo=document.createElement("label");je.type="radio",je.name=g.radio,je.value=ue,go(ue,y.inputValue)&&(je.checked=!0);let hg=document.createElement("span");wt(hg,Re),hg.className=g.label,wo.appendChild(je),wo.appendChild(hg),w.appendChild(wo)});let N=w.querySelectorAll("input");N.length&&N[0].focus()}let os=l=>{let h=[];return l instanceof Map?l.forEach((y,w)=>{let N=y;typeof N=="object"&&(N=os(N)),h.push([w,N])}):Object.keys(l).forEach(y=>{let w=l[y];typeof w=="object"&&(w=os(w)),h.push([y,w])}),h},go=(l,h)=>!!h&&h.toString()===l.toString(),mo=l=>{let h=be.innerParams.get(l);l.disableButtons(),h.input?Yl(l,"confirm"):as(l,!0)},Ql=l=>{let h=be.innerParams.get(l);l.disableButtons(),h.returnInputValueOnDeny?Yl(l,"deny"):yr(l,!1)},yo=(l,h)=>{l.disableButtons(),h(Lt.cancel)},Yl=(l,h)=>{let y=be.innerParams.get(l);if(!y.input){j(`The "input" parameter is needed to be set when using returnInputValueOn${O(h)}`);return}let w=l.getInput(),N=zl(l,y);y.inputValidator?Zl(l,N,h):w&&!w.checkValidity()?(l.enableButtons(),l.showValidationMessage(y.validationMessage||w.validationMessage)):h==="deny"?yr(l,N):as(l,N)},Zl=(l,h,y)=>{let w=be.innerParams.get(l);l.disableInput(),Promise.resolve().then(()=>T(w.inputValidator(h,w.validationMessage))).then($=>{l.enableButtons(),l.enableInput(),$?l.showValidationMessage($):y==="deny"?yr(l,h):as(l,h)})},yr=(l,h)=>{let y=be.innerParams.get(l||void 0);y.showLoaderOnDeny&&pi(Ct()),y.preDeny?(l.isAwaitingPromise=!0,Promise.resolve().then(()=>T(y.preDeny(h,y.validationMessage))).then(N=>{N===!1?(l.hideLoading(),_n(l)):l.close({isDenied:!0,value:typeof N>"u"?h:N})}).catch(N=>_c(l||void 0,N))):l.close({isDenied:!0,value:h})},wc=(l,h)=>{l.close({isConfirmed:!0,value:h})},_c=(l,h)=>{l.rejectPromise(h)},as=(l,h)=>{let y=be.innerParams.get(l||void 0);y.showLoaderOnConfirm&&pi(),y.preConfirm?(l.resetValidationMessage(),l.isAwaitingPromise=!0,Promise.resolve().then(()=>T(y.preConfirm(h,y.validationMessage))).then(N=>{_t(ti())||N===!1?(l.hideLoading(),_n(l)):wc(l,typeof N>"u"?h:N)}).catch(N=>_c(l||void 0,N))):wc(l,h)};function gi(){let l=be.innerParams.get(this);if(!l)return;let h=be.domCache.get(this);Je(h.loader),oi()?l.icon&&ze(C()):Jl(h),Wt([h.popup,h.actions],g.loading),h.popup.removeAttribute("aria-busy"),h.popup.removeAttribute("data-loading"),h.confirmButton.disabled=!1,h.denyButton.disabled=!1,h.cancelButton.disabled=!1}let Jl=l=>{let h=l.popup.getElementsByClassName(l.loader.getAttribute("data-button-to-replace"));h.length?ze(h[0],"inline-block"):gl()&&Je(l.actions)};function cs(){let l=be.innerParams.get(this),h=be.domCache.get(this);return h?so(h.popup,l.input):null}function Ic(l,h,y){let w=be.domCache.get(l);h.forEach(N=>{w[N].disabled=y})}function Ec(l,h){let y=R();if(!(!y||!l))if(l.type==="radio"){let w=y.querySelectorAll(`[name="${g.radio}"]`);for(let N=0;N<w.length;N++)w[N].disabled=h}else l.disabled=h}function Un(){Ic(this,["confirmButton","denyButton","cancelButton"],!1)}function bc(){Ic(this,["confirmButton","denyButton","cancelButton"],!0)}function Dc(){Ec(this.getInput(),!1)}function Cc(){Ec(this.getInput(),!0)}function Tc(l){let h=be.domCache.get(this),y=be.innerParams.get(this);wt(h.validationMessage,l),h.validationMessage.className=g["validation-message"],y.customClass&&y.customClass.validationMessage&&ge(h.validationMessage,y.customClass.validationMessage),ze(h.validationMessage);let w=this.getInput();w&&(w.setAttribute("aria-invalid","true"),w.setAttribute("aria-describedby",g["validation-message"]),ic(w),ge(w,g.inputerror))}function us(){let l=be.domCache.get(this);l.validationMessage&&Je(l.validationMessage);let h=this.getInput();h&&(h.removeAttribute("aria-invalid"),h.removeAttribute("aria-describedby"),Wt(h,g.inputerror))}let et={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Xl=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],ed={allowEnterKey:void 0},mi=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],c=l=>Object.prototype.hasOwnProperty.call(et,l),f=l=>Xl.indexOf(l)!==-1,m=l=>ed[l],v=l=>{c(l)||k(`Unknown parameter "${l}"`)},x=l=>{mi.includes(l)&&k(`The parameter "${l}" is incompatible with toasts`)},P=l=>{let h=m(l);h&&K(l,h)},U=l=>{l.backdrop===!1&&l.allowOutsideClick&&k('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let h in l)v(h),l.toast&&x(h),P(h)};function Se(l){let h=R(),y=be.innerParams.get(this);if(!h||Gt(h,y.hideClass.popup)){k("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let w=ct(l),N=Object.assign({},y,w);kl(this,N),be.innerParams.set(this,N),Object.defineProperties(this,{params:{value:Object.assign({},this.params,l),writable:!1,enumerable:!0}})}let ct=l=>{let h={};return Object.keys(l).forEach(y=>{f(y)?h[y]=l[y]:k(`Invalid parameter to update: ${y}`)}),h};function we(){let l=be.domCache.get(this),h=be.innerParams.get(this);if(!h){ut(this);return}l.popup&&o.swalCloseEventFinishedCallback&&(o.swalCloseEventFinishedCallback(),delete o.swalCloseEventFinishedCallback),typeof h.didDestroy=="function"&&h.didDestroy(),o.eventEmitter.emit("didDestroy"),gt(this)}let gt=l=>{ut(l),delete l.params,delete o.keydownHandler,delete o.keydownTarget,delete o.currentInstance},ut=l=>{l.isAwaitingPromise?(jn(be,l),l.isAwaitingPromise=!0):(jn(di,l),jn(be,l),delete l.isAwaitingPromise,delete l.disableButtons,delete l.enableButtons,delete l.getInput,delete l.disableInput,delete l.enableInput,delete l.hideLoading,delete l.disableLoading,delete l.showValidationMessage,delete l.resetValidationMessage,delete l.close,delete l.closePopup,delete l.closeModal,delete l.closeToast,delete l.rejectPromise,delete l.update,delete l._destroy)},jn=(l,h)=>{for(let y in l)l[y].delete(h)};var Kt=Object.freeze({__proto__:null,_destroy:we,close:Vt,closeModal:Vt,closePopup:Vt,closeToast:Vt,disableButtons:bc,disableInput:Cc,disableLoading:gi,enableButtons:Un,enableInput:Dc,getInput:cs,handleAwaitingPromise:_n,hideLoading:gi,rejectPromise:yc,resetValidationMessage:us,showValidationMessage:Tc,update:Se});let vo=(l,h,y)=>{l.toast?Ac(l,h,y):(mM(h),yM(h),vM(l,h,y))},Ac=(l,h,y)=>{h.popup.onclick=()=>{l&&(gM(l)||l.timer||l.input)||y(Lt.close)}},gM=l=>!!(l.showConfirmButton||l.showDenyButton||l.showCancelButton||l.showCloseButton),td=!1,mM=l=>{l.popup.onmousedown=()=>{l.container.onmouseup=function(h){l.container.onmouseup=()=>{},h.target===l.container&&(td=!0)}}},yM=l=>{l.container.onmousedown=h=>{h.target===l.container&&h.preventDefault(),l.popup.onmouseup=function(y){l.popup.onmouseup=()=>{},(y.target===l.popup||y.target instanceof HTMLElement&&l.popup.contains(y.target))&&(td=!0)}}},vM=(l,h,y)=>{h.container.onclick=w=>{if(td){td=!1;return}w.target===h.container&&Te(l.allowOutsideClick)&&y(Lt.backdrop)}},wM=l=>typeof l=="object"&&l.jquery,vE=l=>l instanceof Element||wM(l),_M=l=>{let h={};return typeof l[0]=="object"&&!vE(l[0])?Object.assign(h,l[0]):["title","html","icon"].forEach((y,w)=>{let N=l[w];typeof N=="string"||vE(N)?h[y]=N:N!==void 0&&j(`Unexpected type of ${y}! Expected "string" or "Element", got ${typeof N}`)}),h};function IM(){for(var l=arguments.length,h=new Array(l),y=0;y<l;y++)h[y]=arguments[y];return new this(...h)}function EM(l){class h extends this{_main(w,N){return super._main(w,Object.assign({},l,N))}}return h}let bM=()=>o.timeout&&o.timeout.getTimerLeft(),wE=()=>{if(o.timeout)return yl(),o.timeout.stop()},_E=()=>{if(o.timeout){let l=o.timeout.start();return oo(l),l}},DM=()=>{let l=o.timeout;return l&&(l.running?wE():_E())},CM=l=>{if(o.timeout){let h=o.timeout.increase(l);return oo(h,!0),h}},TM=()=>!!(o.timeout&&o.timeout.isRunning()),IE=!1,dg={};function AM(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";dg[l]=this,IE||(document.body.addEventListener("click",SM),IE=!0)}let SM=l=>{for(let h=l.target;h&&h!==document;h=h.parentNode)for(let y in dg){let w=h.getAttribute(y);if(w){dg[y].fire({template:w});return}}};class RM{constructor(){this.events={}}_getHandlersByEventName(h){return typeof this.events[h]>"u"&&(this.events[h]=[]),this.events[h]}on(h,y){let w=this._getHandlersByEventName(h);w.includes(y)||w.push(y)}once(h,y){var w=this;let N=function(){w.removeListener(h,N);for(var $=arguments.length,ue=new Array($),Re=0;Re<$;Re++)ue[Re]=arguments[Re];y.apply(w,ue)};this.on(h,N)}emit(h){for(var y=arguments.length,w=new Array(y>1?y-1:0),N=1;N<y;N++)w[N-1]=arguments[N];this._getHandlersByEventName(h).forEach($=>{try{$.apply(this,w)}catch(ue){console.error(ue)}})}removeListener(h,y){let w=this._getHandlersByEventName(h),N=w.indexOf(y);N>-1&&w.splice(N,1)}removeAllListeners(h){this.events[h]!==void 0&&(this.events[h].length=0)}reset(){this.events={}}}o.eventEmitter=new RM;var xM=Object.freeze({__proto__:null,argsToParams:_M,bindClickHandler:AM,clickCancel:rg,clickConfirm:gc,clickDeny:Ol,enableLoading:pi,fire:IM,getActions:mn,getCancelButton:ni,getCloseButton:nc,getConfirmButton:zt,getContainer:b,getDenyButton:Ct,getFocusableElements:ii,getFooter:fl,getHtmlContainer:tc,getIcon:C,getIconContent:gn,getImage:ei,getInputLabel:ft,getLoader:ri,getPopup:R,getProgressSteps:mr,getTimerLeft:bM,getTimerProgressBar:Pn,getTitle:Xr,getValidationMessage:ti,increaseTimer:CM,isDeprecatedParameter:m,isLoading:rc,isTimerRunning:TM,isUpdatableParameter:f,isValidParameter:c,isVisible:ng,mixin:EM,off:(l,h)=>{if(!l){o.eventEmitter.reset();return}h?o.eventEmitter.removeListener(l,h):o.eventEmitter.removeAllListeners(l)},on:(l,h)=>{o.eventEmitter.on(l,h)},once:(l,h)=>{o.eventEmitter.once(l,h)},resumeTimer:_E,showLoading:pi,stopTimer:wE,toggleTimer:DM});class MM{constructor(h,y){this.callback=h,this.remaining=y,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(h){let y=this.running;return y&&this.stop(),this.remaining+=h,y&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let EE=["swal-title","swal-html","swal-footer"],NM=l=>{let h=typeof l.template=="string"?document.querySelector(l.template):l.template;if(!h)return{};let y=h.content;return jM(y),Object.assign(PM(y),kM(y),OM(y),FM(y),LM(y),VM(y),UM(y,EE))},PM=l=>{let h={};return Array.from(l.querySelectorAll("swal-param")).forEach(w=>{ls(w,["name","value"]);let N=w.getAttribute("name"),$=w.getAttribute("value");!N||!$||(typeof et[N]=="boolean"?h[N]=$!=="false":typeof et[N]=="object"?h[N]=JSON.parse($):h[N]=$)}),h},kM=l=>{let h={};return Array.from(l.querySelectorAll("swal-function-param")).forEach(w=>{let N=w.getAttribute("name"),$=w.getAttribute("value");!N||!$||(h[N]=new Function(`return ${$}`)())}),h},OM=l=>{let h={};return Array.from(l.querySelectorAll("swal-button")).forEach(w=>{ls(w,["type","color","aria-label"]);let N=w.getAttribute("type");!N||!["confirm","cancel","deny"].includes(N)||(h[`${N}ButtonText`]=w.innerHTML,h[`show${O(N)}Button`]=!0,w.hasAttribute("color")&&(h[`${N}ButtonColor`]=w.getAttribute("color")),w.hasAttribute("aria-label")&&(h[`${N}ButtonAriaLabel`]=w.getAttribute("aria-label")))}),h},FM=l=>{let h={},y=l.querySelector("swal-image");return y&&(ls(y,["src","width","height","alt"]),y.hasAttribute("src")&&(h.imageUrl=y.getAttribute("src")||void 0),y.hasAttribute("width")&&(h.imageWidth=y.getAttribute("width")||void 0),y.hasAttribute("height")&&(h.imageHeight=y.getAttribute("height")||void 0),y.hasAttribute("alt")&&(h.imageAlt=y.getAttribute("alt")||void 0)),h},LM=l=>{let h={},y=l.querySelector("swal-icon");return y&&(ls(y,["type","color"]),y.hasAttribute("type")&&(h.icon=y.getAttribute("type")),y.hasAttribute("color")&&(h.iconColor=y.getAttribute("color")),h.iconHtml=y.innerHTML),h},VM=l=>{let h={},y=l.querySelector("swal-input");y&&(ls(y,["type","label","placeholder","value"]),h.input=y.getAttribute("type")||"text",y.hasAttribute("label")&&(h.inputLabel=y.getAttribute("label")),y.hasAttribute("placeholder")&&(h.inputPlaceholder=y.getAttribute("placeholder")),y.hasAttribute("value")&&(h.inputValue=y.getAttribute("value")));let w=Array.from(l.querySelectorAll("swal-input-option"));return w.length&&(h.inputOptions={},w.forEach(N=>{ls(N,["value"]);let $=N.getAttribute("value");if(!$)return;let ue=N.innerHTML;h.inputOptions[$]=ue})),h},UM=(l,h)=>{let y={};for(let w in h){let N=h[w],$=l.querySelector(N);$&&(ls($,[]),y[N.replace(/^swal-/,"")]=$.innerHTML.trim())}return y},jM=l=>{let h=EE.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(l.children).forEach(y=>{let w=y.tagName.toLowerCase();h.includes(w)||k(`Unrecognized element <${w}>`)})},ls=(l,h)=>{Array.from(l.attributes).forEach(y=>{h.indexOf(y.name)===-1&&k([`Unrecognized attribute "${y.name}" on <${l.tagName.toLowerCase()}>.`,`${h.length?`Allowed attributes are: ${h.join(", ")}`:"To set the value, use HTML within the element."}`])})},bE=10,BM=l=>{let h=b(),y=R();typeof l.willOpen=="function"&&l.willOpen(y),o.eventEmitter.emit("willOpen",y);let N=window.getComputedStyle(document.body).overflowY;qM(h,y,l),setTimeout(()=>{$M(h,y)},bE),si()&&(HM(h,l.scrollbarPadding,N),sg()),!oi()&&!o.previousActiveElement&&(o.previousActiveElement=document.activeElement),typeof l.didOpen=="function"&&setTimeout(()=>l.didOpen(y)),o.eventEmitter.emit("didOpen",y),Wt(h,g["no-transition"])},nd=l=>{let h=R();if(l.target!==h)return;let y=b();h.removeEventListener("animationend",nd),h.removeEventListener("transitionend",nd),y.style.overflowY="auto"},$M=(l,h)=>{ai(h)?(l.style.overflowY="hidden",h.addEventListener("animationend",nd),h.addEventListener("transitionend",nd)):l.style.overflowY="auto"},HM=(l,h,y)=>{rs(),h&&y!=="hidden"&&ag(y),setTimeout(()=>{l.scrollTop=0})},qM=(l,h,y)=>{ge(l,y.showClass.backdrop),y.animation?(h.style.setProperty("opacity","0","important"),ze(h,"grid"),setTimeout(()=>{ge(h,y.showClass.popup),h.style.removeProperty("opacity")},bE)):ze(h,"grid"),ge([document.documentElement,document.body],g.shown),y.heightAuto&&y.backdrop&&!y.toast&&ge([document.documentElement,document.body],g["height-auto"])};var DE={email:(l,h)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid email address"),url:(l,h)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid URL")};function zM(l){l.inputValidator||(l.input==="email"&&(l.inputValidator=DE.email),l.input==="url"&&(l.inputValidator=DE.url))}function GM(l){(!l.target||typeof l.target=="string"&&!document.querySelector(l.target)||typeof l.target!="string"&&!l.target.appendChild)&&(k('Target parameter is not valid, defaulting to "body"'),l.target="body")}function WM(l){zM(l),l.showLoaderOnConfirm&&!l.preConfirm&&k(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),GM(l),typeof l.title=="string"&&(l.title=l.title.split(`
`).join("<br />")),cc(l)}let Bn;var rd=new WeakMap;class Ye{constructor(){if(r(this,rd,void 0),typeof window>"u")return;Bn=this;for(var h=arguments.length,y=new Array(h),w=0;w<h;w++)y[w]=arguments[w];let N=Object.freeze(this.constructor.argsToParams(y));this.params=N,this.isAwaitingPromise=!1,i(rd,this,this._main(Bn.params))}_main(h){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(U(Object.assign({},y,h)),o.currentInstance){let $=di.swalPromiseResolve.get(o.currentInstance),{isAwaitingPromise:ue}=o.currentInstance;o.currentInstance._destroy(),ue||$({isDismissed:!0}),si()&&Ll()}o.currentInstance=Bn;let w=QM(h,y);WM(w),Object.freeze(w),o.timeout&&(o.timeout.stop(),delete o.timeout),clearTimeout(o.restoreFocusTimeout);let N=YM(Bn);return kl(Bn,w),be.innerParams.set(Bn,w),KM(Bn,N,w)}then(h){return t(rd,this).then(h)}finally(h){return t(rd,this).finally(h)}}let KM=(l,h,y)=>new Promise((w,N)=>{let $=ue=>{l.close({isDismissed:!0,dismiss:ue})};di.swalPromiseResolve.set(l,w),di.swalPromiseReject.set(l,N),h.confirmButton.onclick=()=>{mo(l)},h.denyButton.onclick=()=>{Ql(l)},h.cancelButton.onclick=()=>{yo(l,$)},h.closeButton.onclick=()=>{$(Lt.close)},vo(y,h,$),lo(o,y,$),ql(l,y),BM(y),ZM(o,y,$),JM(h,y),setTimeout(()=>{h.container.scrollTop=0})}),QM=(l,h)=>{let y=NM(l),w=Object.assign({},et,h,y,l);return w.showClass=Object.assign({},et.showClass,w.showClass),w.hideClass=Object.assign({},et.hideClass,w.hideClass),w.animation===!1&&(w.showClass={backdrop:"swal2-noanimation"},w.hideClass={}),w},YM=l=>{let h={popup:R(),container:b(),actions:mn(),confirmButton:zt(),denyButton:Ct(),cancelButton:ni(),loader:ri(),closeButton:nc(),validationMessage:ti(),progressSteps:mr()};return be.domCache.set(l,h),h},ZM=(l,h,y)=>{let w=Pn();Je(w),h.timer&&(l.timeout=new MM(()=>{y("timer"),delete l.timeout},h.timer),h.timerProgressBar&&(ze(w),Tt(w,h,"timerProgressBar"),setTimeout(()=>{l.timeout&&l.timeout.running&&oo(h.timer)})))},JM=(l,h)=>{if(!h.toast){if(!Te(h.allowEnterKey)){K("allowEnterKey"),tN();return}XM(l)||eN(l,h)||li(-1,1)}},XM=l=>{let h=l.popup.querySelectorAll("[autofocus]");for(let y of h)if(y instanceof HTMLElement&&_t(y))return y.focus(),!0;return!1},eN=(l,h)=>h.focusDeny&&_t(l.denyButton)?(l.denyButton.focus(),!0):h.focusCancel&&_t(l.cancelButton)?(l.cancelButton.focus(),!0):h.focusConfirm&&_t(l.confirmButton)?(l.confirmButton.focus(),!0):!1,tN=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let l=new Date,h=localStorage.getItem("swal-initiation");h?(l.getTime()-Date.parse(h))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let y=document.createElement("audio");y.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",y.loop=!0,document.body.appendChild(y),setTimeout(()=>{y.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${l}`)}Ye.prototype.disableButtons=bc,Ye.prototype.enableButtons=Un,Ye.prototype.getInput=cs,Ye.prototype.disableInput=Cc,Ye.prototype.enableInput=Dc,Ye.prototype.hideLoading=gi,Ye.prototype.disableLoading=gi,Ye.prototype.showValidationMessage=Tc,Ye.prototype.resetValidationMessage=us,Ye.prototype.close=Vt,Ye.prototype.closePopup=Vt,Ye.prototype.closeModal=Vt,Ye.prototype.closeToast=Vt,Ye.prototype.rejectPromise=yc,Ye.prototype.update=Se,Ye.prototype._destroy=we,Object.assign(Ye,xM),Object.keys(Kt).forEach(l=>{Ye[l]=function(){return Bn&&Bn[l]?Bn[l](...arguments):null}}),Ye.DismissReason=Lt,Ye.version="11.14.4";let id=Ye;return id.default=id,id});typeof gr<"u"&&gr.Sweetalert2&&(gr.swal=gr.sweetAlert=gr.Swal=gr.SweetAlert=gr.Sweetalert2);typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});function RE(n,e){return Object.is(n,e)}var lt=null,sd=!1,od=1,vr=Symbol("SIGNAL");function De(n){let e=lt;return lt=n,e}function xE(){return lt}var Rc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function mg(n){if(sd)throw new Error("");if(lt===null)return;lt.consumerOnSignalRead(n);let e=lt.nextProducerIndex++;if(ld(lt),e<lt.producerNode.length&&lt.producerNode[e]!==n&&Sc(lt)){let t=lt.producerNode[e];ud(t,lt.producerIndexOfThis[e])}lt.producerNode[e]!==n&&(lt.producerNode[e]=n,lt.producerIndexOfThis[e]=Sc(lt)?kE(n,lt,e):0),lt.producerLastReadVersion[e]=n.version}function dN(){od++}function ME(n){if(!(Sc(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===od)){if(!n.producerMustRecompute(n)&&!vg(n)){n.dirty=!1,n.lastCleanEpoch=od;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=od}}function NE(n){if(n.liveConsumerNode===void 0)return;let e=sd;sd=!0;try{for(let t of n.liveConsumerNode)t.dirty||hN(t)}finally{sd=e}}function PE(){return lt?.consumerAllowSignalWrites!==!1}function hN(n){n.dirty=!0,NE(n),n.consumerMarkedDirty?.(n)}function cd(n){return n&&(n.nextProducerIndex=0),De(n)}function yg(n,e){if(De(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Sc(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)ud(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function vg(n){ld(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(ME(t),r!==t.version))return!0}return!1}function wg(n){if(ld(n),Sc(n))for(let e=0;e<n.producerNode.length;e++)ud(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function kE(n,e,t){if(OE(n),n.liveConsumerNode.length===0&&FE(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=kE(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function ud(n,e){if(OE(n),n.liveConsumerNode.length===1&&FE(n))for(let r=0;r<n.producerNode.length;r++)ud(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];ld(i),i.producerIndexOfThis[r]=e}}function Sc(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function ld(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function OE(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function FE(n){return n.producerNode!==void 0}function LE(n){let e=Object.create(fN);e.computation=n;let t=()=>{if(ME(e),mg(e),e.value===ad)throw e.error;return e.value};return t[vr]=e,t}var pg=Symbol("UNSET"),gg=Symbol("COMPUTING"),ad=Symbol("ERRORED"),fN=le(V({},Rc),{value:pg,dirty:!0,error:null,equal:RE,producerMustRecompute(n){return n.value===pg||n.value===gg},producerRecomputeValue(n){if(n.value===gg)throw new Error("Detected cycle in computations.");let e=n.value;n.value=gg;let t=cd(n),r;try{r=n.computation()}catch(i){r=ad,n.error=i}finally{yg(n,t)}if(e!==pg&&e!==ad&&r!==ad&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function pN(){throw new Error}var VE=pN;function UE(){VE()}function jE(n){VE=n}var gN=null;function BE(n){let e=Object.create(HE);e.value=n;let t=()=>(mg(e),e.value);return t[vr]=e,t}function _g(n,e){PE()||UE(),n.equal(n.value,e)||(n.value=e,mN(n))}function $E(n,e){PE()||UE(),_g(n,e(n.value))}var HE=le(V({},Rc),{equal:RE,value:void 0});function mN(n){n.version++,dN(),NE(n),gN?.()}function oe(n){return typeof n=="function"}function _o(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var dd=_o(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function ds(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ge=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(oe(r))try{r()}catch(s){e=s instanceof dd?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{qE(s)}catch(o){e=e??[],o instanceof dd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new dd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)qE(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ds(t,e)}remove(e){let{_finalizers:t}=this;t&&ds(t,e),e instanceof n&&e._removeParent(this)}};Ge.EMPTY=(()=>{let n=new Ge;return n.closed=!0,n})();var Ig=Ge.EMPTY;function hd(n){return n instanceof Ge||n&&"closed"in n&&oe(n.remove)&&oe(n.add)&&oe(n.unsubscribe)}function qE(n){oe(n)?n():n.unsubscribe()}var En={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Io={setTimeout(n,e,...t){let{delegate:r}=Io;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Io;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function fd(n){Io.setTimeout(()=>{let{onUnhandledError:e}=En;if(e)e(n);else throw n})}function xc(){}var zE=Eg("C",void 0,void 0);function GE(n){return Eg("E",void 0,n)}function WE(n){return Eg("N",n,void 0)}function Eg(n,e,t){return{kind:n,value:e,error:t}}var hs=null;function Eo(n){if(En.useDeprecatedSynchronousErrorHandling){let e=!hs;if(e&&(hs={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=hs;if(hs=null,t)throw r}}else n()}function KE(n){En.useDeprecatedSynchronousErrorHandling&&hs&&(hs.errorThrown=!0,hs.error=n)}var fs=class extends Ge{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,hd(e)&&e.add(this)):this.destination=wN}static create(e,t,r){return new bo(e,t,r)}next(e){this.isStopped?Dg(WE(e),this):this._next(e)}error(e){this.isStopped?Dg(GE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Dg(zE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},yN=Function.prototype.bind;function bg(n,e){return yN.call(n,e)}var Cg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){pd(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){pd(r)}else pd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){pd(t)}}},bo=class extends fs{constructor(e,t,r){super();let i;if(oe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&En.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&bg(e.next,s),error:e.error&&bg(e.error,s),complete:e.complete&&bg(e.complete,s)}):i=e}this.destination=new Cg(i)}};function pd(n){En.useDeprecatedSynchronousErrorHandling?KE(n):fd(n)}function vN(n){throw n}function Dg(n,e){let{onStoppedNotification:t}=En;t&&Io.setTimeout(()=>t(n,e))}var wN={closed:!0,next:xc,error:vN,complete:xc};var Do=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Qt(n){return n}function Tg(...n){return Ag(n)}function Ag(n){return n.length===0?Qt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var _e=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=IN(t)?t:new bo(t,r,i);return Eo(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=QE(r),new r((i,s)=>{let o=new bo({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Do](){return this}pipe(...t){return Ag(t)(this)}toPromise(t){return t=QE(t),new t((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function QE(n){var e;return(e=n??En.Promise)!==null&&e!==void 0?e:Promise}function _N(n){return n&&oe(n.next)&&oe(n.error)&&oe(n.complete)}function IN(n){return n&&n instanceof fs||_N(n)&&hd(n)}function Sg(n){return oe(n?.lift)}function Ie(n){return e=>{if(Sg(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function me(n,e,t,r,i){return new Rg(n,e,t,r,i)}var Rg=class extends fs{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Co(){return Ie((n,e)=>{let t=null;n._refCount++;let r=me(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var To=class extends _e{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Sg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ge;let t=this.getSubject();e.add(this.source.subscribe(me(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ge.EMPTY)}return e}refCount(){return Co()(this)}};var YE=_o(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var It=(()=>{class n extends _e{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new gd(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new YE}next(t){Eo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Eo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Eo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Ig:(this.currentObservers=null,s.push(t),new Ge(()=>{this.currentObservers=null,ds(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new _e;return t.source=this,t}}return n.create=(e,t)=>new gd(e,t),n})(),gd=class extends It{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Ig}};var dt=class extends It{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var xg={now(){return(xg.delegate||Date).now()},delegate:void 0};var md=class extends Ge{constructor(e,t){super()}schedule(e,t=0){return this}};var Mc={setInterval(n,e,...t){let{delegate:r}=Mc;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Mc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Ao=class extends md{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Mc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Mc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ds(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var So=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};So.now=xg.now;var Ro=class extends So{constructor(e,t=So.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Mg=new Ro(Ao);var yd=class extends Ao{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var vd=class extends Ro{};var Ng=new vd(yd);var Yt=new _e(n=>n.complete());function ZE(n){return n&&oe(n.schedule)}function JE(n){return n[n.length-1]}function wd(n){return oe(JE(n))?n.pop():void 0}function vi(n){return ZE(JE(n))?n.pop():void 0}function Pg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function eb(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(p){try{d(r.next(p))}catch(g){o(g)}}function u(p){try{d(r.throw(p))}catch(g){o(g)}}function d(p){p.done?s(p.value):i(p.value).then(a,u)}d((r=r.apply(n,e||[])).next())})}function XE(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ps(n){return this instanceof ps?(this.v=n,this):new ps(n)}function tb(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(E){return function(M){return Promise.resolve(M).then(E,g)}}function a(E,M){r[E]&&(i[E]=function(O){return new Promise(function(k,j){s.push([E,O,k,j])>1||u(E,O)})},M&&(i[E]=M(i[E])))}function u(E,M){try{d(r[E](M))}catch(O){_(s[0][3],O)}}function d(E){E.value instanceof ps?Promise.resolve(E.value.v).then(p,g):_(s[0][2],E)}function p(E){u("next",E)}function g(E){u("throw",E)}function _(E,M){E(M),s.shift(),s.length&&u(s[0][0],s[0][1])}}function nb(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof XE=="function"?XE(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){o=n[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(d){s({value:d,done:a})},o)}}var _d=n=>n&&typeof n.length=="number"&&typeof n!="function";function Id(n){return oe(n?.then)}function Ed(n){return oe(n[Do])}function bd(n){return Symbol.asyncIterator&&oe(n?.[Symbol.asyncIterator])}function Dd(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function EN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Cd=EN();function Td(n){return oe(n?.[Cd])}function Ad(n){return tb(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield ps(t.read());if(i)return yield ps(void 0);yield yield ps(r)}}finally{t.releaseLock()}})}function Sd(n){return oe(n?.getReader)}function tt(n){if(n instanceof _e)return n;if(n!=null){if(Ed(n))return bN(n);if(_d(n))return DN(n);if(Id(n))return CN(n);if(bd(n))return rb(n);if(Td(n))return TN(n);if(Sd(n))return AN(n)}throw Dd(n)}function bN(n){return new _e(e=>{let t=n[Do]();if(oe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function DN(n){return new _e(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function CN(n){return new _e(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,fd)})}function TN(n){return new _e(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function rb(n){return new _e(e=>{SN(n,e).catch(t=>e.error(t))})}function AN(n){return rb(Ad(n))}function SN(n,e){var t,r,i,s;return eb(this,void 0,void 0,function*(){try{for(t=nb(n);r=yield t.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})}function Ut(n,e,t,r=0,i=!1){let s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function wi(n,e=0){return Ie((t,r)=>{t.subscribe(me(r,i=>Ut(r,n,()=>r.next(i),e),()=>Ut(r,n,()=>r.complete(),e),i=>Ut(r,n,()=>r.error(i),e)))})}function _i(n,e=0){return Ie((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function ib(n,e){return tt(n).pipe(_i(e),wi(e))}function sb(n,e){return tt(n).pipe(_i(e),wi(e))}function ob(n,e){return new _e(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function ab(n,e){return new _e(t=>{let r;return Ut(t,e,()=>{r=n[Cd](),Ut(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){t.error(o);return}s?t.complete():t.next(i)},0,!0)}),()=>oe(r?.return)&&r.return()})}function Rd(n,e){if(!n)throw new Error("Iterable cannot be null");return new _e(t=>{Ut(t,e,()=>{let r=n[Symbol.asyncIterator]();Ut(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function cb(n,e){return Rd(Ad(n),e)}function ub(n,e){if(n!=null){if(Ed(n))return ib(n,e);if(_d(n))return ob(n,e);if(Id(n))return sb(n,e);if(bd(n))return Rd(n,e);if(Td(n))return ab(n,e);if(Sd(n))return cb(n,e)}throw Dd(n)}function Be(n,e){return e?ub(n,e):tt(n)}function ne(...n){let e=vi(n);return Be(n,e)}function xo(n,e){let t=oe(n)?n:()=>n,r=i=>i.error(t());return new _e(e?i=>e.schedule(r,0,i):r)}function kg(n){return!!n&&(n instanceof _e||oe(n.lift)&&oe(n.subscribe))}var wr=_o(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function he(n,e){return Ie((t,r)=>{let i=0;t.subscribe(me(r,s=>{r.next(n.call(e,s,i++))}))})}var{isArray:RN}=Array;function xN(n,e){return RN(e)?n(...e):n(e)}function xd(n){return he(e=>xN(n,e))}var{isArray:MN}=Array,{getPrototypeOf:NN,prototype:PN,keys:kN}=Object;function Md(n){if(n.length===1){let e=n[0];if(MN(e))return{args:e,keys:null};if(ON(e)){let t=kN(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function ON(n){return n&&typeof n=="object"&&NN(n)===PN}function Nd(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Nc(...n){let e=vi(n),t=wd(n),{args:r,keys:i}=Md(n);if(r.length===0)return Be([],e);let s=new _e(FN(r,e,i?o=>Nd(i,o):Qt));return t?s.pipe(xd(t)):s}function FN(n,e,t=Qt){return r=>{lb(e,()=>{let{length:i}=n,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)lb(e,()=>{let d=Be(n[u],e),p=!1;d.subscribe(me(r,g=>{s[u]=g,p||(p=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function lb(n,e,t){n?Ut(t,n,e):e()}function db(n,e,t,r,i,s,o,a){let u=[],d=0,p=0,g=!1,_=()=>{g&&!u.length&&!d&&e.complete()},E=O=>d<r?M(O):u.push(O),M=O=>{s&&e.next(O),d++;let k=!1;tt(t(O,p++)).subscribe(me(e,j=>{i?.(j),s?E(j):e.next(j)},()=>{k=!0},void 0,()=>{if(k)try{for(d--;u.length&&d<r;){let j=u.shift();o?Ut(e,o,()=>M(j)):M(j)}_()}catch(j){e.error(j)}}))};return n.subscribe(me(e,E,()=>{g=!0,_()})),()=>{a?.()}}function nt(n,e,t=1/0){return oe(e)?nt((r,i)=>he((s,o)=>e(r,s,i,o))(tt(n(r,i))),t):(typeof e=="number"&&(t=e),Ie((r,i)=>db(r,i,n,t)))}function Mo(n=1/0){return nt(Qt,n)}function hb(){return Mo(1)}function No(...n){return hb()(Be(n,vi(n)))}function Pd(n){return new _e(e=>{tt(n()).subscribe(e)})}function Og(...n){let e=wd(n),{args:t,keys:r}=Md(n),i=new _e(s=>{let{length:o}=t;if(!o){s.complete();return}let a=new Array(o),u=o,d=o;for(let p=0;p<o;p++){let g=!1;tt(t[p]).subscribe(me(s,_=>{g||(g=!0,d--),a[p]=_},()=>u--,void 0,()=>{(!u||!g)&&(d||s.next(r?Nd(r,a):a),s.complete())}))}});return e?i.pipe(xd(e)):i}function on(n,e){return Ie((t,r)=>{let i=0;t.subscribe(me(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Ii(n){return Ie((e,t)=>{let r=null,i=!1,s;r=e.subscribe(me(t,void 0,void 0,o=>{s=tt(n(o,Ii(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function fb(n,e,t,r,i){return(s,o)=>{let a=t,u=e,d=0;s.subscribe(me(o,p=>{let g=d++;u=a?n(u,p,g):(a=!0,p),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function gs(n,e){return oe(e)?nt(n,e,1):nt(n,1)}function Ei(n){return Ie((e,t)=>{let r=!1;e.subscribe(me(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function _r(n){return n<=0?()=>Yt:Ie((e,t)=>{let r=0;e.subscribe(me(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Fg(n){return he(()=>n)}function kd(n=LN){return Ie((e,t)=>{let r=!1;e.subscribe(me(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function LN(){return new wr}function Pc(n){return Ie((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function $n(n,e){let t=arguments.length>=2;return r=>r.pipe(n?on((i,s)=>n(i,s,r)):Qt,_r(1),t?Ei(e):kd(()=>new wr))}function Po(n){return n<=0?()=>Yt:Ie((e,t)=>{let r=[];e.subscribe(me(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Lg(n,e){let t=arguments.length>=2;return r=>r.pipe(n?on((i,s)=>n(i,s,r)):Qt,Po(1),t?Ei(e):kd(()=>new wr))}function Vg(n,e){return Ie(fb(n,e,arguments.length>=2,!0))}function Ug(...n){let e=vi(n);return Ie((t,r)=>{(e?No(n,t,e):No(n,t)).subscribe(r)})}function an(n,e){return Ie((t,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();t.subscribe(me(r,u=>{i?.unsubscribe();let d=0,p=s++;tt(n(u,p)).subscribe(i=me(r,g=>r.next(e?e(u,g,p,d++):g),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function jg(n){return Ie((e,t)=>{tt(n).subscribe(me(t,()=>t.complete(),xc)),!t.closed&&e.subscribe(t)})}function ht(n,e,t){let r=oe(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ie((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(me(s,u=>{var d;(d=r.next)===null||d===void 0||d.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var d;a=!1,(d=r.error)===null||d===void 0||d.call(r,u),s.error(u)},()=>{var u,d;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):Qt}var Zb="https://g.co/ng/security#xss",Q=class extends Error{constructor(e,t){super(qm(e,t)),this.code=e}};function qm(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function $c(n){return{toString:n}.toString()}var Od="__parameters__";function VN(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function Jb(n,e,t){return $c(()=>{let r=VN(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,d,p){let g=u.hasOwnProperty(Od)?u[Od]:Object.defineProperty(u,Od,{value:[]})[Od];for(;g.length<=p;)g.push(null);return(g[p]=g[p]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function ke(n){for(let e in n)if(n[e]===ke)return e;throw Error("Could not find renamed property on target object.")}function UN(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Nt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Nt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function pb(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var jN=ke({__forward_ref__:ke});function dn(n){return n.__forward_ref__=dn,n.toString=function(){return Nt(this())},n}function Mt(n){return Xb(n)?n():n}function Xb(n){return typeof n=="function"&&n.hasOwnProperty(jN)&&n.__forward_ref__===dn}function Y(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Tr(n){return{providers:n.providers||[],imports:n.imports||[]}}function gh(n){return gb(n,tD)||gb(n,nD)}function eD(n){return gh(n)!==null}function gb(n,e){return n.hasOwnProperty(e)?n[e]:null}function BN(n){let e=n&&(n[tD]||n[nD]);return e||null}function mb(n){return n&&(n.hasOwnProperty(yb)||n.hasOwnProperty($N))?n[yb]:null}var tD=ke({\u0275prov:ke}),yb=ke({\u0275inj:ke}),nD=ke({ngInjectableDef:ke}),$N=ke({ngInjectorDef:ke}),W=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=Y({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function rD(n){return n&&!!n.\u0275providers}var HN=ke({\u0275cmp:ke}),qN=ke({\u0275dir:ke}),zN=ke({\u0275pipe:ke}),GN=ke({\u0275mod:ke}),qd=ke({\u0275fac:ke}),Oc=ke({__NG_ELEMENT_ID__:ke}),vb=ke({__NG_ENV_ID__:ke});function Ir(n){return typeof n=="string"?n:n==null?"":String(n)}function WN(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Ir(n)}function KN(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Q(-200,n)}function zm(n,e){throw new Q(-201,!1)}var de=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(de||{}),em;function iD(){return em}function jt(n){let e=em;return em=n,e}function sD(n,e,t){let r=gh(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&de.Optional)return null;if(e!==void 0)return e;zm(n,"Injector")}var QN={},Fc=QN,tm="__NG_DI_FLAG__",zd="ngTempTokenPath",YN="ngTokenPath",ZN=/\n/gm,JN="\u0275",wb="__source",Vo;function XN(){return Vo}function bi(n){let e=Vo;return Vo=n,e}function eP(n,e=de.Default){if(Vo===void 0)throw new Q(-203,!1);return Vo===null?sD(n,void 0,e):Vo.get(n,e&de.Optional?null:void 0,e)}function ee(n,e=de.Default){return(iD()||eP)(Mt(n),e)}function B(n,e=de.Default){return ee(n,mh(e))}function mh(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function nm(n){let e=[];for(let t=0;t<n.length;t++){let r=Mt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new Q(900,!1);let i,s=de.Default;for(let o=0;o<r.length;o++){let a=r[o],u=tP(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(ee(i,s))}else e.push(ee(r))}return e}function oD(n,e){return n[tm]=e,n.prototype[tm]=e,n}function tP(n){return n[tm]}function nP(n,e,t,r){let i=n[zd];throw e[wb]&&i.unshift(e[wb]),n.message=rP(`
`+n.message,i,t,r),n[YN]=i,n[zd]=null,n}function rP(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==JN?n.slice(2):n;let i=Nt(e);if(Array.isArray(e))i=e.map(Nt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Nt(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(ZN,`
  `)}`}var At=oD(Jb("Optional"),8);var Gm=oD(Jb("SkipSelf"),4);function ys(n,e){let t=n.hasOwnProperty(qd);return t?n[qd]:null}function Wm(n,e){n.forEach(t=>Array.isArray(t)?Wm(t,e):e(t))}function aD(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Gd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function iP(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let s=i-2;n[i]=n[s],i--}n[e]=t,n[e+1]=r}}function sP(n,e,t){let r=Hc(n,e);return r>=0?n[r|1]=t:(r=~r,iP(n,r,e,t)),r}function Bg(n,e){let t=Hc(n,e);if(t>=0)return n[t|1]}function Hc(n,e){return oP(n,e,1)}function oP(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}var jo={},cn=[],Bo=new W(""),cD=new W("",-1),uD=new W(""),Wd=class{get(e,t=Fc){if(t===Fc){let r=new Error(`NullInjectorError: No provider for ${Nt(e)}!`);throw r.name="NullInjectorError",r}return t}},lD=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(lD||{}),zn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(zn||{}),Ti=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Ti||{});function aP(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function rm(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{let s=i,o=t[++r];uP(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function cP(n){return n===3||n===4||n===6}function uP(n){return n.charCodeAt(0)===64}function Lc(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?_b(n,t,i,null,e[++r]):_b(n,t,i,null,null))}}return n}function _b(n,e,t,r,i){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[s+1]=i);return}else if(r===n[s+1]){n[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),r!==null&&n.splice(s++,0,r),i!==null&&n.splice(s++,0,i)}var dD="ng-template";function lP(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&aP(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Km(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function Km(n){return n.type===4&&n.value!==dD}function dP(n,e,t){let r=n.type===4&&!t?dD:n.value;return e===r}function hP(n,e,t){let r=4,i=n.attrs,s=i!==null?gP(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!bn(r)&&!bn(u))return!1;if(o&&bn(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!dP(n,u,t)||u===""&&e.length===1){if(bn(r))return!1;o=!0}}else if(r&8){if(i===null||!lP(n,i,u,t)){if(bn(r))return!1;o=!0}}else{let d=e[++a],p=fP(u,i,Km(n),t);if(p===-1){if(bn(r))return!1;o=!0;continue}if(d!==""){let g;if(p>s?g="":g=i[p+1].toLowerCase(),r&2&&d!==g){if(bn(r))return!1;o=!0}}}}return bn(r)||o}function bn(n){return(n&1)===0}function fP(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){let o=e[i];if(o===n)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return mP(e,n)}function pP(n,e,t=!1){for(let r=0;r<e.length;r++)if(hP(n,e[r],t))return!0;return!1}function gP(n){for(let e=0;e<n.length;e++){let t=n[e];if(cP(t))return e}return n.length}function mP(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function Ib(n,e){return n?":not("+e.trim()+")":e}function yP(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(r&2){let a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!bn(o)&&(e+=Ib(s,i),i=""),r=o,s=s||!bn(r);t++}return i!==""&&(e+=Ib(s,i)),e}function vP(n){return n.map(yP).join(",")}function wP(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let s=n[r];if(typeof s=="string")i===2?s!==""&&e.push(s,n[++r]):i===8&&t.push(s);else{if(!bn(i))break;i=s}r++}return{attrs:e,classes:t}}function hD(n){return $c(()=>{let e=vD(n),t=le(V({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===lD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||zn.Emulated,styles:n.styles||cn,_:null,schemas:n.schemas||null,tView:null,id:""});wD(t);let r=n.dependencies;return t.directiveDefs=bb(r,!1),t.pipeDefs=bb(r,!0),t.id=EP(t),t})}function _P(n){return Ai(n)||pD(n)}function IP(n){return n!==null}function Ar(n){return $c(()=>({type:n.type,bootstrap:n.bootstrap||cn,declarations:n.declarations||cn,imports:n.imports||cn,exports:n.exports||cn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Eb(n,e){if(n==null)return jo;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],s,o,a=Ti.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(t[s]=a!==Ti.None?[r,a]:r,e[s]=o):t[s]=r}return t}function Ve(n){return $c(()=>{let e=vD(n);return wD(e),e})}function fD(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ai(n){return n[HN]||null}function pD(n){return n[qN]||null}function gD(n){return n[zN]||null}function mD(n){let e=Ai(n)||pD(n)||gD(n);return e!==null?e.standalone:!1}function yD(n,e){let t=n[GN]||null;if(!t&&e===!0)throw new Error(`Type ${Nt(n)} does not have '\u0275mod' property.`);return t}function vD(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||jo,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||cn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Eb(n.inputs,e),outputs:Eb(n.outputs),debugInfo:null}}function wD(n){n.features?.forEach(e=>e(n))}function bb(n,e){if(!n)return null;let t=e?gD:_P;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(IP)}function EP(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Yn(n){return{\u0275providers:n}}function bP(...n){return{\u0275providers:_D(!0,n),\u0275fromNgModule:!0}}function _D(n,...e){let t=[],r=new Set,i,s=o=>{t.push(o)};return Wm(e,o=>{let a=o;im(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&ID(i,s),t}function ID(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Qm(i,s=>{e(s,r)})}}function im(n,e,t,r){if(n=Mt(n),!n)return!1;let i=null,s=mb(n),o=!s&&Ai(n);if(!s&&!o){let u=n.ngModule;if(s=mb(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=n}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let d of u)im(d,e,t,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let d;try{Wm(s.imports,p=>{im(p,e,t,r)&&(d||=[],d.push(p))})}finally{}d!==void 0&&ID(d,e)}if(!a){let d=ys(i)||(()=>new i);e({provide:i,useFactory:d,deps:cn},i),e({provide:uD,useValue:i,multi:!0},i),e({provide:Bo,useValue:()=>ee(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let d=n;Qm(u,p=>{e(p,d)})}}else return!1;return i!==n&&n.providers!==void 0}function Qm(n,e){for(let t of n)rD(t)&&(t=t.\u0275providers),Array.isArray(t)?Qm(t,e):e(t)}var DP=ke({provide:String,useValue:ke});function ED(n){return n!==null&&typeof n=="object"&&DP in n}function CP(n){return!!(n&&n.useExisting)}function TP(n){return!!(n&&n.useFactory)}function $o(n){return typeof n=="function"}function AP(n){return!!n.useClass}var yh=new W(""),Ud={},SP={},$g;function Ym(){return $g===void 0&&($g=new Wd),$g}var Zt=class{},Vc=class extends Zt{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,om(e,o=>this.processProvider(o)),this.records.set(cD,ko(void 0,this)),i.has("environment")&&this.records.set(Zt,ko(void 0,this));let s=this.records.get(yh);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(uD,cn,de.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=De(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),De(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=bi(this),r=jt(void 0),i;try{return e()}finally{bi(t),jt(r)}}get(e,t=Fc,r=de.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(vb))return e[vb](this);r=mh(r);let i,s=bi(this),o=jt(void 0);try{if(!(r&de.SkipSelf)){let u=this.records.get(e);if(u===void 0){let d=PP(e)&&gh(e);d&&this.injectableDefInScope(d)?u=ko(sm(e),Ud):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&de.Self?Ym():this.parent;return t=r&de.Optional&&t===Fc?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[zd]=a[zd]||[]).unshift(Nt(e)),s)throw a;return nP(a,e,"R3InjectorError",this.source)}else throw a}finally{jt(o),bi(s)}}resolveInjectorInitializers(){let e=De(null),t=bi(this),r=jt(void 0),i;try{let s=this.get(Bo,cn,de.Self);for(let o of s)o()}finally{bi(t),jt(r),De(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Nt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Q(205,!1)}processProvider(e){e=Mt(e);let t=$o(e)?e:Mt(e&&e.provide),r=xP(e);if(!$o(e)&&e.multi===!0){let i=this.records.get(t);i||(i=ko(void 0,Ud,!0),i.factory=()=>nm(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=De(null);try{return t.value===Ud&&(t.value=SP,t.value=t.factory()),typeof t.value=="object"&&t.value&&NP(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{De(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Mt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function sm(n){let e=gh(n),t=e!==null?e.factory:ys(n);if(t!==null)return t;if(n instanceof W)throw new Q(204,!1);if(n instanceof Function)return RP(n);throw new Q(204,!1)}function RP(n){if(n.length>0)throw new Q(204,!1);let t=BN(n);return t!==null?()=>t.factory(n):()=>new n}function xP(n){if(ED(n))return ko(void 0,n.useValue);{let e=bD(n);return ko(e,Ud)}}function bD(n,e,t){let r;if($o(n)){let i=Mt(n);return ys(i)||sm(i)}else if(ED(n))r=()=>Mt(n.useValue);else if(TP(n))r=()=>n.useFactory(...nm(n.deps||[]));else if(CP(n))r=()=>ee(Mt(n.useExisting));else{let i=Mt(n&&(n.useClass||n.provide));if(MP(n))r=()=>new i(...nm(n.deps));else return ys(i)||sm(i)}return r}function ko(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function MP(n){return!!n.deps}function NP(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function PP(n){return typeof n=="function"||typeof n=="object"&&n instanceof W}function om(n,e){for(let t of n)Array.isArray(t)?om(t,e):t&&rD(t)?om(t.\u0275providers,e):e(t)}function Zn(n,e){n instanceof Vc&&n.assertNotDestroyed();let t,r=bi(n),i=jt(void 0);try{return e()}finally{bi(r),jt(i)}}function DD(){return iD()!==void 0||XN()!=null}function kP(n){if(!DD())throw new Q(-203,!1)}function OP(n){return typeof n=="function"}var Sr=0,pe=1,re=2,Pt=3,Dn=4,Tn=5,Kd=6,Qd=7,Cn=8,Ho=9,Gn=10,rt=11,Uc=12,Db=13,Jo=14,Wn=15,qo=16,Oo=17,zo=18,vh=19,CD=20,Di=21,Hg=22,un=23,Kn=25,TD=1;var vs=7,Yd=8,Zd=9,ln=10,Jd=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Jd||{});function Ci(n){return Array.isArray(n)&&typeof n[TD]=="object"}function Rr(n){return Array.isArray(n)&&n[TD]===!0}function AD(n){return(n.flags&4)!==0}function wh(n){return n.componentOffset>-1}function Zm(n){return(n.flags&1)===1}function Si(n){return!!n.template}function am(n){return(n[re]&512)!==0}var cm=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function SD(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function xr(){return RD}function RD(n){return n.type.prototype.ngOnChanges&&(n.setInput=LP),FP}xr.ngInherit=!0;function FP(){let n=MD(this),e=n?.current;if(e){let t=n.previous;if(t===jo)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function LP(n,e,t,r,i){let s=this.declaredInputs[r],o=MD(n)||VP(n,{previous:jo,current:null}),a=o.current||(o.current={}),u=o.previous,d=u[s];a[s]=new cm(d&&d.currentValue,t,u===jo),SD(n,e,i,t)}var xD="__ngSimpleChanges__";function MD(n){return n[xD]||null}function VP(n,e){return n[xD]=e}var Cb=null;var Hn=function(n,e,t){Cb?.(n,e,t)},UP="svg",jP="math";function Qn(n){for(;Array.isArray(n);)n=n[Sr];return n}function ND(n,e){return Qn(e[n])}function hn(n,e){return Qn(e[n.index])}function PD(n,e){return n.data[e]}function BP(n,e){return n[e]}function xi(n,e){let t=e[n];return Ci(t)?t:t[Sr]}function Jm(n){return(n[re]&128)===128}function $P(n){return Rr(n[Pt])}function Xd(n,e){return e==null?null:n[e]}function kD(n){n[Oo]=0}function OD(n){n[re]&1024||(n[re]|=1024,Jm(n)&&Ih(n))}function HP(n,e){for(;n>0;)e=e[Jo],n--;return e}function _h(n){return!!(n[re]&9216||n[un]?.dirty)}function um(n){n[Gn].changeDetectionScheduler?.notify(8),n[re]&64&&(n[re]|=1024),_h(n)&&Ih(n)}function Ih(n){n[Gn].changeDetectionScheduler?.notify(0);let e=ws(n);for(;e!==null&&!(e[re]&8192||(e[re]|=8192,!Jm(e)));)e=ws(e)}function FD(n,e){if((n[re]&256)===256)throw new Q(911,!1);n[Di]===null&&(n[Di]=[]),n[Di].push(e)}function qP(n,e){if(n[Di]===null)return;let t=n[Di].indexOf(e);t!==-1&&n[Di].splice(t,1)}function ws(n){let e=n[Pt];return Rr(e)?e[Pt]:e}var fe={lFrame:GD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var LD=!1;function zP(){return fe.lFrame.elementDepthCount}function GP(){fe.lFrame.elementDepthCount++}function WP(){fe.lFrame.elementDepthCount--}function VD(){return fe.bindingsEnabled}function KP(){return fe.skipHydrationRootTNode!==null}function QP(n){return fe.skipHydrationRootTNode===n}function YP(){fe.skipHydrationRootTNode=null}function Ce(){return fe.lFrame.lView}function kt(){return fe.lFrame.tView}function q9(n){return fe.lFrame.contextLView=n,n[Cn]}function z9(n){return fe.lFrame.contextLView=null,n}function Bt(){let n=UD();for(;n!==null&&n.type===64;)n=n.parent;return n}function UD(){return fe.lFrame.currentTNode}function ZP(){let n=fe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function qc(n,e){let t=fe.lFrame;t.currentTNode=n,t.isParent=e}function jD(){return fe.lFrame.isParent}function JP(){fe.lFrame.isParent=!1}function BD(){return LD}function Tb(n){LD=n}function Eh(){let n=fe.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function $D(){return fe.lFrame.bindingIndex}function XP(n){return fe.lFrame.bindingIndex=n}function bh(){return fe.lFrame.bindingIndex++}function Xm(n){let e=fe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function ek(){return fe.lFrame.inI18n}function tk(n,e){let t=fe.lFrame;t.bindingIndex=t.bindingRootIndex=n,lm(e)}function nk(){return fe.lFrame.currentDirectiveIndex}function lm(n){fe.lFrame.currentDirectiveIndex=n}function rk(n){let e=fe.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function HD(n){fe.lFrame.currentQueryIndex=n}function ik(n){let e=n[pe];return e.type===2?e.declTNode:e.type===1?n[Tn]:null}function qD(n,e,t){if(t&de.SkipSelf){let i=e,s=n;for(;i=i.parent,i===null&&!(t&de.Host);)if(i=ik(s),i===null||(s=s[Jo],i.type&10))break;if(i===null)return!1;e=i,n=s}let r=fe.lFrame=zD();return r.currentTNode=e,r.lView=n,!0}function ey(n){let e=zD(),t=n[pe];fe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function zD(){let n=fe.lFrame,e=n===null?null:n.child;return e===null?GD(n):e}function GD(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function WD(){let n=fe.lFrame;return fe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var KD=WD;function ty(){let n=WD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function sk(n){return(fe.lFrame.contextLView=HP(n,fe.lFrame.contextLView))[Cn]}function Mi(){return fe.lFrame.selectedIndex}function _s(n){fe.lFrame.selectedIndex=n}function Dh(){let n=fe.lFrame;return PD(n.tView,n.selectedIndex)}function ok(){return fe.lFrame.currentNamespace}var QD=!0;function ny(){return QD}function ry(n){QD=n}function ak(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=RD(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function iy(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:p}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),d&&((n.viewHooks??=[]).push(t,d),(n.viewCheckHooks??=[]).push(t,d)),p!=null&&(n.destroyHooks??=[]).push(t,p)}}function jd(n,e,t){YD(n,e,3,t)}function Bd(n,e,t,r){(n[re]&3)===t&&YD(n,e,t,r)}function qg(n,e){let t=n[re];(t&3)===e&&(t&=16383,t+=1,n[re]=t)}function YD(n,e,t,r){let i=r!==void 0?n[Oo]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[Oo]+=65536),(a<s||s==-1)&&(ck(n,t,e,u),n[Oo]=(n[Oo]&4294901760)+u+2),u++}function Ab(n,e){Hn(4,n,e);let t=De(null);try{e.call(n)}finally{De(t),Hn(5,n,e)}}function ck(n,e,t,r){let i=t[r]<0,s=t[r+1],o=i?-t[r]:t[r],a=n[o];i?n[re]>>14<n[Oo]>>16&&(n[re]&3)===e&&(n[re]+=16384,Ab(a,s)):Ab(a,s)}var Uo=-1,Is=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function uk(n){return n instanceof Is}function lk(n){return(n.flags&8)!==0}function dk(n){return(n.flags&16)!==0}var zg={},dm=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=mh(r);let i=this.injector.get(e,zg,r);return i!==zg||t===zg?i:this.parentInjector.get(e,t,r)}};function ZD(n){return n!==Uo}function eh(n){return n&32767}function hk(n){return n>>16}function th(n,e){let t=hk(n),r=e;for(;t>0;)r=r[Jo],t--;return r}var hm=!0;function nh(n){let e=hm;return hm=n,e}var fk=256,JD=fk-1,XD=5,pk=0,qn={};function gk(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Oc)&&(r=t[Oc]),r==null&&(r=t[Oc]=pk++);let i=r&JD,s=1<<i;e.data[n+(i>>XD)]|=s}function rh(n,e){let t=eC(n,e);if(t!==-1)return t;let r=e[pe];r.firstCreatePass&&(n.injectorIndex=e.length,Gg(r.data,n),Gg(e,null),Gg(r.blueprint,null));let i=sy(n,e),s=n.injectorIndex;if(ZD(i)){let o=eh(i),a=th(i,e),u=a[pe].data;for(let d=0;d<8;d++)e[s+d]=a[o+d]|u[o+d]}return e[s+8]=i,s}function Gg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function eC(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function sy(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=sC(i),r===null)return Uo;if(t++,i=i[Jo],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Uo}function fm(n,e,t){gk(n,e,t)}function tC(n,e,t){if(t&de.Optional||n!==void 0)return n;zm(e,"NodeInjector")}function nC(n,e,t,r){if(t&de.Optional&&r===void 0&&(r=null),!(t&(de.Self|de.Host))){let i=n[Ho],s=jt(void 0);try{return i?i.get(e,r,t&de.Optional):sD(e,r,t&de.Optional)}finally{jt(s)}}return tC(r,e,t)}function rC(n,e,t,r=de.Default,i){if(n!==null){if(e[re]&2048&&!(r&de.Self)){let o=_k(n,e,t,r,qn);if(o!==qn)return o}let s=iC(n,e,t,r,qn);if(s!==qn)return s}return nC(e,t,r,i)}function iC(n,e,t,r,i){let s=vk(t);if(typeof s=="function"){if(!qD(e,n,r))return r&de.Host?tC(i,t,r):nC(e,t,r,i);try{let o;if(o=s(r),o==null&&!(r&de.Optional))zm(t);else return o}finally{KD()}}else if(typeof s=="number"){let o=null,a=eC(n,e),u=Uo,d=r&de.Host?e[Wn][Tn]:null;for((a===-1||r&de.SkipSelf)&&(u=a===-1?sy(n,e):e[a+8],u===Uo||!Rb(r,!1)?a=-1:(o=e[pe],a=eh(u),e=th(u,e)));a!==-1;){let p=e[pe];if(Sb(s,a,p.data)){let g=mk(a,e,t,o,r,d);if(g!==qn)return g}u=e[a+8],u!==Uo&&Rb(r,e[pe].data[a+8]===d)&&Sb(s,a,e)?(o=p,a=eh(u),e=th(u,e)):a=-1}}return i}function mk(n,e,t,r,i,s){let o=e[pe],a=o.data[n+8],u=r==null?wh(a)&&hm:r!=o&&(a.type&3)!==0,d=i&de.Host&&s===a,p=yk(a,o,t,u,d);return p!==null?Go(e,o,p,a):qn}function yk(n,e,t,r,i){let s=n.providerIndexes,o=e.data,a=s&1048575,u=n.directiveStart,d=n.directiveEnd,p=s>>20,g=r?a:a+p,_=i?a+p:d;for(let E=g;E<_;E++){let M=o[E];if(E<u&&t===M||E>=u&&M.type===t)return E}if(i){let E=o[u];if(E&&Si(E)&&E.type===t)return u}return null}function Go(n,e,t,r){let i=n[t],s=e.data;if(uk(i)){let o=i;o.resolving&&KN(WN(s[t]));let a=nh(o.canSeeViewProviders);o.resolving=!0;let u,d=o.injectImpl?jt(o.injectImpl):null,p=qD(n,r,de.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&ak(t,s[t],e)}finally{d!==null&&jt(d),nh(a),o.resolving=!1,KD()}}return i}function vk(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Oc)?n[Oc]:void 0;return typeof e=="number"?e>=0?e&JD:wk:e}function Sb(n,e,t){let r=1<<n;return!!(t[e+(n>>XD)]&r)}function Rb(n,e){return!(n&de.Self)&&!(n&de.Host&&e)}var ms=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return rC(this._tNode,this._lView,e,mh(r),t)}};function wk(){return new ms(Bt(),Ce())}function Mr(n){return $c(()=>{let e=n.prototype.constructor,t=e[qd]||pm(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let s=i[qd]||pm(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function pm(n){return Xb(n)?()=>{let e=pm(Mt(n));return e&&e()}:ys(n)}function _k(n,e,t,r,i){let s=n,o=e;for(;s!==null&&o!==null&&o[re]&2048&&!(o[re]&512);){let a=iC(s,o,t,r|de.Self,qn);if(a!==qn)return a;let u=s.parent;if(!u){let d=o[CD];if(d){let p=d.get(t,qn,r);if(p!==qn)return p}u=sC(o),o=o[Jo]}s=u}return i}function sC(n){let e=n[pe],t=e.type;return t===2?e.declTNode:t===1?n[Tn]:null}function xb(n,e=null,t=null,r){let i=oC(n,e,t,r);return i.resolveInjectorInitializers(),i}function oC(n,e=null,t=null,r,i=new Set){let s=[t||cn,bP(n)];return r=r||(typeof n=="object"?void 0:Nt(n)),new Vc(s,e||Ym(),r||null,i)}var Et=class n{static{this.THROW_IF_NOT_FOUND=Fc}static{this.NULL=new Wd}static create(e,t){if(Array.isArray(e))return xb({name:""},t,e,"");{let r=e.name??"";return xb({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=Y({token:n,providedIn:"any",factory:()=>ee(cD)})}static{this.__NG_ELEMENT_ID__=-1}};var Ik=new W("");Ik.__NG_ELEMENT_ID__=n=>{let e=Bt();if(e===null)throw new Q(204,!1);if(e.type&2)return e.value;if(n&de.Optional)return null;throw new Q(204,!1)};var Ek="ngOriginalError";function Wg(n){return n[Ek]}var aC=!0,oy=(()=>{class n{static{this.__NG_ELEMENT_ID__=bk}static{this.__NG_ENV_ID__=t=>t}}return n})(),gm=class extends oy{constructor(e){super(),this._lView=e}onDestroy(e){return FD(this._lView,e),()=>qP(this._lView,e)}};function bk(){return new gm(Ce())}var Xo=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new dt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=Y({token:n,providedIn:"root",factory:()=>new n})}}return n})();var mm=class extends It{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,DD()&&(this.destroyRef=B(oy,{optional:!0})??void 0,this.pendingTasks=B(Xo,{optional:!0})??void 0)}emit(e){let t=De(null);try{super.next(e)}finally{De(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ge&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},We=mm;function ih(...n){}function cC(n){let e,t;function r(){n=ih;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function Mb(n){return queueMicrotask(()=>n()),()=>{n=ih}}var ay="isAngularZone",sh=ay+"_ID",Dk=0,xe=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new We(!1),this.onMicrotaskEmpty=new We(!1),this.onStable=new We(!1),this.onError=new We(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=aC}=e;if(typeof Zone>"u")throw new Q(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,Ak(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ay)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new Q(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new Q(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Ck,ih,ih);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},Ck={};function cy(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Tk(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){cC(()=>{n.callbackScheduled=!1,ym(n),n.isCheckStableRunning=!0,cy(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),ym(n)}function Ak(n){let e=()=>{Tk(n)},t=Dk++;n._inner=n._inner.fork({name:"angular",properties:{[ay]:!0,[sh]:t,[sh+t]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(Sk(u))return r.invokeTask(s,o,a,u);try{return Nb(n),r.invokeTask(s,o,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Pb(n)}},onInvoke:(r,i,s,o,a,u,d)=>{try{return Nb(n),r.invoke(s,o,a,u,d)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Rk(u)&&e(),Pb(n)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,ym(n),cy(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function ym(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Nb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Pb(n){n._nesting--,cy(n)}var vm=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new We,this.onMicrotaskEmpty=new We,this.onStable=new We,this.onError=new We}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function Sk(n){return uC(n,"__ignore_ng_zone__")}function Rk(n){return uC(n,"__scheduler_tick__")}function uC(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Er=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Wg(e);for(;t&&Wg(t);)t=Wg(t);return t||null}},xk=new W("",{providedIn:"root",factory:()=>{let n=B(xe),e=B(Er);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function Mk(){return Ch(Bt(),Ce())}function Ch(n,e){return new Jn(hn(n,e))}var Jn=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=Mk}}return n})();function lC(n){return(n.flags&128)===128}var dC=new Map,Nk=0;function Pk(){return Nk++}function kk(n){dC.set(n[vh],n)}function wm(n){dC.delete(n[vh])}var kb="__ngContext__";function Es(n,e){Ci(e)?(n[kb]=e[vh],kk(e)):n[kb]=e}function hC(n){return pC(n[Uc])}function fC(n){return pC(n[Dn])}function pC(n){for(;n!==null&&!Rr(n);)n=n[Dn];return n}var _m;function gC(n){_m=n}function Ok(){if(_m!==void 0)return _m;if(typeof document<"u")return document;throw new Q(210,!1)}var uy=new W("",{providedIn:"root",factory:()=>Fk}),Fk="ng",ly=new W(""),Xn=new W("",{providedIn:"platform",factory:()=>"unknown"});var dy=new W("",{providedIn:"root",factory:()=>Ok().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Lk="h",Vk="b";var Uk=()=>null;function hy(n,e,t=!1){return Uk(n,e,t)}var mC=!1,jk=new W("",{providedIn:"root",factory:()=>mC});var oh=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Zb})`}};function Th(n){return n instanceof oh?n.changingThisBreaksApplicationSecurity:n}function yC(n,e){let t=Bk(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Zb})`)}return t===e}function Bk(n){return n instanceof oh&&n.getTypeName()||null}var $k=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function vC(n){return n=String(n),n.match($k)?n:"unsafe:"+n}var fy=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(fy||{});function G9(n){let e=Hk();return e?e.sanitize(fy.URL,n)||"":yC(n,"URL")?Th(n):vC(Ir(n))}function Hk(){let n=Ce();return n&&n[Gn].sanitizer}function wC(n){return n instanceof Function?n():n}function qk(n){return(n??B(Et)).get(Xn)==="browser"}var br=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(br||{}),zk;function py(n,e){return zk(n,e)}function Fo(n,e,t,r,i){if(r!=null){let s,o=!1;Rr(r)?s=r:Ci(r)&&(o=!0,r=r[Sr]);let a=Qn(r);n===0&&t!==null?i==null?DC(e,t,a):ah(e,t,a,i||null,!0):n===1&&t!==null?ah(e,t,a,i||null,!0):n===2?oO(e,a,o):n===3&&e.destroyNode(a),s!=null&&cO(e,n,s,t,i)}}function Gk(n,e){return n.createText(e)}function Wk(n,e,t){n.setValue(e,t)}function _C(n,e,t){return n.createElement(e,t)}function Kk(n,e){IC(n,e),e[Sr]=null,e[Tn]=null}function Qk(n,e,t,r,i,s){r[Sr]=i,r[Tn]=e,Ah(n,r,t,1,i,s)}function IC(n,e){e[Gn].changeDetectionScheduler?.notify(9),Ah(n,e,e[rt],2,null,null)}function Yk(n){let e=n[Uc];if(!e)return Kg(n[pe],n);for(;e;){let t=null;if(Ci(e))t=e[Uc];else{let r=e[ln];r&&(t=r)}if(!t){for(;e&&!e[Dn]&&e!==n;)Ci(e)&&Kg(e[pe],e),e=e[Pt];e===null&&(e=n),Ci(e)&&Kg(e[pe],e),t=e&&e[Dn]}e=t}}function Zk(n,e,t,r){let i=ln+r,s=t.length;r>0&&(t[i-1][Dn]=e),r<s-ln?(e[Dn]=t[i],aD(t,ln+r,e)):(t.push(e),e[Dn]=null),e[Pt]=t;let o=e[qo];o!==null&&t!==o&&EC(o,e);let a=e[zo];a!==null&&a.insertView(n),um(e),e[re]|=128}function EC(n,e){let t=n[Zd],r=e[Pt];if(Ci(r))n[re]|=Jd.HasTransplantedViews;else{let i=r[Pt][Wn];e[Wn]!==i&&(n[re]|=Jd.HasTransplantedViews)}t===null?n[Zd]=[e]:t.push(e)}function gy(n,e){let t=n[Zd],r=t.indexOf(e);t.splice(r,1)}function Im(n,e){if(n.length<=ln)return;let t=ln+e,r=n[t];if(r){let i=r[qo];i!==null&&i!==n&&gy(i,r),e>0&&(n[t-1][Dn]=r[Dn]);let s=Gd(n,ln+e);Kk(r[pe],r);let o=s[zo];o!==null&&o.detachView(s[pe]),r[Pt]=null,r[Dn]=null,r[re]&=-129}return r}function bC(n,e){if(!(e[re]&256)){let t=e[rt];t.destroyNode&&Ah(n,e,t,3,null,null),Yk(e)}}function Kg(n,e){if(e[re]&256)return;let t=De(null);try{e[re]&=-129,e[re]|=256,e[un]&&wg(e[un]),Xk(n,e),Jk(n,e),e[pe].type===1&&e[rt].destroy();let r=e[qo];if(r!==null&&Rr(e[Pt])){r!==e[Pt]&&gy(r,e);let i=e[zo];i!==null&&i.detachView(n)}wm(e)}finally{De(t)}}function Jk(n,e){let t=n.cleanup,r=e[Qd];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[t[s+1]];t[s].call(o)}r!==null&&(e[Qd]=null);let i=e[Di];if(i!==null){e[Di]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function Xk(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Is)){let s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];Hn(4,a,u);try{u.call(a)}finally{Hn(5,a,u)}}else{Hn(4,i,s);try{s.call(i)}finally{Hn(5,i,s)}}}}}function eO(n,e,t){return tO(n,e.parent,t)}function tO(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Sr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=n.data[r.directiveStart+i];if(s===zn.None||s===zn.Emulated)return null}return hn(r,t)}}function ah(n,e,t,r,i){n.insertBefore(e,t,r,i)}function DC(n,e,t){n.appendChild(e,t)}function Ob(n,e,t,r,i){r!==null?ah(n,e,t,r,i):DC(n,e,t)}function CC(n,e){return n.parentNode(e)}function nO(n,e){return n.nextSibling(e)}function rO(n,e,t){return sO(n,e,t)}function iO(n,e,t){return n.type&40?hn(n,t):null}var sO=iO,Fb;function my(n,e,t,r){let i=eO(n,r,e),s=e[rt],o=r.parent||e[Tn],a=rO(o,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)Ob(s,i,t[u],a,!1);else Ob(s,i,t,a,!1);Fb!==void 0&&Fb(s,r,e,t,i)}function kc(n,e){if(e!==null){let t=e.type;if(t&3)return hn(e,n);if(t&4)return Em(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return kc(n,r);{let i=n[e.index];return Rr(i)?Em(-1,i):Qn(i)}}else{if(t&128)return kc(n,e.next);if(t&32)return py(e,n)()||Qn(n[e.index]);{let r=TC(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ws(n[Wn]);return kc(i,r)}else return kc(n,e.next)}}}return null}function TC(n,e){if(e!==null){let r=n[Wn][Tn],i=e.projection;return r.projection[i]}return null}function Em(n,e){let t=ln+n+1;if(t<e.length){let r=e[t],i=r[pe].firstChild;if(i!==null)return kc(r,i)}return e[vs]}function oO(n,e,t){n.removeChild(null,e,t)}function yy(n,e,t,r,i,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(o&&e===0&&(a&&Es(Qn(a),r),t.flags|=2),(t.flags&32)!==32)if(u&8)yy(n,e,t.child,r,i,s,!1),Fo(e,n,i,a,s);else if(u&32){let d=py(t,r),p;for(;p=d();)Fo(e,n,i,p,s);Fo(e,n,i,a,s)}else u&16?aO(n,e,r,t,i,s):Fo(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Ah(n,e,t,r,i,s){yy(t,r,n.firstChild,e,i,s,!1)}function aO(n,e,t,r,i,s){let o=t[Wn],u=o[Tn].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let p=u[d];Fo(e,n,i,p,s)}else{let d=u,p=o[Pt];lC(r)&&(d.flags|=128),yy(n,e,d,p,i,s,!0)}}function cO(n,e,t,r,i){let s=t[vs],o=Qn(t);s!==o&&Fo(e,n,r,s,i);for(let a=ln;a<t.length;a++){let u=t[a];Ah(u[pe],u,n,e,r,s)}}function uO(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=r.indexOf("-")===-1?void 0:br.DashCase;i==null?n.removeStyle(t,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=br.Important),n.setStyle(t,r,i,s))}}function lO(n,e,t){n.setAttribute(e,"style",t)}function AC(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function SC(n,e,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&rm(n,e,r),i!==null&&AC(n,e,i),s!==null&&lO(n,e,s)}var Jt={};function W9(n=1){RC(kt(),Ce(),Mi()+n,!1)}function RC(n,e,t,r){if(!r)if((e[re]&3)===3){let s=n.preOrderCheckHooks;s!==null&&jd(e,s,t)}else{let s=n.preOrderHooks;s!==null&&Bd(e,s,0,t)}_s(t)}function ie(n,e=de.Default){let t=Ce();if(t===null)return ee(n,e);let r=Bt();return rC(r,t,Mt(n),e)}function xC(){let n="invalid";throw new Error(n)}function MC(n,e,t,r,i,s){let o=De(null);try{let a=null;i&Ti.SignalBased&&(a=e[r][vr]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Ti.HasDecoratorInputTransform&&(s=n.inputTransforms[r].call(e,s)),n.setInput!==null?n.setInput(e,a,s,t,r):SD(e,a,r,s)}finally{De(o)}}function dO(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)_s(~i);else{let s=i,o=t[++r],a=t[++r];tk(o,s);let u=e[s];a(2,u)}}}finally{_s(-1)}}function Sh(n,e,t,r,i,s,o,a,u,d,p){let g=e.blueprint.slice();return g[Sr]=i,g[re]=r|4|128|8|64,(d!==null||n&&n[re]&2048)&&(g[re]|=2048),kD(g),g[Pt]=g[Jo]=n,g[Cn]=t,g[Gn]=o||n&&n[Gn],g[rt]=a||n&&n[rt],g[Ho]=u||n&&n[Ho]||null,g[Tn]=s,g[vh]=Pk(),g[Kd]=p,g[CD]=d,g[Wn]=e.type==2?n[Wn]:g,g}function Rh(n,e,t,r,i){let s=n.data[e];if(s===null)s=hO(n,e,t,r,i),ek()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let o=ZP();s.injectorIndex=o===null?-1:o.injectorIndex}return qc(s,!0),s}function hO(n,e,t,r,i){let s=UD(),o=jD(),a=o?s:s&&s.parent,u=n.data[e]=yO(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function NC(n,e,t,r){if(t===0)return-1;let i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function PC(n,e,t,r,i){let s=Mi(),o=r&2;try{_s(-1),o&&e.length>Kn&&RC(n,e,Kn,!1),Hn(o?2:0,i),t(r,i)}finally{_s(s),Hn(o?3:1,i)}}function kC(n,e,t){if(AD(e)){let r=De(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=n.data[o];if(a.contentQueries){let u=t[o];a.contentQueries(1,u,o)}}}finally{De(r)}}}function OC(n,e,t){VD()&&(bO(n,e,t,hn(t,e)),(t.flags&64)===64&&jC(n,e,t))}function FC(n,e,t=hn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?t(e,n):n[o];n[i++]=a}}}function LC(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=vy(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function vy(n,e,t,r,i,s,o,a,u,d,p){let g=Kn+r,_=g+i,E=fO(g,_),M=typeof d=="function"?d():d;return E[pe]={type:n,blueprint:E,template:t,queries:null,viewQuery:a,declTNode:e,data:E.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:M,incompleteFirstPass:!1,ssrId:p}}function fO(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Jt);return t}function pO(n,e,t,r){let s=r.get(jk,mC)||t===zn.ShadowDom,o=n.selectRootElement(e,s);return gO(o),o}function gO(n){mO(n)}var mO=()=>null;function yO(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return KP()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Lb(n,e,t,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=Ti.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let d=s;if(i!==null){if(!i.hasOwnProperty(s))continue;d=i[s]}n===0?Vb(r,t,d,a,u):Vb(r,t,d,a)}return r}function Vb(n,e,t,r,i){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,r):s=n[t]=[e,r],i!==void 0&&s.push(i)}function vO(n,e,t){let r=e.directiveStart,i=e.directiveEnd,s=n.data,o=e.attrs,a=[],u=null,d=null;for(let p=r;p<i;p++){let g=s[p],_=t?t.get(g):null,E=_?_.inputs:null,M=_?_.outputs:null;u=Lb(0,g.inputs,p,u,E),d=Lb(1,g.outputs,p,d,M);let O=u!==null&&o!==null&&!Km(e)?kO(u,p,o):null;a.push(O)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=d}function wO(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function wy(n,e,t,r,i,s,o,a){let u=hn(e,t),d=e.inputs,p;!a&&d!=null&&(p=d[r])?(_y(n,t,p,r,i),wh(e)&&_O(t,e.index)):e.type&3?(r=wO(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function _O(n,e){let t=xi(e,n);t[re]&16||(t[re]|=64)}function VC(n,e,t,r){if(VD()){let i=r===null?null:{"":-1},s=CO(n,t),o,a;s===null?o=a=null:[o,a]=s,o!==null&&UC(n,e,t,o,i,a),i&&TO(t,r,i)}t.mergedAttrs=Lc(t.mergedAttrs,t.attrs)}function UC(n,e,t,r,i,s){for(let d=0;d<r.length;d++)fm(rh(t,e),n,r[d].type);SO(t,n.data.length,r.length);for(let d=0;d<r.length;d++){let p=r[d];p.providersResolver&&p.providersResolver(p)}let o=!1,a=!1,u=NC(n,e,r.length,null);for(let d=0;d<r.length;d++){let p=r[d];t.mergedAttrs=Lc(t.mergedAttrs,p.hostAttrs),RO(n,t,e,u,p),AO(u,p,i),p.contentQueries!==null&&(t.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(t.flags|=64);let g=p.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}vO(n,t,s)}function IO(n,e,t,r,i){let s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;EO(o)!=a&&o.push(a),o.push(t,r,s)}}function EO(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function bO(n,e,t,r){let i=t.directiveStart,s=t.directiveEnd;wh(t)&&xO(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||rh(t,e),Es(r,e);let o=t.initialInputs;for(let a=i;a<s;a++){let u=n.data[a],d=Go(e,n,a,t);if(Es(d,e),o!==null&&PO(e,a-i,d,u,t,o),Si(u)){let p=xi(t.index,e);p[Cn]=Go(e,n,a,t)}}}function jC(n,e,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,o=nk();try{_s(s);for(let a=r;a<i;a++){let u=n.data[a],d=e[a];lm(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&DO(u,d)}}finally{_s(-1),lm(o)}}function DO(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function CO(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let s=0;s<t.length;s++){let o=t[s];if(pP(e,o.selectors,!1))if(r||(r=[]),Si(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;bm(n,e,u)}else r.unshift(o),bm(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function bm(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function TO(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let s=t[e[i+1]];if(s==null)throw new Q(-301,!1);r.push(e[i],s)}}}function AO(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Si(e)&&(t[""]=n)}}function SO(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function RO(n,e,t,r,i){n.data[r]=i;let s=i.factory||(i.factory=ys(i.type,!0)),o=new Is(s,Si(i),ie);n.blueprint[r]=o,t[r]=o,IO(n,e,r,NC(n,t,i.hostVars,Jt),i)}function xO(n,e,t){let r=hn(e,n),i=LC(t),s=n[Gn].rendererFactory,o=16;t.signals?o=4096:t.onPush&&(o=64);let a=xh(n,Sh(n,i,null,o,r,e,null,s.createRenderer(r,t),null,null,null));n[e.index]=a}function MO(n,e,t,r,i,s){let o=hn(n,e);NO(e[rt],o,s,n.value,t,r,i)}function NO(n,e,t,r,i,s,o){if(s==null)n.removeAttribute(e,i,t);else{let a=o==null?Ir(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}function PO(n,e,t,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],d=o[a++],p=o[a++],g=o[a++];MC(r,t,u,d,p,g)}}function kO(n,e,t){let r=null,i=0;for(;i<t.length;){let s=t[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){r===null&&(r=[]);let o=n[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],t[i+1]);break}}i+=2}return r}function BC(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function $C(n,e){let t=n.contentQueries;if(t!==null){let r=De(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],o=t[i+1];if(o!==-1){let a=n.data[o];HD(s),a.contentQueries(2,e[o],o)}}}finally{De(r)}}}function xh(n,e){return n[Uc]?n[Db][Dn]=e:n[Uc]=e,n[Db]=e,e}function Dm(n,e,t){HD(0);let r=De(null);try{e(n,t)}finally{De(r)}}function OO(n){return n[Qd]??=[]}function FO(n){return n.cleanup??=[]}function HC(n,e){let t=n[Ho],r=t?t.get(Er,null):null;r&&r.handleError(e)}function _y(n,e,t,r,i){for(let s=0;s<t.length;){let o=t[s++],a=t[s++],u=t[s++],d=e[o],p=n.data[o];MC(p,d,r,a,u,i)}}function Iy(n,e,t){let r=ND(e,n);Wk(n[rt],r,t)}function LO(n,e){let t=xi(e,n),r=t[pe];VO(r,t);let i=t[Sr];i!==null&&t[Kd]===null&&(t[Kd]=hy(i,t[Ho])),Ey(r,t,t[Cn])}function VO(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Ey(n,e,t){ey(e);try{let r=n.viewQuery;r!==null&&Dm(1,r,t);let i=n.template;i!==null&&PC(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[zo]?.finishViewCreation(n),n.staticContentQueries&&$C(n,e),n.staticViewQueries&&Dm(2,n.viewQuery,t);let s=n.components;s!==null&&UO(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[re]&=-5,ty()}}function UO(n,e){for(let t=0;t<e.length;t++)LO(n,e[t])}function jO(n,e,t,r){let i=De(null);try{let s=e.tView,a=n[re]&4096?4096:16,u=Sh(n,s,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=n[e.index];u[qo]=d;let p=n[zo];return p!==null&&(u[zo]=p.createEmbeddedView(s)),Ey(s,u,t),u}finally{De(i)}}function Ub(n,e){return!e||e.firstChild===null||lC(n)}function BO(n,e,t,r=!0){let i=e[pe];if(Zk(i,e,n,t),r){let o=Em(t,n),a=e[rt],u=CC(a,n[vs]);u!==null&&Qk(i,n[Tn],a,e,u,o)}let s=e[Kd];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function ch(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&r.push(Qn(s)),Rr(s)&&$O(s,r);let o=t.type;if(o&8)ch(n,e,t.child,r);else if(o&32){let a=py(t,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=TC(e,t);if(Array.isArray(a))r.push(...a);else{let u=ws(e[Wn]);ch(u[pe],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function $O(n,e){for(let t=ln;t<n.length;t++){let r=n[t],i=r[pe].firstChild;i!==null&&ch(r[pe],r,i,e)}n[vs]!==n[Sr]&&e.push(n[vs])}var qC=[];function HO(n){return n[un]??qO(n)}function qO(n){let e=qC.pop()??Object.create(GO);return e.lView=n,e}function zO(n){n.lView[un]!==n&&(n.lView=null,qC.push(n))}var GO=le(V({},Rc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Ih(n.lView)},consumerOnSignalRead(){this.lView[un]=this}});function WO(n){let e=n[un]??Object.create(KO);return e.lView=n,e}var KO=le(V({},Rc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=ws(n.lView);for(;e&&!zC(e[pe]);)e=ws(e);e&&OD(e)},consumerOnSignalRead(){this.lView[un]=this}});function zC(n){return n.type!==2}var QO=100;function GC(n,e=!0,t=0){let r=n[Gn],i=r.rendererFactory,s=!1;s||i.begin?.();try{YO(n,t)}catch(o){throw e&&HC(n,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function YO(n,e){let t=BD();try{Tb(!0),Cm(n,e);let r=0;for(;_h(n);){if(r===QO)throw new Q(103,!1);r++,Cm(n,1)}}finally{Tb(t)}}function ZO(n,e,t,r){let i=e[re];if((i&256)===256)return;let s=!1,o=!1;!s&&e[Gn].inlineEffectRunner?.flush(),ey(e);let a=!0,u=null,d=null;s||(zC(n)?(d=HO(e),u=cd(d)):xE()===null?(a=!1,d=WO(e),u=cd(d)):e[un]&&(wg(e[un]),e[un]=null));try{kD(e),XP(n.bindingStartIndex),t!==null&&PC(n,e,t,2,r);let p=(i&3)===3;if(!s)if(p){let E=n.preOrderCheckHooks;E!==null&&jd(e,E,null)}else{let E=n.preOrderHooks;E!==null&&Bd(e,E,0,null),qg(e,0)}if(o||JO(e),WC(e,0),n.contentQueries!==null&&$C(n,e),!s)if(p){let E=n.contentCheckHooks;E!==null&&jd(e,E)}else{let E=n.contentHooks;E!==null&&Bd(e,E,1),qg(e,1)}dO(n,e);let g=n.components;g!==null&&QC(e,g,0);let _=n.viewQuery;if(_!==null&&Dm(2,_,r),!s)if(p){let E=n.viewCheckHooks;E!==null&&jd(e,E)}else{let E=n.viewHooks;E!==null&&Bd(e,E,2),qg(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Hg]){for(let E of e[Hg])E();e[Hg]=null}s||(e[re]&=-73)}catch(p){throw s||Ih(e),p}finally{d!==null&&(yg(d,u),a&&zO(d)),ty()}}function WC(n,e){for(let t=hC(n);t!==null;t=fC(t))for(let r=ln;r<t.length;r++){let i=t[r];KC(i,e)}}function JO(n){for(let e=hC(n);e!==null;e=fC(e)){if(!(e[re]&Jd.HasTransplantedViews))continue;let t=e[Zd];for(let r=0;r<t.length;r++){let i=t[r];OD(i)}}}function XO(n,e,t){let r=xi(e,n);KC(r,t)}function KC(n,e){Jm(n)&&Cm(n,e)}function Cm(n,e){let r=n[pe],i=n[re],s=n[un],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&vg(s)),o||=!1,s&&(s.dirty=!1),n[re]&=-9217,o)ZO(r,n,r.template,n[Cn]);else if(i&8192){WC(n,1);let a=r.components;a!==null&&QC(n,a,1)}}function QC(n,e,t){for(let r=0;r<e.length;r++)XO(n,e[r],t)}function by(n,e){let t=BD()?64:1088;for(n[Gn].changeDetectionScheduler?.notify(e);n;){n[re]|=t;let r=ws(n);if(am(n)&&!r)return n;n=r}return null}var bs=class{get rootNodes(){let e=this._lView,t=e[pe];return ch(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Cn]}set context(e){this._lView[Cn]=e}get destroyed(){return(this._lView[re]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Pt];if(Rr(e)){let t=e[Yd],r=t?t.indexOf(this):-1;r>-1&&(Im(e,r),Gd(t,r))}this._attachedToViewContainer=!1}bC(this._lView[pe],this._lView)}onDestroy(e){FD(this._lView,e)}markForCheck(){by(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[re]&=-129}reattach(){um(this._lView),this._lView[re]|=128}detectChanges(){this._lView[re]|=1024,GC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=am(this._lView),t=this._lView[qo];t!==null&&!e&&gy(t,this._lView),IC(this._lView[pe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Q(902,!1);this._appRef=e;let t=am(this._lView),r=this._lView[qo];r!==null&&!t&&EC(r,this._lView),um(this._lView)}},Mh=(()=>{class n{static{this.__NG_ELEMENT_ID__=n1}}return n})(),e1=Mh,t1=class extends e1{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=jO(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new bs(i)}};function n1(){return r1(Bt(),Ce())}function r1(n,e){return n.type&4?new t1(e,n,Ch(n,e)):null}var Q9=new RegExp(`^(\\d+)*(${Vk}|${Lk})*(.*)`);var i1=()=>null;function jb(n,e){return i1(n,e)}var Wo=class{},Nh=new W("",{providedIn:"root",factory:()=>!1});var YC=new W(""),ZC=new W(""),Tm=class{},uh=class{};function s1(n){let e=Error(`No component factory found for ${Nt(n)}.`);return e[o1]=n,e}var o1="ngComponent";var Am=class{resolveComponentFactory(e){throw s1(e)}},Ko=class{static{this.NULL=new Am}},Qo=class{},Nr=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>a1()}}return n})();function a1(){let n=Ce(),e=Bt(),t=xi(e.index,n);return(Ci(t)?t:n)[rt]}var c1=(()=>{class n{static{this.\u0275prov=Y({token:n,providedIn:"root",factory:()=>null})}}return n})();function Sm(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=pb(i,a);else if(s==2){let u=a,d=e[++o];r=pb(r,u+": "+d+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var lh=class extends Ko{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Ai(e);return new Yo(t,this.ngModule)}};function Bb(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:Ti.None;e?t.push({propName:o,templateName:r,isSignal:(a&Ti.SignalBased)!==0}):t.push({propName:o,templateName:r})}return t}function u1(n){let e=n.toLowerCase();return e==="svg"?UP:e==="math"?jP:null}var Yo=class extends uh{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=Bb(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return Bb(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=vP(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=De(null);try{i=i||this.ngModule;let o=i instanceof Zt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new dm(e,o):e,u=a.get(Qo,null);if(u===null)throw new Q(407,!1);let d=a.get(c1,null),p=a.get(Wo,null),g={rendererFactory:u,sanitizer:d,inlineEffectRunner:null,changeDetectionScheduler:p},_=u.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",M=r?pO(_,r,this.componentDef.encapsulation,a):_C(_,E,u1(E)),O=512;this.componentDef.signals?O|=4096:this.componentDef.onPush||(O|=16);let k=null;M!==null&&(k=hy(M,a,!0));let j=vy(0,null,null,1,0,null,null,null,null,null,null),G=Sh(null,j,null,O,null,null,g,_,a,null,k);ey(G);let q,K,Te=null;try{let J=this.componentDef,T,I=null;J.findHostDirectiveDefs?(T=[],I=new Map,J.findHostDirectiveDefs(J,T,I),T.push(J)):T=[J];let b=l1(G,M);Te=d1(b,M,J,T,G,g,_),K=PD(j,Kn),M&&p1(_,J,M,r),t!==void 0&&g1(K,this.ngContentSelectors,t),q=f1(Te,J,T,I,G,[m1]),Ey(j,G,null)}catch(J){throw Te!==null&&wm(Te),wm(G),J}finally{ty()}return new Rm(this.componentType,q,Ch(K,G),G,K)}finally{De(s)}}},Rm=class extends Tm{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new bs(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let s=this._rootLView;_y(s[pe],s,i,e,t),this.previousInputValues.set(e,t);let o=xi(this._tNode.index,s);by(o,1)}}get injector(){return new ms(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function l1(n,e){let t=n[pe],r=Kn;return n[r]=e,Rh(t,r,2,"#host",null)}function d1(n,e,t,r,i,s,o){let a=i[pe];h1(r,n,e,o);let u=null;e!==null&&(u=hy(e,i[Ho]));let d=s.rendererFactory.createRenderer(e,t),p=16;t.signals?p=4096:t.onPush&&(p=64);let g=Sh(i,LC(t),null,p,i[n.index],n,s,d,null,null,u);return a.firstCreatePass&&bm(a,n,r.length-1),xh(i,g),i[n.index]=g}function h1(n,e,t,r){for(let i of n)e.mergedAttrs=Lc(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Sm(e,e.mergedAttrs,!0),t!==null&&SC(r,t,e))}function f1(n,e,t,r,i,s){let o=Bt(),a=i[pe],u=hn(o,i);UC(a,i,o,t,null,r);for(let p=0;p<t.length;p++){let g=o.directiveStart+p,_=Go(i,a,g,o);Es(_,i)}jC(a,i,o),u&&Es(u,i);let d=Go(i,a,o.directiveStart+o.componentOffset,o);if(n[Cn]=i[Cn]=d,s!==null)for(let p of s)p(d,e);return kC(a,o,i),d}function p1(n,e,t,r){if(r)rm(n,t,["ng-version","18.2.9"]);else{let{attrs:i,classes:s}=wP(e.selectors[0]);i&&rm(n,t,i),s&&s.length>0&&AC(n,t,s.join(" "))}}function g1(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let s=t[i];r.push(s!=null?Array.from(s):null)}}function m1(){let n=Bt();iy(Ce()[pe],n)}var ea=(()=>{class n{static{this.__NG_ELEMENT_ID__=y1}}return n})();function y1(){let n=Bt();return w1(n,Ce())}var v1=ea,JC=class extends v1{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ch(this._hostTNode,this._hostLView)}get injector(){return new ms(this._hostTNode,this._hostLView)}get parentInjector(){let e=sy(this._hostTNode,this._hostLView);if(ZD(e)){let t=th(e,this._hostLView),r=eh(e),i=t[pe].data[r+8];return new ms(i,t)}else return new ms(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=$b(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-ln}createEmbeddedView(e,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=jb(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,i,Ub(this._hostTNode,o)),a}createComponent(e,t,r,i,s){let o=e&&!OP(e),a;if(o)a=t;else{let M=t||{};a=M.index,r=M.injector,i=M.projectableNodes,s=M.environmentInjector||M.ngModuleRef}let u=o?e:new Yo(Ai(e)),d=r||this.parentInjector;if(!s&&u.ngModule==null){let O=(o?d:this.parentInjector).get(Zt,null);O&&(s=O)}let p=Ai(u.componentType??{}),g=jb(this._lContainer,p?.id??null),_=g?.firstChild??null,E=u.create(d,i,_,s);return this.insertImpl(E.hostView,a,Ub(this._hostTNode,g)),E}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if($P(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Pt],d=new JC(u,u[Tn],u[Pt]);d.detach(d.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return BO(o,i,s,r),e.attachToViewContainerRef(),aD(Qg(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=$b(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Im(this._lContainer,t);r&&(Gd(Qg(this._lContainer),t),bC(r[pe],r))}detach(e){let t=this._adjustIndex(e,-1),r=Im(this._lContainer,t);return r&&Gd(Qg(this._lContainer),t)!=null?new bs(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function $b(n){return n[Yd]}function Qg(n){return n[Yd]||(n[Yd]=[])}function w1(n,e){let t,r=e[n.index];return Rr(r)?t=r:(t=BC(r,e,null,n),e[n.index]=t,xh(e,t)),I1(t,e,n,r),new JC(t,n,e)}function _1(n,e){let t=n[rt],r=t.createComment(""),i=hn(e,n),s=CC(t,i);return ah(t,s,r,nO(t,i),!1),r}var I1=D1,E1=()=>!1;function b1(n,e,t){return E1(n,e,t)}function D1(n,e,t,r){if(n[vs])return;let i;t.type&8?i=Qn(r):i=_1(e,t),n[vs]=i}var Hb=new Set;function ta(n){Hb.has(n)||(Hb.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function C1(n){return typeof n=="function"&&n[vr]!==void 0}function na(n,e){ta("NgSignals");let t=BE(n),r=t[vr];return e?.equal&&(r.equal=e.equal),t.set=i=>_g(r,i),t.update=i=>$E(r,i),t.asReadonly=T1.bind(t),t}function T1(){let n=this[vr];if(n.readonlyFn===void 0){let e=()=>this();e[vr]=n,n.readonlyFn=e}return n.readonlyFn}function XC(n){return C1(n)&&typeof n.set=="function"}function A1(n){return Object.getPrototypeOf(n.prototype).constructor}function $t(n){let e=A1(n.type),t=!0,r=[n];for(;e;){let i;if(Si(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Q(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let o=n;o.inputs=Fd(n.inputs),o.inputTransforms=Fd(n.inputTransforms),o.declaredInputs=Fd(n.declaredInputs),o.outputs=Fd(n.outputs);let a=i.hostBindings;a&&N1(n,a);let u=i.viewQuery,d=i.contentQueries;if(u&&x1(n,u),d&&M1(n,d),S1(n,i),UN(n.outputs,i.outputs),Si(i)&&i.data.animation){let p=n.data;p.animation=(p.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===$t&&(t=!1)}}e=Object.getPrototypeOf(e)}R1(r)}function S1(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function R1(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Lc(i.hostAttrs,t=Lc(t,i.hostAttrs))}}function Fd(n){return n===jo?{}:n===cn?[]:n}function x1(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function M1(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,s)=>{e(r,i,s),t(r,i,s)}:n.contentQueries=e}function N1(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}var Ri=class{},jc=class{};var xm=class extends Ri{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new lh(this);let s=yD(e);this._bootstrapComponents=wC(s.bootstrap),this._r3Injector=oC(e,t,[{provide:Ri,useValue:this},{provide:Ko,useValue:this.componentFactoryResolver},...r],Nt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Mm=class extends jc{constructor(e){super(),this.moduleType=e}create(e){return new xm(this.moduleType,e,[])}};var dh=class extends Ri{constructor(e){super(),this.componentFactoryResolver=new lh(this),this.instance=null;let t=new Vc([...e.providers,{provide:Ri,useValue:this},{provide:Ko,useValue:this.componentFactoryResolver}],e.parent||Ym(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ph(n,e,t=null){return new dh({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function eT(n){return k1(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function P1(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function k1(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Dy(n,e,t){return n[e]=t}function O1(n,e){return n[e]}function Dr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Cy(n,e,t,r){let i=Dr(n,e,t);return Dr(n,e+1,r)||i}function F1(n,e,t,r,i){let s=Cy(n,e,t,r);return Dr(n,e+2,i)||s}function L1(n){return(n.flags&32)===32}function V1(n,e,t,r,i,s,o,a,u){let d=e.consts,p=Rh(e,n,4,o||null,a||null);VC(e,t,p,Xd(d,u)),iy(e,p);let g=p.tView=vy(2,p,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,p),g.queries=e.queries.embeddedTView(p)),p}function U1(n,e,t,r,i,s,o,a,u,d){let p=t+Kn,g=e.firstCreatePass?V1(p,e,n,r,i,s,o,a,u):e.data[p];qc(g,!1);let _=B1(e,n,g,t);ny()&&my(e,n,_,g),Es(_,n);let E=BC(_,n,_,g);return n[p]=E,xh(n,E),b1(E,g,n),Zm(g)&&OC(e,n,g),u!=null&&FC(n,g,d),g}function j1(n,e,t,r,i,s,o,a){let u=Ce(),d=kt(),p=Xd(d.consts,s);return U1(u,d,n,e,t,r,i,p,o,a),j1}var B1=$1;function $1(n,e,t,r){return ry(!0),e[rt].createComment("")}var Lo=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Lo||{}),tT=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=Y({token:n,providedIn:"root",factory:()=>new n})}}return n})(),Nm=class n{constructor(){this.ngZone=B(xe),this.scheduler=B(Wo),this.errorHandler=B(Er,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Lo.EarlyRead,Lo.Write,Lo.MixedReadWrite,Lo.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=Y({token:n,providedIn:"root",factory:()=>new n})}},Pm=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function Ty(n,e){!e?.injector&&kP(Ty);let t=e?.injector??B(Et);return qk(t)?(ta("NgAfterNextRender"),q1(n,t,e,!0)):z1}function H1(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function q1(n,e,t,r){let i=e.get(tT);i.impl??=e.get(Nm);let s=t?.phase??Lo.MixedReadWrite,o=t?.manualCleanup!==!0?e.get(oy):null,a=new Pm(i.impl,H1(n,s),r,o);return i.impl.register(a),a}var z1={destroy(){}};function kh(n,e,t,r){let i=Ce(),s=bh();if(Dr(i,s,e)){let o=kt(),a=Dh();MO(a,i,n,e,t,r)}return kh}function nT(n,e,t,r){return Dr(n,bh(),t)?e+Ir(t)+r:Jt}function G1(n,e,t,r,i,s){let o=$D(),a=Cy(n,o,t,i);return Xm(2),a?e+Ir(t)+r+Ir(i)+s:Jt}function W1(n,e,t,r,i,s,o,a){let u=$D(),d=F1(n,u,t,i,o);return Xm(3),d?e+Ir(t)+r+Ir(i)+s+Ir(o)+a:Jt}function Ld(n,e){return n<<17|e<<2}function Ds(n){return n>>17&32767}function K1(n){return(n&2)==2}function Q1(n,e){return n&131071|e<<17}function km(n){return n|2}function Zo(n){return(n&131068)>>2}function Yg(n,e){return n&-131069|e<<2}function Y1(n){return(n&1)===1}function Om(n){return n|1}function Z1(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Ds(o),u=Zo(o);n[r]=t;let d=!1,p;if(Array.isArray(t)){let g=t;p=g[1],(p===null||Hc(g,p)>0)&&(d=!0)}else p=t;if(i)if(u!==0){let _=Ds(n[a+1]);n[r+1]=Ld(_,a),_!==0&&(n[_+1]=Yg(n[_+1],r)),n[a+1]=Q1(n[a+1],r)}else n[r+1]=Ld(a,0),a!==0&&(n[a+1]=Yg(n[a+1],r)),a=r;else n[r+1]=Ld(u,0),a===0?a=r:n[u+1]=Yg(n[u+1],r),u=r;d&&(n[r+1]=km(n[r+1])),qb(n,p,r,!0),qb(n,p,r,!1),J1(e,p,n,r,s),o=Ld(a,u),s?e.classBindings=o:e.styleBindings=o}function J1(n,e,t,r,i){let s=i?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&Hc(s,e)>=0&&(t[r+1]=Om(t[r+1]))}function qb(n,e,t,r){let i=n[t+1],s=e===null,o=r?Ds(i):Zo(i),a=!1;for(;o!==0&&(a===!1||s);){let u=n[o],d=n[o+1];X1(u,e)&&(a=!0,n[o+1]=r?Om(d):km(d)),o=r?Ds(d):Zo(d)}a&&(n[t+1]=r?km(i):Om(i))}function X1(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Hc(n,e)>=0:!1}function eF(n,e,t){let r=Ce(),i=bh();if(Dr(r,i,e)){let s=kt(),o=Dh();wy(s,o,r,n,e,r[rt],t,!1)}return eF}function zb(n,e,t,r,i){let s=e.inputs,o=i?"class":"style";_y(n,t,s[o],o,r)}function Oh(n,e){return tF(n,e,null,!0),Oh}function tF(n,e,t,r){let i=Ce(),s=kt(),o=Xm(2);if(s.firstUpdatePass&&rF(s,n,o,r),e!==Jt&&Dr(i,o,e)){let a=s.data[Mi()];cF(s,a,i,i[rt],n,i[o+1]=uF(e,t),r,o)}}function nF(n,e){return e>=n.expandoStartIndex}function rF(n,e,t,r){let i=n.data;if(i[t+1]===null){let s=i[Mi()],o=nF(n,t);lF(s,r)&&e===null&&!o&&(e=!1),e=iF(i,s,e,r),Z1(i,s,e,t,o,r)}}function iF(n,e,t,r){let i=rk(n),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Zg(null,n,e,t,r),t=Bc(t,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==i)if(t=Zg(i,n,e,t,r),s===null){let u=sF(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Zg(null,n,e,u[1],r),u=Bc(u,e.attrs,r),oF(n,e,r,u))}else s=aF(n,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),t}function sF(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Zo(r)!==0)return n[Ds(r)]}function oF(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Ds(i)]=r}function aF(n,e,t){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=n[s].hostAttrs;r=Bc(r,o,t)}return Bc(r,e.attrs,t)}function Zg(n,e,t,r,i){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],r=Bc(r,s.hostAttrs,i),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Bc(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),sP(n,o,t?!0:e[++s]))}return n===void 0?null:n}function cF(n,e,t,r,i,s,o,a){if(!(e.type&3))return;let u=n.data,d=u[a+1],p=Y1(d)?Gb(u,e,t,i,Zo(d),o):void 0;if(!hh(p)){hh(s)||K1(d)&&(s=Gb(u,null,t,i,a,o));let g=ND(Mi(),t);uO(r,o,g,i,s)}}function Gb(n,e,t,r,i,s){let o=e===null,a;for(;i>0;){let u=n[i],d=Array.isArray(u),p=d?u[1]:u,g=p===null,_=t[i+1];_===Jt&&(_=g?cn:void 0);let E=g?Bg(_,r):p===r?_:void 0;if(d&&!hh(E)&&(E=Bg(u,r)),hh(E)&&(a=E,o))return a;let M=n[i+1];i=o?Ds(M):Zo(M)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=Bg(u,r))}return a}function hh(n){return n!==void 0}function uF(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Nt(Th(n)))),n}function lF(n,e){return(n.flags&(e?8:16))!==0}function dF(n,e,t,r,i,s){let o=e.consts,a=Xd(o,i),u=Rh(e,n,2,r,a);return VC(e,t,u,Xd(o,s)),u.attrs!==null&&Sm(u,u.attrs,!1),u.mergedAttrs!==null&&Sm(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function rT(n,e,t,r){let i=Ce(),s=kt(),o=Kn+n,a=i[rt],u=s.firstCreatePass?dF(o,s,i,e,t,r):s.data[o],d=hF(s,i,u,a,e,n);i[o]=d;let p=Zm(u);return qc(u,!0),SC(a,d,u),!L1(u)&&ny()&&my(s,i,d,u),zP()===0&&Es(d,i),GP(),p&&(OC(s,i,u),kC(s,u,i)),r!==null&&FC(i,u),rT}function iT(){let n=Bt();jD()?JP():(n=n.parent,qc(n,!1));let e=n;QP(e)&&YP(),WP();let t=kt();return t.firstCreatePass&&(iy(t,n),AD(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&lk(e)&&zb(t,e,Ce(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&dk(e)&&zb(t,e,Ce(),e.stylesWithoutHost,!1),iT}function Ay(n,e,t,r){return rT(n,e,t,r),iT(),Ay}var hF=(n,e,t,r,i,s)=>(ry(!0),_C(r,i,ok()));function Z9(){return Ce()}var fh="en-US";var fF=fh;function pF(n){typeof n=="string"&&(fF=n.toLowerCase().replace(/_/g,"-"))}var gF=(n,e,t)=>{};function Pr(n,e,t,r){let i=Ce(),s=kt(),o=Bt();return sT(s,i,i[rt],o,n,e,r),Pr}function mF(n,e,t,r){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===t&&i[s+1]===r){let a=e[Qd],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function sT(n,e,t,r,i,s,o){let a=Zm(r),d=n.firstCreatePass&&FO(n),p=e[Cn],g=OO(e),_=!0;if(r.type&3||o){let O=hn(r,e),k=o?o(O):O,j=g.length,G=o?K=>o(Qn(K[r.index])):r.index,q=null;if(!o&&a&&(q=mF(n,e,i,r.index)),q!==null){let K=q.__ngLastListenerFn__||q;K.__ngNextListenerFn__=s,q.__ngLastListenerFn__=s,_=!1}else{s=Kb(r,e,p,s),gF(O,i,s);let K=t.listen(k,i,s);g.push(s,K),d&&d.push(i,G,j,j+1)}}else s=Kb(r,e,p,s);let E=r.outputs,M;if(_&&E!==null&&(M=E[i])){let O=M.length;if(O)for(let k=0;k<O;k+=2){let j=M[k],G=M[k+1],Te=e[j][G].subscribe(s),J=g.length;g.push(s,Te),d&&d.push(i,r.index,J,-(J+1))}}}function Wb(n,e,t,r){let i=De(null);try{return Hn(6,e,t),t(r)!==!1}catch(s){return HC(n,s),!1}finally{Hn(7,e,t),De(i)}}function Kb(n,e,t,r){return function i(s){if(s===Function)return r;let o=n.componentOffset>-1?xi(n.index,e):e;by(o,5);let a=Wb(e,t,r,s),u=i.__ngNextListenerFn__;for(;u;)a=Wb(e,t,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function J9(n=1){return sk(n)}function yF(n,e,t,r,i){let s=Ce(),o=nT(s,e,t,r);if(o!==Jt){let a=kt(),u=Dh();wy(a,u,s,n,o,s[rt],i,!1)}return yF}function vF(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function X9(n,e=""){let t=Ce(),r=kt(),i=n+Kn,s=r.firstCreatePass?Rh(r,i,1,e,null):r.data[i],o=wF(r,t,s,e,n);t[i]=o,ny()&&my(r,t,o,s),qc(s,!1)}var wF=(n,e,t,r,i)=>(ry(!0),Gk(e[rt],r));function _F(n){return oT("",n,""),_F}function oT(n,e,t){let r=Ce(),i=nT(r,n,e,t);return i!==Jt&&Iy(r,Mi(),i),oT}function IF(n,e,t,r,i){let s=Ce(),o=G1(s,n,e,t,r,i);return o!==Jt&&Iy(s,Mi(),o),IF}function EF(n,e,t,r,i,s,o){let a=Ce(),u=W1(a,n,e,t,r,i,s,o);return u!==Jt&&Iy(a,Mi(),u),EF}function bF(n,e,t){XC(e)&&(e=e());let r=Ce(),i=bh();if(Dr(r,i,e)){let s=kt(),o=Dh();wy(s,o,r,n,e,r[rt],t,!1)}return bF}function e8(n,e){let t=XC(n);return t&&n.set(e),t}function DF(n,e){let t=Ce(),r=kt(),i=Bt();return sT(r,t,t[rt],i,n,e),DF}function CF(n,e,t){let r=kt();if(r.firstCreatePass){let i=Si(n);Fm(t,r.data,r.blueprint,i,!0),Fm(e,r.data,r.blueprint,i,!1)}}function Fm(n,e,t,r,i){if(n=Mt(n),Array.isArray(n))for(let s=0;s<n.length;s++)Fm(n[s],e,t,r,i);else{let s=kt(),o=Ce(),a=Bt(),u=$o(n)?n:Mt(n.provide),d=bD(n),p=a.providerIndexes&1048575,g=a.directiveStart,_=a.providerIndexes>>20;if($o(n)||!n.multi){let E=new Is(d,i,ie),M=Xg(u,e,i?p:p+_,g);M===-1?(fm(rh(a,o),s,u),Jg(s,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(E),o.push(E)):(t[M]=E,o[M]=E)}else{let E=Xg(u,e,p+_,g),M=Xg(u,e,p,p+_),O=E>=0&&t[E],k=M>=0&&t[M];if(i&&!k||!i&&!O){fm(rh(a,o),s,u);let j=SF(i?AF:TF,t.length,i,r,d);!i&&k&&(t[M].providerFactory=j),Jg(s,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(j),o.push(j)}else{let j=aT(t[i?M:E],d,!i&&r);Jg(s,n,E>-1?E:M,j)}!i&&r&&k&&t[M].componentProviders++}}}function Jg(n,e,t,r){let i=$o(e),s=AP(e);if(i||s){let u=(s?Mt(e.useClass):e).prototype.ngOnDestroy;if(u){let d=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let p=d.indexOf(t);p===-1?d.push(t,[r,u]):d[p+1].push(r,u)}else d.push(t,u)}}}function aT(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Xg(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function TF(n,e,t,r){return Lm(this.multi,[])}function AF(n,e,t,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Go(t,t[pe],this.providerFactory.index,r);s=a.slice(0,o),Lm(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Lm(i,s);return s}function Lm(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function SF(n,e,t,r,i){let s=new Is(n,t,ie);return s.multi=[],s.index=e,s.componentProviders=0,aT(s,i,r&&!t),s}function er(n,e=[]){return t=>{t.providersResolver=(r,i)=>CF(r,i?i(n):n,e)}}var RF=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=_D(!1,t.type),i=r.length>0?Ph([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Y({token:n,providedIn:"environment",factory:()=>new n(ee(Zt))})}}return n})();function cT(n){ta("NgStandalone"),n.getStandaloneInjector=e=>e.get(RF).getOrCreateStandaloneInjector(n)}function t8(n,e,t){let r=Eh()+n,i=Ce();return i[r]===Jt?Dy(i,r,t?e.call(t):e()):O1(i,r)}function n8(n,e,t,r){return lT(Ce(),Eh(),n,e,t,r)}function r8(n,e,t,r,i){return xF(Ce(),Eh(),n,e,t,r,i)}function uT(n,e){let t=n[e];return t===Jt?void 0:t}function lT(n,e,t,r,i,s){let o=e+t;return Dr(n,o,i)?Dy(n,o+1,s?r.call(s,i):r(i)):uT(n,o+1)}function xF(n,e,t,r,i,s,o){let a=e+t;return Cy(n,a,i,s)?Dy(n,a+2,o?r.call(o,i,s):r(i,s)):uT(n,a+2)}function i8(n,e){let t=kt(),r,i=n+Kn;t.firstCreatePass?(r=MF(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let s=r.factory||(r.factory=ys(r.type,!0)),o,a=jt(ie);try{let u=nh(!1),d=s();return nh(u),vF(t,Ce(),i,d),d}finally{jt(a)}}function MF(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function s8(n,e,t){let r=n+Kn,i=Ce(),s=BP(i,r);return NF(i,r)?lT(i,Eh(),e,s.transform,t,s):s.transform(t)}function NF(n,e){return n[pe].data[e].pure}var Cr=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},dT=new Cr("18.2.9");var Fh=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var hT=new W("");function Cs(n){return!!n&&typeof n.then=="function"}function fT(n){return!!n&&typeof n.subscribe=="function"}var Lh=new W(""),pT=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=B(Lh,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let s=i();if(Cs(s))t.push(s);else if(fT(s)){let o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Vh=new W("");function PF(){jE(()=>{throw new Q(600,!1)})}function kF(n){return n.isBoundToModule}var OF=10;function FF(n,e,t){try{let r=t();return Cs(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Ts=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=B(xk),this.afterRenderManager=B(tT),this.zonelessEnabled=B(Nh),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new It,this.afterTick=new It,this.componentTypes=[],this.components=[],this.isStable=B(Xo).hasPendingTasks.pipe(he(t=>!t)),this._injector=B(Zt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof uh;if(!this._injector.get(pT).done){let _=!i&&mD(t),E=!1;throw new Q(405,E)}let o;i?o=t:o=this._injector.get(Ko).resolveComponentFactory(t),this.componentTypes.push(o.componentType);let a=kF(o)?void 0:this._injector.get(Ri),u=r||o.selector,d=o.create(Et.NULL,[],u,a),p=d.location.nativeElement,g=d.injector.get(hT,null);return g?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),$d(this.components,d),g?.unregisterApplication(p)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Q(101,!1);let t=De(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,De(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(Qo,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<OF;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)LF(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>_h(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;$d(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(Vh,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>$d(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Q(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function $d(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function LF(n,e,t,r){if(!t&&!_h(n))return;GC(n,e,t&&!r?0:1)}var Vm=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Uh=(()=>{class n{compileModuleSync(t){return new Mm(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=yD(t),s=wC(i.declarations).reduce((o,a)=>{let u=Ai(a);return u&&o.push(new Yo(u)),o},[]);return new Vm(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var VF=(()=>{class n{constructor(){this.zone=B(xe),this.changeDetectionScheduler=B(Wo),this.applicationRef=B(Ts)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),UF=new W("",{factory:()=>!1});function gT({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new xe(le(V({},mT()),{scheduleInRootZone:t})),[{provide:xe,useFactory:n},{provide:Bo,multi:!0,useFactory:()=>{let r=B(VF,{optional:!0});return()=>r.initialize()}},{provide:Bo,multi:!0,useFactory:()=>{let r=B(jF);return()=>{r.initialize()}}},e===!0?{provide:YC,useValue:!0}:[],{provide:ZC,useValue:t??aC}]}function o8(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=gT({ngZoneFactory:()=>{let i=mT(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&ta("NgZone_CoalesceEvent"),new xe(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Yn([{provide:UF,useValue:!0},{provide:Nh,useValue:!1},r])}function mT(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var jF=(()=>{class n{constructor(){this.subscription=new Ge,this.initialized=!1,this.zone=B(xe),this.pendingTasks=B(Xo)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{xe.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{xe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var BF=(()=>{class n{constructor(){this.appRef=B(Ts),this.taskService=B(Xo),this.ngZone=B(xe),this.zonelessEnabled=B(Nh),this.disableScheduling=B(YC,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ge,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(sh):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(B(ZC,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof vm||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Mb:cC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(sh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Mb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function $F(){return typeof $localize<"u"&&$localize.locale||fh}var Sy=new W("",{providedIn:"root",factory:()=>B(Sy,de.Optional|de.SkipSelf)||$F()});var Um=new W("");function Vd(n){return!n.moduleRef}function HF(n){let e=Vd(n)?n.r3Injector:n.moduleRef.injector,t=e.get(xe);return t.run(()=>{Vd(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Er,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:s=>{r.handleError(s)}})}),Vd(n)){let s=()=>e.destroy(),o=n.platformInjector.get(Um);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>n.moduleRef.destroy(),o=n.platformInjector.get(Um);o.add(s),n.moduleRef.onDestroy(()=>{$d(n.allPlatformModules,n.moduleRef),i.unsubscribe(),o.delete(s)})}return FF(r,t,()=>{let s=e.get(pT);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Sy,fh);if(pF(o||fh),Vd(n)){let a=e.get(Ts);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return qF(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function qF(n,e){let t=n.injector.get(Ts);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new Q(-403,!1);e.push(n)}var Hd=null;function zF(n=[],e){return Et.create({name:e,providers:[{provide:yh,useValue:"platform"},{provide:Um,useValue:new Set([()=>Hd=null])},...n]})}function GF(n=[]){if(Hd)return Hd;let e=zF(n);return Hd=e,PF(),WF(e),e}function WF(n){n.get(ly,null)?.forEach(t=>t())}var As=(()=>{class n{static{this.__NG_ELEMENT_ID__=KF}}return n})();function KF(n){return QF(Bt(),Ce(),(n&16)===16)}function QF(n,e,t){if(wh(n)&&!t){let r=xi(n.index,e);return new bs(r,r)}else if(n.type&175){let r=e[Wn];return new bs(r,e)}return null}var jm=class{constructor(){}supports(e){return eT(e)}create(e){return new Bm(e)}},YF=(n,e)=>e,Bm=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||YF}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){let o=!r||t&&t.currentIndex<Qb(r,i,s)?t:r,a=Qb(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,o.previousIndex==null)i++;else{s||(s=[]);let d=a-i,p=u-i;if(d!=p){for(let _=0;_<d;_++){let E=_<s.length?s[_]:s[_]=0,M=E+_;p<=M&&M<d&&(s[_]=E+1)}let g=o.previousIndex;s[g]=p-d}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!eT(e))throw new Q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,a),r=!0):(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else i=0,P1(e,a=>{o=this._trackByFn(i,a),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,a,o,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new $m(t,r),s,i)),e}_verifyReinsertion(e,t,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new ph),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ph),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},$m=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Hm=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},ph=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Hm,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Qb(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function Yb(){return new Ry([new jm])}var Ry=(()=>{class n{static{this.\u0275prov=Y({token:n,providedIn:"root",factory:Yb})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Yb()),deps:[[n,new Gm,new At]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new Q(901,!1)}}return n})();function yT(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=GF(r),s=[gT({}),{provide:Wo,useExisting:BF},...t||[]],o=new dh({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return HF({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function zc(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function ra(n,e){ta("NgSignals");let t=LE(n);return e?.equal&&(t[vr].equal=e.equal),t}function tr(n){let e=De(null);try{return n()}finally{De(e)}}function vT(n){let e=Ai(n);if(!e)return null;let t=new Yo(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var DT=null;function Or(){return DT}function CT(n){DT??=n}var jh=class{};var Ht=new W(""),Oy=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:()=>B(XF),providedIn:"platform"})}}return n})(),TT=new W(""),XF=(()=>{class n extends Oy{constructor(){super(),this._doc=B(Ht),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Or().getBaseHref(this._doc)}onPopState(t){let r=Or().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Or().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function Fy(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function wT(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function kr(n){return n&&n[0]!=="?"?"?"+n:n}var Ss=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:()=>B(Ly),providedIn:"root"})}}return n})(),AT=new W(""),Ly=(()=>{class n extends Ss{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??B(Ht).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Fy(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+kr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+kr(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+kr(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(ee(Oy),ee(AT,8))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ST=(()=>{class n extends Ss{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Fy(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+kr(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+kr(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(ee(Oy),ee(AT,8))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac})}}return n})(),sa=(()=>{class n{constructor(t){this._subject=new We,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=nL(wT(_T(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+kr(r))}normalize(t){return n.stripTrailingSlash(tL(this._basePath,_T(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+kr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+kr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=kr}static{this.joinWithSlash=Fy}static{this.stripTrailingSlash=wT}static{this.\u0275fac=function(r){return new(r||n)(ee(Ss))}}static{this.\u0275prov=Y({token:n,factory:()=>eL(),providedIn:"root"})}}return n})();function eL(){return new sa(ee(Ss))}function tL(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function _T(n){return n.replace(/\/index.html$/,"")}function nL(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function RT(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var xy=/\s+/,IT=[],N8=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=IT,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(xy):IT}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(xy):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(xy).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(ie(Jn),ie(Nr))}}static{this.\u0275dir=Ve({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var My=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},P8=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new My(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),ET(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);ET(s,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(ie(ea),ie(Mh),ie(Ry))}}static{this.\u0275dir=Ve({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function ET(n,e){n.context.$implicit=e.item}var k8=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Ny,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){bT("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){bT("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(ie(ea),ie(Mh))}}static{this.\u0275dir=Ve({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),Ny=class{constructor(){this.$implicit=null,this.ngIf=null}};function bT(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Nt(e)}'.`)}function rL(n,e){return new Q(2100,!1)}var iL=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,O8=(()=>{class n{transform(t){if(t==null)return null;if(typeof t!="string")throw rL(n,t);return t.replace(iL,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275pipe=fD({name:"titlecase",type:n,pure:!0,standalone:!0})}}return n})();var sL=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ar({type:n})}static{this.\u0275inj=Tr({})}}return n})(),Vy="browser",oL="server";function aL(n){return n===Vy}function Uy(n){return n===oL}var xT=(()=>{class n{static{this.\u0275prov=Y({token:n,providedIn:"root",factory:()=>aL(B(Xn))?new Py(B(Ht),window):new ky})}}return n})(),Py=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=cL(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function cL(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var ky=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Bh=class{};var $y=class extends jh{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Hy=class n extends $y{static makeCurrent(){CT(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=uL();return t==null?null:lL(t)}resetBaseElement(){Gc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return RT(document.cookie,e)}},Gc=null;function uL(){return Gc=Gc||document.querySelector("base"),Gc?Gc.getAttribute("href"):null}function lL(n){return new URL(n,document.baseURI).pathname}var dL=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac})}}return n})(),qy=new W(""),kT=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new Q(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(ee(qy),ee(xe))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac})}}return n})(),$h=class{constructor(e){this._doc=e}},jy="ng-app-id",OT=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Uy(s),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${jy}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(jy),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(jy,this.appId),t.appendChild(o),o}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(ee(Ht),ee(uy),ee(dy,8),ee(Xn))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac})}}return n})(),By={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Gy=/%COMP%/g,FT="%COMP%",hL=`_nghost-${FT}`,fL=`_ngcontent-${FT}`,pL=!0,gL=new W("",{providedIn:"root",factory:()=>pL});function mL(n){return fL.replace(Gy,n)}function yL(n){return hL.replace(Gy,n)}function LT(n,e){return e.map(t=>t.replace(Gy,n))}var MT=(()=>{class n{constructor(t,r,i,s,o,a,u,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Uy(a),this.defaultRenderer=new Wc(t,o,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===zn.ShadowDom&&(r=le(V({},r),{encapsulation:zn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Hh?i.applyToHost(t):i instanceof Kc&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case zn.Emulated:s=new Hh(u,d,r,this.appId,p,o,a,g);break;case zn.ShadowDom:return new zy(u,d,t,r,o,a,this.nonce,g);default:s=new Kc(u,d,r,p,o,a,g);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(ee(kT),ee(OT),ee(uy),ee(gL),ee(Ht),ee(Xn),ee(xe),ee(dy))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac})}}return n})(),Wc=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(By[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(NT(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(NT(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Q(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=By[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=By[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(br.DashCase|br.Important)?e.style.setProperty(t,r,i&br.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&br.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=Or().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function NT(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var zy=class extends Wc{constructor(e,t,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=LT(i.id,i.styles);for(let p of d){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=p,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Kc=class extends Wc{constructor(e,t,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?LT(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Hh=class extends Kc{constructor(e,t,r,i,s,o,a,u){let d=i+"-"+r.id;super(e,t,r,s,o,a,u,d),this.contentAttr=mL(d),this.hostAttr=yL(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},vL=(()=>{class n extends $h{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(ee(Ht))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac})}}return n})(),PT=["alt","control","meta","shift"],wL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_L={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},IL=(()=>{class n extends $h{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Or().onAndCancel(t,s.domEventName,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),PT.forEach(d=>{let p=r.indexOf(d);p>-1&&(r.splice(p,1),o+=d+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(t,r){let i=wL[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),PT.forEach(o=>{if(o!==i){let a=_L[o];a(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(ee(Ht))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac})}}return n})();function cK(n,e){return yT(V({rootComponent:n},EL(e)))}function EL(n){return{appProviders:[...AL,...n?.providers??[]],platformProviders:TL}}function bL(){Hy.makeCurrent()}function DL(){return new Er}function CL(){return gC(document),document}var TL=[{provide:Xn,useValue:Vy},{provide:ly,useValue:bL,multi:!0},{provide:Ht,useFactory:CL,deps:[]}];var AL=[{provide:yh,useValue:"root"},{provide:Er,useFactory:DL,deps:[]},{provide:qy,useClass:vL,multi:!0,deps:[Ht,xe,Xn]},{provide:qy,useClass:IL,multi:!0,deps:[Ht]},MT,OT,kT,{provide:Qo,useExisting:MT},{provide:Bh,useClass:dL,deps:[]},[]];var VT=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(ee(Ht))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var QT=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(ie(Nr),ie(Jn))}}static{this.\u0275dir=Ve({type:n})}}return n})(),Xh=(()=>{class n extends QT{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Mr(n)))(i||n)}})()}static{this.\u0275dir=Ve({type:n,features:[$t]})}}return n})(),la=new W("");var RL={provide:la,useExisting:dn(()=>YT),multi:!0};function xL(){let n=Or()?Or().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var ML=new W(""),YT=(()=>{class n extends QT{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!xL())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(ie(Nr),ie(Jn),ie(ML,8))}}static{this.\u0275dir=Ve({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Pr("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[er([RL]),$t]})}}return n})();function Ni(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function ZT(n){return n!=null&&typeof n.length=="number"}var tu=new W(""),ef=new W(""),NL=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,UT=class{static min(e){return PL(e)}static max(e){return kL(e)}static required(e){return JT(e)}static requiredTrue(e){return OL(e)}static email(e){return FL(e)}static minLength(e){return LL(e)}static maxLength(e){return VL(e)}static pattern(e){return UL(e)}static nullValidator(e){return zh(e)}static compose(e){return i0(e)}static composeAsync(e){return s0(e)}};function PL(n){return e=>{if(Ni(e.value)||Ni(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function kL(n){return e=>{if(Ni(e.value)||Ni(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function JT(n){return Ni(n.value)?{required:!0}:null}function OL(n){return n.value===!0?null:{required:!0}}function FL(n){return Ni(n.value)||NL.test(n.value)?null:{email:!0}}function LL(n){return e=>Ni(e.value)||!ZT(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function VL(n){return e=>ZT(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function UL(n){if(!n)return zh;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Ni(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function zh(n){return null}function XT(n){return n!=null}function e0(n){return Cs(n)?Be(n):n}function t0(n){let e={};return n.forEach(t=>{e=t!=null?V(V({},e),t):e}),Object.keys(e).length===0?null:e}function n0(n,e){return e.map(t=>t(n))}function jL(n){return!n.validate}function r0(n){return n.map(e=>jL(e)?e:t=>e.validate(t))}function i0(n){if(!n)return null;let e=n.filter(XT);return e.length==0?null:function(t){return t0(n0(t,e))}}function Jy(n){return n!=null?i0(r0(n)):null}function s0(n){if(!n)return null;let e=n.filter(XT);return e.length==0?null:function(t){let r=n0(t,e).map(e0);return Og(r).pipe(he(t0))}}function Xy(n){return n!=null?s0(r0(n)):null}function jT(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function o0(n){return n._rawValidators}function a0(n){return n._rawAsyncValidators}function Wy(n){return n?Array.isArray(n)?n:[n]:[]}function Gh(n,e){return Array.isArray(n)?n.includes(e):n===e}function BT(n,e){let t=Wy(e);return Wy(n).forEach(i=>{Gh(t,i)||t.push(i)}),t}function $T(n,e){return Wy(e).filter(t=>!Gh(n,t))}var Wh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Jy(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Xy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Fr=class extends Wh{get formDirective(){return null}get path(){return null}},Rs=class extends Wh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Kh=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},BL={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},CK=le(V({},BL),{"[class.ng-submitted]":"isSubmitted"}),TK=(()=>{class n extends Kh{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(ie(Rs,2))}}static{this.\u0275dir=Ve({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Oh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[$t]})}}return n})(),AK=(()=>{class n extends Kh{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(ie(Fr,10))}}static{this.\u0275dir=Ve({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Oh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[$t]})}}return n})();var Qc="VALID",qh="INVALID",oa="PENDING",Yc="DISABLED",Pi=class{},Qh=class extends Pi{constructor(e,t){super(),this.value=e,this.source=t}},Jc=class extends Pi{constructor(e,t){super(),this.pristine=e,this.source=t}},Xc=class extends Pi{constructor(e,t){super(),this.touched=e,this.source=t}},aa=class extends Pi{constructor(e,t){super(),this.status=e,this.source=t}},Ky=class extends Pi{constructor(e){super(),this.source=e}},Qy=class extends Pi{constructor(e){super(),this.source=e}};function ev(n){return(tf(n)?n.validators:n)||null}function $L(n){return Array.isArray(n)?Jy(n):n||null}function tv(n,e){return(tf(e)?e.asyncValidators:n)||null}function HL(n){return Array.isArray(n)?Xy(n):n||null}function tf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function c0(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new Q(1e3,"");if(!r[t])throw new Q(1001,"")}function u0(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new Q(1002,"")})}var ca=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ra(()=>this.statusReactive()),this.statusReactive=na(void 0),this._pristine=ra(()=>this.pristineReactive()),this.pristineReactive=na(!0),this._touched=ra(()=>this.touchedReactive()),this.touchedReactive=na(!1),this._events=new It,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return tr(this.statusReactive)}set status(e){tr(()=>this.statusReactive.set(e))}get valid(){return this.status===Qc}get invalid(){return this.status===qh}get pending(){return this.status==oa}get disabled(){return this.status===Yc}get enabled(){return this.status!==Yc}get pristine(){return tr(this.pristineReactive)}set pristine(e){tr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return tr(this.touchedReactive)}set touched(e){tr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(BT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(BT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators($T(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators($T(e,this._rawAsyncValidators))}hasValidator(e){return Gh(this._rawValidators,e)}hasAsyncValidator(e){return Gh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(le(V({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Xc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Xc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(le(V({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Jc(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Jc(!0,r))}markAsPending(e={}){this.status=oa;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new aa(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(le(V({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Yc,this.errors=null,this._forEachChild(i=>{i.disable(le(V({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Qh(this.value,r)),this._events.next(new aa(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(le(V({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Qc,this._forEachChild(r=>{r.enable(le(V({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(le(V({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Qc||this.status===oa)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Qh(this.value,t)),this._events.next(new aa(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(le(V({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Yc:Qc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=oa,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=e0(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new aa(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new We,this.statusChanges=new We}_calculateStatus(){return this._allControlsDisabled()?Yc:this.errors?qh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(oa)?oa:this._anyControlsHaveStatus(qh)?qh:Qc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Jc(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Xc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){tf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=$L(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=HL(this._rawAsyncValidators)}},ua=class extends ca{constructor(e,t,r){super(ev(t),tv(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){u0(this,!0,e),Object.keys(e).forEach(r=>{c0(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Yy=class extends ua{};var nu=new W("CallSetDisabledState",{providedIn:"root",factory:()=>nf}),nf="always";function l0(n,e){return[...e.path,n]}function Yh(n,e,t=nf){nv(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),zL(n,e),WL(n,e),GL(n,e),qL(n,e)}function HT(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Jh(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Zh(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function qL(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function nv(n,e){let t=o0(n);e.validator!==null?n.setValidators(jT(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=a0(n);e.asyncValidator!==null?n.setAsyncValidators(jT(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Zh(e._rawValidators,i),Zh(e._rawAsyncValidators,i)}function Jh(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=o0(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let i=a0(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}let r=()=>{};return Zh(e._rawValidators,r),Zh(e._rawAsyncValidators,r),t}function zL(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&d0(n,e)})}function GL(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&d0(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function d0(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function WL(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function h0(n,e){n==null,nv(n,e)}function KL(n,e){return Jh(n,e)}function f0(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function QL(n){return Object.getPrototypeOf(n.constructor)===Xh}function p0(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function g0(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(s=>{s.constructor===YT?t=s:QL(s)?r=s:i=s}),i||r||t||null}function YL(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var ZL={provide:Fr,useExisting:dn(()=>JL)},Zc=Promise.resolve(),JL=(()=>{class n extends Fr{get submitted(){return tr(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=ra(()=>this.submittedReactive()),this.submittedReactive=na(!1),this._directives=new Set,this.ngSubmit=new We,this.form=new ua({},Jy(t),Xy(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Zc.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Yh(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Zc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Zc.then(()=>{let r=this._findContainer(t.path),i=new ua({});h0(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Zc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Zc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),p0(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(ie(tu,10),ie(ef,10),ie(nu,8))}}static{this.\u0275dir=Ve({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Pr("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[er([ZL]),$t]})}}return n})();function qT(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function zT(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var eu=class extends ca{constructor(e=null,t,r){super(ev(t),tv(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(zT(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){qT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){qT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){zT(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var XL=n=>n instanceof eu;var eV={provide:Rs,useExisting:dn(()=>tV)},GT=Promise.resolve(),tV=(()=>{class n extends Rs{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new eu,this._registered=!1,this.name="",this.update=new We,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=g0(this,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),f0(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Yh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){GT.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&zc(r);GT.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?l0(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(ie(Fr,9),ie(tu,10),ie(ef,10),ie(la,10),ie(As,8),ie(nu,8))}}static{this.\u0275dir=Ve({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[er([eV]),$t,xr]})}}return n})(),RK=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Ve({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),nV={provide:la,useExisting:dn(()=>rV),multi:!0},rV=(()=>{class n extends Xh{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Mr(n)))(i||n)}})()}static{this.\u0275dir=Ve({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Pr("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[er([nV]),$t]})}}return n})();var m0=new W("");var iV={provide:Fr,useExisting:dn(()=>sV)},sV=(()=>{class n extends Fr{get submitted(){return tr(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=ra(()=>this._submittedReactive()),this._submittedReactive=na(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new We,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Jh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Yh(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){HT(t.control||null,t,!1),YL(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),p0(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Ky(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Qy(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(HT(r||null,t),XL(i)&&(Yh(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);h0(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&KL(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){nv(this.form,this),this._oldForm&&Jh(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(ie(tu,10),ie(ef,10),ie(nu,8))}}static{this.\u0275dir=Ve({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Pr("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[er([iV]),$t,xr]})}}return n})();var oV={provide:Rs,useExisting:dn(()=>aV)},aV=(()=>{class n extends Rs{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new We,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=g0(this,s)}ngOnChanges(t){this._added||this._setUpControl(),f0(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return l0(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(ie(Fr,13),ie(tu,10),ie(ef,10),ie(la,10),ie(m0,8))}}static{this.\u0275dir=Ve({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[er([oV]),$t,xr]})}}return n})(),cV={provide:la,useExisting:dn(()=>v0),multi:!0};function y0(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function uV(n){return n.split(":")[0]}var v0=(()=>{class n extends Xh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=y0(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=uV(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Mr(n)))(i||n)}})()}static{this.\u0275dir=Ve({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Pr("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[er([cV]),$t]})}}return n})(),xK=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(y0(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(ie(Jn),ie(Nr),ie(v0,9))}}static{this.\u0275dir=Ve({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),lV={provide:la,useExisting:dn(()=>w0),multi:!0};function WT(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function dV(n){return n.split(":")[0]}var w0=(()=>{class n extends Xh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let u=o[a],d=this._getOptionValue(u.value);i.push(d)}}else{let o=r.options;for(let a=0;a<o.length;a++){let u=o[a];if(u.selected){let d=this._getOptionValue(u.value);i.push(d)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=dV(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Mr(n)))(i||n)}})()}static{this.\u0275dir=Ve({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Pr("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[er([lV]),$t]})}}return n})(),MK=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(WT(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(WT(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(ie(Jn),ie(Nr),ie(w0,9))}}static{this.\u0275dir=Ve({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();var hV=(()=>{class n{constructor(){this._validator=zh}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):zh,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Ve({type:n,features:[xr]})}}return n})();var fV={provide:tu,useExisting:dn(()=>pV),multi:!0};var pV=(()=>{class n extends hV{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=zc,this.createValidator=t=>JT}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Mr(n)))(i||n)}})()}static{this.\u0275dir=Ve({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&kh("required",i._enabled?"":null)},inputs:{required:"required"},features:[er([fV]),$t]})}}return n})();var _0=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ar({type:n})}static{this.\u0275inj=Tr({})}}return n})(),Zy=class extends ca{constructor(e,t,r){super(ev(t),tv(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){u0(this,!1,e),e.forEach((r,i)=>{c0(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function KT(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var NK=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),s={};return KT(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new ua(i,s)}record(t,r=null){let i=this._reduceControls(t);return new Yy(i,r)}control(t,r,i){let s={};return this.useNonNullable?(KT(r)?s=r:(s.validators=r,s.asyncValidators=i),new eu(t,le(V({},s),{nonNullable:!0}))):new eu(t,r,i)}array(t,r,i){let s=t.map(o=>this._createControl(o));return new Zy(s,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof eu)return t;if(t instanceof ca)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,s=t.length>2?t[2]:null;return this.control(r,i,s)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var PK=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:nu,useValue:t.callSetDisabledState??nf}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ar({type:n})}static{this.\u0275inj=Tr({imports:[_0]})}}return n})(),kK=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:m0,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:nu,useValue:t.callSetDisabledState??nf}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ar({type:n})}static{this.\u0275inj=Tr({imports:[_0]})}}return n})();var ce="primary",vu=Symbol("RouteTitle"),av=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ma(n){return new av(n)}function gV(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function mV(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!nr(n[t],e[t]))return!1;return!0}function nr(n,e){let t=n?cv(n):void 0,r=e?cv(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!M0(n[i],e[i]))return!1;return!0}function cv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function M0(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function N0(n){return n.length>0?n[n.length-1]:null}function Fi(n){return kg(n)?n:Cs(n)?Be(Promise.resolve(n)):ne(n)}var yV={exact:k0,subset:O0},P0={exact:vV,subset:wV,ignored:()=>!0};function I0(n,e,t){return yV[t.paths](n.root,e.root,t.matrixParams)&&P0[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function vV(n,e){return nr(n,e)}function k0(n,e,t){if(!Ms(n.segments,e.segments)||!of(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!k0(n.children[r],e.children[r],t))return!1;return!0}function wV(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>M0(n[t],e[t]))}function O0(n,e,t){return F0(n,e,e.segments,t)}function F0(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Ms(i,t)||e.hasChildren()||!of(i,t,r))}else if(n.segments.length===t.length){if(!Ms(n.segments,t)||!of(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!O0(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!Ms(n.segments,i)||!of(n.segments,i,r)||!n.children[ce]?!1:F0(n.children[ce],e,s,r)}}function of(n,e,t){return e.every((r,i)=>P0[t](n[i].parameters,r.parameters))}var Vr=class{constructor(e=new Me([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ma(this.queryParams),this._queryParamMap}toString(){return EV.serialize(this)}},Me=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return af(this)}},xs=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=ma(this.parameters),this._parameterMap}toString(){return V0(this)}};function _V(n,e){return Ms(n,e)&&n.every((t,r)=>nr(t.parameters,e[r].parameters))}function Ms(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function IV(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ce&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ce&&(t=t.concat(e(i,r)))}),t}var wu=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:()=>new ya,providedIn:"root"})}}return n})(),ya=class{parse(e){let t=new lv(e);return new Vr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${ru(e.root,!0)}`,r=CV(e.queryParams),i=typeof e.fragment=="string"?`#${bV(e.fragment)}`:"";return`${t}${r}${i}`}},EV=new ya;function af(n){return n.segments.map(e=>V0(e)).join("/")}function ru(n,e){if(!n.hasChildren())return af(n);if(e){let t=n.children[ce]?ru(n.children[ce],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==ce&&r.push(`${i}:${ru(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=IV(n,(r,i)=>i===ce?[ru(n.children[ce],!1)]:[`${i}:${ru(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ce]!=null?`${af(n)}/${t[0]}`:`${af(n)}/(${t.join("//")})`}}function L0(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rf(n){return L0(n).replace(/%3B/gi,";")}function bV(n){return encodeURI(n)}function uv(n){return L0(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cf(n){return decodeURIComponent(n)}function E0(n){return cf(n.replace(/\+/g,"%20"))}function V0(n){return`${uv(n.path)}${DV(n.parameters)}`}function DV(n){return Object.entries(n).map(([e,t])=>`;${uv(e)}=${uv(t)}`).join("")}function CV(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${rf(t)}=${rf(i)}`).join("&"):`${rf(t)}=${rf(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var TV=/^[^\/()?;#]+/;function rv(n){let e=n.match(TV);return e?e[0]:""}var AV=/^[^\/()?;=#]+/;function SV(n){let e=n.match(AV);return e?e[0]:""}var RV=/^[^=?&#]+/;function xV(n){let e=n.match(RV);return e?e[0]:""}var MV=/^[^&#]+/;function NV(n){let e=n.match(MV);return e?e[0]:""}var lv=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Me([],{}):new Me([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ce]=new Me(e,t)),r}parseSegment(){let e=rv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Q(4009,!1);return this.capture(e),new xs(cf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=SV(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=rv(this.remaining);i&&(r=i,this.capture(r))}e[cf(t)]=cf(r)}parseQueryParam(e){let t=xV(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=NV(this.remaining);o&&(r=o,this.capture(r))}let i=E0(t),s=E0(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=rv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Q(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ce);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[ce]:new Me([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Q(4011,!1)}};function U0(n){return n.segments.length>0?new Me([],{[ce]:n}):n}function j0(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=j0(i);if(r===ce&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new Me(n.segments,e);return PV(t)}function PV(n){if(n.numberOfChildren===1&&n.children[ce]){let e=n.children[ce];return new Me(n.segments.concat(e.segments),e.children)}return n}function uu(n){return n instanceof Vr}function kV(n,e,t=null,r=null){let i=B0(n);return $0(i,e,t,r)}function B0(n){let e;function t(s){let o={};for(let u of s.children){let d=t(u);o[u.outlet]=d}let a=new Me(s.url,o);return s===n&&(e=a),a}let r=t(n.root),i=U0(r);return e??i}function $0(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return iv(i,i,i,t,r);let s=OV(e);if(s.toRoot())return iv(i,i,new Me([],{}),t,r);let o=FV(s,i,n),a=o.processChildren?ou(o.segmentGroup,o.index,s.commands):q0(o.segmentGroup,o.index,s.commands);return iv(i,o.segmentGroup,a,t,r)}function uf(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function lu(n){return typeof n=="object"&&n!=null&&n.outlets}function iv(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([u,d])=>{s[u]=Array.isArray(d)?d.map(p=>`${p}`):`${d}`});let o;n===e?o=t:o=H0(n,e,t);let a=U0(j0(o));return new Vr(a,s,i)}function H0(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=H0(s,e,t)}),new Me(n.segments,r)}var lf=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&uf(r[0]))throw new Q(4003,!1);let i=r.find(lu);if(i&&i!==N0(r))throw new Q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function OV(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new lf(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,d])=>{a[u]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new lf(t,e,r)}var fa=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function FV(n,e,t){if(n.isAbsolute)return new fa(e,!0,0);if(!t)return new fa(e,!1,NaN);if(t.parent===null)return new fa(t,!0,0);let r=uf(n.commands[0])?0:1,i=t.segments.length-1+r;return LV(t,i,n.numberOfDoubleDots)}function LV(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Q(4005,!1);i=r.segments.length}return new fa(r,!1,i-s)}function VV(n){return lu(n[0])?n[0].outlets:{[ce]:n}}function q0(n,e,t){if(n??=new Me([],{}),n.segments.length===0&&n.hasChildren())return ou(n,e,t);let r=UV(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new Me(n.segments.slice(0,r.pathIndex),{});return s.children[ce]=new Me(n.segments.slice(r.pathIndex),n.children),ou(s,0,i)}else return r.match&&i.length===0?new Me(n.segments,{}):r.match&&!n.hasChildren()?dv(n,e,t):r.match?ou(n,0,i):dv(n,e,t)}function ou(n,e,t){if(t.length===0)return new Me(n.segments,{});{let r=VV(t),i={};if(Object.keys(r).some(s=>s!==ce)&&n.children[ce]&&n.numberOfChildren===1&&n.children[ce].segments.length===0){let s=ou(n.children[ce],e,t);return new Me(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=q0(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Me(n.segments,i)}}function UV(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],a=t[r];if(lu(a))break;let u=`${a}`,d=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&d&&typeof d=="object"&&d.outlets===void 0){if(!D0(u,d,o))return s;r+=2}else{if(!D0(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function dv(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(lu(s)){let u=jV(s.outlets);return new Me(r,u)}if(i===0&&uf(t[0])){let u=n.segments[e];r.push(new xs(u.path,b0(t[0]))),i++;continue}let o=lu(s)?s.outlets[ce]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&uf(a)?(r.push(new xs(o,b0(a))),i+=2):(r.push(new xs(o,{})),i++)}return new Me(r,{})}function jV(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=dv(new Me([],{}),0,r))}),e}function b0(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function D0(n,e,t){return n==t.path&&nr(e,t.parameters)}var au="imperative",mt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(mt||{}),fn=class{constructor(e,t){this.id=e,this.url=t}},va=class extends fn{constructor(e,t,r="imperative",i=null){super(e,t),this.type=mt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ur=class extends fn{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=mt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},en=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(en||{}),df=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(df||{}),Lr=class extends fn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=mt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ki=class extends fn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=mt.NavigationSkipped}},du=class extends fn{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=mt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},hf=class extends fn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=mt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hv=class extends fn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=mt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fv=class extends fn{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=mt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},pv=class extends fn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=mt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gv=class extends fn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=mt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mv=class{constructor(e){this.route=e,this.type=mt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},yv=class{constructor(e){this.route=e,this.type=mt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},vv=class{constructor(e){this.snapshot=e,this.type=mt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wv=class{constructor(e){this.snapshot=e,this.type=mt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_v=class{constructor(e){this.snapshot=e,this.type=mt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Iv=class{constructor(e){this.snapshot=e,this.type=mt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ff=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=mt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},hu=class{},wa=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function BV(n,e){return n.providers&&!n._injector&&(n._injector=Ph(n.providers,e,`Route: ${n.path}`)),n._injector??e}function An(n){return n.outlet||ce}function $V(n,e){let t=n.filter(r=>An(r)===e);return t.push(...n.filter(r=>An(r)!==e)),t}function _u(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Ev=class{get injector(){return _u(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Iu(this.rootInjector),this.attachRef=null}},Iu=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Ev(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(ee(Zt))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),pf=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=bv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=bv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Dv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Dv(e,this._root).map(t=>t.value)}};function bv(n,e){if(n===e.value)return e;for(let t of e.children){let r=bv(n,t);if(r)return r}return null}function Dv(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Dv(n,t);if(r.length)return r.unshift(e),r}return[]}var Xt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ha(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var gf=class extends pf{constructor(e,t){super(e),this.snapshot=t,Pv(this,e)}toString(){return this.snapshot.toString()}};function z0(n){let e=HV(n),t=new dt([new xs("",{})]),r=new dt({}),i=new dt({}),s=new dt({}),o=new dt(""),a=new Ns(t,r,s,o,i,ce,n,e.root);return a.snapshot=e.root,new gf(new Xt(a,[]),e)}function HV(n){let e={},t={},r={},i="",s=new pa([],e,r,i,t,ce,n,null,{});return new yf("",new Xt(s,[]))}var Ns=class{constructor(e,t,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(he(d=>d[vu]))??ne(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(he(e=>ma(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(he(e=>ma(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function mf(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:V(V({},e.params),n.params),data:V(V({},e.data),n.data),resolve:V(V(V(V({},n.data),e.data),i?.data),n._resolvedData)}:r={params:V({},n.params),data:V({},n.data),resolve:V(V({},n.data),n._resolvedData??{})},i&&W0(i)&&(r.resolve[vu]=i.title),r}var pa=class{get title(){return this.data?.[vu]}constructor(e,t,r,i,s,o,a,u,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ma(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ma(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},yf=class extends pf{constructor(e,t){super(t),this.url=e,Pv(this,t)}toString(){return G0(this._root)}};function Pv(n,e){e.value._routerState=n,e.children.forEach(t=>Pv(n,t))}function G0(n){let e=n.children.length>0?` { ${n.children.map(G0).join(", ")} } `:"";return`${n.value}${e}`}function sv(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,nr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),nr(e.params,t.params)||n.paramsSubject.next(t.params),mV(e.url,t.url)||n.urlSubject.next(t.url),nr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Cv(n,e){let t=nr(n.params,e.params)&&_V(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Cv(n.parent,e.parent))}function W0(n){return typeof n.title=="string"||n.title===null}var qV=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ce,this.activateEvents=new We,this.deactivateEvents=new We,this.attachEvents=new We,this.detachEvents=new We,this.parentContexts=B(Iu),this.location=B(ea),this.changeDetector=B(As),this.inputBinder=B(If,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Q(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Q(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Tv(t,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Ve({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[xr]})}}return n})(),Tv=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ns?this.route:e===Iu?this.childContexts:this.parent.get(e,t)}},If=new W(""),C0=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Nc([r.queryParams,r.params,r.data]).pipe(an(([s,o,a],u)=>(a=V(V(V({},s),o),a),u===0?ne(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let o=vT(r.component);if(!o){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac})}}return n})();function zV(n,e,t){let r=fu(n,e._root,t?t._root:void 0);return new gf(r,e)}function fu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=GV(n,e,t);return new Xt(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>fu(n,a)),o}}let r=WV(e.value),i=e.children.map(s=>fu(n,s));return new Xt(r,i)}}function GV(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return fu(n,r,i);return fu(n,r)})}function WV(n){return new Ns(new dt(n.url),new dt(n.params),new dt(n.queryParams),new dt(n.fragment),new dt(n.data),n.outlet,n.component,n)}var pu=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},K0="ngNavigationCancelingError";function vf(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=uu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Q0(!1,en.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function Q0(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[K0]=!0,t.cancellationCode=e,t}function KV(n){return Y0(n)&&uu(n.url)}function Y0(n){return!!n&&n[K0]}var QV=(n,e,t,r)=>he(i=>(new Av(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Av=class{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),sv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ha(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=ha(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=ha(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ha(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Iv(s.value.snapshot))}),e.children.length&&this.forwardEvent(new wv(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(sv(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),sv(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},wf=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ga=class{constructor(e,t){this.component=e,this.route=t}};function YV(n,e,t){let r=n._root,i=e?e._root:null;return iu(r,i,t,[r.value])}function ZV(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ia(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!eD(n)?n:e.get(n):r}function iu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=ha(e);return n.children.forEach(o=>{JV(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>cu(a,t.getContext(o),i)),i}function JV(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=XV(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new wf(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?iu(n,e,a?a.children:null,r,i):iu(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ga(a.outlet.component,o))}else o&&cu(e,a,i),i.canActivateChecks.push(new wf(r)),s.component?iu(n,null,a?a.children:null,r,i):iu(n,null,t,r,i);return i}function XV(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Ms(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ms(n.url,e.url)||!nr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Cv(n,e)||!nr(n.queryParams,e.queryParams);case"paramsChange":default:return!Cv(n,e)}}function cu(n,e,t){let r=ha(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?cu(o,e.children.getContext(s),t):cu(o,null,t):cu(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new ga(e.outlet.component,i)):t.canDeactivateChecks.push(new ga(null,i)):t.canDeactivateChecks.push(new ga(null,i))}function Eu(n){return typeof n=="function"}function e2(n){return typeof n=="boolean"}function t2(n){return n&&Eu(n.canLoad)}function n2(n){return n&&Eu(n.canActivate)}function r2(n){return n&&Eu(n.canActivateChild)}function i2(n){return n&&Eu(n.canDeactivate)}function s2(n){return n&&Eu(n.canMatch)}function Z0(n){return n instanceof wr||n?.name==="EmptyError"}var sf=Symbol("INITIAL_VALUE");function _a(){return an(n=>Nc(n.map(e=>e.pipe(_r(1),Ug(sf)))).pipe(he(e=>{for(let t of e)if(t!==!0){if(t===sf)return sf;if(t===!1||o2(t))return t}return!0}),on(e=>e!==sf),_r(1)))}function o2(n){return uu(n)||n instanceof pu}function a2(n,e){return nt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?ne(le(V({},t),{guardsResult:!0})):c2(o,r,i,n).pipe(nt(a=>a&&e2(a)?u2(r,s,n,e):ne(a)),he(a=>le(V({},t),{guardsResult:a})))})}function c2(n,e,t,r){return Be(n).pipe(nt(i=>p2(i.component,i.route,t,e,r)),$n(i=>i!==!0,!0))}function u2(n,e,t,r){return Be(e).pipe(gs(i=>No(d2(i.route.parent,r),l2(i.route,r),f2(n,i.path,t),h2(n,i.route,t))),$n(i=>i!==!0,!0))}function l2(n,e){return n!==null&&e&&e(new _v(n)),ne(!0)}function d2(n,e){return n!==null&&e&&e(new vv(n)),ne(!0)}function h2(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ne(!0);let i=r.map(s=>Pd(()=>{let o=_u(e)??t,a=Ia(s,o),u=n2(a)?a.canActivate(e,n):Zn(o,()=>a(e,n));return Fi(u).pipe($n())}));return ne(i).pipe(_a())}function f2(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>ZV(o)).filter(o=>o!==null).map(o=>Pd(()=>{let a=o.guards.map(u=>{let d=_u(o.node)??t,p=Ia(u,d),g=r2(p)?p.canActivateChild(r,n):Zn(d,()=>p(r,n));return Fi(g).pipe($n())});return ne(a).pipe(_a())}));return ne(s).pipe(_a())}function p2(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return ne(!0);let o=s.map(a=>{let u=_u(e)??i,d=Ia(a,u),p=i2(d)?d.canDeactivate(n,e,t,r):Zn(u,()=>d(n,e,t,r));return Fi(p).pipe($n())});return ne(o).pipe(_a())}function g2(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return ne(!0);let s=i.map(o=>{let a=Ia(o,n),u=t2(a)?a.canLoad(e,t):Zn(n,()=>a(e,t));return Fi(u)});return ne(s).pipe(_a(),J0(r))}function J0(n){return Tg(ht(e=>{if(typeof e!="boolean")throw vf(n,e)}),he(e=>e===!0))}function m2(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return ne(!0);let s=i.map(o=>{let a=Ia(o,n),u=s2(a)?a.canMatch(e,t):Zn(n,()=>a(e,t));return Fi(u)});return ne(s).pipe(_a(),J0(r))}var gu=class{constructor(e){this.segmentGroup=e||null}},mu=class extends Error{constructor(e){super(),this.urlTree=e}};function da(n){return xo(new gu(n))}function y2(n){return xo(new Q(4e3,!1))}function v2(n){return xo(Q0(!1,en.GuardRejected))}var Sv=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ne(r);if(i.numberOfChildren>1||!i.children[ce])return y2(`${e.redirectTo}`);i=i.children[ce]}}applyRedirectCommands(e,t,r,i,s){if(typeof t!="string"){let a=t,{queryParams:u,fragment:d,routeConfig:p,url:g,outlet:_,params:E,data:M,title:O}=i,k=Zn(s,()=>a({params:E,data:M,queryParams:u,fragment:d,routeConfig:p,url:g,outlet:_,title:O}));if(k instanceof Vr)throw new mu(k);t=k}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new mu(o);return o}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new Vr(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Me(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new Q(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Rv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function w2(n,e,t,r,i){let s=X0(n,e,t);return s.matched?(r=BV(e,r),m2(r,e,t,i).pipe(he(o=>o===!0?s:V({},Rv)))):ne(s)}function X0(n,e,t){if(e.path==="**")return _2(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?V({},Rv):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||gV)(t,n,e);if(!i)return V({},Rv);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?V(V({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function _2(n){return{matched:!0,parameters:n.length>0?N0(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function T0(n,e,t,r){return t.length>0&&b2(n,t,r)?{segmentGroup:new Me(e,E2(r,new Me(t,n.children))),slicedSegments:[]}:t.length===0&&D2(n,t,r)?{segmentGroup:new Me(n.segments,I2(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Me(n.segments,n.children),slicedSegments:t}}function I2(n,e,t,r){let i={};for(let s of t)if(Ef(n,e,s)&&!r[An(s)]){let o=new Me([],{});i[An(s)]=o}return V(V({},r),i)}function E2(n,e){let t={};t[ce]=e;for(let r of n)if(r.path===""&&An(r)!==ce){let i=new Me([],{});t[An(r)]=i}return t}function b2(n,e,t){return t.some(r=>Ef(n,e,r)&&An(r)!==ce)}function D2(n,e,t){return t.some(r=>Ef(n,e,r))}function Ef(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function C2(n,e,t){return e.length===0&&!n.children[t]}var xv=class{};function T2(n,e,t,r,i,s,o="emptyOnly"){return new Mv(n,e,t,r,i,o,s).recognize()}var A2=31,Mv=class{constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Sv(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Q(4002,`'${e.segmentGroup}'`)}recognize(){let e=T0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(he(({children:t,rootSnapshot:r})=>{let i=new Xt(r,t),s=new yf("",i),o=kV(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new pa([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ce,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ce,t).pipe(he(r=>({children:r,rootSnapshot:t})),Ii(r=>{if(r instanceof mu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof gu?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(he(o=>o instanceof Xt?[o]:[]))}processChildren(e,t,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Be(s).pipe(gs(o=>{let a=r.children[o],u=$V(t,o);return this.processSegmentGroup(e,u,a,o,i)}),Vg((o,a)=>(o.push(...a),o)),Ei(null),Lg(),nt(o=>{if(o===null)return da(r);let a=eA(o);return S2(a),ne(a)}))}processSegment(e,t,r,i,s,o,a){return Be(t).pipe(gs(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,s,o,a).pipe(Ii(d=>{if(d instanceof gu)return ne(null);throw d}))),$n(u=>!!u),Ii(u=>{if(Z0(u))return C2(r,i,s)?ne(new xv):da(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,s,o,a,u){return An(r)!==o&&(o===ce||!Ef(i,s,r))?da(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,u):da(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,a){let{matched:u,parameters:d,consumedSegments:p,positionalParamSegments:g,remainingSegments:_}=X0(t,i,s);if(!u)return da(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>A2&&(this.allowRedirects=!1));let E=new pa(s,d,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,A0(i),An(i),i.component??i._loadedComponent??null,i,S0(i)),M=mf(E,a,this.paramsInheritanceStrategy);E.params=Object.freeze(M.params),E.data=Object.freeze(M.data);let O=this.applyRedirects.applyRedirectCommands(p,i.redirectTo,g,E,e);return this.applyRedirects.lineralizeSegments(i,O).pipe(nt(k=>this.processSegment(e,r,t,k.concat(_),o,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a=w2(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(an(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(an(({routes:d})=>{let p=r._loadedInjector??e,{parameters:g,consumedSegments:_,remainingSegments:E}=u,M=new pa(_,g,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,A0(r),An(r),r.component??r._loadedComponent??null,r,S0(r)),O=mf(M,o,this.paramsInheritanceStrategy);M.params=Object.freeze(O.params),M.data=Object.freeze(O.data);let{segmentGroup:k,slicedSegments:j}=T0(t,_,E,d);if(j.length===0&&k.hasChildren())return this.processChildren(p,d,k,M).pipe(he(q=>new Xt(M,q)));if(d.length===0&&j.length===0)return ne(new Xt(M,[]));let G=An(r)===s;return this.processSegment(p,d,k,j,G?ce:s,!0,M).pipe(he(q=>new Xt(M,q instanceof Xt?[q]:[])))}))):da(t)))}getChildConfig(e,t,r){return t.children?ne({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ne({routes:t._loadedRoutes,injector:t._loadedInjector}):g2(e,t,r,this.urlSerializer).pipe(nt(i=>i?this.configLoader.loadChildren(e,t).pipe(ht(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):v2(t))):ne({routes:[],injector:e})}};function S2(n){n.sort((e,t)=>e.value.outlet===ce?-1:t.value.outlet===ce?1:e.value.outlet.localeCompare(t.value.outlet))}function R2(n){let e=n.value.routeConfig;return e&&e.path===""}function eA(n){let e=[],t=new Set;for(let r of n){if(!R2(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=eA(r.children);e.push(new Xt(r.value,i))}return e.filter(r=>!t.has(r))}function A0(n){return n.data||{}}function S0(n){return n.resolve||{}}function x2(n,e,t,r,i,s){return nt(o=>T2(n,e,t,r,o.extractedUrl,i,s).pipe(he(({state:a,tree:u})=>le(V({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function M2(n,e){return nt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ne(t);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let d of tA(u))o.add(d);let a=0;return Be(o).pipe(gs(u=>s.has(u)?N2(u,r,n,e):(u.data=mf(u,u.parent,n).resolve,ne(void 0))),ht(()=>a++),Po(1),nt(u=>a===o.size?ne(t):Yt))})}function tA(n){let e=n.children.map(t=>tA(t)).flat();return[n,...e]}function N2(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!W0(i)&&(s[vu]=i.title),P2(s,n,e,r).pipe(he(o=>(n._resolvedData=o,n.data=mf(n,n.parent,t).resolve,null)))}function P2(n,e,t,r){let i=cv(n);if(i.length===0)return ne({});let s={};return Be(i).pipe(nt(o=>k2(n[o],e,t,r).pipe($n(),ht(a=>{if(a instanceof pu)throw vf(new ya,a);s[o]=a}))),Po(1),Fg(s),Ii(o=>Z0(o)?Yt:xo(o)))}function k2(n,e,t,r){let i=_u(e)??r,s=Ia(n,i),o=s.resolve?s.resolve(e,t):Zn(i,()=>s(e,t));return Fi(o)}function ov(n){return an(e=>{let t=n(e);return t?Be(t).pipe(he(()=>e)):ne(e)})}var nA=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ce);return r}getResolvedTitleForRoute(t){return t.data[vu]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:()=>B(O2),providedIn:"root"})}}return n})(),O2=(()=>{class n extends nA{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(ee(VT))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),bu=new W("",{providedIn:"root",factory:()=>({})}),F2=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=hD({type:n,selectors:[["ng-component"]],standalone:!0,features:[cT],decls:1,vars:0,template:function(r,i){r&1&&Ay(0,"router-outlet")},dependencies:[qV],encapsulation:2})}}return n})();function kv(n){let e=n.children&&n.children.map(kv),t=e?le(V({},n),{children:e}):V({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ce&&(t.component=F2),t}var yu=new W(""),Ov=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=B(Uh)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ne(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Fi(t.loadComponent()).pipe(he(rA),ht(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Pc(()=>{this.componentLoaders.delete(t)})),i=new To(r,()=>new It).pipe(Co());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ne({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=L2(r,this.compiler,t,this.onLoadEndListener).pipe(Pc(()=>{this.childrenLoaders.delete(r)})),o=new To(s,()=>new It).pipe(Co());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function L2(n,e,t,r){return Fi(n.loadChildren()).pipe(he(rA),nt(i=>i instanceof jc||Array.isArray(i)?ne(i):Be(e.compileModuleAsync(i))),he(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(t).injector,o=s.get(yu,[],{optional:!0,self:!0}).flat()),{routes:o.map(kv),injector:s}}))}function V2(n){return n&&typeof n=="object"&&"default"in n}function rA(n){return V2(n)?n.default:n}var Fv=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:()=>B(U2),providedIn:"root"})}}return n})(),U2=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),iA=new W(""),sA=new W("");function j2(n,e,t){let r=n.get(sA),i=n.get(Ht);return n.get(xe).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(d=>setTimeout(d));let s,o=new Promise(d=>{s=d}),a=i.startViewTransition(()=>(s(),B2(n))),{onViewTransitionCreated:u}=r;return u&&Zn(n,()=>u({transition:a,from:e,to:t})),o})}function B2(n){return new Promise(e=>{Ty({read:()=>setTimeout(e)},{injector:n})})}var $2=new W(""),Lv=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new It,this.transitionAbortSubject=new It,this.configLoader=B(Ov),this.environmentInjector=B(Zt),this.urlSerializer=B(wu),this.rootContexts=B(Iu),this.location=B(sa),this.inputBindingEnabled=B(If,{optional:!0})!==null,this.titleStrategy=B(nA),this.options=B(bu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=B(Fv),this.createViewTransition=B(iA,{optional:!0}),this.navigationErrorHandler=B($2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ne(void 0),this.rootComponentType=null;let t=i=>this.events.next(new mv(i)),r=i=>this.events.next(new yv(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(le(V(V({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new dt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:au,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(on(s=>s.id!==0),he(s=>le(V({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),an(s=>{let o=!1,a=!1;return ne(s).pipe(an(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",en.SupersededByNewNavigation),Yt;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?le(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=u.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!d&&p!=="reload"){let g="";return this.events.next(new ki(u.id,this.urlSerializer.serialize(u.rawUrl),g,df.IgnoredSameUrlNavigation)),u.resolve(!1),Yt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return ne(u).pipe(an(g=>{let _=this.transitions?.getValue();return this.events.next(new va(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),_!==this.transitions?.getValue()?Yt:Promise.resolve(g)}),x2(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ht(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=le(V({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let _=new hf(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:g,extractedUrl:_,source:E,restoredState:M,extras:O}=u,k=new va(g,this.urlSerializer.serialize(_),E,M);this.events.next(k);let j=z0(this.rootComponentType).snapshot;return this.currentTransition=s=le(V({},u),{targetSnapshot:j,urlAfterRedirects:_,extras:le(V({},O),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,ne(s)}else{let g="";return this.events.next(new ki(u.id,this.urlSerializer.serialize(u.extractedUrl),g,df.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Yt}}),ht(u=>{let d=new hv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),he(u=>(this.currentTransition=s=le(V({},u),{guards:YV(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),a2(this.environmentInjector,u=>this.events.next(u)),ht(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw vf(this.urlSerializer,u.guardsResult);let d=new fv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),on(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",en.GuardRejected),!1)),ov(u=>{if(u.guards.canActivateChecks.length)return ne(u).pipe(ht(d=>{let p=new pv(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),an(d=>{let p=!1;return ne(d).pipe(M2(this.paramsInheritanceStrategy,this.environmentInjector),ht({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(d,"",en.NoDataFromResolver)}}))}),ht(d=>{let p=new gv(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}))}),ov(u=>{let d=p=>{let g=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(p.routeConfig).pipe(ht(_=>{p.component=_}),he(()=>{})));for(let _ of p.children)g.push(...d(_));return g};return Nc(d(u.targetSnapshot.root)).pipe(Ei(null),_r(1))}),ov(()=>this.afterPreactivation()),an(()=>{let{currentSnapshot:u,targetSnapshot:d}=s,p=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return p?Be(p).pipe(he(()=>s)):ne(s)}),he(u=>{let d=zV(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=le(V({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,s}),ht(()=>{this.events.next(new hu)}),QV(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),_r(1),ht({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ur(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),jg(this.transitionAbortSubject.pipe(ht(u=>{throw u}))),Pc(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",en.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ii(u=>{if(a=!0,Y0(u))this.events.next(new Lr(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),KV(u)?this.events.next(new wa(u.url,u.navigationBehaviorOptions)):s.resolve(!1);else{let d=new du(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0);try{let p=Zn(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(p instanceof pu){let{message:g,cancellationCode:_}=vf(this.urlSerializer,p);this.events.next(new Lr(s.id,this.urlSerializer.serialize(s.extractedUrl),g,_)),this.events.next(new wa(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(d);let g=t.errorHandler(u);s.resolve(!!g)}}catch(p){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(p)}}return Yt}))}))}cancelNavigationTransition(t,r,i){let s=new Lr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function H2(n){return n!==au}var q2=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:()=>B(z2),providedIn:"root"})}}return n})(),Nv=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},z2=(()=>{class n extends Nv{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Mr(n)))(i||n)}})()}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),oA=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:()=>B(G2),providedIn:"root"})}}return n})(),G2=(()=>{class n extends oA{constructor(){super(...arguments),this.location=B(sa),this.urlSerializer=B(wu),this.options=B(bu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=B(Fv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Vr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=z0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof va)this.stateMemento=this.createStateMemento();else if(t instanceof ki)this.rawUrlTree=r.initialUrl;else if(t instanceof hf){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof hu?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Lr&&(t.code===en.GuardRejected||t.code===en.NoDataFromResolver)?this.restoreHistory(r):t instanceof du?this.restoreHistory(r,!0):t instanceof Ur&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Vr?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=V(V({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=V(V({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&s===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Mr(n)))(i||n)}})()}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),su=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(su||{});function aA(n,e){n.events.pipe(on(t=>t instanceof Ur||t instanceof Lr||t instanceof du||t instanceof ki),he(t=>t instanceof Ur||t instanceof ki?su.COMPLETE:(t instanceof Lr?t.code===en.Redirect||t.code===en.SupersededByNewNavigation:!1)?su.REDIRECTING:su.FAILED),on(t=>t!==su.REDIRECTING),_r(1)).subscribe(()=>{e()})}function W2(n){throw n}var K2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Q2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Oi=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=B(Fh),this.stateManager=B(oA),this.options=B(bu,{optional:!0})||{},this.pendingTasks=B(Xo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=B(Lv),this.urlSerializer=B(wu),this.location=B(sa),this.urlHandlingStrategy=B(Fv),this._events=new It,this.errorHandler=this.options.errorHandler||W2,this.navigated=!1,this.routeReuseStrategy=B(q2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=B(yu,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!B(If,{optional:!0}),this.eventsSubscription=new Ge,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Lr&&r.code!==en.Redirect&&r.code!==en.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ur)this.navigated=!0;else if(r instanceof wa){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=V({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||H2(i.source)},o);this.scheduleNavigation(a,au,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Z2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),au,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=V({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(kv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,d=u?this.currentUrlTree.fragment:o,p=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":p=V(V({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let g;try{let _=i?i.snapshot:this.routerState.snapshot.root;g=B0(_)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),g=this.currentUrlTree.root}return $0(g,t,p,d??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=uu(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,au,null,r)}navigate(t,r={skipLocationChange:!1}){return Y2(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=V({},K2):r===!1?i=V({},Q2):i=r,uu(t))return I0(this.currentUrlTree,t,i);let s=this.parseUrl(t);return I0(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,d;o?(a=o.resolve,u=o.reject,d=o.promise):d=new Promise((g,_)=>{a=g,u=_});let p=this.pendingTasks.add();return aA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Y2(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new Q(4008,!1)}function Z2(n){return!(n instanceof hu)&&!(n instanceof wa)}var _f=class{};var J2=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(on(t=>t instanceof Ur),gs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Ph(s.providers,t,`Route: ${s.path}`));let o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Be(i).pipe(Mo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=ne(null);let s=i.pipe(nt(o=>o===null?ne(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return Be([s,o]).pipe(Mo())}else return s})}static{this.\u0275fac=function(r){return new(r||n)(ee(Oi),ee(Uh),ee(Zt),ee(_f),ee(Ov))}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),cA=new W(""),X2=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof va?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ur?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof ki&&t.code===df.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ff&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ff(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){xC()}}static{this.\u0275prov=Y({token:n,factory:n.\u0275fac})}}return n})();function r7(n,...e){return Yn([{provide:yu,multi:!0,useValue:n},[],{provide:Ns,useFactory:uA,deps:[Oi]},{provide:Vh,multi:!0,useFactory:lA},e.map(t=>t.\u0275providers)])}function uA(n){return n.routerState.root}function Du(n,e){return{\u0275kind:n,\u0275providers:e}}function lA(){let n=B(Et);return e=>{let t=n.get(Ts);if(e!==t.components[0])return;let r=n.get(Oi),i=n.get(dA);n.get(Vv)===1&&r.initialNavigation(),n.get(hA,null,de.Optional)?.setUpPreloading(),n.get(cA,null,de.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var dA=new W("",{factory:()=>new It}),Vv=new W("",{providedIn:"root",factory:()=>1});function eU(){return Du(2,[{provide:Vv,useValue:0},{provide:Lh,multi:!0,deps:[Et],useFactory:e=>{let t=e.get(TT,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(Oi),s=e.get(dA);aA(i,()=>{r(!0)}),e.get(Lv).afterPreactivation=()=>(r(!0),s.closed?ne(void 0):s),i.initialNavigation()}))}}])}function tU(){return Du(3,[{provide:Lh,multi:!0,useFactory:()=>{let e=B(Oi);return()=>{e.setUpLocationChangeListener()}}},{provide:Vv,useValue:2}])}var hA=new W("");function nU(n){return Du(0,[{provide:hA,useExisting:J2},{provide:_f,useExisting:n}])}function rU(){return Du(8,[C0,{provide:If,useExisting:C0}])}function iU(n){let e=[{provide:iA,useValue:j2},{provide:sA,useValue:V({skipNextTransition:!!n?.skipInitialTransition},n)}];return Du(9,e)}var R0=new W("ROUTER_FORROOT_GUARD"),sU=[sa,{provide:wu,useClass:ya},Oi,Iu,{provide:Ns,useFactory:uA,deps:[Oi]},Ov,[]],i7=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[sU,[],{provide:yu,multi:!0,useValue:t},{provide:R0,useFactory:uU,deps:[[Oi,new At,new Gm]]},{provide:bu,useValue:r||{}},r?.useHash?aU():cU(),oU(),r?.preloadingStrategy?nU(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?lU(r):[],r?.bindToComponentInputs?rU().\u0275providers:[],r?.enableViewTransitions?iU().\u0275providers:[],dU()]}}static forChild(t){return{ngModule:n,providers:[{provide:yu,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(ee(R0,8))}}static{this.\u0275mod=Ar({type:n})}static{this.\u0275inj=Tr({})}}return n})();function oU(){return{provide:cA,useFactory:()=>{let n=B(xT),e=B(xe),t=B(bu),r=B(Lv),i=B(wu);return t.scrollOffset&&n.setOffset(t.scrollOffset),new X2(i,r,n,e,t)}}}function aU(){return{provide:Ss,useClass:ST}}function cU(){return{provide:Ss,useClass:Ly}}function uU(n){return"guarded"}function lU(n){return[n.initialNavigation==="disabled"?tU().\u0275providers:[],n.initialNavigation==="enabledBlocking"?eU().\u0275providers:[]]}var x0=new W("");function dU(){return[{provide:x0,useFactory:lA},{provide:Vh,multi:!0,useExisting:x0}]}var pA=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},hU=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},gA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,d=u?n[i+2]:0,p=s>>2,g=(s&3)<<4|a>>4,_=(a&15)<<2|d>>6,E=d&63;u||(E=64,o||(_=64)),r.push(t[p],t[g],t[_],t[E])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(pA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):hU(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let d=i<n.length?t[n.charAt(i)]:64;++i;let g=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||d==null||g==null)throw new jv;let _=s<<2|a>>4;if(r.push(_),d!==64){let E=a<<4&240|d>>2;if(r.push(E),g!==64){let M=d<<6&192|g;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},jv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},fU=function(n){let e=pA(n);return gA.encodeByteArray(e,!0)},Cu=function(n){return fU(n).replace(/\./g,"")},$v=function(n){try{return gA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function pU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var gU=()=>pU().__FIREBASE_DEFAULTS__,mU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},yU=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&$v(n[1]);return e&&JSON.parse(e)},Df=()=>{try{return gU()||mU()||yU()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Hv=n=>{var e,t;return(t=(e=Df())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Cf=n=>{let e=Hv(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},qv=()=>{var n;return(n=Df())===null||n===void 0?void 0:n.config},zv=n=>{var e;return(e=Df())===null||e===void 0?void 0:e[`_${n}`]};var bf=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Tf(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Cu(JSON.stringify(t)),Cu(JSON.stringify(o)),""].join(".")}function yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())}function vU(){var n;let e=(n=Df())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vA(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function wA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _A(){let n=yt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function IA(){return!vU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Gv(){try{return typeof indexedDB=="object"}catch{return!1}}function EA(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var wU="FirebaseError",Ot=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=wU,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jr.prototype.create)}},jr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?_U(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ot(i,a,r)}};function _U(n,e){return n.replace(IU,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var IU=/\{\$([^}]+)}/g;function bA(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ps(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(fA(s)&&fA(o)){if(!Ps(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function fA(n){return n!==null&&typeof n=="object"}function Tu(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ea(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ba(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function DA(n,e){let t=new Bv(n,e);return t.subscribe.bind(t)}var Bv=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");EU(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Uv),i.error===void 0&&(i.error=Uv),i.complete===void 0&&(i.complete=Uv);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function EU(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Uv(){}var a7=4*60*60*1e3;function Le(n){return n&&n._delegate?n._delegate:n}var qt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ks="[DEFAULT]";var Wv=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new bf;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DU(e))try{this.getOrInitializeService({instanceIdentifier:ks})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return D(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ks){return this.instances.has(e)}getOptions(e=ks){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bU(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ks){return this.component?this.component.multipleInstances?e:ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function bU(n){return n===ks?void 0:n}function DU(n){return n.instantiationMode==="EAGER"}var Af=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Wv(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var CU=[],ye=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ye||{}),TU={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},AU=ye.INFO,SU={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},RU=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=SU[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Li=class{constructor(e){this.name=e,this._logLevel=AU,this._logHandler=RU,this._userLogHandler=null,CU.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}};var xU=(n,e)=>e.some(t=>n instanceof t),CA,TA;function MU(){return CA||(CA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NU(){return TA||(TA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var AA=new WeakMap,Qv=new WeakMap,SA=new WeakMap,Kv=new WeakMap,Zv=new WeakMap;function PU(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(rr(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&AA.set(t,n)}).catch(()=>{}),Zv.set(e,n),e}function kU(n){if(Qv.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Qv.set(n,e)}var Yv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Qv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||SA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return rr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function RA(n){Yv=n(Yv)}function OU(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Sf(this),e,...t);return SA.set(r,e.sort?e.sort():[e]),rr(r)}:NU().includes(n)?function(...e){return n.apply(Sf(this),e),rr(AA.get(this))}:function(...e){return rr(n.apply(Sf(this),e))}}function FU(n){return typeof n=="function"?OU(n):(n instanceof IDBTransaction&&kU(n),xU(n,MU())?new Proxy(n,Yv):n)}function rr(n){if(n instanceof IDBRequest)return PU(n);if(Kv.has(n))return Kv.get(n);let e=FU(n);return e!==n&&(Kv.set(n,e),Zv.set(e,n)),e}var Sf=n=>Zv.get(n);function MA(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),a=rr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(rr(o.result),u.oldVersion,u.newVersion,rr(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}var LU=["get","getKey","getAll","getAllKeys","count"],VU=["put","add","delete","clear"],Jv=new Map;function xA(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Jv.get(e))return Jv.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=VU.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||LU.includes(t)))return;let s=function(o,...a){return D(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),d=u.store;return r&&(d=d.index(a.shift())),(yield Promise.all([d[t](...a),i&&u.done]))[0]})};return Jv.set(e,s),s}RA(n=>le(V({},n),{get:(e,t,r)=>xA(e,t)||n.get(e,t,r),has:(e,t)=>!!xA(e,t)||n.has(e,t)}));var ew=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(UU(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function UU(n){let e=n.getComponent();return e?.type==="VERSION"}var tw="@firebase/app",NA="0.10.13";var Br=new Li("@firebase/app"),jU="@firebase/app-compat",BU="@firebase/analytics-compat",$U="@firebase/analytics",HU="@firebase/app-check-compat",qU="@firebase/app-check",zU="@firebase/auth",GU="@firebase/auth-compat",WU="@firebase/database",KU="@firebase/data-connect",QU="@firebase/database-compat",YU="@firebase/functions",ZU="@firebase/functions-compat",JU="@firebase/installations",XU="@firebase/installations-compat",ej="@firebase/messaging",tj="@firebase/messaging-compat",nj="@firebase/performance",rj="@firebase/performance-compat",ij="@firebase/remote-config",sj="@firebase/remote-config-compat",oj="@firebase/storage",aj="@firebase/storage-compat",cj="@firebase/firestore",uj="@firebase/vertexai-preview",lj="@firebase/firestore-compat",dj="firebase",hj="10.14.1";var nw="[DEFAULT]",fj={[tw]:"fire-core",[jU]:"fire-core-compat",[$U]:"fire-analytics",[BU]:"fire-analytics-compat",[qU]:"fire-app-check",[HU]:"fire-app-check-compat",[zU]:"fire-auth",[GU]:"fire-auth-compat",[WU]:"fire-rtdb",[KU]:"fire-data-connect",[QU]:"fire-rtdb-compat",[YU]:"fire-fn",[ZU]:"fire-fn-compat",[JU]:"fire-iid",[XU]:"fire-iid-compat",[ej]:"fire-fcm",[tj]:"fire-fcm-compat",[nj]:"fire-perf",[rj]:"fire-perf-compat",[ij]:"fire-rc",[sj]:"fire-rc-compat",[oj]:"fire-gcs",[aj]:"fire-gcs-compat",[cj]:"fire-fst",[lj]:"fire-fst-compat",[uj]:"fire-vertex","fire-js":"fire-js",[dj]:"fire-js-all"};var Au=new Map,pj=new Map,rw=new Map;function PA(n,e){try{n.container.addComponent(e)}catch(t){Br.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ir(n){let e=n.name;if(rw.has(e))return Br.debug(`There were multiple attempts to register component ${e}.`),!1;rw.set(e,n);for(let t of Au.values())PA(t,n);for(let t of pj.values())PA(t,n);return!0}function Os(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Sn(n){return n.settings!==void 0}var gj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vi=new jr("app","Firebase",gj);var iw=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vi.create("app-deleted",{appName:this._name})}};var sr=hj;function aw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:nw,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Vi.create("bad-app-name",{appName:String(i)});if(t||(t=qv()),!t)throw Vi.create("no-options");let s=Au.get(i);if(s){if(Ps(t,s.options)&&Ps(r,s.config))return s;throw Vi.create("duplicate-app",{appName:i})}let o=new Af(i);for(let u of rw.values())o.addComponent(u);let a=new iw(t,r,o);return Au.set(i,a),a}function Ui(n=nw){let e=Au.get(n);if(!e&&n===nw&&qv())return aw();if(!e)throw Vi.create("no-app",{appName:n});return e}function Rf(){return Array.from(Au.values())}function $e(n,e,t){var r;let i=(r=fj[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Br.warn(a.join(" "));return}ir(new qt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var mj="firebase-heartbeat-database",yj=1,Su="firebase-heartbeat-store",Xv=null;function LA(){return Xv||(Xv=MA(mj,yj,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Su)}catch(t){console.warn(t)}}}}).catch(n=>{throw Vi.create("idb-open",{originalErrorMessage:n.message})})),Xv}function vj(n){return D(this,null,function*(){try{let t=(yield LA()).transaction(Su),r=yield t.objectStore(Su).get(VA(n));return yield t.done,r}catch(e){if(e instanceof Ot)Br.warn(e.message);else{let t=Vi.create("idb-get",{originalErrorMessage:e?.message});Br.warn(t.message)}}})}function kA(n,e){return D(this,null,function*(){try{let r=(yield LA()).transaction(Su,"readwrite");yield r.objectStore(Su).put(e,VA(n)),yield r.done}catch(t){if(t instanceof Ot)Br.warn(t.message);else{let r=Vi.create("idb-set",{originalErrorMessage:t?.message});Br.warn(r.message)}}})}function VA(n){return`${n.name}!${n.options.appId}`}var wj=1024,_j=30*24*60*60*1e3,sw=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new ow(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return D(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=OA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=_j}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Br.warn(r)}})}getHeartbeatsHeader(){return D(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=OA(),{heartbeatsToSend:r,unsentEntries:i}=Ij(this._heartbeatsCache.heartbeats),s=Cu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Br.warn(t),""}})}};function OA(){return new Date().toISOString().substring(0,10)}function Ij(n,e=wj){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),FA(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),FA(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var ow=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return D(this,null,function*(){return Gv()?EA().then(()=>!0).catch(()=>!1):!1})}read(){return D(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield vj(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return D(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return kA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return D(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return kA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function FA(n){return Cu(JSON.stringify({version:2,heartbeats:n})).length}function Ej(n){ir(new qt("platform-logger",e=>new ew(e),"PRIVATE")),ir(new qt("heartbeat",e=>new sw(e),"PRIVATE")),$e(tw,NA,n),$e(tw,NA,"esm2017"),$e("fire-js","")}Ej("");var bj="firebase",Dj="10.14.1";$e(bj,Dj,"app");var ji=new Cr("ANGULARFIRE2_VERSION");function Ru(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Ca=(n,e)=>{let t=e?[e]:Rf(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Ls=class{constructor(){return Ca(Cj)}},Cj="app-check";function Da(){}var xf=class{zone;delegate;constructor(e,t=Ng){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,r)}},cw=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Da,{},Da,Da)),t.pipe(ht({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Vs=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new xf(Zone.current)),this.insideAngular=t.run(()=>new xf(Zone.current,Mg)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(ee(xe))};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Mf(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function Tj(n){return Mf().ngZone.runOutsideAngular(()=>n())}function Fs(n){return Mf().ngZone.run(()=>n())}function Aj(n){return Sj(Mf())(n)}function Sj(n){return function(t){return t=t.lift(new cw(n.ngZone)),t.pipe(_i(n.outsideAngular),wi(n.insideAngular))}}var Rj=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Fs(()=>n.apply(void 0,r))},He=(n,e)=>function(){let t,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(t||=Fs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Da,{},Da,Da))),r[s]=Rj(r[s],t));let i=Tj(()=>n.apply(this,r));if(!e)if(i instanceof _e){let s=Mf();return i.pipe(_i(s.outsideAngular),wi(s.insideAngular))}else return Fs(()=>i);return i instanceof _e?i.pipe(Aj):i instanceof Promise?Fs(()=>new Promise((s,o)=>i.then(a=>Fs(()=>s(a)),a=>Fs(()=>o(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:Fs(()=>i)};var $r=class{constructor(e){return e}},Us=class{constructor(){return Rf()}};function xj(n){return n&&n.length===1?n[0]:new $r(Ui())}var uw=new W("angularfire2._apps"),Mj={provide:$r,useFactory:xj,deps:[[new At,uw]]},Nj={provide:Us,deps:[[new At,uw]]};function Pj(n){return(e,t)=>{let r=t.get(Xn);$e("angularfire",ji.full,"core"),$e("angularfire",ji.full,"app"),$e("angular",dT.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new $r(i)}}function W7(n,...e){return Yn([Mj,Nj,{provide:uw,useFactory:Pj(n),multi:!0,deps:[xe,Et,Vs,...e]}])}var K7=He(aw,!0);function tS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var nS=tS,rS=new jr("auth","Firebase",tS());var Lf=new Li("@firebase/auth");function kj(n,...e){Lf.logLevel<=ye.WARN&&Lf.warn(`Auth (${sr}): ${n}`,...e)}function Pf(n,...e){Lf.logLevel<=ye.ERROR&&Lf.error(`Auth (${sr}): ${n}`,...e)}function ar(n,...e){throw Nw(n,...e)}function js(n,...e){return Nw(n,...e)}function iS(n,e,t){let r=Object.assign(Object.assign({},nS()),{[e]:t});return new jr("auth","Firebase",r).create(e,{appName:n.name})}function zr(n){return iS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nw(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return rS.create(n,...e)}function X(n,e,...t){if(!n)throw Nw(e,...t)}function Hr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Pf(e),new Error(e)}function $i(n,e){n||Hr(e)}function fw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Oj(){return UA()==="http:"||UA()==="https:"}function UA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function Fj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Oj()||vA()||"connection"in navigator)?navigator.onLine:!0}function Lj(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Bs=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,$i(t>e,"Short delay should be less than long delay!"),this.isMobile=mA()||wA()}get(){return Fj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Pw(n,e){$i(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Vf=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Vj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Uj=new Bs(3e4,6e4);function Gr(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Wr(s,o,a,u){return D(this,arguments,function*(n,e,t,r,i={}){return sS(n,i,()=>D(this,null,function*(){let d={},p={};r&&(e==="GET"?p=r:d={body:JSON.stringify(r)});let g=Tu(Object.assign({key:n.config.apiKey},p)).slice(1),_=yield n._getAdditionalHeaders();_["Content-Type"]="application/json",n.languageCode&&(_["X-Firebase-Locale"]=n.languageCode);let E=Object.assign({method:e,headers:_},d);return yA()||(E.referrerPolicy="no-referrer"),Vf.fetch()(oS(n,n.config.apiHost,t,g),E)}))})}function sS(n,e,t){return D(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},Vj),e);try{let i=new pw(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Nf(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,d]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nf(n,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Nf(n,"email-already-in-use",o);if(u==="USER_DISABLED")throw Nf(n,"user-disabled",o);let p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw iS(n,p,d);ar(n,p)}}catch(i){if(i instanceof Ot)throw i;ar(n,"network-request-failed",{message:String(i)})}})}function Lu(s,o,a,u){return D(this,arguments,function*(n,e,t,r,i={}){let d=yield Wr(n,e,t,r,i);return"mfaPendingCredential"in d&&ar(n,"multi-factor-auth-required",{_serverResponse:d}),d})}function oS(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?Pw(n.config,i):`${n.config.apiScheme}://${i}`}function jj(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var pw=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(js(this.auth,"network-request-failed")),Uj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Nf(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=js(n,e,r);return i.customData._tokenResponse=t,i}function jA(n){return n!==void 0&&n.enterprise!==void 0}var gw=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return jj(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function Bj(n,e){return D(this,null,function*(){return Wr(n,"GET","/v2/recaptchaConfig",Gr(n,e))})}function $j(n,e){return D(this,null,function*(){return Wr(n,"POST","/v1/accounts:delete",e)})}function aS(n,e){return D(this,null,function*(){return Wr(n,"POST","/v1/accounts:lookup",e)})}function xu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function kw(n,e=!1){return D(this,null,function*(){let t=Le(n),r=yield t.getIdToken(e),i=Ow(r);X(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:xu(lw(i.auth_time)),issuedAtTime:xu(lw(i.iat)),expirationTime:xu(lw(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function lw(n){return Number(n)*1e3}function Ow(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Pf("JWT malformed, contained fewer than 3 sections"),null;try{let i=$v(t);return i?JSON.parse(i):(Pf("Failed to decode base64 JWT payload"),null)}catch(i){return Pf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function BA(n){let e=Ow(n);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Nu(n,e,t=!1){return D(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Ot&&Hj(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function Hj({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var mw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>D(this,null,function*(){yield this.iteration()}),t)}iteration(){return D(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Pu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=xu(this.lastLoginAt),this.creationTime=xu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Uf(n){return D(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Nu(n,aS(t,{idToken:r}));X(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?cS(s.providerUserInfo):[],a=qj(n.providerData,o),u=n.isAnonymous,d=!(n.email&&s.passwordHash)&&!a?.length,p=u?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Pu(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,g)})}function Fw(n){return D(this,null,function*(){let e=Le(n);yield Uf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function qj(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function cS(n){return n.map(e=>{var{providerId:t}=e,r=Pg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function zj(n,e){return D(this,null,function*(){let t=yield sS(n,{},()=>D(this,null,function*(){let r=Tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=oS(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Vf.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function Gj(n,e){return D(this,null,function*(){return Wr(n,"POST","/v2/accounts:revokeToken",Gr(n,e))})}var Mu=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):BA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){X(e.length!==0,"internal-error");let t=BA(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return D(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return D(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield zj(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(X(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(X(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(X(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Hr("not implemented")}};function Bi(n,e){X(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Ta=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Pg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Pu(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return D(this,null,function*(){let t=yield Nu(this,this.stsTokenManager.getToken(this.auth,e));return X(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return kw(this,e)}reload(){return Fw(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return D(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Uf(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return D(this,null,function*(){if(Sn(this.auth.app))return Promise.reject(zr(this.auth));let e=yield this.getIdToken();return yield Nu(this,$j(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,u,d,p;let g=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,E=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,M=(o=t.photoURL)!==null&&o!==void 0?o:void 0,O=(a=t.tenantId)!==null&&a!==void 0?a:void 0,k=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,j=(d=t.createdAt)!==null&&d!==void 0?d:void 0,G=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:q,emailVerified:K,isAnonymous:Te,providerData:J,stsTokenManager:T}=t;X(q&&T,e,"internal-error");let I=Mu.fromJSON(this.name,T);X(typeof q=="string",e,"internal-error"),Bi(g,e.name),Bi(_,e.name),X(typeof K=="boolean",e,"internal-error"),X(typeof Te=="boolean",e,"internal-error"),Bi(E,e.name),Bi(M,e.name),Bi(O,e.name),Bi(k,e.name),Bi(j,e.name),Bi(G,e.name);let b=new n({uid:q,auth:e,email:_,emailVerified:K,displayName:g,isAnonymous:Te,photoURL:M,phoneNumber:E,tenantId:O,stsTokenManager:I,createdAt:j,lastLoginAt:G});return J&&Array.isArray(J)&&(b.providerData=J.map(A=>Object.assign({},A))),k&&(b._redirectEventId=k),b}static _fromIdTokenResponse(e,t,r=!1){return D(this,null,function*(){let i=new Mu;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Uf(s),s})}static _fromGetAccountInfoResponse(e,t,r){return D(this,null,function*(){let i=t.users[0];X(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?cS(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Mu;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Pu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,d),u})}};var $A=new Map;function qr(n){$i(n instanceof Function,"Expected a class definition");let e=$A.get(n);return e?($i(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,$A.set(n,e),e)}var Wj=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return D(this,null,function*(){return!0})}_set(t,r){return D(this,null,function*(){this.storage[t]=r})}_get(t){return D(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return D(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),yw=Wj;function kf(n,e,t){return`firebase:${n}:${e}:${t}`}var jf=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=kf(this.userKey,i.apiKey,s),this.fullPersistenceKey=kf("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return D(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ta._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return D(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return D(this,null,function*(){if(!t.length)return new n(qr(yw),e,r);let i=(yield Promise.all(t.map(d=>D(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),s=i[0]||qr(yw),o=kf(r,e.config.apiKey,e.name),a=null;for(let d of t)try{let p=yield d._get(o);if(p){let g=Ta._fromJSON(e,p);d!==s&&(a=g),s=d;break}}catch{}let u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new n(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(d=>D(this,null,function*(){if(d!==s)try{yield d._remove(o)}catch{}}))),new n(s,e,r))})}};function HA(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pS(e))return"Blackberry";if(gS(e))return"Webos";if(lS(e))return"Safari";if((e.includes("chrome/")||dS(e))&&!e.includes("edge/"))return"Chrome";if(fS(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function uS(n=yt()){return/firefox\//i.test(n)}function lS(n=yt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dS(n=yt()){return/crios\//i.test(n)}function hS(n=yt()){return/iemobile/i.test(n)}function fS(n=yt()){return/android/i.test(n)}function pS(n=yt()){return/blackberry/i.test(n)}function gS(n=yt()){return/webos/i.test(n)}function Lw(n=yt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Kj(n=yt()){var e;return Lw(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Qj(){return _A()&&document.documentMode===10}function mS(n=yt()){return Lw(n)||fS(n)||gS(n)||pS(n)||/windows phone/i.test(n)||hS(n)}function yS(n,e=[]){let t;switch(n){case"Browser":t=HA(yt());break;case"Worker":t=`${HA(yt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${sr}/${r}`}var vw=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return D(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Yj(t){return D(this,arguments,function*(n,e={}){return Wr(n,"GET","/v2/passwordPolicy",Gr(n,e))})}var Zj=6,ww=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:Zj,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var _w=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bf(this),this.idTokenSubscription=new Bf(this),this.beforeStateQueue=new vw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=qr(t)),this._initializationPromise=this.queue(()=>D(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield jf.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return D(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return D(this,null,function*(){try{let t=yield aS(this,{idToken:e}),r=yield Ta._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return D(this,null,function*(){var t;if(Sn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return D(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return D(this,null,function*(){try{yield Uf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Lj()}_delete(){return D(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return D(this,null,function*(){if(Sn(this.app))return Promise.reject(zr(this));let t=e?Le(e):null;return t&&X(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return D(this,null,function*(){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>D(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return D(this,null,function*(){return Sn(this.app)?Promise.reject(zr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Sn(this.app)?Promise.reject(zr(this)):this.queue(()=>D(this,null,function*(){yield this.assertedPersistence.setPersistence(qr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return D(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return D(this,null,function*(){let e=yield Yj(this),t=new ww(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new jr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return D(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Gj(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return D(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return D(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&qr(e)||this._popupRedirectResolver;X(t,this,"argument-error"),this.redirectPersistenceManager=yield jf.create(this,[qr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return D(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>D(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return D(this,null,function*(){if(e===this.currentUser)return this.queue(()=>D(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(t);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return D(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return D(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return D(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&kj(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Hs(n){return Le(n)}var Bf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=DA(t=>this.observer=t)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Kf={loadJS(){return D(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Jj(n){Kf=n}function vS(n){return Kf.loadJS(n)}function Xj(){return Kf.recaptchaEnterpriseScript}function eB(){return Kf.gapiScript}function wS(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var tB="recaptcha-enterprise",nB="NO_RECAPTCHA",Iw=class{constructor(e){this.type=tB,this.auth=Hs(e)}verify(e="verify",t=!1){return D(this,null,function*(){function r(s){return D(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>D(this,null,function*(){Bj(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let d=new gw(u);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;jA(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(d=>{o(d)}).catch(()=>{o(nB)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!t&&jA(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Xj();u.length!==0&&(u+=a),vS(u).then(()=>{i(a,s,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})})}};function qA(n,e,t,r=!1){return D(this,null,function*(){let i=new Iw(n),s;try{s=yield i.verify(t)}catch{s=yield i.verify(t,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Ew(n,e,t,r){return D(this,null,function*(){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield qA(n,e,t,t==="getOobCode");return r(n,s)}else return r(n,e).catch(s=>D(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield qA(n,e,t,t==="getOobCode");return r(n,o)}else return Promise.reject(s)}))})}function Vw(n,e){let t=Os(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(Ps(s,e??{}))return i;ar(i,"already-initialized")}return t.initialize({options:e})}function rB(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(qr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Uw(n,e,t){let r=Hs(n);X(r._canInitEmulator,r,"emulator-config-failed"),X(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=_S(e),{host:o,port:a}=iB(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||sB()}function _S(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function iB(n){let e=_S(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:zA(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:zA(o)}}}function zA(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function sB(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var ku=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Hr("not implemented")}_getIdTokenResponse(e){return Hr("not implemented")}_linkToIdToken(e,t){return Hr("not implemented")}_getReauthenticationResolver(e){return Hr("not implemented")}};function oB(n,e){return D(this,null,function*(){return Wr(n,"POST","/v1/accounts:signUp",e)})}function aB(n,e){return D(this,null,function*(){return Lu(n,"POST","/v1/accounts:signInWithPassword",Gr(n,e))})}function cB(n,e){return D(this,null,function*(){return Wr(n,"POST","/v1/accounts:sendOobCode",Gr(n,e))})}function uB(n,e){return D(this,null,function*(){return cB(n,e)})}function lB(n,e){return D(this,null,function*(){return Lu(n,"POST","/v1/accounts:signInWithEmailLink",Gr(n,e))})}function dB(n,e){return D(this,null,function*(){return Lu(n,"POST","/v1/accounts:signInWithEmailLink",Gr(n,e))})}var Ou=class n extends ku{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return D(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ew(e,t,"signInWithPassword",aB);case"emailLink":return lB(e,{email:this._email,oobCode:this._password});default:ar(e,"internal-error")}})}_linkToIdToken(e,t){return D(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ew(e,r,"signUpPassword",oB);case"emailLink":return dB(e,{idToken:t,email:this._email,oobCode:this._password});default:ar(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function dw(n,e){return D(this,null,function*(){return Lu(n,"POST","/v1/accounts:signInWithIdp",Gr(n,e))})}function hB(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function fB(n){let e=Ea(ba(n)).link,t=e?Ea(ba(e)).deep_link_id:null,r=Ea(ba(n)).deep_link_id;return(r?Ea(ba(r)).link:null)||r||t||e||n}var $f=class n{constructor(e){var t,r,i,s,o,a;let u=Ea(ba(e)),d=(t=u.apiKey)!==null&&t!==void 0?t:null,p=(r=u.oobCode)!==null&&r!==void 0?r:null,g=hB((i=u.mode)!==null&&i!==void 0?i:null);X(d&&p&&g,"argument-error"),this.apiKey=d,this.operation=g,this.code=p,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=fB(e);try{return new n(t)}catch{return null}}};var IS=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Ou._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=$f.parseLink(r);return X(i,"argument-error"),Ou._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Hf=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var bw=class extends Hf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function pB(n,e){return D(this,null,function*(){return Lu(n,"POST","/v1/accounts:signUp",Gr(n,e))})}var Aa=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return D(this,null,function*(){let s=yield Ta._fromIdTokenResponse(e,r,i),o=GA(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return D(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=GA(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function GA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Dw=class n extends Ot{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function ES(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Dw._fromErrorAndOperation(n,s,e,r):s})}function gB(n,e,t=!1){return D(this,null,function*(){let r=yield Nu(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Aa._forOperation(n,"link",r)})}function mB(n,e,t=!1){return D(this,null,function*(){let{auth:r}=n;if(Sn(r.app))return Promise.reject(zr(r));let i="reauthenticate";try{let s=yield Nu(n,ES(r,i,e,n),t);X(s.idToken,r,"internal-error");let o=Ow(s.idToken);X(o,r,"internal-error");let{sub:a}=o;return X(n.uid===a,r,"user-mismatch"),Aa._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&ar(r,"user-mismatch"),s}})}function bS(n,e,t=!1){return D(this,null,function*(){if(Sn(n.app))return Promise.reject(zr(n));let r="signIn",i=yield ES(n,r,e),s=yield Aa._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})}function jw(n,e){return D(this,null,function*(){return bS(Hs(n),e)})}function yB(n,e,t){var r;X(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),X(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(X(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(X(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function DS(n){return D(this,null,function*(){let e=Hs(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Bw(n,e,t){return D(this,null,function*(){if(Sn(n.app))return Promise.reject(zr(n));let r=Hs(n),o=yield Ew(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pB).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&DS(n),u}),a=yield Aa._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function $w(n,e,t){return Sn(n.app)?Promise.reject(zr(n)):jw(Le(n),IS.credential(e,t)).catch(r=>D(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&DS(n),r}))}function Hw(n,e){return D(this,null,function*(){let t=Le(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&yB(t.auth,i,e);let{email:s}=yield uB(t.auth,i);s!==n.email&&(yield n.reload())})}function qw(n,e,t,r){return Le(n).onIdTokenChanged(e,t,r)}function zw(n,e,t){return Le(n).beforeAuthStateChanged(e,t)}function Gw(n){return Le(n).signOut()}var qf="__sak";var zf=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(qf,"1"),this.storage.removeItem(qf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var vB=1e3,wB=10,_B=(()=>{class n extends zf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,d)=>{this.notifyListeners(a,d)});return}let i=t.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);Qj()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,wB):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},vB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return D(this,null,function*(){yield yi(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return D(this,null,function*(){let r=yield yi(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return D(this,null,function*(){yield yi(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),CS=_B;var IB=(()=>{class n extends zf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),Ww=IB;function EB(n){return Promise.all(n.map(e=>D(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var bB=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return D(this,null,function*(){let r=t,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(p=>D(this,null,function*(){return p(r.origin,o)})),d=yield EB(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:d})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function TS(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var Cw=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return D(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let d=TS("",20);i.port1.start();let p=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){let _=g;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(_.data.response);break;default:clearTimeout(p),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function or(){return window}function DB(n){or().location.href=n}function AS(){return typeof or().WorkerGlobalScope<"u"&&typeof or().importScripts=="function"}function CB(){return D(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function TB(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function AB(){return AS()?self:null}var SS="firebaseLocalStorageDb",SB=1,Gf="firebaseLocalStorage",RS="fbase_key",$s=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Qf(n,e){return n.transaction([Gf],e?"readwrite":"readonly").objectStore(Gf)}function RB(){let n=indexedDB.deleteDatabase(SS);return new $s(n).toPromise()}function Tw(){let n=indexedDB.open(SS,SB);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Gf,{keyPath:RS})}catch(i){t(i)}}),n.addEventListener("success",()=>D(this,null,function*(){let r=n.result;r.objectStoreNames.contains(Gf)?e(r):(r.close(),yield RB(),e(yield Tw()))}))})}function WA(n,e,t){return D(this,null,function*(){let r=Qf(n,!0).put({[RS]:e,value:t});return new $s(r).toPromise()})}function xB(n,e){return D(this,null,function*(){let t=Qf(n,!1).get(e),r=yield new $s(t).toPromise();return r===void 0?null:r.value})}function KA(n,e){let t=Qf(n,!0).delete(e);return new $s(t).toPromise()}var MB=800,NB=3,PB=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return D(this,null,function*(){return this.db?this.db:(this.db=yield Tw(),this.db)})}_withRetries(t){return D(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>NB)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return D(this,null,function*(){return AS()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return D(this,null,function*(){this.receiver=bB._getInstance(AB()),this.receiver._subscribe("keyChanged",(t,r)=>D(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>D(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return D(this,null,function*(){var t,r;if(this.activeServiceWorker=yield CB(),!this.activeServiceWorker)return;this.sender=new Cw(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return D(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||TB()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return D(this,null,function*(){try{if(!indexedDB)return!1;let t=yield Tw();return yield WA(t,qf,"1"),yield KA(t,qf),!0}catch{}return!1})}_withPendingWrite(t){return D(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return D(this,null,function*(){return this._withPendingWrite(()=>D(this,null,function*(){return yield this._withRetries(i=>WA(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return D(this,null,function*(){let r=yield this._withRetries(i=>xB(i,t));return this.localCache[t]=r,r})}_remove(t){return D(this,null,function*(){return this._withPendingWrite(()=>D(this,null,function*(){return yield this._withRetries(r=>KA(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return D(this,null,function*(){let t=yield this._withRetries(s=>{let o=Qf(s,!1).getAll();return new $s(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>D(this,null,function*(){return this._poll()}),MB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),xS=PB;var nQ=wS("rcb"),rQ=new Bs(3e4,6e4);function kB(n,e){return e?qr(e):(X(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Fu=class extends ku{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return dw(e,this._buildIdpRequest())}_linkToIdToken(e,t){return dw(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return dw(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function OB(n){return bS(n.auth,new Fu(n),n.bypassAuthState)}function FB(n){let{auth:e,user:t}=n;return X(t,e,"internal-error"),mB(t,new Fu(n),n.bypassAuthState)}function LB(n){return D(this,null,function*(){let{auth:e,user:t}=n;return X(t,e,"internal-error"),gB(t,new Fu(n),n.bypassAuthState)})}var Aw=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>D(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return D(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(d){this.reject(d)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OB;case"linkViaPopup":case"linkViaRedirect":return LB;case"reauthViaPopup":case"reauthViaRedirect":return FB;default:ar(this.auth,"internal-error")}}resolve(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var iQ=new Bs(2e3,1e4);var VB="pendingRedirect",Of=new Map,Sw=class n extends Aw{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return D(this,null,function*(){let e=Of.get(this.auth._key());if(!e){try{let r=(yield UB(this.resolver,this.auth))?yield yi(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Of.set(this.auth._key(),e)}return this.bypassAuthState||Of.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return D(this,null,function*(){if(e.type==="signInViaRedirect")return yi(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,yi(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return D(this,null,function*(){})}cleanUp(){}};function UB(n,e){return D(this,null,function*(){let t=$B(e),r=BB(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function jB(n,e){Of.set(n._key(),e)}function BB(n){return qr(n._redirectPersistence)}function $B(n){return kf(VB,n.config.apiKey,n.name)}function HB(n,e,t=!1){return D(this,null,function*(){if(Sn(n.app))return Promise.reject(zr(n));let r=Hs(n),i=kB(r,e),o=yield new Sw(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var qB=10*60*1e3,Rw=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zB(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!MS(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(js(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qB&&this.cachedEventUids.clear(),this.cachedEventUids.has(QA(e))}saveEventToCache(e){this.cachedEventUids.add(QA(e)),this.lastProcessedEventTime=Date.now()}};function QA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function MS({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function zB(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MS(n);default:return!1}}function GB(t){return D(this,arguments,function*(n,e={}){return Wr(n,"GET","/v1/projects",e)})}var WB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KB=/^https?/;function QB(n){return D(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield GB(n);for(let t of e)try{if(YB(t))return}catch{}ar(n,"unauthorized-domain")})}function YB(n){let e=fw(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!KB.test(t))return!1;if(WB.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var ZB=new Bs(3e4,6e4);function YA(){let n=or().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function JB(n){return new Promise((e,t)=>{var r,i,s;function o(){YA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{YA(),t(js(n,"network-request-failed"))},timeout:ZB.get()})}if(!((i=(r=or().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=or().gapi)===null||s===void 0)&&s.load)o();else{let a=wS("iframefcb");return or()[a]=()=>{gapi.load?o():t(js(n,"network-request-failed"))},vS(`${eB()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw Ff=null,e})}var Ff=null;function XB(n){return Ff=Ff||JB(n),Ff}var e$=new Bs(5e3,15e3),t$="__/auth/iframe",n$="emulator/auth/iframe",r$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},i$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function s$(n){let e=n.config;X(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Pw(e,n$):`https://${n.config.authDomain}/${t$}`,r={apiKey:e.apiKey,appName:n.name,v:sr},i=i$.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Tu(r).slice(1)}`}function o$(n){return D(this,null,function*(){let e=yield XB(n),t=or().gapi;return X(t,n,"internal-error"),e.open({where:document.body,url:s$(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:r$,dontclear:!0},r=>new Promise((i,s)=>D(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=js(n,"network-request-failed"),a=or().setTimeout(()=>{s(o)},e$.get());function u(){or().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var a$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},c$=500,u$=600,l$="_blank",d$="http://localhost",Wf=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function h$(n,e,t,r=c$,i=u$){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},a$),{width:r.toString(),height:i.toString(),top:s,left:o}),d=yt().toLowerCase();t&&(a=dS(d)?l$:t),uS(d)&&(e=e||d$,u.scrollbars="yes");let p=Object.entries(u).reduce((_,[E,M])=>`${_}${E}=${M},`,"");if(Kj(d)&&a!=="_self")return f$(e||"",a),new Wf(null);let g=window.open(e||"",a,p);X(g,n,"popup-blocked");try{g.focus()}catch{}return new Wf(g)}function f$(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var p$="__/auth/handler",g$="emulator/auth/handler",m$=encodeURIComponent("fac");function ZA(n,e,t,r,i,s){return D(this,null,function*(){X(n.config.authDomain,n,"auth-domain-config-required"),X(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:sr,eventId:i};if(e instanceof Hf){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",bA(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[p,g]of Object.entries(s||{}))o[p]=g}if(e instanceof bw){let p=e.getScopes().filter(g=>g!=="");p.length>0&&(o.scopes=p.join(","))}n.tenantId&&(o.tid=n.tenantId);let a=o;for(let p of Object.keys(a))a[p]===void 0&&delete a[p];let u=yield n._getAppCheckToken(),d=u?`#${m$}=${encodeURIComponent(u)}`:"";return`${y$(n)}?${Tu(a).slice(1)}${d}`})}function y$({config:n}){return n.emulator?Pw(n,g$):`https://${n.authDomain}/${p$}`}var hw="webStorageSupport",xw=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ww,this._completeRedirectFn=HB,this._overrideRedirectResult=jB}_openPopup(e,t,r,i){return D(this,null,function*(){var s;$i((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield ZA(e,t,r,fw(),i);return h$(e,o,TS())})}_openRedirect(e,t,r,i){return D(this,null,function*(){yield this._originValidation(e);let s=yield ZA(e,t,r,fw(),i);return DB(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):($i(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return D(this,null,function*(){let t=yield o$(e),r=new Rw(e);return t.register("authEvent",i=>(X(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(hw,{type:hw},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[hw];o!==void 0&&t(!!o),ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=QB(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return mS()||lS()||Lw()}},NS=xw;var JA="@firebase/auth",XA="1.7.9";var Mw=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return D(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function v$(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function w$(n){ir(new qt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;X(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yS(n)},d=new _w(r,i,s,u);return rB(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ir(new qt("auth-internal",e=>{let t=Hs(e.getProvider("auth").getImmediate());return(r=>new Mw(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),$e(JA,XA,v$(n)),$e(JA,XA,"esm2017")}var _$=5*60,I$=zv("authIdTokenMaxAge")||_$,eS=null,E$=n=>e=>D(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>I$)return;let i=t?.token;eS!==i&&(eS=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Kw(n=Ui()){let e=Os(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Vw(n,{popupRedirectResolver:NS,persistence:[xS,CS,Ww]}),r=zv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=E$(s.toString());zw(t,o,()=>o(t.currentUser)),qw(t,a=>o(a))}}let i=Hv("auth");return i&&Uw(t,`http://${i}`),t}function b$(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Jj({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=js("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",b$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});w$("Browser");var PS="auth",qs=class{constructor(e){return e}},Vu=class{constructor(){return Ca(PS)}};var Qw=new W("angularfire2.auth-instances");function hH(n,e){let t=Ru(PS,n,e);return t&&new qs(t)}function fH(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new qs(r)}}var pH={provide:Vu,deps:[[new At,Qw]]},gH={provide:qs,useFactory:hH,deps:[[new At,Qw],$r]};function BQ(n,...e){return $e("angularfire",ji.full,"auth"),Yn([gH,pH,{provide:Qw,useFactory:fH(n),multi:!0,deps:[xe,Et,Vs,Us,[new At,Ls],...e]}])}var kS=He(Bw,!0);var $Q=He(Kw,!0);var OS=He(Hw,!0);var FS=He($w,!0);var LS=He(Gw,!0);var VS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},US={};var Hi,Yw;(function(){var n;function e(T,I){function b(){}b.prototype=I.prototype,T.D=I.prototype,T.prototype=new b,T.prototype.constructor=T,T.C=function(A,S,R){for(var C=Array(arguments.length-2),gn=2;gn<arguments.length;gn++)C[gn-2]=arguments[gn];return I.prototype[S].apply(A,C)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,I,b){b||(b=0);var A=Array(16);if(typeof I=="string")for(var S=0;16>S;++S)A[S]=I.charCodeAt(b++)|I.charCodeAt(b++)<<8|I.charCodeAt(b++)<<16|I.charCodeAt(b++)<<24;else for(S=0;16>S;++S)A[S]=I[b++]|I[b++]<<8|I[b++]<<16|I[b++]<<24;I=T.g[0],b=T.g[1],S=T.g[2];var R=T.g[3],C=I+(R^b&(S^R))+A[0]+3614090360&4294967295;I=b+(C<<7&4294967295|C>>>25),C=R+(S^I&(b^S))+A[1]+3905402710&4294967295,R=I+(C<<12&4294967295|C>>>20),C=S+(b^R&(I^b))+A[2]+606105819&4294967295,S=R+(C<<17&4294967295|C>>>15),C=b+(I^S&(R^I))+A[3]+3250441966&4294967295,b=S+(C<<22&4294967295|C>>>10),C=I+(R^b&(S^R))+A[4]+4118548399&4294967295,I=b+(C<<7&4294967295|C>>>25),C=R+(S^I&(b^S))+A[5]+1200080426&4294967295,R=I+(C<<12&4294967295|C>>>20),C=S+(b^R&(I^b))+A[6]+2821735955&4294967295,S=R+(C<<17&4294967295|C>>>15),C=b+(I^S&(R^I))+A[7]+4249261313&4294967295,b=S+(C<<22&4294967295|C>>>10),C=I+(R^b&(S^R))+A[8]+1770035416&4294967295,I=b+(C<<7&4294967295|C>>>25),C=R+(S^I&(b^S))+A[9]+2336552879&4294967295,R=I+(C<<12&4294967295|C>>>20),C=S+(b^R&(I^b))+A[10]+4294925233&4294967295,S=R+(C<<17&4294967295|C>>>15),C=b+(I^S&(R^I))+A[11]+2304563134&4294967295,b=S+(C<<22&4294967295|C>>>10),C=I+(R^b&(S^R))+A[12]+1804603682&4294967295,I=b+(C<<7&4294967295|C>>>25),C=R+(S^I&(b^S))+A[13]+4254626195&4294967295,R=I+(C<<12&4294967295|C>>>20),C=S+(b^R&(I^b))+A[14]+2792965006&4294967295,S=R+(C<<17&4294967295|C>>>15),C=b+(I^S&(R^I))+A[15]+1236535329&4294967295,b=S+(C<<22&4294967295|C>>>10),C=I+(S^R&(b^S))+A[1]+4129170786&4294967295,I=b+(C<<5&4294967295|C>>>27),C=R+(b^S&(I^b))+A[6]+3225465664&4294967295,R=I+(C<<9&4294967295|C>>>23),C=S+(I^b&(R^I))+A[11]+643717713&4294967295,S=R+(C<<14&4294967295|C>>>18),C=b+(R^I&(S^R))+A[0]+3921069994&4294967295,b=S+(C<<20&4294967295|C>>>12),C=I+(S^R&(b^S))+A[5]+3593408605&4294967295,I=b+(C<<5&4294967295|C>>>27),C=R+(b^S&(I^b))+A[10]+38016083&4294967295,R=I+(C<<9&4294967295|C>>>23),C=S+(I^b&(R^I))+A[15]+3634488961&4294967295,S=R+(C<<14&4294967295|C>>>18),C=b+(R^I&(S^R))+A[4]+3889429448&4294967295,b=S+(C<<20&4294967295|C>>>12),C=I+(S^R&(b^S))+A[9]+568446438&4294967295,I=b+(C<<5&4294967295|C>>>27),C=R+(b^S&(I^b))+A[14]+3275163606&4294967295,R=I+(C<<9&4294967295|C>>>23),C=S+(I^b&(R^I))+A[3]+4107603335&4294967295,S=R+(C<<14&4294967295|C>>>18),C=b+(R^I&(S^R))+A[8]+1163531501&4294967295,b=S+(C<<20&4294967295|C>>>12),C=I+(S^R&(b^S))+A[13]+2850285829&4294967295,I=b+(C<<5&4294967295|C>>>27),C=R+(b^S&(I^b))+A[2]+4243563512&4294967295,R=I+(C<<9&4294967295|C>>>23),C=S+(I^b&(R^I))+A[7]+1735328473&4294967295,S=R+(C<<14&4294967295|C>>>18),C=b+(R^I&(S^R))+A[12]+2368359562&4294967295,b=S+(C<<20&4294967295|C>>>12),C=I+(b^S^R)+A[5]+4294588738&4294967295,I=b+(C<<4&4294967295|C>>>28),C=R+(I^b^S)+A[8]+2272392833&4294967295,R=I+(C<<11&4294967295|C>>>21),C=S+(R^I^b)+A[11]+1839030562&4294967295,S=R+(C<<16&4294967295|C>>>16),C=b+(S^R^I)+A[14]+4259657740&4294967295,b=S+(C<<23&4294967295|C>>>9),C=I+(b^S^R)+A[1]+2763975236&4294967295,I=b+(C<<4&4294967295|C>>>28),C=R+(I^b^S)+A[4]+1272893353&4294967295,R=I+(C<<11&4294967295|C>>>21),C=S+(R^I^b)+A[7]+4139469664&4294967295,S=R+(C<<16&4294967295|C>>>16),C=b+(S^R^I)+A[10]+3200236656&4294967295,b=S+(C<<23&4294967295|C>>>9),C=I+(b^S^R)+A[13]+681279174&4294967295,I=b+(C<<4&4294967295|C>>>28),C=R+(I^b^S)+A[0]+3936430074&4294967295,R=I+(C<<11&4294967295|C>>>21),C=S+(R^I^b)+A[3]+3572445317&4294967295,S=R+(C<<16&4294967295|C>>>16),C=b+(S^R^I)+A[6]+76029189&4294967295,b=S+(C<<23&4294967295|C>>>9),C=I+(b^S^R)+A[9]+3654602809&4294967295,I=b+(C<<4&4294967295|C>>>28),C=R+(I^b^S)+A[12]+3873151461&4294967295,R=I+(C<<11&4294967295|C>>>21),C=S+(R^I^b)+A[15]+530742520&4294967295,S=R+(C<<16&4294967295|C>>>16),C=b+(S^R^I)+A[2]+3299628645&4294967295,b=S+(C<<23&4294967295|C>>>9),C=I+(S^(b|~R))+A[0]+4096336452&4294967295,I=b+(C<<6&4294967295|C>>>26),C=R+(b^(I|~S))+A[7]+1126891415&4294967295,R=I+(C<<10&4294967295|C>>>22),C=S+(I^(R|~b))+A[14]+2878612391&4294967295,S=R+(C<<15&4294967295|C>>>17),C=b+(R^(S|~I))+A[5]+4237533241&4294967295,b=S+(C<<21&4294967295|C>>>11),C=I+(S^(b|~R))+A[12]+1700485571&4294967295,I=b+(C<<6&4294967295|C>>>26),C=R+(b^(I|~S))+A[3]+2399980690&4294967295,R=I+(C<<10&4294967295|C>>>22),C=S+(I^(R|~b))+A[10]+4293915773&4294967295,S=R+(C<<15&4294967295|C>>>17),C=b+(R^(S|~I))+A[1]+2240044497&4294967295,b=S+(C<<21&4294967295|C>>>11),C=I+(S^(b|~R))+A[8]+1873313359&4294967295,I=b+(C<<6&4294967295|C>>>26),C=R+(b^(I|~S))+A[15]+4264355552&4294967295,R=I+(C<<10&4294967295|C>>>22),C=S+(I^(R|~b))+A[6]+2734768916&4294967295,S=R+(C<<15&4294967295|C>>>17),C=b+(R^(S|~I))+A[13]+1309151649&4294967295,b=S+(C<<21&4294967295|C>>>11),C=I+(S^(b|~R))+A[4]+4149444226&4294967295,I=b+(C<<6&4294967295|C>>>26),C=R+(b^(I|~S))+A[11]+3174756917&4294967295,R=I+(C<<10&4294967295|C>>>22),C=S+(I^(R|~b))+A[2]+718787259&4294967295,S=R+(C<<15&4294967295|C>>>17),C=b+(R^(S|~I))+A[9]+3951481745&4294967295,T.g[0]=T.g[0]+I&4294967295,T.g[1]=T.g[1]+(S+(C<<21&4294967295|C>>>11))&4294967295,T.g[2]=T.g[2]+S&4294967295,T.g[3]=T.g[3]+R&4294967295}r.prototype.u=function(T,I){I===void 0&&(I=T.length);for(var b=I-this.blockSize,A=this.B,S=this.h,R=0;R<I;){if(S==0)for(;R<=b;)i(this,T,R),R+=this.blockSize;if(typeof T=="string"){for(;R<I;)if(A[S++]=T.charCodeAt(R++),S==this.blockSize){i(this,A),S=0;break}}else for(;R<I;)if(A[S++]=T[R++],S==this.blockSize){i(this,A),S=0;break}}this.h=S,this.o+=I},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var I=1;I<T.length-8;++I)T[I]=0;var b=8*this.o;for(I=T.length-8;I<T.length;++I)T[I]=b&255,b/=256;for(this.u(T),T=Array(16),I=b=0;4>I;++I)for(var A=0;32>A;A+=8)T[b++]=this.g[I]>>>A&255;return T};function s(T,I){var b=a;return Object.prototype.hasOwnProperty.call(b,T)?b[T]:b[T]=I(T)}function o(T,I){this.h=I;for(var b=[],A=!0,S=T.length-1;0<=S;S--){var R=T[S]|0;A&&R==I||(b[S]=R,A=!1)}this.g=b}var a={};function u(T){return-128<=T&&128>T?s(T,function(I){return new o([I|0],0>I?-1:0)}):new o([T|0],0>T?-1:0)}function d(T){if(isNaN(T)||!isFinite(T))return g;if(0>T)return k(d(-T));for(var I=[],b=1,A=0;T>=b;A++)I[A]=T/b|0,b*=4294967296;return new o(I,0)}function p(T,I){if(T.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(T.charAt(0)=="-")return k(p(T.substring(1),I));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=d(Math.pow(I,8)),A=g,S=0;S<T.length;S+=8){var R=Math.min(8,T.length-S),C=parseInt(T.substring(S,S+R),I);8>R?(R=d(Math.pow(I,R)),A=A.j(R).add(d(C))):(A=A.j(b),A=A.add(d(C)))}return A}var g=u(0),_=u(1),E=u(16777216);n=o.prototype,n.m=function(){if(O(this))return-k(this).m();for(var T=0,I=1,b=0;b<this.g.length;b++){var A=this.i(b);T+=(0<=A?A:4294967296+A)*I,I*=4294967296}return T},n.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(M(this))return"0";if(O(this))return"-"+k(this).toString(T);for(var I=d(Math.pow(T,6)),b=this,A="";;){var S=K(b,I).g;b=j(b,S.j(I));var R=((0<b.g.length?b.g[0]:b.h)>>>0).toString(T);if(b=S,M(b))return R+A;for(;6>R.length;)R="0"+R;A=R+A}},n.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function M(T){if(T.h!=0)return!1;for(var I=0;I<T.g.length;I++)if(T.g[I]!=0)return!1;return!0}function O(T){return T.h==-1}n.l=function(T){return T=j(this,T),O(T)?-1:M(T)?0:1};function k(T){for(var I=T.g.length,b=[],A=0;A<I;A++)b[A]=~T.g[A];return new o(b,~T.h).add(_)}n.abs=function(){return O(this)?k(this):this},n.add=function(T){for(var I=Math.max(this.g.length,T.g.length),b=[],A=0,S=0;S<=I;S++){var R=A+(this.i(S)&65535)+(T.i(S)&65535),C=(R>>>16)+(this.i(S)>>>16)+(T.i(S)>>>16);A=C>>>16,R&=65535,C&=65535,b[S]=C<<16|R}return new o(b,b[b.length-1]&-2147483648?-1:0)};function j(T,I){return T.add(k(I))}n.j=function(T){if(M(this)||M(T))return g;if(O(this))return O(T)?k(this).j(k(T)):k(k(this).j(T));if(O(T))return k(this.j(k(T)));if(0>this.l(E)&&0>T.l(E))return d(this.m()*T.m());for(var I=this.g.length+T.g.length,b=[],A=0;A<2*I;A++)b[A]=0;for(A=0;A<this.g.length;A++)for(var S=0;S<T.g.length;S++){var R=this.i(A)>>>16,C=this.i(A)&65535,gn=T.i(S)>>>16,Xr=T.i(S)&65535;b[2*A+2*S]+=C*Xr,G(b,2*A+2*S),b[2*A+2*S+1]+=R*Xr,G(b,2*A+2*S+1),b[2*A+2*S+1]+=C*gn,G(b,2*A+2*S+1),b[2*A+2*S+2]+=R*gn,G(b,2*A+2*S+2)}for(A=0;A<I;A++)b[A]=b[2*A+1]<<16|b[2*A];for(A=I;A<2*I;A++)b[A]=0;return new o(b,0)};function G(T,I){for(;(T[I]&65535)!=T[I];)T[I+1]+=T[I]>>>16,T[I]&=65535,I++}function q(T,I){this.g=T,this.h=I}function K(T,I){if(M(I))throw Error("division by zero");if(M(T))return new q(g,g);if(O(T))return I=K(k(T),I),new q(k(I.g),k(I.h));if(O(I))return I=K(T,k(I)),new q(k(I.g),I.h);if(30<T.g.length){if(O(T)||O(I))throw Error("slowDivide_ only works with positive integers.");for(var b=_,A=I;0>=A.l(T);)b=Te(b),A=Te(A);var S=J(b,1),R=J(A,1);for(A=J(A,2),b=J(b,2);!M(A);){var C=R.add(A);0>=C.l(T)&&(S=S.add(b),R=C),A=J(A,1),b=J(b,1)}return I=j(T,S.j(I)),new q(S,I)}for(S=g;0<=T.l(I);){for(b=Math.max(1,Math.floor(T.m()/I.m())),A=Math.ceil(Math.log(b)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),R=d(b),C=R.j(I);O(C)||0<C.l(T);)b-=A,R=d(b),C=R.j(I);M(R)&&(R=_),S=S.add(R),T=j(T,C)}return new q(S,T)}n.A=function(T){return K(this,T).h},n.and=function(T){for(var I=Math.max(this.g.length,T.g.length),b=[],A=0;A<I;A++)b[A]=this.i(A)&T.i(A);return new o(b,this.h&T.h)},n.or=function(T){for(var I=Math.max(this.g.length,T.g.length),b=[],A=0;A<I;A++)b[A]=this.i(A)|T.i(A);return new o(b,this.h|T.h)},n.xor=function(T){for(var I=Math.max(this.g.length,T.g.length),b=[],A=0;A<I;A++)b[A]=this.i(A)^T.i(A);return new o(b,this.h^T.h)};function Te(T){for(var I=T.g.length+1,b=[],A=0;A<I;A++)b[A]=T.i(A)<<1|T.i(A-1)>>>31;return new o(b,T.h)}function J(T,I){var b=I>>5;I%=32;for(var A=T.g.length-b,S=[],R=0;R<A;R++)S[R]=0<I?T.i(R+b)>>>I|T.i(R+b+1)<<32-I:T.i(R+b);return new o(S,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Yw=US.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=p,Hi=US.Integer=o}).apply(typeof VS<"u"?VS:typeof self<"u"?self:typeof window<"u"?window:{});var Yf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Kr={};var Zw,yH,Sa,Jw,Uu,Zf,Xw,e_,t_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,f,m){return c==Array.prototype||c==Object.prototype||(c[f]=m.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yf=="object"&&Yf];for(var f=0;f<c.length;++f){var m=c[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=t(this);function i(c,f){if(f)e:{var m=r;c=c.split(".");for(var v=0;v<c.length-1;v++){var x=c[v];if(!(x in m))break e;m=m[x]}c=c[c.length-1],v=m[c],f=f(v),f!=v&&f!=null&&e(m,c,{configurable:!0,writable:!0,value:f})}}function s(c,f){c instanceof String&&(c+="");var m=0,v=!1,x={next:function(){if(!v&&m<c.length){var P=m++;return{value:f(P,c[P]),done:!1}}return v=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}i("Array.prototype.values",function(c){return c||function(){return s(this,function(f,m){return m})}});var o=o||{},a=this||self;function u(c){var f=typeof c;return f=f!="object"?f:c?Array.isArray(c)?"array":f:"null",f=="array"||f=="object"&&typeof c.length=="number"}function d(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function p(c,f,m){return c.call.apply(c.bind,arguments)}function g(c,f,m){if(!c)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,v),c.apply(f,x)}}return function(){return c.apply(f,arguments)}}function _(c,f,m){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,_.apply(null,arguments)}function E(c,f){var m=Array.prototype.slice.call(arguments,1);return function(){var v=m.slice();return v.push.apply(v,arguments),c.apply(this,v)}}function M(c,f){function m(){}m.prototype=f.prototype,c.aa=f.prototype,c.prototype=new m,c.prototype.constructor=c,c.Qb=function(v,x,P){for(var U=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)U[Se-2]=arguments[Se];return f.prototype[x].apply(v,U)}}function O(c){let f=c.length;if(0<f){let m=Array(f);for(let v=0;v<f;v++)m[v]=c[v];return m}return[]}function k(c,f){for(let m=1;m<arguments.length;m++){let v=arguments[m];if(u(v)){let x=c.length||0,P=v.length||0;c.length=x+P;for(let U=0;U<P;U++)c[x+U]=v[U]}else c.push(v)}}class j{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function G(c){return/^[\s\xa0]*$/.test(c)}function q(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function K(c){return K[" "](c),c}K[" "]=function(){};var Te=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function J(c,f,m){for(let v in c)f.call(m,c[v],v,c)}function T(c,f){for(let m in c)f.call(void 0,c[m],m,c)}function I(c){let f={};for(let m in c)f[m]=c[m];return f}let b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(c,f){let m,v;for(let x=1;x<arguments.length;x++){v=arguments[x];for(m in v)c[m]=v[m];for(let P=0;P<b.length;P++)m=b[P],Object.prototype.hasOwnProperty.call(v,m)&&(c[m]=v[m])}}function S(c){var f=1;c=c.split(":");let m=[];for(;0<f&&c.length;)m.push(c.shift()),f--;return c.length&&m.push(c.join(":")),m}function R(c){a.setTimeout(()=>{throw c},0)}function C(){var c=ti;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class gn{constructor(){this.h=this.g=null}add(f,m){let v=Xr.get();v.set(f,m),this.h?this.h.next=v:this.g=v,this.h=v}}var Xr=new j(()=>new tc,c=>c.reset());class tc{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let ei,mr=!1,ti=new gn,zt=()=>{let c=a.Promise.resolve(void 0);ei=()=>{c.then(ni)}};var ni=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(m){R(m)}var f=Xr;f.j(c),100>f.h&&(f.h++,c.next=f.g,f.g=c)}mr=!1};function Ct(){this.s=this.s,this.C=this.C}Ct.prototype.s=!1,Ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ft(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}ft.prototype.h=function(){this.defaultPrevented=!0};var ri=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return c}();function mn(c,f){if(ft.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var m=this.type=c.type,v=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget){if(Te){e:{try{K(f.nodeName);var x=!0;break e}catch{}x=!1}x||(f=null)}}else m=="mouseover"?f=c.fromElement:m=="mouseout"&&(f=c.toElement);this.relatedTarget=f,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:fl[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&mn.aa.h.call(this)}}M(mn,ft);var fl={2:"touch",3:"pen",4:"mouse"};mn.prototype.h=function(){mn.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Pn="closure_listenable_"+(1e6*Math.random()|0),nc=0;function Kp(c,f,m,v,x){this.listener=c,this.proxy=null,this.src=f,this.type=m,this.capture=!!v,this.ha=x,this.key=++nc,this.da=this.fa=!1}function ii(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function si(c){this.src=c,this.g={},this.h=0}si.prototype.add=function(c,f,m,v,x){var P=c.toString();c=this.g[P],c||(c=this.g[P]=[],this.h++);var U=rc(c,f,v,x);return-1<U?(f=c[U],m||(f.fa=!1)):(f=new Kp(f,this.src,P,!!v,x),f.fa=m,c.push(f)),f};function oi(c,f){var m=f.type;if(m in c.g){var v=c.g[m],x=Array.prototype.indexOf.call(v,f,void 0),P;(P=0<=x)&&Array.prototype.splice.call(v,x,1),P&&(ii(f),c.g[m].length==0&&(delete c.g[m],c.h--))}}function rc(c,f,m,v){for(var x=0;x<c.length;++x){var P=c[x];if(!P.da&&P.listener==f&&P.capture==!!m&&P.ha==v)return x}return-1}var wt="closure_lm_"+(1e6*Math.random()|0),Gt={};function pl(c,f,m,v,x){if(v&&v.once)return ic(c,f,m,v,x);if(Array.isArray(f)){for(var P=0;P<f.length;P++)pl(c,f[P],m,v,x);return null}return m=Je(m),c&&c[Pn]?c.K(f,m,d(v)?!!v.capture:!!v,x):Tt(c,f,m,!1,v,x)}function Tt(c,f,m,v,x,P){if(!f)throw Error("Invalid event type");var U=d(x)?!!x.capture:!!x,Se=yn(c);if(Se||(c[wt]=Se=new si(c)),m=Se.add(f,m,v,U,P),m.proxy)return m;if(v=so(),m.proxy=v,v.src=c,v.listener=m,c.addEventListener)ri||(x=U),x===void 0&&(x=!1),c.addEventListener(f.toString(),v,x);else if(c.attachEvent)c.attachEvent(Wt(f.toString()),v);else if(c.addListener&&c.removeListener)c.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return m}function so(){function c(m){return f.call(c.src,c.listener,m)}let f=kn;return c}function ic(c,f,m,v,x){if(Array.isArray(f)){for(var P=0;P<f.length;P++)ic(c,f[P],m,v,x);return null}return m=Je(m),c&&c[Pn]?c.L(f,m,d(v)?!!v.capture:!!v,x):Tt(c,f,m,!0,v,x)}function sc(c,f,m,v,x){if(Array.isArray(f))for(var P=0;P<f.length;P++)sc(c,f[P],m,v,x);else v=d(v)?!!v.capture:!!v,m=Je(m),c&&c[Pn]?(c=c.i,f=String(f).toString(),f in c.g&&(P=c.g[f],m=rc(P,m,v,x),-1<m&&(ii(P[m]),Array.prototype.splice.call(P,m,1),P.length==0&&(delete c.g[f],c.h--)))):c&&(c=yn(c))&&(f=c.g[f.toString()],c=-1,f&&(c=rc(f,m,v,x)),(m=-1<c?f[c]:null)&&ge(m))}function ge(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[Pn])oi(f.i,c);else{var m=c.type,v=c.proxy;f.removeEventListener?f.removeEventListener(m,v,c.capture):f.detachEvent?f.detachEvent(Wt(m),v):f.addListener&&f.removeListener&&f.removeListener(v),(m=yn(f))?(oi(m,c),m.h==0&&(m.src=null,f[wt]=null)):ii(c)}}}function Wt(c){return c in Gt?Gt[c]:Gt[c]="on"+c}function kn(c,f){if(c.da)c=!0;else{f=new mn(f,this);var m=c.listener,v=c.ha||c.src;c.fa&&ge(c),c=m.call(v,f)}return c}function yn(c){return c=c[wt],c instanceof si?c:null}var ze="__closure_events_fn_"+(1e9*Math.random()>>>0);function Je(c){return typeof c=="function"?c:(c[ze]||(c[ze]=function(f){return c.handleEvent(f)}),c[ze])}function Xe(){Ct.call(this),this.i=new si(this),this.M=this,this.F=null}M(Xe,Ct),Xe.prototype[Pn]=!0,Xe.prototype.removeEventListener=function(c,f,m,v){sc(this,c,f,m,v)};function pt(c,f){var m,v=c.F;if(v)for(m=[];v;v=v.F)m.push(v);if(c=c.M,v=f.type||f,typeof f=="string")f=new ft(f,c);else if(f instanceof ft)f.target=f.target||c;else{var x=f;f=new ft(v,c),A(f,x)}if(x=!0,m)for(var P=m.length-1;0<=P;P--){var U=f.g=m[P];x=On(U,v,!0,f)&&x}if(U=f.g=c,x=On(U,v,!0,f)&&x,x=On(U,v,!1,f)&&x,m)for(P=0;P<m.length;P++)U=f.g=m[P],x=On(U,v,!1,f)&&x}Xe.prototype.N=function(){if(Xe.aa.N.call(this),this.i){var c=this.i,f;for(f in c.g){for(var m=c.g[f],v=0;v<m.length;v++)ii(m[v]);delete c.g[f],c.h--}}this.F=null},Xe.prototype.K=function(c,f,m,v){return this.i.add(String(c),f,!1,m,v)},Xe.prototype.L=function(c,f,m,v){return this.i.add(String(c),f,!0,m,v)};function On(c,f,m,v){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();for(var x=!0,P=0;P<f.length;++P){var U=f[P];if(U&&!U.da&&U.capture==m){var Se=U.listener,ct=U.ha||U.src;U.fa&&oi(c.i,U),x=Se.call(ct,v)!==!1&&x}}return x&&!v.defaultPrevented}function _t(c,f,m){if(typeof c=="function")m&&(c=_(c,m));else if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(c,f||0)}function gl(c){c.g=_t(()=>{c.g=null,c.i&&(c.i=!1,gl(c))},c.l);let f=c.h;c.h=null,c.m.apply(null,f)}class ml extends Ct{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:gl(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ai(c){Ct.call(this),this.h=c,this.g={}}M(ai,Ct);var oo=[];function yl(c){J(c.g,function(f,m){this.g.hasOwnProperty(m)&&ge(f)},c),c.g={}}ai.prototype.N=function(){ai.aa.N.call(this),yl(this)},ai.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oc=a.JSON.stringify,Qp=a.JSON.parse,Yp=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function vn(){}vn.prototype.h=null;function vl(c){return c.h||(c.h=c.i())}function wl(){}var Qi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ac(){ft.call(this,"d")}M(ac,ft);function cc(){ft.call(this,"c")}M(cc,ft);var wn={},_l=null;function ao(){return _l=_l||new Xe}wn.La="serverreachability";function Il(c){ft.call(this,wn.La,c)}M(Il,ft);function Yi(c){let f=ao();pt(f,new Il(f))}wn.STAT_EVENT="statevent";function El(c,f){ft.call(this,wn.STAT_EVENT,c),this.stat=f}M(El,ft);function at(c){let f=ao();pt(f,new El(f,c))}wn.Ma="timingevent";function bl(c,f){ft.call(this,wn.Ma,c),this.size=f}M(bl,ft);function Zi(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},f)}function Ji(){this.g=!0}Ji.prototype.xa=function(){this.g=!1};function Zp(c,f,m,v,x,P){c.info(function(){if(c.g)if(P)for(var U="",Se=P.split("&"),ct=0;ct<Se.length;ct++){var we=Se[ct].split("=");if(1<we.length){var gt=we[0];we=we[1];var ut=gt.split("_");U=2<=ut.length&&ut[1]=="type"?U+(gt+"="+we+"&"):U+(gt+"=redacted&")}}else U=null;else U=P;return"XMLHTTP REQ ("+v+") [attempt "+x+"]: "+f+`
`+m+`
`+U})}function Jp(c,f,m,v,x,P,U){c.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+x+"]: "+f+`
`+m+`
`+P+" "+U})}function be(c,f,m,v){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+eg(c,m)+(v?" "+v:"")})}function Xp(c,f){c.info(function(){return"TIMEOUT: "+f})}Ji.prototype.info=function(){};function eg(c,f){if(!c.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(c=0;c<m.length;c++)if(Array.isArray(m[c])){var v=m[c];if(!(2>v.length)){var x=v[1];if(Array.isArray(x)&&!(1>x.length)){var P=x[0];if(P!="noop"&&P!="stop"&&P!="close")for(var U=1;U<x.length;U++)x[U]=""}}}}return oc(m)}catch{return f}}var co={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},uc;function uo(){}M(uo,vn),uo.prototype.g=function(){return new XMLHttpRequest},uo.prototype.i=function(){return{}},uc=new uo;function rn(c,f,m,v){this.j=c,this.i=f,this.l=m,this.R=v||1,this.U=new ai(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ci}function ci(){this.i=null,this.g="",this.h=!1}var lc={},ui={};function Oe(c,f,m){c.L=1,c.v=ho(sn(f)),c.m=m,c.P=!0,Cl(c,null)}function Cl(c,f){c.F=Date.now(),Xi(c),c.A=sn(c.v);var m=c.A,v=c.R;Array.isArray(v)||(v=[String(v)]),Bl(m.i,"t",v),c.C=0,m=c.j.J,c.h=new ci,c.g=Cc(c.j,m?f:null,!c.m),0<c.O&&(c.M=new ml(_(c.Y,c,c.g),c.O)),f=c.U,m=c.g,v=c.ca;var x="readystatechange";Array.isArray(x)||(x&&(oo[0]=x.toString()),x=oo);for(var P=0;P<x.length;P++){var U=pl(m,x[P],v||f.handleEvent,!1,f.h||f);if(!U)break;f.g[U.key]=U}f=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,f)):(c.u="GET",c.g.ea(c.A,c.u,null,f)),Yi(),Zp(c.i,c.u,c.A,c.l,c.R,c.m)}rn.prototype.ca=function(c){c=c.target;let f=this.M;f&&In(c)==3?f.j():this.Y(c)},rn.prototype.Y=function(c){try{if(c==this.g)e:{let ut=In(this.g);var f=this.g.Ba();let jn=this.g.Z();if(!(3>ut)&&(ut!=3||this.g&&(this.h.h||this.g.oa()||Kl(this.g)))){this.J||ut!=4||f==7||(f==8||0>=jn?Yi(3):Yi(2)),dc(this);var m=this.g.Z();this.X=m;t:if(Tl(this)){var v=Kl(this.g);c="";var x=v.length,P=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fn(this),es(this);var U="";break t}this.h.i=new a.TextDecoder}for(f=0;f<x;f++)this.h.h=!0,c+=this.h.i.decode(v[f],{stream:!(P&&f==x-1)});v.length=0,this.h.g+=c,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=m==200,Jp(this.i,this.u,this.A,this.l,this.R,ut,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Se,ct=this.g;if((Se=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Se)){var we=Se;break t}}we=null}if(m=we)be(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hc(this,m);else{this.o=!1,this.s=3,at(12),Fn(this),es(this);break e}}if(this.P){m=!0;let Kt;for(;!this.J&&this.C<U.length;)if(Kt=tg(this,U),Kt==ui){ut==4&&(this.s=4,at(14),m=!1),be(this.i,this.l,null,"[Incomplete Response]");break}else if(Kt==lc){this.s=4,at(15),be(this.i,this.l,U,"[Invalid Chunk]"),m=!1;break}else be(this.i,this.l,Kt,null),hc(this,Kt);if(Tl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ut!=4||U.length!=0||this.h.h||(this.s=1,at(16),m=!1),this.o=this.o&&m,!m)be(this.i,this.l,U,"[Invalid Chunked Response]"),Fn(this),es(this);else if(0<U.length&&!this.W){this.W=!0;var gt=this.j;gt.g==this&&gt.ba&&!gt.M&&(gt.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),gi(gt),gt.M=!0,at(11))}}else be(this.i,this.l,U,null),hc(this,U);ut==4&&Fn(this),this.o&&!this.J&&(ut==4?Ic(this.j,this):(this.o=!1,Xi(this)))}else lg(this.g),m==400&&0<U.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),Fn(this),es(this)}}}catch{}finally{}};function Tl(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function tg(c,f){var m=c.C,v=f.indexOf(`
`,m);return v==-1?ui:(m=Number(f.substring(m,v)),isNaN(m)?lc:(v+=1,v+m>f.length?ui:(f=f.slice(v,v+m),c.C=v+m,f)))}rn.prototype.cancel=function(){this.J=!0,Fn(this)};function Xi(c){c.S=Date.now()+c.I,Al(c,c.I)}function Al(c,f){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Zi(_(c.ba,c),f)}function dc(c){c.B&&(a.clearTimeout(c.B),c.B=null)}rn.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(Xp(this.i,this.A),this.L!=2&&(Yi(),at(17)),Fn(this),this.s=2,es(this)):Al(this,this.S-c)};function es(c){c.j.G==0||c.J||Ic(c.j,c)}function Fn(c){dc(c);var f=c.M;f&&typeof f.ma=="function"&&f.ma(),c.M=null,yl(c.U),c.g&&(f=c.g,c.g=null,f.abort(),f.ma())}function hc(c,f){try{var m=c.j;if(m.G!=0&&(m.g==c||fc(m.h,c))){if(!c.K&&fc(m.h,c)&&m.G==3){try{var v=m.Da.g.parse(f)}catch{v=null}if(Array.isArray(v)&&v.length==3){var x=v;if(x[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<c.F)cs(m),mo(m);else break e;as(m),at(18)}}else m.za=x[1],0<m.za-m.T&&37500>x[2]&&m.F&&m.v==0&&!m.C&&(m.C=Zi(_(m.Za,m),6e3));if(1>=Ml(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Un(m,11)}else if((c.K||m.g==c)&&cs(m),!G(f))for(x=m.Da.g.parse(f),f=0;f<x.length;f++){let we=x[f];if(m.T=we[0],we=we[1],m.G==2)if(we[0]=="c"){m.K=we[1],m.ia=we[2];let gt=we[3];gt!=null&&(m.la=gt,m.j.info("VER="+m.la));let ut=we[4];ut!=null&&(m.Aa=ut,m.j.info("SVER="+m.Aa));let jn=we[5];jn!=null&&typeof jn=="number"&&0<jn&&(v=1.5*jn,m.L=v,m.j.info("backChannelRequestTimeoutMs_="+v)),v=m;let Kt=c.g;if(Kt){let vo=Kt.g?Kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vo){var P=v.h;P.g||vo.indexOf("spdy")==-1&&vo.indexOf("quic")==-1&&vo.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(pc(P,P.h),P.h=null))}if(v.D){let Ac=Kt.g?Kt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ac&&(v.ya=Ac,Pe(v.I,v.D,Ac))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-c.F,m.j.info("Handshake RTT: "+m.R+"ms")),v=m;var U=c;if(v.qa=Dc(v,v.J?v.ia:null,v.W),U.K){Nl(v.h,U);var Se=U,ct=v.L;ct&&(Se.I=ct),Se.B&&(dc(Se),Xi(Se)),v.g=U}else _c(v);0<m.i.length&&yo(m)}else we[0]!="stop"&&we[0]!="close"||Un(m,7);else m.G==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?Un(m,7):go(m):we[0]!="noop"&&m.l&&m.l.ta(we),m.v=0)}}Yi(4)}catch{}}var Sl=class{constructor(c,f){this.g=c,this.map=f}};function Rl(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ml(c){return c.h?1:c.g?c.g.size:0}function fc(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function pc(c,f){c.g?c.g.add(f):c.h=f}function Nl(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}Rl.prototype.cancel=function(){if(this.i=Pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Pl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let f=c.i;for(let m of c.g.values())f=f.concat(m.D);return f}return O(c.i)}function kl(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var f=[],m=c.length,v=0;v<m;v++)f.push(c[v]);return f}f=[],m=0;for(v in c)f[m++]=c[v];return f}function ng(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var f=[];c=c.length;for(var m=0;m<c;m++)f.push(m);return f}f=[],m=0;for(let v in c)f[m++]=v;return f}}}function gc(c,f){if(c.forEach&&typeof c.forEach=="function")c.forEach(f,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,f,void 0);else for(var m=ng(c),v=kl(c),x=v.length,P=0;P<x;P++)f.call(void 0,v[P],m&&m[P],c)}var Ol=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rg(c,f){if(c){c=c.split("&");for(var m=0;m<c.length;m++){var v=c[m].indexOf("="),x=null;if(0<=v){var P=c[m].substring(0,v);x=c[m].substring(v+1)}else P=c[m];f(P,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function Lt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Lt){this.h=c.h,lo(this,c.j),this.o=c.o,this.g=c.g,li(this,c.s),this.l=c.l;var f=c.i,m=new rs;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),mc(this,m),this.m=c.m}else c&&(f=String(c).match(Ol))?(this.h=!1,lo(this,f[1]||"",!0),this.o=ts(f[2]||""),this.g=ts(f[3]||"",!0),li(this,f[4]),this.l=ts(f[5]||"",!0),mc(this,f[6]||"",!0),this.m=ts(f[7]||"")):(this.h=!1,this.i=new rs(null,this.h))}Lt.prototype.toString=function(){var c=[],f=this.j;f&&c.push(ns(f,Fl,!0),":");var m=this.g;return(m||f=="file")&&(c.push("//"),(f=this.o)&&c.push(ns(f,Fl,!0),"@"),c.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&c.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&c.push("/"),c.push(ns(m,m.charAt(0)=="/"?sg:di,!0))),(m=this.i.toString())&&c.push("?",m),(m=this.m)&&c.push("#",ns(m,Vl)),c.join("")};function sn(c){return new Lt(c)}function lo(c,f,m){c.j=m?ts(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function li(c,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);c.s=f}else c.s=null}function mc(c,f,m){f instanceof rs?(c.i=f,og(c.i,c.h)):(m||(f=ns(f,Ll)),c.i=new rs(f,c.h))}function Pe(c,f,m){c.i.set(f,m)}function ho(c){return Pe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ts(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ns(c,f,m){return typeof c=="string"?(c=encodeURI(c).replace(f,ig),m&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ig(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Fl=/[#\/\?@]/g,di=/[#\?:]/g,sg=/[#\?]/g,Ll=/[#\?@]/g,Vl=/#/g;function rs(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function Ln(c){c.g||(c.g=new Map,c.h=0,c.i&&rg(c.i,function(f,m){c.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}n=rs.prototype,n.add=function(c,f){Ln(this),this.i=null,c=hi(this,c);var m=this.g.get(c);return m||this.g.set(c,m=[]),m.push(f),this.h+=1,this};function Ul(c,f){Ln(c),f=hi(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function jl(c,f){return Ln(c),f=hi(c,f),c.g.has(f)}n.forEach=function(c,f){Ln(this),this.g.forEach(function(m,v){m.forEach(function(x){c.call(f,x,v,this)},this)},this)},n.na=function(){Ln(this);let c=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let v=0;v<f.length;v++){let x=c[v];for(let P=0;P<x.length;P++)m.push(f[v])}return m},n.V=function(c){Ln(this);let f=[];if(typeof c=="string")jl(this,c)&&(f=f.concat(this.g.get(hi(this,c))));else{c=Array.from(this.g.values());for(let m=0;m<c.length;m++)f=f.concat(c[m])}return f},n.set=function(c,f){return Ln(this),this.i=null,c=hi(this,c),jl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},n.get=function(c,f){return c?(c=this.V(c),0<c.length?String(c[0]):f):f};function Bl(c,f,m){Ul(c,f),0<m.length&&(c.i=null,c.g.set(hi(c,f),O(m)),c.h+=m.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var v=f[m];let P=encodeURIComponent(String(v)),U=this.V(v);for(v=0;v<U.length;v++){var x=P;U[v]!==""&&(x+="="+encodeURIComponent(String(U[v]))),c.push(x)}}return this.i=c.join("&")};function hi(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function og(c,f){f&&!c.j&&(Ln(c),c.i=null,c.g.forEach(function(m,v){var x=v.toLowerCase();v!=x&&(Ul(this,v),Bl(this,x,m))},c)),c.j=f}function fi(c,f){let m=new Ji;if(a.Image){let v=new Image;v.onload=E(Vn,m,"TestLoadImage: loaded",!0,f,v),v.onerror=E(Vn,m,"TestLoadImage: error",!1,f,v),v.onabort=E(Vn,m,"TestLoadImage: abort",!1,f,v),v.ontimeout=E(Vn,m,"TestLoadImage: timeout",!1,f,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=c}else f(!1)}function ag(c,f){let m=new Ji,v=new AbortController,x=setTimeout(()=>{v.abort(),Vn(m,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:v.signal}).then(P=>{clearTimeout(x),P.ok?Vn(m,"TestPingServer: ok",!0,f):Vn(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(x),Vn(m,"TestPingServer: error",!1,f)})}function Vn(c,f,m,v,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),v(m)}catch{}}function $l(){this.g=new Yp}function cg(c,f,m){let v=m||"";try{gc(c,function(x,P){let U=x;d(x)&&(U=oc(x)),f.push(v+P+"="+encodeURIComponent(U))})}catch(x){throw f.push(v+"type="+encodeURIComponent("_badmap")),x}}function Vt(c){this.l=c.Ub||null,this.j=c.eb||!1}M(Vt,vn),Vt.prototype.g=function(){return new fo(this.l,this.j)},Vt.prototype.i=function(c){return function(){return c}}({});function fo(c,f){Xe.call(this),this.D=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(fo,Xe),n=fo.prototype,n.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=f,this.readyState=1,is(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(f.body=c),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_n(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,is(this)),this.g&&(this.readyState=3,is(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yc(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function yc(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?_n(this):is(this),this.readyState==3&&yc(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,_n(this))},n.Qa=function(c){this.g&&(this.response=c,_n(this))},n.ga=function(){this.g&&_n(this)};function _n(c){c.readyState=4,c.l=null,c.j=null,c.v=null,is(c)}n.setRequestHeader=function(c,f){this.u.append(c,f)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,c.push(m[0]+": "+m[1]),m=f.next();return c.join(`\r
`)};function is(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(fo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Hl(c){let f="";return J(c,function(m,v){f+=v,f+=":",f+=m,f+=`\r
`}),f}function vc(c,f,m){e:{for(v in m){var v=!1;break e}v=!0}v||(m=Hl(m),typeof c=="string"?m!=null&&encodeURIComponent(String(m)):Pe(c,f,m))}function Fe(c){Xe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Fe,Xe);var pi=/^https?$/i,ug=["POST","PUT"];n=Fe.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,f,m,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():uc.g(),this.v=this.o?vl(this.o):vl(uc),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(P){ql(this,P);return}if(c=m||"",m=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var x in v)m.set(x,v[x]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let P of v.keys())m.set(P,v.get(P));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(m.keys()).find(P=>P.toLowerCase()=="content-type"),x=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ug,f,void 0))||v||x||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[P,U]of m)this.g.setRequestHeader(P,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wl(this),this.u=!0,this.g.send(c),this.u=!1}catch(P){ql(this,P)}};function ql(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.m=5,zl(c),po(c)}function zl(c){c.A||(c.A=!0,pt(c,"complete"),pt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,pt(this,"complete"),pt(this,"abort"),po(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),po(this,!0)),Fe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Gl(this):this.bb())},n.bb=function(){Gl(this)};function Gl(c){if(c.h&&typeof o<"u"&&(!c.v[1]||In(c)!=4||c.Z()!=2)){if(c.u&&In(c)==4)_t(c.Ea,0,c);else if(pt(c,"readystatechange"),In(c)==4){c.h=!1;try{let U=c.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var v;if(v=U===0){var x=String(c.D).match(Ol)[1]||null;!x&&a.self&&a.self.location&&(x=a.self.location.protocol.slice(0,-1)),v=!pi.test(x?x.toLowerCase():"")}m=v}if(m)pt(c,"complete"),pt(c,"success");else{c.m=6;try{var P=2<In(c)?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.Z()+"]",zl(c)}}finally{po(c)}}}}function po(c,f){if(c.g){Wl(c);let m=c.g,v=c.v[0]?()=>{}:null;c.g=null,c.v=null,f||pt(c,"ready");try{m.onreadystatechange=v}catch{}}}function Wl(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function In(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),Qp(f)}};function Kl(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function lg(c){let f={};c=(c.g&&2<=In(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<c.length;v++){if(G(c[v]))continue;var m=S(c[v]);let x=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();let P=f[x]||[];f[x]=P,P.push(m)}T(f,function(v){return v.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ss(c,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[c]||f}function os(c){this.Aa=0,this.i=[],this.j=new Ji,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ss("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ss("baseRetryDelayMs",5e3,c),this.cb=ss("retryDelaySeedMs",1e4,c),this.Wa=ss("forwardChannelMaxRetries",2,c),this.wa=ss("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Rl(c&&c.concurrentRequestLimit),this.Da=new $l,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=os.prototype,n.la=8,n.G=1,n.connect=function(c,f,m,v){at(0),this.W=c,this.H=f||{},m&&v!==void 0&&(this.H.OSID=m,this.H.OAID=v),this.F=this.X,this.I=Dc(this,null,this.W),yo(this)};function go(c){if(Ql(c),c.G==3){var f=c.U++,m=sn(c.I);if(Pe(m,"SID",c.K),Pe(m,"RID",f),Pe(m,"TYPE","terminate"),yr(c,m),f=new rn(c,c.j,f),f.L=2,f.v=ho(sn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=Cc(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Xi(f)}bc(c)}function mo(c){c.g&&(gi(c),c.g.cancel(),c.g=null)}function Ql(c){mo(c),c.u&&(a.clearTimeout(c.u),c.u=null),cs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function yo(c){if(!xl(c.h)&&!c.s){c.s=!0;var f=c.Ga;ei||zt(),mr||(ei(),mr=!0),ti.add(f,c),c.B=0}}function Yl(c,f){return Ml(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=f.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Zi(_(c.Ga,c,f),Ec(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let x=new rn(this,this.j,c),P=this.o;if(this.S&&(P?(P=I(P),A(P,this.S)):P=this.S),this.m!==null||this.O||(x.H=P,P=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var v=this.i[m];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(f+=v,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=wc(this,x,f),m=sn(this.I),Pe(m,"RID",c),Pe(m,"CVER",22),this.D&&Pe(m,"X-HTTP-Session-Id",this.D),yr(this,m),P&&(this.O?f="headers="+encodeURIComponent(String(Hl(P)))+"&"+f:this.m&&vc(m,this.m,P)),pc(this.h,x),this.Ua&&Pe(m,"TYPE","init"),this.P?(Pe(m,"$req",f),Pe(m,"SID","null"),x.T=!0,Oe(x,m,null)):Oe(x,m,f),this.G=2}}else this.G==3&&(c?Zl(this,c):this.i.length==0||xl(this.h)||Zl(this))};function Zl(c,f){var m;f?m=f.l:m=c.U++;let v=sn(c.I);Pe(v,"SID",c.K),Pe(v,"RID",m),Pe(v,"AID",c.T),yr(c,v),c.m&&c.o&&vc(v,c.m,c.o),m=new rn(c,c.j,m,c.B+1),c.m===null&&(m.H=c.o),f&&(c.i=f.D.concat(c.i)),f=wc(c,m,1e3),m.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),pc(c.h,m),Oe(m,v,f)}function yr(c,f){c.H&&J(c.H,function(m,v){Pe(f,v,m)}),c.l&&gc({},function(m,v){Pe(f,v,m)})}function wc(c,f,m){m=Math.min(c.i.length,m);var v=c.l?_(c.l.Na,c.l,c):null;e:{var x=c.i;let P=-1;for(;;){let U=["count="+m];P==-1?0<m?(P=x[0].g,U.push("ofs="+P)):P=0:U.push("ofs="+P);let Se=!0;for(let ct=0;ct<m;ct++){let we=x[ct].g,gt=x[ct].map;if(we-=P,0>we)P=Math.max(0,x[ct].g-100),Se=!1;else try{cg(gt,U,"req"+we+"_")}catch{v&&v(gt)}}if(Se){v=U.join("&");break e}}}return c=c.i.splice(0,m),f.D=c,v}function _c(c){if(!c.g&&!c.u){c.Y=1;var f=c.Fa;ei||zt(),mr||(ei(),mr=!0),ti.add(f,c),c.v=0}}function as(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Zi(_(c.Fa,c),Ec(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Jl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Zi(_(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),mo(this),Jl(this))};function gi(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Jl(c){c.g=new rn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var f=sn(c.qa);Pe(f,"RID","rpc"),Pe(f,"SID",c.K),Pe(f,"AID",c.T),Pe(f,"CI",c.F?"0":"1"),!c.F&&c.ja&&Pe(f,"TO",c.ja),Pe(f,"TYPE","xmlhttp"),yr(c,f),c.m&&c.o&&vc(f,c.m,c.o),c.L&&(c.g.I=c.L);var m=c.g;c=c.ia,m.L=1,m.v=ho(sn(f)),m.m=null,m.P=!0,Cl(m,c)}n.Za=function(){this.C!=null&&(this.C=null,mo(this),as(this),at(19))};function cs(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Ic(c,f){var m=null;if(c.g==f){cs(c),gi(c),c.g=null;var v=2}else if(fc(c.h,f))m=f.D,Nl(c.h,f),v=1;else return;if(c.G!=0){if(f.o)if(v==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var x=c.B;v=ao(),pt(v,new bl(v,m)),yo(c)}else _c(c);else if(x=f.s,x==3||x==0&&0<f.X||!(v==1&&Yl(c,f)||v==2&&as(c)))switch(m&&0<m.length&&(f=c.h,f.i=f.i.concat(m)),x){case 1:Un(c,5);break;case 4:Un(c,10);break;case 3:Un(c,6);break;default:Un(c,2)}}}function Ec(c,f){let m=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(m*=2),m*f}function Un(c,f){if(c.j.info("Error code "+f),f==2){var m=_(c.fb,c),v=c.Xa;let x=!v;v=new Lt(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||lo(v,"https"),ho(v),x?fi(v.toString(),m):ag(v.toString(),m)}else at(2);c.G=0,c.l&&c.l.sa(f),bc(c),Ql(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function bc(c){if(c.G=0,c.ka=[],c.l){let f=Pl(c.h);(f.length!=0||c.i.length!=0)&&(k(c.ka,f),k(c.ka,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.ra()}}function Dc(c,f,m){var v=m instanceof Lt?sn(m):new Lt(m);if(v.g!="")f&&(v.g=f+"."+v.g),li(v,v.s);else{var x=a.location;v=x.protocol,f=f?f+"."+x.hostname:x.hostname,x=+x.port;var P=new Lt(null);v&&lo(P,v),f&&(P.g=f),x&&li(P,x),m&&(P.l=m),v=P}return m=c.D,f=c.ya,m&&f&&Pe(v,m,f),Pe(v,"VER",c.la),yr(c,v),v}function Cc(c,f,m){if(f&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Ca&&!c.pa?new Fe(new Vt({eb:m})):new Fe(c.pa),f.Ha(c.J),f}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tc(){}n=Tc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function us(){}us.prototype.g=function(c,f){return new et(c,f)};function et(c,f){Xe.call(this),this.g=new os(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(c?c["X-WebChannel-Client-Profile"]=f.va:c={"X-WebChannel-Client-Profile":f.va}),this.g.S=c,(c=f&&f.Sb)&&!G(c)&&(this.g.m=c),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!G(f)&&(this.g.D=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new mi(this)}M(et,Xe),et.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},et.prototype.close=function(){go(this.g)},et.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var m={};m.__data__=c,c=m}else this.u&&(m={},m.__data__=oc(c),c=m);f.i.push(new Sl(f.Ya++,c)),f.G==3&&yo(f)},et.prototype.N=function(){this.g.l=null,delete this.j,go(this.g),delete this.g,et.aa.N.call(this)};function Xl(c){ac.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(let m in f){c=m;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}M(Xl,ac);function ed(){cc.call(this),this.status=1}M(ed,cc);function mi(c){this.g=c}M(mi,Tc),mi.prototype.ua=function(){pt(this.g,"a")},mi.prototype.ta=function(c){pt(this.g,new Xl(c))},mi.prototype.sa=function(c){pt(this.g,new ed)},mi.prototype.ra=function(){pt(this.g,"b")},us.prototype.createWebChannel=us.prototype.g,et.prototype.send=et.prototype.o,et.prototype.open=et.prototype.m,et.prototype.close=et.prototype.close,t_=Kr.createWebChannelTransport=function(){return new us},e_=Kr.getStatEventTarget=function(){return ao()},Xw=Kr.Event=wn,Zf=Kr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},co.NO_ERROR=0,co.TIMEOUT=8,co.HTTP_ERROR=6,Uu=Kr.ErrorCode=co,Dl.COMPLETE="complete",Jw=Kr.EventType=Dl,wl.EventType=Qi,Qi.OPEN="a",Qi.CLOSE="b",Qi.ERROR="c",Qi.MESSAGE="d",Xe.prototype.listen=Xe.prototype.K,Sa=Kr.WebChannel=wl,yH=Kr.FetchXmlHttpFactory=Vt,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,Zw=Kr.XhrIo=Fe}).apply(typeof Yf<"u"?Yf:typeof self<"u"?self:typeof window<"u"?window:{});var jS="@firebase/firestore";var vt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};vt.UNAUTHENTICATED=new vt(null),vt.GOOGLE_CREDENTIALS=new vt("google-credentials-uid"),vt.FIRST_PARTY=new vt("first-party-uid"),vt.MOCK_USER=new vt("mock-user");var Qa="10.14.0";var Ks=new Li("@firebase/firestore");function ju(){return Ks.logLevel}function z(n,...e){if(Ks.logLevel<=ye.DEBUG){let t=e.map(VI);Ks.debug(`Firestore (${Qa}): ${n}`,...t)}}function Qr(n,...e){if(Ks.logLevel<=ye.ERROR){let t=e.map(VI);Ks.error(`Firestore (${Qa}): ${n}`,...t)}}function Oa(n,...e){if(Ks.logLevel<=ye.WARN){let t=e.map(VI);Ks.warn(`Firestore (${Qa}): ${n}`,...t)}}function VI(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function te(n="Unexpected state"){let e=`FIRESTORE (${Qa}) INTERNAL ASSERTION FAILED: `+n;throw Qr(e),new Error(e)}function Ne(n,e){n||te()}function se(n,e){return n}var F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends Ot{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Rn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var np=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},o_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(vt.UNAUTHENTICATED))}shutdown(){}},a_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},c_=class{constructor(e){this.t=e,this.currentUser=vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ne(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),s=new Rn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Rn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>D(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Rn)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne(typeof r.accessToken=="string"),new np(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ne(e===null||typeof e=="string"),new vt(e)}},u_=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=vt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},l_=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new u_(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},d_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},h_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ne(this.o===void 0);let r=s=>{s.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ne(typeof t.token=="string"),this.R=t.token,new d_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function vH(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var rp=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=vH(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}};function Ae(n,e){return n<e?-1:n>e?1:0}function Fa(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var bt=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new H(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new H(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new H(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ae=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new bt(0,0))}static max(){return new n(new bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var ip=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&te(),r===void 0?r=e.length-t:r>e.length-t&&te(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},qe=class n extends ip{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new H(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},wH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,nn=class n extends ip{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return wH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new H(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new H(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var Z=class n{constructor(e){this.path=e}static fromPath(e){return new n(qe.fromString(e))}static fromName(e){return new n(qe.fromString(e).popFirst(5))}static empty(){return new n(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new qe(e.slice()))}};var f_=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};f_.UNKNOWN_ID=-1;function _H(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new bt(t+1,0):new bt(t,r));return new Qs(i,Z.empty(),e)}function IH(n){return new Qs(n.readTime,n.key,-1)}var Qs=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ae.min(),Z.empty(),-1)}static max(){return new n(ae.max(),Z.empty(),-1)}};function EH(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Z.comparator(n.documentKey,e.documentKey),t!==0?t:Ae(n.largestBatchId,e.largestBatchId))}var bH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",p_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function il(n){return D(this,null,function*(){if(n.code!==F.FAILED_PRECONDITION||n.message!==bH)throw n;z("LocalStore","Unexpectedly lost primary lease")})}var L=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let d=u;t(e[d]).next(p=>{o[d]=p,++a,a===s&&r(o)},p=>i(p))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function DH(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function sl(n){return n.name==="IndexedDbTransactionError"}var _R=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Fp(n){return n==null}function Gu(n){return n===0&&1/n==-1/0}function CH(n){return typeof n=="number"&&Number.isInteger(n)&&!Gu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var TH=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],tY=[...TH,"documentOverlays"],AH=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],SH=AH,RH=[...SH,"indexConfiguration","indexState","indexEntries"];var nY=[...RH,"globals"];function BS(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function no(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function IR(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ke=class n{constructor(e,t){this.comparator=e,this.root=t||ur.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ur.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ur.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Na(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Na(this.root,e,this.comparator,!1)}getReverseIterator(){return new Na(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Na(this.root,e,this.comparator,!0)}},Na=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ur=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw te();let e=this.left.check();if(e!==this.right.check())throw te();return e+(this.isRed()?0:1)}};ur.EMPTY=null,ur.RED=!0,ur.BLACK=!1;ur.EMPTY=new class{constructor(){this.size=0}get key(){throw te()}get value(){throw te()}get color(){throw te()}get left(){throw te()}get right(){throw te()}copy(e,t,r,i,s){return this}insert(e,t,r){return new ur(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Rt=class n{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sp(this.data.getIterator())}getIteratorFrom(e){return new sp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},sp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var pn=class n{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new n([])}unionWith(e){let t=new Rt(nn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fa(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var op=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var xt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new op("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};xt.EMPTY_BYTE_STRING=new xt("");var xH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(n){if(Ne(!!n),typeof n=="string"){let e=0,t=xH.exec(n);if(Ne(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ue(n.seconds),nanos:Ue(n.nanos)}}function Ue(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Gi(n){return typeof n=="string"?xt.fromBase64String(n):xt.fromUint8Array(n)}function UI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function jI(n){let e=n.mapValue.fields.__previous_value__;return UI(e)?jI(e):e}function Wu(n){let e=Yr(n.mapValue.fields.__local_write_time__.timestampValue);return new bt(e.seconds,e.nanos)}var g_=class{constructor(e,t,r,i,s,o,a,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=d}},ap=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Jf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ys(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?UI(n)?4:bR(n)?9007199254740991:ER(n)?10:11:te()}function hr(n,e){if(n===e)return!0;let t=Ys(n);if(t!==Ys(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Wu(n).isEqual(Wu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Yr(i.timestampValue),a=Yr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Gi(i.bytesValue).isEqual(Gi(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Ue(i.geoPointValue.latitude)===Ue(s.geoPointValue.latitude)&&Ue(i.geoPointValue.longitude)===Ue(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ue(i.integerValue)===Ue(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Ue(i.doubleValue),a=Ue(s.doubleValue);return o===a?Gu(o)===Gu(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Fa(n.arrayValue.values||[],e.arrayValue.values||[],hr);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(BS(o)!==BS(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!hr(o[u],a[u])))return!1;return!0}(n,e);default:return te()}}function Ku(n,e){return(n.values||[]).find(t=>hr(t,e))!==void 0}function La(n,e){if(n===e)return 0;let t=Ys(n),r=Ys(e);if(t!==r)return Ae(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ae(n.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Ue(s.integerValue||s.doubleValue),u=Ue(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return $S(n.timestampValue,e.timestampValue);case 4:return $S(Wu(n),Wu(e));case 5:return Ae(n.stringValue,e.stringValue);case 6:return function(s,o){let a=Gi(s),u=Gi(o);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let d=0;d<a.length&&d<u.length;d++){let p=Ae(a[d],u[d]);if(p!==0)return p}return Ae(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Ae(Ue(s.latitude),Ue(o.latitude));return a!==0?a:Ae(Ue(s.longitude),Ue(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return HS(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,d,p;let g=s.fields||{},_=o.fields||{},E=(a=g.value)===null||a===void 0?void 0:a.arrayValue,M=(u=_.value)===null||u===void 0?void 0:u.arrayValue,O=Ae(((d=E?.values)===null||d===void 0?void 0:d.length)||0,((p=M?.values)===null||p===void 0?void 0:p.length)||0);return O!==0?O:HS(E,M)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===Jf.mapValue&&o===Jf.mapValue)return 0;if(s===Jf.mapValue)return 1;if(o===Jf.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),d=o.fields||{},p=Object.keys(d);u.sort(),p.sort();for(let g=0;g<u.length&&g<p.length;++g){let _=Ae(u[g],p[g]);if(_!==0)return _;let E=La(a[u[g]],d[p[g]]);if(E!==0)return E}return Ae(u.length,p.length)}(n.mapValue,e.mapValue);default:throw te()}}function $S(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ae(n,e);let t=Yr(n),r=Yr(e),i=Ae(t.seconds,r.seconds);return i!==0?i:Ae(t.nanos,r.nanos)}function HS(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=La(t[i],r[i]);if(s)return s}return Ae(t.length,r.length)}function Va(n){return m_(n)}function m_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Yr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Gi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Z.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=m_(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${m_(t.fields[o])}`;return i+"}"}(n.mapValue):te()}function qS(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function y_(n){return!!n&&"integerValue"in n}function BI(n){return!!n&&"arrayValue"in n}function zS(n){return!!n&&"nullValue"in n}function GS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ep(n){return!!n&&"mapValue"in n}function ER(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function $u(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return no(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=$u(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$u(n.arrayValue.values[t]);return e}return Object.assign({},n)}function bR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var tn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ep(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$u(t)}setAll(e){let t=nn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=$u(o):i.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());ep(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return hr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];ep(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){no(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n($u(this.value))}};function DR(n){let e=[];return no(n.fields,(t,r)=>{let i=new nn([t]);if(ep(r)){let s=DR(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new pn(e)}var xn=class n{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ae.min(),ae.min(),ae.min(),tn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ae.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ae.min(),ae.min(),tn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ae.min(),ae.min(),tn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ua=class{constructor(e,t){this.position=e,this.inclusive=t}};function WS(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField()?r=Z.comparator(Z.fromName(o.referenceValue),t.key):r=La(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function KS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!hr(n.position[t],e.position[t]))return!1;return!0}var ja=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function MH(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var cp=class{},ot=class n extends cp{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new w_(e,t,r):t==="array-contains"?new E_(e,r):t==="in"?new b_(e,r):t==="not-in"?new D_(e,r):t==="array-contains-any"?new C_(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new __(e,r):new I_(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(La(t,this.value)):t!==null&&Ys(this.value)===Ys(t)&&this.matchesComparison(La(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Mn=class n extends cp{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return CR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function CR(n){return n.op==="and"}function TR(n){return NH(n)&&CR(n)}function NH(n){for(let e of n.filters)if(e instanceof Mn)return!1;return!0}function v_(n){if(n instanceof ot)return n.field.canonicalString()+n.op.toString()+Va(n.value);if(TR(n))return n.filters.map(e=>v_(e)).join(",");{let e=n.filters.map(t=>v_(t)).join(",");return`${n.op}(${e})`}}function AR(n,e){return n instanceof ot?function(r,i){return i instanceof ot&&r.op===i.op&&r.field.isEqual(i.field)&&hr(r.value,i.value)}(n,e):n instanceof Mn?function(r,i){return i instanceof Mn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&AR(o,i.filters[a]),!0):!1}(n,e):void te()}function SR(n){return n instanceof ot?function(t){return`${t.field.canonicalString()} ${t.op} ${Va(t.value)}`}(n):n instanceof Mn?function(t){return t.op.toString()+" {"+t.getFilters().map(SR).join(" ,")+"}"}(n):"Filter"}var w_=class extends ot{constructor(e,t,r){super(e,t,r),this.key=Z.fromName(r.referenceValue)}matches(e){let t=Z.comparator(e.key,this.key);return this.matchesComparison(t)}},__=class extends ot{constructor(e,t){super(e,"in",t),this.keys=RR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},I_=class extends ot{constructor(e,t){super(e,"not-in",t),this.keys=RR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function RR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Z.fromName(r.referenceValue))}var E_=class extends ot{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return BI(t)&&Ku(t.arrayValue,this.value)}},b_=class extends ot{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Ku(this.value.arrayValue,t)}},D_=class extends ot{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Ku(this.value.arrayValue,t)}},C_=class extends ot{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!BI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ku(this.value.arrayValue,r))}};var T_=class{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function QS(n,e=null,t=[],r=[],i=null,s=null,o=null){return new T_(n,e,t,r,i,s,o)}function $I(n){let e=se(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>v_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Fp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Va(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Va(r)).join(",")),e.ue=t}return e.ue}function HI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!MH(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!AR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!KS(n.startAt,e.startAt)&&KS(n.endAt,e.endAt)}function A_(n){return Z.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Zs=class{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function PH(n,e,t,r,i,s,o,a){return new Zs(n,e,t,r,i,s,o,a)}function qI(n){return new Zs(n)}function YS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function xR(n){return n.collectionGroup!==null}function Hu(n){let e=se(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Rt(nn.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new ja(s,r))}),t.has(nn.keyField().canonicalString())||e.ce.push(new ja(nn.keyField(),r))}return e.ce}function lr(n){let e=se(n);return e.le||(e.le=kH(e,Hu(n))),e.le}function kH(n,e){if(n.limitType==="F")return QS(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new ja(i.field,s)});let t=n.endAt?new Ua(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ua(n.startAt.position,n.startAt.inclusive):null;return QS(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function S_(n,e){let t=n.filters.concat([e]);return new Zs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function R_(n,e,t){return new Zs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Lp(n,e){return HI(lr(n),lr(e))&&n.limitType===e.limitType}function MR(n){return`${$I(lr(n))}|lt:${n.limitType}`}function Ra(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>SR(i)).join(", ")}]`),Fp(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Va(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Va(i)).join(",")),`Target(${r})`}(lr(n))}; limitType=${n.limitType})`}function Vp(n,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Z.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(let s of Hu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let d=WS(o,a,u);return o.inclusive?d<=0:d<0}(r.startAt,Hu(r),i)||r.endAt&&!function(o,a,u){let d=WS(o,a,u);return o.inclusive?d>=0:d>0}(r.endAt,Hu(r),i))}(n,e)}function OH(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function NR(n){return(e,t)=>{let r=!1;for(let i of Hu(n)){let s=FH(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function FH(n,e,t){let r=n.field.isKeyField()?Z.comparator(e.key,t.key):function(s,o,a){let u=o.data.field(s),d=a.data.field(s);return u!==null&&d!==null?La(u,d):te()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return te()}}var Wi=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){no(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return IR(this.inner)}size(){return this.innerSize}};var LH=new Ke(Z.comparator);function Zr(){return LH}var PR=new Ke(Z.comparator);function Bu(...n){let e=PR;for(let t of n)e=e.insert(t.key,t);return e}function kR(n){let e=PR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function zs(){return qu()}function OR(){return qu()}function qu(){return new Wi(n=>n.toString(),(n,e)=>n.isEqual(e))}var VH=new Ke(Z.comparator),UH=new Rt(Z.comparator);function ve(...n){let e=UH;for(let t of n)e=e.add(t);return e}var jH=new Rt(Ae);function BH(){return jH}function zI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gu(e)?"-0":e}}function FR(n){return{integerValue:""+n}}function $H(n,e){return CH(e)?FR(e):zI(n,e)}var Ba=class{constructor(){this._=void 0}};function HH(n,e,t){return n instanceof $a?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&UI(s)&&(s=jI(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof Js?VR(n,e):n instanceof Xs?UR(n,e):function(i,s){let o=LR(i,s),a=ZS(o)+ZS(i.Pe);return y_(o)&&y_(i.Pe)?FR(a):zI(i.serializer,a)}(n,e)}function qH(n,e,t){return n instanceof Js?VR(n,e):n instanceof Xs?UR(n,e):t}function LR(n,e){return n instanceof Ha?function(r){return y_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var $a=class extends Ba{},Js=class extends Ba{constructor(e){super(),this.elements=e}};function VR(n,e){let t=jR(e);for(let r of n.elements)t.some(i=>hr(i,r))||t.push(r);return{arrayValue:{values:t}}}var Xs=class extends Ba{constructor(e){super(),this.elements=e}};function UR(n,e){let t=jR(e);for(let r of n.elements)t=t.filter(i=>!hr(i,r));return{arrayValue:{values:t}}}var Ha=class extends Ba{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function ZS(n){return Ue(n.integerValue||n.doubleValue)}function jR(n){return BI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function zH(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Js&&i instanceof Js||r instanceof Xs&&i instanceof Xs?Fa(r.elements,i.elements,hr):r instanceof Ha&&i instanceof Ha?hr(r.Pe,i.Pe):r instanceof $a&&i instanceof $a}(n.transform,e.transform)}var x_=class{constructor(e,t){this.version=e,this.transformResults=t}},qi=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function tp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var qa=class{};function BR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new up(n.key,qi.none()):new eo(n.key,n.data,qi.none());{let t=n.data,r=tn.empty(),i=new Rt(nn.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new fr(n.key,r,new pn(i.toArray()),qi.none())}}function GH(n,e,t){n instanceof eo?function(i,s,o){let a=i.value.clone(),u=XS(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof fr?function(i,s,o){if(!tp(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=XS(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll($R(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function zu(n,e,t,r){return n instanceof eo?function(s,o,a,u){if(!tp(s.precondition,o))return a;let d=s.value.clone(),p=eR(s.fieldTransforms,u,o);return d.setAll(p),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(n,e,t,r):n instanceof fr?function(s,o,a,u){if(!tp(s.precondition,o))return a;let d=eR(s.fieldTransforms,u,o),p=o.data;return p.setAll($R(s)),p.setAll(d),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(s,o,a){return tp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function WH(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=LR(r.transform,i||null);s!=null&&(t===null&&(t=tn.empty()),t.set(r.field,s))}return t||null}function JS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Fa(r,i,(s,o)=>zH(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var eo=class extends qa{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},fr=class extends qa{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function $R(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function XS(n,e,t){let r=new Map;Ne(n.length===t.length);for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,qH(o,a,t[i]))}return r}function eR(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,HH(s,o,e))}return r}var up=class extends qa{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},M_=class extends qa{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var N_=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&GH(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=zu(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=zu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=OR();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;let u=BR(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ve())}isEqual(e){return this.batchId===e.batchId&&Fa(this.mutations,e.mutations,(t,r)=>JS(t,r))&&Fa(this.baseMutations,e.baseMutations,(t,r)=>JS(t,r))}},P_=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ne(e.mutations.length===r.length);let i=function(){return VH}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n(e,t,r,i)}};var k_=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var O_=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var it,Ee;function KH(n){switch(n){default:return te();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function HR(n){if(n===void 0)return Qr("GRPC error has no .code"),F.UNKNOWN;switch(n){case it.OK:return F.OK;case it.CANCELLED:return F.CANCELLED;case it.UNKNOWN:return F.UNKNOWN;case it.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case it.INTERNAL:return F.INTERNAL;case it.UNAVAILABLE:return F.UNAVAILABLE;case it.UNAUTHENTICATED:return F.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case it.NOT_FOUND:return F.NOT_FOUND;case it.ALREADY_EXISTS:return F.ALREADY_EXISTS;case it.PERMISSION_DENIED:return F.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case it.ABORTED:return F.ABORTED;case it.OUT_OF_RANGE:return F.OUT_OF_RANGE;case it.UNIMPLEMENTED:return F.UNIMPLEMENTED;case it.DATA_LOSS:return F.DATA_LOSS;default:return te()}}(Ee=it||(it={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";var tR=null;function QH(){return new TextEncoder}var YH=new Hi([4294967295,4294967295],0);function nR(n){let e=QH().encode(n),t=new Yw;return t.update(e),new Uint8Array(t.digest())}function rR(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Hi([t,r],0),new Hi([i,s],0)]}var F_=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Gs(`Invalid padding: ${t}`);if(r<0)throw new Gs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Gs(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Gs(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Hi.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(Hi.fromNumber(r)));return i.compare(YH)===1&&(i=new Hi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=nR(e),[r,i]=rR(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let t=nR(e),[r,i]=rR(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Gs=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var lp=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Qu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ae.min(),i,new Ke(Ae),Zr(),ve())}},Qu=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ve(),ve(),ve())}};var Pa=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},dp=class{constructor(e,t){this.targetId=e,this.me=t}},hp=class{constructor(e,t,r=xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},fp=class{constructor(){this.fe=0,this.ge=sR(),this.pe=xt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ve(),t=ve(),r=ve();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:te()}}),new Qu(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=sR()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ne(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},L_=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Zr(),this.qe=iR(),this.Qe=new Ke(Ae)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let s=i.target;if(A_(s))if(r===0){let o=new Z(s.path);this.Ue(t,o,xn.newNoDocument(o,ae.min()))}else Ne(r===1);else{let o=this.Ye(t);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(t);let d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,d)}tR?.et(function(p,g,_,E,M){var O,k,j,G,q,K;let Te={localCacheCount:p,existenceFilterCount:g.count,databaseId:_.database,projectId:_.projectId},J=g.unchangedNames;return J&&(Te.bloomFilter={applied:M===0,hashCount:(O=J?.hashCount)!==null&&O!==void 0?O:0,bitmapLength:(G=(j=(k=J?.bits)===null||k===void 0?void 0:k.bitmap)===null||j===void 0?void 0:j.length)!==null&&G!==void 0?G:0,padding:(K=(q=J?.bits)===null||q===void 0?void 0:q.padding)!==null&&K!==void 0?K:0,mightContain:T=>{var I;return(I=E?.mightContain(T))!==null&&I!==void 0&&I}}),Te}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,o,a;try{o=Gi(r).toUint8Array()}catch(u){if(u instanceof op)return Oa("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new F_(o,i,s)}catch(u){return Oa(u instanceof Gs?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,s,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&A_(a.target)){let u=new Z(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,xn.newNoDocument(u,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let r=ve();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let d=this.Je(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new lp(e,t,this.Qe,this.ke,r);return this.ke=Zr(),this.qe=iR(),this.Qe=new Ke(Ae),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new fp,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Rt(Ae),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||z("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new fp),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function iR(){return new Ke(Z.comparator)}function sR(){return new Ke(Z.comparator)}var ZH={asc:"ASCENDING",desc:"DESCENDING"},JH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XH={and:"AND",or:"OR"},V_=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function U_(n,e){return n.useProto3Json||Fp(e)?e:{value:e}}function pp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function eq(n,e){return pp(n,e.toTimestamp())}function dr(n){return Ne(!!n),ae.fromTimestamp(function(t){let r=Yr(t);return new bt(r.seconds,r.nanos)}(n))}function GI(n,e){return j_(n,e).canonicalString()}function j_(n,e){let t=function(i){return new qe(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function zR(n){let e=qe.fromString(n);return Ne(YR(e)),e}function B_(n,e){return GI(n.databaseId,e.path)}function n_(n,e){let t=zR(e);if(t.get(1)!==n.databaseId.projectId)throw new H(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new H(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Z(WR(t))}function GR(n,e){return GI(n.databaseId,e)}function tq(n){let e=zR(n);return e.length===4?qe.emptyPath():WR(e)}function $_(n){return new qe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function WR(n){return Ne(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function oR(n,e,t){return{name:B_(n,e),fields:t.value.mapValue.fields}}function nq(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:te()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,p){return d.useProto3Json?(Ne(p===void 0||typeof p=="string"),xt.fromBase64String(p||"")):(Ne(p===void 0||p instanceof Buffer||p instanceof Uint8Array),xt.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){let p=d.code===void 0?F.UNKNOWN:HR(d.code);return new H(p,d.message||"")}(o);t=new hp(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=n_(n,r.document.name),s=dr(r.document.updateTime),o=r.document.createTime?dr(r.document.createTime):ae.min(),a=new tn({mapValue:{fields:r.document.fields}}),u=xn.newFoundDocument(i,s,o,a),d=r.targetIds||[],p=r.removedTargetIds||[];t=new Pa(d,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=n_(n,r.document),s=r.readTime?dr(r.readTime):ae.min(),o=xn.newNoDocument(i,s),a=r.removedTargetIds||[];t=new Pa([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=n_(n,r.document),s=r.removedTargetIds||[];t=new Pa([],s,i,null)}else{if(!("filter"in e))return te();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new O_(i,s),a=r.targetId;t=new dp(a,o)}}return t}function rq(n,e){let t;if(e instanceof eo)t={update:oR(n,e.key,e.value)};else if(e instanceof up)t={delete:B_(n,e.key)};else if(e instanceof fr)t={update:oR(n,e.key,e.data),updateMask:hq(e.fieldMask)};else{if(!(e instanceof M_))return te();t={verify:B_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof $a)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Js)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Xs)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ha)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw te()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:eq(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:te()}(n,e.precondition)),t}function iq(n,e){return n&&n.length>0?(Ne(e!==void 0),n.map(t=>function(i,s){let o=i.updateTime?dr(i.updateTime):dr(s);return o.isEqual(ae.min())&&(o=dr(s)),new x_(o,i.transformResults||[])}(t,e))):[]}function sq(n,e){return{documents:[GR(n,e.path)]}}function oq(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=GR(n,i);let s=function(d){if(d.length!==0)return QR(Mn.create(d,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(d){if(d.length!==0)return d.map(p=>function(_){return{field:xa(_.field),direction:uq(_.dir)}}(p))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=U_(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:t,parent:i}}function aq(n){let e=tq(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ne(r===1);let p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];t.where&&(s=function(g){let _=KR(g);return _ instanceof Mn&&TR(_)?_.getFilters():[_]}(t.where));let o=[];t.orderBy&&(o=function(g){return g.map(_=>function(M){return new ja(Ma(M.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(_))}(t.orderBy));let a=null;t.limit&&(a=function(g){let _;return _=typeof g=="object"?g.value:g,Fp(_)?null:_}(t.limit));let u=null;t.startAt&&(u=function(g){let _=!!g.before,E=g.values||[];return new Ua(E,_)}(t.startAt));let d=null;return t.endAt&&(d=function(g){let _=!g.before,E=g.values||[];return new Ua(E,_)}(t.endAt)),PH(e,i,o,s,a,"F",u,d)}function cq(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function KR(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Ma(t.unaryFilter.field);return ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ma(t.unaryFilter.field);return ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Ma(t.unaryFilter.field);return ot.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Ma(t.unaryFilter.field);return ot.create(o,"!=",{nullValue:"NULL_VALUE"});default:return te()}}(n):n.fieldFilter!==void 0?function(t){return ot.create(Ma(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return te()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Mn.create(t.compositeFilter.filters.map(r=>KR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return te()}}(t.compositeFilter.op))}(n):te()}function uq(n){return ZH[n]}function lq(n){return JH[n]}function dq(n){return XH[n]}function xa(n){return{fieldPath:n.canonicalString()}}function Ma(n){return nn.fromServerFormat(n.fieldPath)}function QR(n){return n instanceof ot?function(t){if(t.op==="=="){if(GS(t.value))return{unaryFilter:{field:xa(t.field),op:"IS_NAN"}};if(zS(t.value))return{unaryFilter:{field:xa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(GS(t.value))return{unaryFilter:{field:xa(t.field),op:"IS_NOT_NAN"}};if(zS(t.value))return{unaryFilter:{field:xa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xa(t.field),op:lq(t.op),value:t.value}}}(n):n instanceof Mn?function(t){let r=t.getFilters().map(i=>QR(i));return r.length===1?r[0]:{compositeFilter:{op:dq(t.op),filters:r}}}(n):te()}function hq(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function YR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Yu=class n{constructor(e,t,r,i,s=ae.min(),o=ae.min(),a=xt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var H_=class{constructor(e){this.ct=e}};function fq(n){let e=aq({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?R_(e,e.limit,"L"):e}var gp=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Ue(e.integerValue));else if("doubleValue"in e){let r=Ue(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),Gu(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=Yr(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Gi(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?bR(e)?this.dt(t,Number.MAX_SAFE_INTEGER):ER(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):te()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let s=e.fields||{};this.dt(t,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(Ue(a)),this.Vt(o,t),this.Tt(s[o],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),Z.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};gp.vt=new gp;var q_=class{constructor(){this.un=new z_}addToCollectionParentIndex(e,t){return this.un.add(t),L.resolve()}getCollectionParents(e,t){return L.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return L.resolve()}deleteFieldIndex(e,t){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,t){return L.resolve()}getDocumentsMatchingTarget(e,t){return L.resolve(null)}getIndexType(e,t){return L.resolve(0)}getFieldIndexes(e,t){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,t){return L.resolve(Qs.min())}getMinOffsetFromCollectionGroup(e,t){return L.resolve(Qs.min())}updateCollectionGroup(e,t,r){return L.resolve()}updateIndexEntries(e,t){return L.resolve()}},z_=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Rt(qe.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Rt(qe.comparator)).toArray()}};var iY=new Uint8Array(0);var cr=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};cr.DEFAULT_COLLECTION_PERCENTILE=10,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cr.DEFAULT=new cr(41943040,cr.DEFAULT_COLLECTION_PERCENTILE,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cr.DISABLED=new cr(-1,0,0);var Zu=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var G_=class{constructor(){this.changes=new Wi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,xn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?L.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var W_=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var K_=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&zu(r.mutation,i,pn.empty(),bt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ve()){let i=zs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Bu();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=zs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ve()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Zr(),o=qu(),a=function(){return qu()}();return t.forEach((u,d)=>{let p=r.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof fr)?s=s.insert(d.key,d):p!==void 0?(o.set(d.key,p.mutation.getFieldMask()),zu(p.mutation,d,p.mutation.getFieldMask(),bt.now())):o.set(d.key,pn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((d,p)=>o.set(d,p)),t.forEach((d,p)=>{var g;return a.set(d,new W_(p,(g=o.get(d))!==null&&g!==void 0?g:null))}),a))}recalculateAndSaveOverlays(e,t){let r=qu(),i=new Ke((o,a)=>o-a),s=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(u=>{let d=t.get(u);if(d===null)return;let p=r.get(u)||pn.empty();p=a.applyToLocalView(d,p),r.set(u,p);let g=(i.get(a.batchId)||ve()).add(u);i=i.insert(a.batchId,g)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),d=u.key,p=u.value,g=OR();p.forEach(_=>{if(!s.has(_)){let E=BR(t.get(_),r.get(_));E!==null&&g.set(_,E),s=s.add(_)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,g))}return L.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return Z.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):xR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):L.resolve(zs()),a=-1,u=s;return o.next(d=>L.forEach(d,(p,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),s.get(p)?L.resolve():this.remoteDocumentCache.getEntry(e,p).next(_=>{u=u.insert(p,_)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,u,d,ve())).next(p=>({batchId:a,changes:kR(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Z(t)).next(r=>{let i=Bu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=Bu();return this.indexManager.getCollectionParents(e,s).next(a=>L.forEach(a,u=>{let d=function(g,_){return new Zs(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(p=>{p.forEach((g,_)=>{o=o.insert(g,_)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((u,d)=>{let p=d.getKey();o.get(p)===null&&(o=o.insert(p,xn.newInvalidDocument(p)))});let a=Bu();return o.forEach((u,d)=>{let p=s.get(u);p!==void 0&&zu(p.mutation,d,pn.empty(),bt.now()),Vp(t,d)&&(a=a.insert(u,d))}),a})}};var Q_=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return L.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:dr(i.createTime)}}(t)),L.resolve()}getNamedQuery(e,t){return L.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:fq(i.bundledQuery),readTime:dr(i.readTime)}}(t)),L.resolve()}};var Y_=class{constructor(){this.overlays=new Ke(Z.comparator),this.Ir=new Map}getOverlay(e,t){return L.resolve(this.overlays.get(t))}getOverlays(e,t){let r=zs();return L.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ht(e,t,s)}),L.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),L.resolve()}getOverlaysForCollection(e,t,r){let i=zs(),s=t.length+1,o=new Z(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,d=u.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return L.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Ke((d,p)=>d-p),o=this.overlays.getIterator();for(;o.hasNext();){let d=o.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let p=s.get(d.largestBatchId);p===null&&(p=zs(),s=s.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}let a=zs(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,p)=>a.set(d,p)),!(a.size()>=i)););return L.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new k_(t,r));let s=this.Ir.get(t);s===void 0&&(s=ve(),this.Ir.set(t,s)),this.Ir.set(t,s.add(r.key))}};var Z_=class{constructor(){this.sessionToken=xt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,L.resolve()}};var Ju=class{constructor(){this.Tr=new Rt(st.Er),this.dr=new Rt(st.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new st(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new st(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new Z(new qe([])),r=new st(t,e),i=new st(t,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new Z(new qe([])),r=new st(t,e),i=new st(t,e+1),s=ve();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new st(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},st=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Z.comparator(e.key,t.key)||Ae(e.wr,t.wr)}static Ar(e,t){return Ae(e.wr,t.wr)||Z.comparator(e.key,t.key)}};var J_=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Rt(st.Er)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new N_(s,t,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new st(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(o)}lookupMutationBatch(e,t){return L.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),s=i<0?0:i;return L.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new st(t,0),i=new st(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),L.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Rt(Ae);return t.forEach(i=>{let s=new st(i,0),o=new st(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),L.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;Z.isDocumentKey(s)||(s=s.child(""));let o=new st(new Z(s),0),a=new Rt(Ae);return this.br.forEachWhile(u=>{let d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(u.wr)),!0)},o),L.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ne(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return L.forEach(t.mutations,i=>{let s=new st(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new st(t,0),i=this.br.firstAfterOrEqual(r);return L.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var X_=class{constructor(e){this.Mr=e,this.docs=function(){return new Ke(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return L.resolve(r?r.document.mutableCopy():xn.newInvalidDocument(t))}getEntries(e,t){let r=Zr();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():xn.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Zr(),o=t.path,a=new Z(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:d,value:{document:p}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||EH(IH(p),r)<=0||(i.has(p.key)||Vp(t,p))&&(s=s.insert(p.key,p.mutableCopy()))}return L.resolve(s)}getAllFromCollectionGroup(e,t,r,i){te()}Or(e,t){return L.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new eI(this)}getSize(e){return L.resolve(this.size)}},eI=class extends G_{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),L.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var tI=class{constructor(e){this.persistence=e,this.Nr=new Wi(t=>$I(t),HI),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ju,this.targetCount=0,this.kr=Zu.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),L.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Zu(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,L.resolve()}updateTargetData(e,t){return this.Kn(t),L.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(s).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return L.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),L.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),L.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),L.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return L.resolve(r)}containsKey(e,t){return L.resolve(this.Br.containsKey(t))}};var nI=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new _R(0),this.Kr=!1,this.Kr=!0,this.$r=new Z_,this.referenceDelegate=e(this),this.Ur=new tI(this),this.indexManager=new q_,this.remoteDocumentCache=function(i){return new X_(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new H_(t),this.Gr=new Q_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Y_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new J_(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){z("MemoryPersistence","Starting transaction:",e);let i=new rI(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,t){return L.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},rI=class extends p_{constructor(e){super(),this.currentSequenceNumber=e}},iI=class n{constructor(e){this.persistence=e,this.Jr=new Ju,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw te()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),L.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),L.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Xr,r=>{let i=Z.fromPath(r);return this.ei(e,i).next(s=>{s||t.removeEntry(i,ae.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return L.or([()=>L.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var sI=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=ve(),i=ve();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var oI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var aI=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return IA()?8:DH(yt())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.Yi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new oI;return this.Xi(e,t,o).next(a=>{if(s.result=a,this.zi)return this.es(e,t,o,a.size)})}).next(()=>s.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(ju()<=ye.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",Ra(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),L.resolve()):(ju()<=ye.DEBUG&&z("QueryEngine","Query:",Ra(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ju()<=ye.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",Ra(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,lr(t))):L.resolve())}Yi(e,t){if(YS(t))return L.resolve(null);let r=lr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=R_(t,null,"F"),r=lr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=ve(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let d=this.ts(t,a);return this.ns(t,d,o,u.readTime)?this.Yi(e,R_(t,null,"F")):this.rs(e,d,t,u)}))})))}Zi(e,t,r,i){return YS(t)||i.isEqual(ae.min())?L.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(t,s);return this.ns(t,o,r,i)?L.resolve(null):(ju()<=ye.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ra(t)),this.rs(e,o,t,_H(i,-1)).next(a=>a))})}ts(e,t){let r=new Rt(NR(e));return t.forEach((i,s)=>{Vp(e,s)&&(r=r.add(s))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,t,r){return ju()<=ye.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",Ra(t)),this.Ji.getDocumentsMatchingQuery(e,t,Qs.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var cI=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new Ke(Ae),this._s=new Wi(s=>$I(s),HI),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new K_(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function pq(n,e,t,r){return new cI(n,e,t,r)}function ZR(n,e){return D(this,null,function*(){let t=se(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=ve();for(let d of i){o.push(d.batchId);for(let p of d.mutations)u=u.add(p.key)}for(let d of s){a.push(d.batchId);for(let p of d.mutations)u=u.add(p.key)}return t.localDocuments.getDocuments(r,u).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:a}))})})})}function gq(n,e){let t=se(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,d,p){let g=d.batch,_=g.keys(),E=L.resolve();return _.forEach(M=>{E=E.next(()=>p.getEntry(u,M)).next(O=>{let k=d.docVersions.get(M);Ne(k!==null),O.version.compareTo(k)<0&&(g.applyToRemoteDocument(O,d),O.isValidDocument()&&(O.setReadTime(d.commitVersion),p.addEntry(O)))})}),E.next(()=>a.mutationQueue.removeMutationBatch(u,g))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ve();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(u=u.add(a.batch.mutations[d].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function JR(n){let e=se(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function mq(n,e){let t=se(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((p,g)=>{let _=i.get(g);if(!_)return;a.push(t.Ur.removeMatchingKeys(s,p.removedDocuments,g).next(()=>t.Ur.addMatchingKeys(s,p.addedDocuments,g)));let E=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?E=E.withResumeToken(xt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):p.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(p.resumeToken,r)),i=i.insert(g,E),function(O,k,j){return O.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(_,E,p)&&a.push(t.Ur.updateTargetData(s,E))});let u=Zr(),d=ve();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,p))}),a.push(yq(s,o,e.documentUpdates).next(p=>{u=p.Ps,d=p.Is})),!r.isEqual(ae.min())){let p=t.Ur.getLastRemoteSnapshotVersion(s).next(g=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(p)}return L.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,d)).next(()=>u)}).then(s=>(t.os=i,s))}function yq(n,e,t){let r=ve(),i=ve();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Zr();return t.forEach((a,u)=>{let d=s.get(a);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ae.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):z("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function vq(n,e){let t=se(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function wq(n,e){let t=se(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(s=>s?(i=s,L.resolve(i)):t.Ur.allocateTargetId(r).next(o=>(i=new Yu(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function uI(n,e,t){return D(this,null,function*(){let r=se(n),i=r.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!sl(o))throw o;z("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function aR(n,e,t){let r=se(n),i=ae.min(),s=ve();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,p){let g=se(u),_=g._s.get(p);return _!==void 0?L.resolve(g.os.get(_)):g.Ur.getTargetData(d,p)}(r,o,lr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,t?i:ae.min(),t?s:ve())).next(a=>(_q(r,OH(e),a),{documents:a,Ts:s})))}function _q(n,e,t){let r=n.us.get(e)||ae.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.us.set(e,r)}var mp=class{constructor(){this.activeTargetIds=BH()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var lI=class{constructor(){this.so=new mp,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new mp,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var dI=class{_o(e){}shutdown(){}};var yp=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Xf=null;function r_(){return Xf===null?Xf=function(){return 268435456+Math.round(2147483648*Math.random())}():Xf++,"0x"+Xf.toString(16)}var Iq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var hI=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var St="WebChannelConnection",fI=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(t,r,i,s,o){let a=r_(),u=this.xo(t,r.toUriEncodedString());z("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);let d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,s,o),this.No(t,u,d,i).then(p=>(z("RestConnection",`Received RPC '${t}' ${a}: `,p),p),p=>{throw Oa("RestConnection",`RPC '${t}' ${a} failed with error: `,p,"url: ",u,"request:",i),p})}Lo(t,r,i,s,o,a){return this.Mo(t,r,i,s,o)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}xo(t,r){let i=Iq[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let s=r_();return new Promise((o,a)=>{let u=new Zw;u.setWithCredentials(!0),u.listenOnce(Jw.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Uu.NO_ERROR:let p=u.getResponseJson();z(St,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),o(p);break;case Uu.TIMEOUT:z(St,`RPC '${e}' ${s} timed out`),a(new H(F.DEADLINE_EXCEEDED,"Request time out"));break;case Uu.HTTP_ERROR:let g=u.getStatus();if(z(St,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);let E=_?.error;if(E&&E.status&&E.message){let M=function(k){let j=k.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(j)>=0?j:F.UNKNOWN}(E.status);a(new H(M,E.message))}else a(new H(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new H(F.UNAVAILABLE,"Connection failed."));break;default:te()}}finally{z(St,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);z(St,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",d,r,15)})}Bo(e,t,r){let i=r_(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=t_(),a=e_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let p=s.join("");z(St,`Creating RPC '${e}' stream ${i}: ${p}`,u);let g=o.createWebChannel(p,u),_=!1,E=!1,M=new hI({Io:k=>{E?z(St,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(_||(z(St,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),z(St,`RPC '${e}' stream ${i} sending:`,k),g.send(k))},To:()=>g.close()}),O=(k,j,G)=>{k.listen(j,q=>{try{G(q)}catch(K){setTimeout(()=>{throw K},0)}})};return O(g,Sa.EventType.OPEN,()=>{E||(z(St,`RPC '${e}' stream ${i} transport opened.`),M.yo())}),O(g,Sa.EventType.CLOSE,()=>{E||(E=!0,z(St,`RPC '${e}' stream ${i} transport closed`),M.So())}),O(g,Sa.EventType.ERROR,k=>{E||(E=!0,Oa(St,`RPC '${e}' stream ${i} transport errored:`,k),M.So(new H(F.UNAVAILABLE,"The operation could not be completed")))}),O(g,Sa.EventType.MESSAGE,k=>{var j;if(!E){let G=k.data[0];Ne(!!G);let q=G,K=q.error||((j=q[0])===null||j===void 0?void 0:j.error);if(K){z(St,`RPC '${e}' stream ${i} received error:`,K);let Te=K.status,J=function(b){let A=it[b];if(A!==void 0)return HR(A)}(Te),T=K.message;J===void 0&&(J=F.INTERNAL,T="Unknown error status: "+Te+" with message "+K.message),E=!0,M.So(new H(J,T)),g.close()}else z(St,`RPC '${e}' stream ${i} received:`,G),M.bo(G)}}),O(a,Xw.STAT_EVENT,k=>{k.stat===Zf.PROXY?z(St,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===Zf.NOPROXY&&z(St,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{M.wo()},0),M}};function i_(){return typeof document<"u"?document:null}function Up(n){return new V_(n,!0)}var vp=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var wp=class{constructor(e,t,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new vp(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return D(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return D(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return D(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===F.RESOURCE_EXHAUSTED?(Qr(t.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new H(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>D(this,null,function*(){this.state=0,this.start()}))}I_(e){return z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},pI=class extends wp{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=nq(this.serializer,e),r=function(s){if(!("targetChange"in s))return ae.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ae.min():o.readTime?dr(o.readTime):ae.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=$_(this.serializer),t.addTarget=function(s,o){let a,u=o.target;if(a=A_(u)?{documents:sq(s,u)}:{query:oq(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=qR(s,o.resumeToken);let d=U_(s,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(ae.min())>0){a.readTime=pp(s,o.snapshotVersion.toTimestamp());let d=U_(s,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);let r=cq(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=$_(this.serializer),t.removeTarget=e,this.a_(t)}},gI=class extends wp{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,Ne(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=iq(e.writeResults,e.commitTime),r=dr(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=$_(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>rq(this.serializer,r))};this.a_(t)}};var mI=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new H(F.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,j_(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(F.UNKNOWN,s.toString())})}Lo(e,t,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,j_(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(F.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},yI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Qr(t),this.D_=!1):z("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var vI=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>D(this,null,function*(){ro(this)&&(z("RemoteStore","Restarting streams for network reachability change."),yield function(u){return D(this,null,function*(){let d=se(u);d.L_.add(4),yield ol(d),d.q_.set("Unknown"),d.L_.delete(4),yield jp(d)})}(this))}))}),this.q_=new yI(r,i)}};function jp(n){return D(this,null,function*(){if(ro(n))for(let e of n.B_)yield e(!0)})}function ol(n){return D(this,null,function*(){for(let e of n.B_)yield e(!1)})}function XR(n,e){let t=se(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),YI(t)?QI(t):Ya(t).r_()&&KI(t,e))}function WI(n,e){let t=se(n),r=Ya(t);t.N_.delete(e),r.r_()&&ex(t,e),t.N_.size===0&&(r.r_()?r.o_():ro(t)&&t.q_.set("Unknown"))}function KI(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ya(n).A_(e)}function ex(n,e){n.Q_.xe(e),Ya(n).R_(e)}function QI(n){n.Q_=new L_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Ya(n).start(),n.q_.v_()}function YI(n){return ro(n)&&!Ya(n).n_()&&n.N_.size>0}function ro(n){return se(n).L_.size===0}function tx(n){n.Q_=void 0}function Eq(n){return D(this,null,function*(){n.q_.set("Online")})}function bq(n){return D(this,null,function*(){n.N_.forEach((e,t)=>{KI(n,e)})})}function Dq(n,e){return D(this,null,function*(){tx(n),YI(n)?(n.q_.M_(e),QI(n)):n.q_.set("Unknown")})}function Cq(n,e,t){return D(this,null,function*(){if(n.q_.set("Online"),e instanceof hp&&e.state===2&&e.cause)try{yield function(i,s){return D(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield _p(n,r)}else if(e instanceof Pa?n.Q_.Ke(e):e instanceof dp?n.Q_.He(e):n.Q_.We(e),!t.isEqual(ae.min()))try{let r=yield JR(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){let p=s.N_.get(d);p&&s.N_.set(d,p.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,d)=>{let p=s.N_.get(u);if(!p)return;s.N_.set(u,p.withResumeToken(xt.EMPTY_BYTE_STRING,p.snapshotVersion)),ex(s,u);let g=new Yu(p.target,u,d,p.sequenceNumber);KI(s,g)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){z("RemoteStore","Failed to raise snapshot:",r),yield _p(n,r)}})}function _p(n,e,t){return D(this,null,function*(){if(!sl(e))throw e;n.L_.add(1),yield ol(n),n.q_.set("Offline"),t||(t=()=>JR(n.localStore)),n.asyncQueue.enqueueRetryable(()=>D(this,null,function*(){z("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield jp(n)}))})}function nx(n,e){return e().catch(t=>_p(n,t,e))}function Bp(n){return D(this,null,function*(){let e=se(n),t=Ki(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Tq(e);)try{let i=yield vq(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,Aq(e,i)}catch(i){yield _p(e,i)}rx(e)&&ix(e)})}function Tq(n){return ro(n)&&n.O_.length<10}function Aq(n,e){n.O_.push(e);let t=Ki(n);t.r_()&&t.V_&&t.m_(e.mutations)}function rx(n){return ro(n)&&!Ki(n).n_()&&n.O_.length>0}function ix(n){Ki(n).start()}function Sq(n){return D(this,null,function*(){Ki(n).p_()})}function Rq(n){return D(this,null,function*(){let e=Ki(n);for(let t of n.O_)e.m_(t.mutations)})}function xq(n,e,t){return D(this,null,function*(){let r=n.O_.shift(),i=P_.from(r,e,t);yield nx(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Bp(n)})}function Mq(n,e){return D(this,null,function*(){e&&Ki(n).V_&&(yield function(r,i){return D(this,null,function*(){if(function(o){return KH(o)&&o!==F.ABORTED}(i.code)){let s=r.O_.shift();Ki(r).s_(),yield nx(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Bp(r)}})}(n,e)),rx(n)&&ix(n)})}function cR(n,e){return D(this,null,function*(){let t=se(n);t.asyncQueue.verifyOperationInProgress(),z("RemoteStore","RemoteStore received new credentials");let r=ro(t);t.L_.add(3),yield ol(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield jp(t)})}function Nq(n,e){return D(this,null,function*(){let t=se(n);e?(t.L_.delete(2),yield jp(t)):e||(t.L_.add(2),yield ol(t),t.q_.set("Unknown"))})}function Ya(n){return n.K_||(n.K_=function(t,r,i){let s=se(t);return s.w_(),new pI(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:Eq.bind(null,n),Ro:bq.bind(null,n),mo:Dq.bind(null,n),d_:Cq.bind(null,n)}),n.B_.push(e=>D(this,null,function*(){e?(n.K_.s_(),YI(n)?QI(n):n.q_.set("Unknown")):(yield n.K_.stop(),tx(n))}))),n.K_}function Ki(n){return n.U_||(n.U_=function(t,r,i){let s=se(t);return s.w_(),new gI(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Sq.bind(null,n),mo:Mq.bind(null,n),f_:Rq.bind(null,n),g_:xq.bind(null,n)}),n.B_.push(e=>D(this,null,function*(){e?(n.U_.s_(),yield Bp(n)):(yield n.U_.stop(),n.O_.length>0&&(z("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var wI=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Rn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,a=new n(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function ZI(n,e){if(Qr("AsyncQueue",`${e}: ${n}`),sl(n))return new H(F.UNAVAILABLE,`${e}: ${n}`);throw n}var Ip=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Z.comparator(t.key,r.key):(t,r)=>Z.comparator(t.key,r.key),this.keyedMap=Bu(),this.sortedSet=new Ke(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Ep=class{constructor(){this.W_=new Ke(Z.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):te():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},za=class n{constructor(e,t,r,i,s,o,a,u,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,Ip.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var _I=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},II=class{constructor(){this.queries=uR(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=se(t),s=i.queries;i.queries=uR(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new H(F.ABORTED,"Firestore shutting down"))}};function uR(){return new Wi(n=>MR(n),Lp)}function sx(n,e){return D(this,null,function*(){let t=se(n),r=3,i=e.query,s=t.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new _I,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield t.onListen(i,!0);break;case 1:s.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(o){let a=ZI(o,`Initialization of query '${Ra(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&JI(t)})}function ox(n,e){return D(this,null,function*(){let t=se(n),r=e.query,i=3,s=t.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function Pq(n,e){let t=se(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&JI(t)}function kq(n,e,t){let r=se(n),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(t);r.queries.delete(e)}function JI(n){n.Y_.forEach(e=>{e.next()})}var EI,lR;(lR=EI||(EI={})).ea="default",lR.Cache="cache";var bp=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new za(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=za.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==EI.Cache}};var Dp=class{constructor(e){this.key=e}},Cp=class{constructor(e){this.key=e}},bI=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ve(),this.mutatedKeys=ve(),this.Aa=NR(e),this.Ra=new Ip(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new Ep,i=t?t.Ra:this.Ra,s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,g)=>{let _=i.get(p),E=Vp(this.query,g)?g:null,M=!!_&&this.mutatedKeys.has(_.key),O=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations),k=!1;_&&E?_.data.isEqual(E.data)?M!==O&&(r.track({type:3,doc:E}),k=!0):this.ga(_,E)||(r.track({type:2,doc:E}),k=!0,(u&&this.Aa(E,u)>0||d&&this.Aa(E,d)<0)&&(a=!0)):!_&&E?(r.track({type:0,doc:E}),k=!0):_&&!E&&(r.track({type:1,doc:_}),k=!0,(u||d)&&(a=!0)),k&&(E?(o=o.add(E),s=O?s.add(p):s.delete(p)):(o=o.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((p,g)=>function(E,M){let O=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te()}};return O(E)-O(M)}(p.type,g.type)||this.Aa(p.doc,g.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,d=u!==this.Ea;return this.Ea=u,o.length!==0||d?{snapshot:new za(this.query,e.Ra,s,o,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Ep,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ve(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new Cp(r))}),this.da.forEach(r=>{e.has(r)||t.push(new Dp(r))}),t}ba(e){this.Ta=e.Ts,this.da=ve();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return za.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},DI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},CI=class{constructor(e){this.key=e,this.va=!1}},TI=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Wi(a=>MR(a),Lp),this.Ma=new Map,this.xa=new Set,this.Oa=new Ke(Z.comparator),this.Na=new Map,this.La=new Ju,this.Ba={},this.ka=new Map,this.qa=Zu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function Oq(n,e,t=!0){return D(this,null,function*(){let r=hx(n),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield ax(r,e,t,!0),i})}function Fq(n,e){return D(this,null,function*(){let t=hx(n);yield ax(t,e,!0,!1)})}function ax(n,e,t,r){return D(this,null,function*(){let i=yield wq(n.localStore,lr(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),a;return r&&(a=yield Lq(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&XR(n.remoteStore,i),a})}function Lq(n,e,t,r,i){return D(this,null,function*(){n.Ka=(g,_,E)=>function(O,k,j,G){return D(this,null,function*(){let q=k.view.ma(j);q.ns&&(q=yield aR(O.localStore,k.query,!1).then(({documents:T})=>k.view.ma(T,q)));let K=G&&G.targetChanges.get(k.targetId),Te=G&&G.targetMismatches.get(k.targetId)!=null,J=k.view.applyChanges(q,O.isPrimaryClient,K,Te);return hR(O,k.targetId,J.wa),J.snapshot})}(n,g,_,E);let s=yield aR(n.localStore,e,!0),o=new bI(e,s.Ts),a=o.ma(s.documents),u=Qu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=o.applyChanges(a,n.isPrimaryClient,u);hR(n,t,d.wa);let p=new DI(e,t,o);return n.Fa.set(e,p),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),d.snapshot})}function Vq(n,e,t){return D(this,null,function*(){let r=se(n),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Lp(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield uI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&WI(r.remoteStore,i.targetId),AI(r,i.targetId)}).catch(il))):(AI(r,i.targetId),yield uI(r.localStore,i.targetId,!0))})}function Uq(n,e){return D(this,null,function*(){let t=se(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),WI(t.remoteStore,r.targetId))})}function jq(n,e,t){return D(this,null,function*(){let r=Wq(n);try{let i=yield function(o,a){let u=se(o),d=bt.now(),p=a.reduce((E,M)=>E.add(M.key),ve()),g,_;return u.persistence.runTransaction("Locally write mutations","readwrite",E=>{let M=Zr(),O=ve();return u.cs.getEntries(E,p).next(k=>{M=k,M.forEach((j,G)=>{G.isValidDocument()||(O=O.add(j))})}).next(()=>u.localDocuments.getOverlayedDocuments(E,M)).next(k=>{g=k;let j=[];for(let G of a){let q=WH(G,g.get(G.key).overlayedDocument);q!=null&&j.push(new fr(G.key,q,DR(q.value.mapValue),qi.exists(!0)))}return u.mutationQueue.addMutationBatch(E,d,j,a)}).next(k=>{_=k;let j=k.applyToLocalDocumentSet(g,O);return u.documentOverlayCache.saveOverlays(E,k.batchId,j)})}).then(()=>({batchId:_.batchId,changes:kR(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let d=o.Ba[o.currentUser.toKey()];d||(d=new Ke(Ae)),d=d.insert(a,u),o.Ba[o.currentUser.toKey()]=d}(r,i.batchId,t),yield al(r,i.changes),yield Bp(r.remoteStore)}catch(i){let s=ZI(i,"Failed to persist write");t.reject(s)}})}function cx(n,e){return D(this,null,function*(){let t=se(n);try{let r=yield mq(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t.Na.get(s);o&&(Ne(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ne(o.va):i.removedDocuments.size>0&&(Ne(o.va),o.va=!1))}),yield al(t,r,e)}catch(r){yield il(r)}})}function dR(n,e,t){let r=se(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=se(o);u.onlineState=a;let d=!1;u.queries.forEach((p,g)=>{for(let _ of g.j_)_.Z_(a)&&(d=!0)}),d&&JI(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Bq(n,e,t){return D(this,null,function*(){let r=se(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Ke(Z.comparator);o=o.insert(s,xn.newNoDocument(s,ae.min()));let a=ve().add(s),u=new lp(ae.min(),new Map,new Ke(Ae),o,a);yield cx(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),XI(r)}else yield uI(r.localStore,e,!1).then(()=>AI(r,e,t)).catch(il)})}function $q(n,e){return D(this,null,function*(){let t=se(n),r=e.batch.batchId;try{let i=yield gq(t.localStore,e);lx(t,r,null),ux(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield al(t,i)}catch(i){yield il(i)}})}function Hq(n,e,t){return D(this,null,function*(){let r=se(n);try{let i=yield function(o,a){let u=se(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return u.mutationQueue.lookupMutationBatch(d,a).next(g=>(Ne(g!==null),p=g.keys(),u.mutationQueue.removeMutationBatch(d,g))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,p,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>u.localDocuments.getDocuments(d,p))})}(r.localStore,e);lx(r,e,t),ux(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield al(r,i)}catch(i){yield il(i)}})}function ux(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function lx(n,e,t){let r=se(n),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function AI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||dx(n,r)})}function dx(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(WI(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),XI(n))}function hR(n,e,t){for(let r of t)r instanceof Dp?(n.La.addReference(r.key,e),qq(n,r)):r instanceof Cp?(z("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||dx(n,r.key)):te()}function qq(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(z("SyncEngine","New document in limbo: "+t),n.xa.add(r),XI(n))}function XI(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new Z(qe.fromString(e)),r=n.qa.next();n.Na.set(r,new CI(t)),n.Oa=n.Oa.insert(t,r),XR(n.remoteStore,new Yu(lr(qI(t.path)),r,"TargetPurposeLimboResolution",_R.oe))}}function al(n,e,t){return D(this,null,function*(){let r=se(n),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,t).then(d=>{var p;if((d||t)&&r.isPrimaryClient){let g=d?!d.fromCache:(p=t?.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(d){i.push(d);let g=sI.Wi(u.targetId,d);s.push(g)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,d){return D(this,null,function*(){let p=se(u);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>L.forEach(d,_=>L.forEach(_.$i,E=>p.persistence.referenceDelegate.addReference(g,_.targetId,E)).next(()=>L.forEach(_.Ui,E=>p.persistence.referenceDelegate.removeReference(g,_.targetId,E)))))}catch(g){if(!sl(g))throw g;z("LocalStore","Failed to update sequence numbers: "+g)}for(let g of d){let _=g.targetId;if(!g.fromCache){let E=p.os.get(_),M=E.snapshotVersion,O=E.withLastLimboFreeSnapshotVersion(M);p.os=p.os.insert(_,O)}}})}(r.localStore,s))})}function zq(n,e){return D(this,null,function*(){let t=se(n);if(!t.currentUser.isEqual(e)){z("SyncEngine","User change. New user:",e.toKey());let r=yield ZR(t.localStore,e);t.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new H(F.CANCELLED,o))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield al(t,r.hs)}})}function Gq(n,e){let t=se(n),r=t.Na.get(e);if(r&&r.va)return ve().add(r.key);{let i=ve(),s=t.Ma.get(e);if(!s)return i;for(let o of s){let a=t.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function hx(n){let e=se(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=cx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Bq.bind(null,e),e.Ca.d_=Pq.bind(null,e.eventManager),e.Ca.$a=kq.bind(null,e.eventManager),e}function Wq(n){let e=se(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$q.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Hq.bind(null,e),e}var fR=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return D(this,null,function*(){this.serializer=Up(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return pq(this.persistence,new aI,t.initialUser,this.serializer)}Ga(t){return new nI(iI.Zr,this.serializer)}Wa(t){return new lI}terminate(){return D(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var Kq=(()=>{class n{initialize(t,r){return D(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>dR(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=zq.bind(null,this.syncEngine),yield Nq(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new II}()}createDatastore(t){let r=Up(t.databaseInfo.databaseId),i=function(o){return new fI(o)}(t.databaseInfo);return function(o,a,u,d){return new mI(o,a,u,d)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,s,o,a,u){return new vI(i,s,o,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>dR(this.syncEngine,r,0),function(){return yp.D()?new yp:new dI}())}createSyncEngine(t,r){return function(s,o,a,u,d,p,g){let _=new TI(s,o,a,u,d,p);return g&&(_.Qa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return D(this,null,function*(){var t,r;yield function(s){return D(this,null,function*(){let o=se(s);z("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield ol(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Tp=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Qr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var SI=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=vt.UNAUTHENTICATED,this.clientId=rp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>D(this,null,function*(){z("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(z("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Rn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>D(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=ZI(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function s_(n,e){return D(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),z("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>D(this,null,function*(){r.isEqual(i)||(yield ZR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function pR(n,e){return D(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield Qq(n);z("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>cR(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>cR(e.remoteStore,i)),n._onlineComponents=e})}function Qq(n){return D(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){z("FirestoreClient","Using user provided OfflineComponentProvider");try{yield s_(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Oa("Error using user provided cache. Falling back to memory cache: "+t),yield s_(n,new fR)}}else z("FirestoreClient","Using default OfflineComponentProvider"),yield s_(n,new fR);return n._offlineComponents})}function fx(n){return D(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(z("FirestoreClient","Using user provided OnlineComponentProvider"),yield pR(n,n._uninitializedComponentsProvider._online)):(z("FirestoreClient","Using default OnlineComponentProvider"),yield pR(n,new Kq))),n._onlineComponents})}function Yq(n){return fx(n).then(e=>e.syncEngine)}function px(n){return D(this,null,function*(){let e=yield fx(n),t=e.eventManager;return t.onListen=Oq.bind(null,e.syncEngine),t.onUnlisten=Vq.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Fq.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Uq.bind(null,e.syncEngine),t})}function Zq(n,e,t={}){let r=new Rn;return n.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return function(s,o,a,u,d){let p=new Tp({next:_=>{p.Za(),o.enqueueAndForget(()=>ox(s,g));let E=_.docs.has(a);!E&&_.fromCache?d.reject(new H(F.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&_.fromCache&&u&&u.source==="server"?d.reject(new H(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(_)},error:_=>d.reject(_)}),g=new bp(qI(a.path),p,{includeMetadataChanges:!0,_a:!0});return sx(s,g)}(yield px(n),n.asyncQueue,e,t,r)})),r.promise}function Jq(n,e,t={}){let r=new Rn;return n.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return function(s,o,a,u,d){let p=new Tp({next:_=>{p.Za(),o.enqueueAndForget(()=>ox(s,g)),_.fromCache&&u.source==="server"?d.reject(new H(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(_)},error:_=>d.reject(_)}),g=new bp(a,p,{includeMetadataChanges:!0,_a:!0});return sx(s,g)}(yield px(n),n.asyncQueue,e,t,r)})),r.promise}function gx(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var gR=new Map;function mx(n,e,t){if(!t)throw new H(F.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Xq(n,e,t,r){if(e===!0&&r===!0)throw new H(F.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function mR(n){if(!Z.isDocumentKey(n))throw new H(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function yR(n){if(Z.isDocumentKey(n))throw new H(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $p(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":te()}function Jr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new H(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=$p(n);throw new H(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Ap=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Xq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ga=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ap({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ap(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new o_;switch(r.type){case"firstParty":return new l_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return D(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=gR.get(t);r&&(z("ComponentProvider","Removing Datastore"),gR.delete(t),r.terminate())}(this),Promise.resolve()}};function yx(n,e,t,r={}){var i;let s=(n=Jr(n,Ga))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Oa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=vt.MOCK_USER;else{a=Tf(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new H(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new vt(d)}n._authCredentials=new a_(new np(a,u))}}var Wa=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Ft=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},zi=class n extends Wa{constructor(e,t,r){super(e,t,qI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new Z(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function vx(n,e,...t){if(n=Le(n),mx("collection","path",e),n instanceof Ga){let r=qe.fromString(e,...t);return yR(r),new zi(n,null,r)}{if(!(n instanceof Ft||n instanceof zi))throw new H(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(qe.fromString(e,...t));return yR(r),new zi(n.firestore,null,r)}}function wx(n,e,...t){if(n=Le(n),arguments.length===1&&(e=rp.newId()),mx("doc","path",e),n instanceof Ga){let r=qe.fromString(e,...t);return mR(r),new Ft(n,null,new Z(r))}{if(!(n instanceof Ft||n instanceof zi))throw new H(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(qe.fromString(e,...t));return mR(r),new Ft(n.firestore,n instanceof zi?n.converter:null,new Z(r))}}var Sp=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new vp(this,"async_queue_retry"),this.Vu=()=>{let r=i_();r&&z("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=i_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=i_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new Rn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return D(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!sl(e))throw e;z("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Qr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=wI.createAndSchedule(this,e,t,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&te()}verifyOperationInProgress(){}wu(){return D(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};var to=class extends Ga{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Sp,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return D(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Sp(e),this._firestoreClient=void 0,yield e}})}};function _x(n,e){let t=typeof n=="object"?n:Ui(),r=typeof n=="string"?n:e||"(default)",i=Os(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Cf("firestore");s&&yx(i,...s)}return i}function eE(n){if(n._terminated)throw new H(F.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||ez(n),n._firestoreClient}function ez(n){var e,t,r;let i=n._freezeSettings(),s=function(a,u,d,p){return new g_(a,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,gx(p.experimentalLongPollingOptions),p.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new SI(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var Xu=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(xt.fromBase64String(e))}catch(t){throw new H(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ka=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new H(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var el=class{constructor(e){this._methodName=e}};var tl=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new H(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new H(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}};var nl=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var tz=/^__.*__$/,RI=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new fr(e,this.data,this.fieldMask,t,this.fieldTransforms):new eo(e,this.data,t,this.fieldTransforms)}},Rp=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new fr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function Ix(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te()}}var xI=class n{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Mp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Ix(this.Cu)&&tz.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},MI=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Up(e)}Qu(e,t,r,i=!1){return new xI({Cu:e,methodName:t,qu:r,path:nn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function tE(n){let e=n._freezeSettings(),t=Up(n._databaseId);return new MI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function nz(n,e,t,r,i,s={}){let o=n.Qu(s.merge||s.mergeFields?2:0,e,t,i);nE("Data must be an object, but it was:",o,r);let a=Ex(r,o),u,d;if(s.merge)u=new pn(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){let p=[];for(let g of s.mergeFields){let _=NI(e,g,t);if(!o.contains(_))throw new H(F.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);Dx(p,_)||p.push(_)}u=new pn(p),d=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,d=o.fieldTransforms;return new RI(new tn(a),u,d)}var xp=class n extends el{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function rz(n,e,t,r){let i=n.Qu(1,e,t);nE("Data must be an object, but it was:",i,r);let s=[],o=tn.empty();no(r,(u,d)=>{let p=rE(e,u,t);d=Le(d);let g=i.Nu(p);if(d instanceof xp)s.push(p);else{let _=cl(d,g);_!=null&&(s.push(p),o.set(p,_))}});let a=new pn(s);return new Rp(o,a,i.fieldTransforms)}function iz(n,e,t,r,i,s){let o=n.Qu(1,e,t),a=[NI(e,r,t)],u=[i];if(s.length%2!=0)throw new H(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)a.push(NI(e,s[_])),u.push(s[_+1]);let d=[],p=tn.empty();for(let _=a.length-1;_>=0;--_)if(!Dx(d,a[_])){let E=a[_],M=u[_];M=Le(M);let O=o.Nu(E);if(M instanceof xp)d.push(E);else{let k=cl(M,O);k!=null&&(d.push(E),p.set(E,k))}}let g=new pn(d);return new Rp(p,g,o.fieldTransforms)}function sz(n,e,t,r=!1){return cl(t,n.Qu(r?4:3,e))}function cl(n,e){if(bx(n=Le(n)))return nE("Unsupported field value:",e,n),Ex(n,e);if(n instanceof el)return function(r,i){if(!Ix(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=cl(a,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=Le(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $H(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=bt.fromDate(r);return{timestampValue:pp(i.serializer,s)}}if(r instanceof bt){let s=new bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:pp(i.serializer,s)}}if(r instanceof tl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xu)return{bytesValue:qR(i.serializer,r._byteString)};if(r instanceof Ft){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:GI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof nl)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return zI(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${$p(r)}`)}(n,e)}function Ex(n,e){let t={};return IR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):no(n,(r,i)=>{let s=cl(i,e.Mu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function bx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof bt||n instanceof tl||n instanceof Xu||n instanceof Ft||n instanceof el||n instanceof nl)}function nE(n,e,t){if(!bx(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=$p(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function NI(n,e,t){if((e=Le(e))instanceof Ka)return e._internalPath;if(typeof e=="string")return rE(n,e);throw Mp("Field path arguments must be of type string or ",n,!1,void 0,t)}var oz=new RegExp("[~\\*/\\[\\]]");function rE(n,e,t){if(e.search(oz)>=0)throw Mp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ka(...e.split("."))._internalPath}catch{throw Mp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Mp(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new H(F.INVALID_ARGUMENT,a+n+u)}function Dx(n,e){return n.some(t=>t.isEqual(e))}var Np=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new PI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(iE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},PI=class extends Np{data(){return super.data()}};function iE(n,e){return typeof e=="string"?rE(n,e):e instanceof Ka?e._internalPath:e._delegate._internalPath}function az(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new H(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var rl=class{},kI=class extends rl{};function Cx(n,e,...t){let r=[];e instanceof rl&&r.push(e),r=r.concat(t),function(s){let o=s.filter(u=>u instanceof OI).length,a=s.filter(u=>u instanceof Pp).length;if(o>1||o>0&&a>0)throw new H(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var Pp=class n extends kI{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return Ax(e._query,t),new Wa(e.firestore,e.converter,S_(e._query,t))}_parse(e){let t=tE(e.firestore);return function(s,o,a,u,d,p,g){let _;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new H(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){wR(g,p);let E=[];for(let M of g)E.push(vR(u,s,M));_={arrayValue:{values:E}}}else _=vR(u,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||wR(g,p),_=sz(a,o,g,p==="in"||p==="not-in");return ot.create(d,p,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function Tx(n,e,t){let r=e,i=iE("where",n);return Pp._create(i,r,t)}var OI=class n extends rl{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Mn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let u of a)Ax(o,u),o=S_(o,u)}(e._query,t),new Wa(e.firestore,e.converter,S_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function vR(n,e,t){if(typeof(t=Le(t))=="string"){if(t==="")throw new H(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xR(e)&&t.indexOf("/")!==-1)throw new H(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(qe.fromString(t));if(!Z.isDocumentKey(r))throw new H(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return qS(n,new Z(r))}if(t instanceof Ft)return qS(n,t._key);throw new H(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$p(t)}.`)}function wR(n,e){if(!Array.isArray(n)||n.length===0)throw new H(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ax(n,e){let t=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new H(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var FI=class{convertValue(e,t="none"){switch(Ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return no(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;let s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ue(o.doubleValue));return new nl(s)}convertGeoPoint(e){return new tl(Ue(e.latitude),Ue(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=jI(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Wu(e));default:return null}}convertTimestamp(e){let t=Yr(e);return new bt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=qe.fromString(e);Ne(YR(r));let i=new ap(r.get(1),r.get(3)),s=new Z(r.popFirst(5));return i.isEqual(t)||Qr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function cz(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Ws=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},kp=class extends Np{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ka(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(iE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},ka=class extends kp{data(e={}){return super.data(e)}},LI=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ws(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ka(this._firestore,this._userDataWriter,r.key,r,new Ws(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new H(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new ka(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ws(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new ka(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ws(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,p=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),p=o.indexOf(a.doc.key)),{type:uz(a.type),doc:u,oldIndex:d,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function uz(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te()}}function Sx(n){n=Jr(n,Ft);let e=Jr(n.firestore,to);return Zq(eE(e),n._key).then(t=>lz(e,n,t))}var Op=class extends FI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xu(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,t)}};function Rx(n){n=Jr(n,Wa);let e=Jr(n.firestore,to),t=eE(e),r=new Op(e);return az(n._query),Jq(t,n._query).then(i=>new LI(e,r,n,i))}function xx(n,e,t){n=Jr(n,Ft);let r=Jr(n.firestore,to),i=cz(n.converter,e,t);return Nx(r,[nz(tE(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,qi.none())])}function Mx(n,e,t,...r){n=Jr(n,Ft);let i=Jr(n.firestore,to),s=tE(i),o;return o=typeof(e=Le(e))=="string"||e instanceof Ka?iz(s,"updateDoc",n._key,e,t,r):rz(s,"updateDoc",n._key,e),Nx(i,[o.toMutation(n._key,qi.exists(!0))])}function Nx(n,e){return function(r,i){let s=new Rn;return r.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return jq(yield Yq(r),i,s)})),s.promise}(eE(n),e)}function lz(n,e,t){let r=t.docs.get(e._key),i=new Op(n);return new kp(n,i,e._key,r,new Ws(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Qa=i})(sr),ir(new qt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new to(new c_(r.getProvider("auth-internal")),new h_(r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new H(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ap(d.options.projectId,p)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),$e(jS,"4.7.3",e),$e(jS,"4.7.3","esm2017")})();var io=class{constructor(e){return e}},Px="firestore",sE=class{constructor(){return Ca(Px)}};var oE=new W("angularfire2.firestore-instances");function dz(n,e){let t=Ru(Px,n,e);return t&&new io(t)}function hz(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new io(r)}}var fz={provide:sE,deps:[[new At,oE]]},pz={provide:io,useFactory:dz,deps:[[new At,oE],$r]};function EZ(n,...e){return $e("angularfire",ji.full,"fst"),Yn([pz,fz,{provide:oE,useFactory:hz(n),multi:!0,deps:[xe,Et,Vs,Us,[new At,Vu],[new At,Ls],...e]}])}var kx=He(vx,!0);var Za=He(wx,!0);var Ox=He(Sx,!0);var Fx=He(Rx,!0);var bZ=He(_x,!0);var DZ=He(Cx,!0);var Lx=He(xx,!0);var Hp=He(Mx,!0);var CZ=He(Tx,!0);var qx="firebasestorage.googleapis.com",zx="storageBucket",mz=2*60*1e3,yz=10*60*1e3;var Qe=class n extends Ot{constructor(e,t,r=0){super(aE(e),`Firebase Storage: ${t} (${aE(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return aE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Ze=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Ze||{});function aE(n){return"storage/"+n}function fE(){let n="An unknown error occurred, please check the error payload for server response.";return new Qe(Ze.UNKNOWN,n)}function vz(n){return new Qe(Ze.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function wz(n){return new Qe(Ze.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function _z(){let n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Qe(Ze.UNAUTHENTICATED,n)}function Iz(){return new Qe(Ze.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Ez(n){return new Qe(Ze.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function bz(){return new Qe(Ze.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Dz(){return new Qe(Ze.CANCELED,"User canceled the upload/download.")}function Cz(n){return new Qe(Ze.INVALID_URL,"Invalid URL '"+n+"'.")}function Tz(n){return new Qe(Ze.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Az(){return new Qe(Ze.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+zx+"' property when initializing the app?")}function Sz(){return new Qe(Ze.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Rz(){return new Qe(Ze.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function xz(n){return new Qe(Ze.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function cE(n){return new Qe(Ze.INVALID_ARGUMENT,n)}function Gx(){return new Qe(Ze.APP_DELETED,"The Firebase app was deleted.")}function Mz(n){return new Qe(Ze.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ll(n,e){return new Qe(Ze.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function ul(n){throw new Qe(Ze.INTERNAL_ERROR,"Internal error: "+n)}var Nn=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw Tz(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(K){K.path.charAt(K.path.length-1)==="/"&&(K.path_=K.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function d(K){K.path_=decodeURIComponent(K.path)}let p="v[A-Za-z0-9_]+",g=t.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",E=new RegExp(`^https?://${g}/${p}/b/${i}/o${_}`,"i"),M={bucket:1,path:3},O=t===qx?"(?:storage.googleapis.com|storage.cloud.google.com)":t,k="([^?#]*)",j=new RegExp(`^https?://${O}/${i}/${k}`,"i"),q=[{regex:a,indices:u,postModify:s},{regex:E,indices:M,postModify:d},{regex:j,indices:{bucket:1,path:2},postModify:d}];for(let K=0;K<q.length;K++){let Te=q[K],J=Te.regex.exec(e);if(J){let T=J[Te.indices.bucket],I=J[Te.indices.path];I||(I=""),r=new n(T,I),Te.postModify(r);break}}if(r==null)throw Cz(e);return r}},uE=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function Nz(n,e,t){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let d=!1;function p(...k){d||(d=!0,e.apply(null,k))}function g(k){i=setTimeout(()=>{i=null,n(E,u())},k)}function _(){s&&clearTimeout(s)}function E(k,...j){if(d){_();return}if(k){_(),p.call(null,k,...j);return}if(u()||o){_(),p.call(null,k,...j);return}r<64&&(r*=2);let q;a===1?(a=2,q=0):q=(r+Math.random())*1e3,g(q)}let M=!1;function O(k){M||(M=!0,_(),!d&&(i!==null?(k||(a=2),clearTimeout(i),g(0)):k||(a=1)))}return g(0),s=setTimeout(()=>{o=!0,O(!0)},t),O}function Pz(n){n(!1)}function kz(n){return n!==void 0}function Oz(n){return typeof n=="object"&&!Array.isArray(n)}function pE(n){return typeof n=="string"||n instanceof String}function Vx(n){return gE()&&n instanceof Blob}function gE(){return typeof Blob<"u"}function Ux(n,e,t,r){if(r<e)throw cE(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw cE(`Invalid value for '${n}'. Expected ${t} or less.`)}function mE(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function Wx(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var Xa=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(Xa||{});function Fz(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||i||s}var lE=class{constructor(e,t,r,i,s,o,a,u,d,p,g,_=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=p,this.connectionFactory_=g,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,M)=>{this.resolve_=E,this.reject_=M,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Ja(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let u=a.loaded,d=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===Xa.NO_ERROR,u=s.getStatus();if(!a||Fz(u,this.additionalRetryCodes_)&&this.retry){let p=s.getErrorCode()===Xa.ABORT;r(!1,new Ja(!1,null,p));return}let d=this.successCodes_.indexOf(u)!==-1;r(!0,new Ja(d,s))})},t=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let u=this.callback_(a,a.getResponse());kz(u)?s(u):s()}catch(u){o(u)}else if(a!==null){let u=fE();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){let u=this.appDelete_?Gx():Dz();o(u)}else{let u=bz();o(u)}};this.canceled_?t(!1,new Ja(!1,null,!0)):this.backoffId_=Nz(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Pz(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Ja=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function Lz(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function Vz(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Uz(n,e){e&&(n["X-Firebase-GMPID"]=e)}function jz(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function Bz(n,e,t,r,i,s,o=!0){let a=Wx(n.urlParams),u=n.url+a,d=Object.assign({},n.headers);return Uz(d,e),Lz(d,t),Vz(d,s),jz(d,r),new lE(u,n.method,d,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o)}function $z(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Hz(...n){let e=$z();if(e!==void 0){let t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(gE())return new Blob(n);throw new Qe(Ze.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function qz(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function zz(n){if(typeof atob>"u")throw xz("base-64");return atob(n)}var pr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},dl=class{constructor(e,t){this.data=e,this.contentType=t||null}};function Gz(n,e){switch(n){case pr.RAW:return new dl(Kx(e));case pr.BASE64:case pr.BASE64URL:return new dl(Qx(n,e));case pr.DATA_URL:return new dl(Kz(e),Qz(e))}throw fE()}function Kx(n){let e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{let s=r,o=n.charCodeAt(++t);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Wz(n){let e;try{e=decodeURIComponent(n)}catch{throw ll(pr.DATA_URL,"Malformed data URL.")}return Kx(e)}function Qx(n,e){switch(n){case pr.BASE64:{let i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw ll(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case pr.BASE64URL:{let i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw ll(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=zz(e)}catch(i){throw i.message.includes("polyfill")?i:ll(n,"Invalid character found")}let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}var zp=class{constructor(e){this.base64=!1,this.contentType=null;let t=e.match(/^data:([^,]+)?,/);if(t===null)throw ll(pr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=t[1]||null;r!=null&&(this.base64=Yz(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function Kz(n){let e=new zp(n);return e.base64?Qx(pr.BASE64,e.rest):Wz(e.rest)}function Qz(n){return new zp(n).contentType}function Yz(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}var Gp=class n{constructor(e,t){let r=0,i="";Vx(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(Vx(this.data_)){let r=this.data_,i=qz(r,e,t);return i===null?null:new n(i)}else{let r=new Uint8Array(this.data_.buffer,e,t-e);return new n(r,!0)}}static getBlob(...e){if(gE()){let t=e.map(r=>r instanceof n?r.data_:r);return new n(Hz.apply(null,t))}else{let t=e.map(o=>pE(o)?Gz(pr.RAW,o).data:o.data_),r=0;t.forEach(o=>{r+=o.byteLength});let i=new Uint8Array(r),s=0;return t.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new n(i,!0)}}uploadData(){return this.data_}};function Yx(n){let e;try{e=JSON.parse(n)}catch{return null}return Oz(e)?e:null}function Zz(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function Jz(n,e){let t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function Zx(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function Xz(n,e){return e}var Dt=class{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||Xz}},qp=null;function e4(n){return!pE(n)||n.length<2?n:Zx(n)}function Jx(){if(qp)return qp;let n=[];n.push(new Dt("bucket")),n.push(new Dt("generation")),n.push(new Dt("metageneration")),n.push(new Dt("name","fullPath",!0));function e(s,o){return e4(o)}let t=new Dt("name");t.xform=e,n.push(t);function r(s,o){return o!==void 0?Number(o):o}let i=new Dt("size");return i.xform=r,n.push(i),n.push(new Dt("timeCreated")),n.push(new Dt("updated")),n.push(new Dt("md5Hash",null,!0)),n.push(new Dt("cacheControl",null,!0)),n.push(new Dt("contentDisposition",null,!0)),n.push(new Dt("contentEncoding",null,!0)),n.push(new Dt("contentLanguage",null,!0)),n.push(new Dt("contentType",null,!0)),n.push(new Dt("metadata","customMetadata",!0)),qp=n,qp}function t4(n,e){function t(){let r=n.bucket,i=n.fullPath,s=new Nn(r,i);return e._makeStorageReference(s)}Object.defineProperty(n,"ref",{get:t})}function n4(n,e,t){let r={};r.type="file";let i=t.length;for(let s=0;s<i;s++){let o=t[s];r[o.local]=o.xform(r,e[o.server])}return t4(r,n),r}function Xx(n,e,t){let r=Yx(e);return r===null?null:n4(n,r,t)}function r4(n,e,t,r){let i=Yx(e);if(i===null||!pE(i.downloadTokens))return null;let s=i.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(d=>{let p=n.bucket,g=n.fullPath,_="/b/"+o(p)+"/o/"+o(g),E=mE(_,t,r),M=Wx({alt:"media",token:d});return E+M})[0]}function i4(n,e){let t={},r=e.length;for(let i=0;i<r;i++){let s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}var Wp=class{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function eM(n){if(!n)throw fE()}function s4(n,e){function t(r,i){let s=Xx(n,i,e);return eM(s!==null),s}return t}function o4(n,e){function t(r,i){let s=Xx(n,i,e);return eM(s!==null),r4(s,i,n.host,n._protocol)}return t}function tM(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=Iz():i=_z():t.getStatus()===402?i=wz(n.bucket):t.getStatus()===403?i=Ez(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function a4(n){let e=tM(n);function t(r,i){let s=e(r,i);return r.getStatus()===404&&(s=vz(n.path)),s.serverResponse=i.serverResponse,s}return t}function c4(n,e,t){let r=e.fullServerUrl(),i=mE(r,n.host,n._protocol),s="GET",o=n.maxOperationRetryTime,a=new Wp(i,s,o4(n,t),o);return a.errorHandler=a4(e),a}function u4(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function l4(n,e,t){let r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=u4(null,e)),r}function d4(n,e,t,r,i){let s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let q="";for(let K=0;K<2;K++)q=q+Math.random().toString().slice(2);return q}let u=a();o["Content-Type"]="multipart/related; boundary="+u;let d=l4(e,r,i),p=i4(d,t),g="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+u+`\r
Content-Type: `+d.contentType+`\r
\r
`,_=`\r
--`+u+"--",E=Gp.getBlob(g,r,_);if(E===null)throw Sz();let M={name:d.fullPath},O=mE(s,n.host,n._protocol),k="POST",j=n.maxUploadRetryTime,G=new Wp(O,k,s4(n,t),j);return G.urlParams=M,G.headers=o,G.body=E.uploadData(),G.errorHandler=tM(e),G}var xZ=256*1024;var jx=null,dE=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Xa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Xa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Xa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw ul("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(let s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ul("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ul("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ul("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ul("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},hE=class extends dE{initXhr(){this.xhr_.responseType="text"}};function nM(){return jx?jx():new hE}var ec=class n{constructor(e,t){this._service=e,t instanceof Nn?this._location=t:this._location=Nn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new Nn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Zx(this._location.path)}get storage(){return this._service}get parent(){let e=Zz(this._location.path);if(e===null)return null;let t=new Nn(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw Mz(e)}};function h4(n,e,t){n._throwIfRoot("uploadBytes");let r=d4(n.storage,n._location,Jx(),new Gp(e,!0),t);return n.storage.makeRequestWithTokens(r,nM).then(i=>({metadata:i,ref:n}))}function f4(n){n._throwIfRoot("getDownloadURL");let e=c4(n.storage,n._location,Jx());return n.storage.makeRequestWithTokens(e,nM).then(t=>{if(t===null)throw Rz();return t})}function p4(n,e){let t=Jz(n._location.path,e),r=new Nn(n._location.bucket,t);return new ec(n.storage,r)}function g4(n){return/^[A-Za-z]+:\/\//.test(n)}function m4(n,e){return new ec(n,e)}function rM(n,e){if(n instanceof hl){let t=n;if(t._bucket==null)throw Az();let r=new ec(t,t._bucket);return e!=null?rM(r,e):r}else return e!==void 0?p4(n,e):n}function y4(n,e){if(e&&g4(e)){if(n instanceof hl)return m4(n,e);throw cE("To use ref(service, url), the first argument must be a Storage instance.")}else return rM(n,e)}function Bx(n,e){let t=e?.[zx];return t==null?null:Nn.makeFromBucketSpec(t,n)}function v4(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";let{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:Tf(i,n.app.options.projectId))}var hl=class{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=qx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=mz,this._maxUploadRetryTime=yz,this._requests=new Set,i!=null?this._bucket=Nn.makeFromBucketSpec(i,this._host):this._bucket=Bx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Nn.makeFromBucketSpec(this._url,e):this._bucket=Bx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ux("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ux("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return D(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return D(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ec(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new uE(Gx());{let o=Bz(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,t){return D(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()})}},$x="@firebase/storage",Hx="0.13.2";var iM="storage";function sM(n,e,t){return n=Le(n),h4(n,e,t)}function oM(n){return n=Le(n),f4(n)}function aM(n,e){return n=Le(n),y4(n,e)}function cM(n=Ui(),e){n=Le(n);let r=Os(n,iM).getImmediate({identifier:e}),i=Cf("storage");return i&&uM(r,...i),r}function uM(n,e,t,r={}){v4(n,e,t,r)}function w4(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new hl(t,r,i,e,sr)}function _4(){ir(new qt(iM,w4,"PUBLIC").setMultipleInstances(!0)),$e($x,Hx,""),$e($x,Hx,"esm2017")}_4();var lM=He(oM,!0);var dM=He(cM,!0);var hM=He(aM,!0);var fM=He(sM,!0);var pM=class n{constructor(e,t){this.auth=e;this.firestore=t}userSubject=new dt(null);uploadImage(e){return D(this,null,function*(){let t=dM(),r=hM(t,`images/${e.name}`);try{return yield fM(r,e),yield lM(r)}catch(i){throw console.error("Error al subir la imagen:",i),i}})}registerUser(e,t,r,i){return D(this,null,function*(){try{let s=yield kS(this.auth,e,t);yield OS(s.user);let o=i!=="especialista",a=le(V({uid:s.user.uid},r),{role:i,createdAt:new Date,habilitado:o,emailVerificado:!1});return yield Lx(Za(this.firestore,"users",s.user.uid),a),le(V({},s.user),{role:i})}catch(s){throw console.error(`Error al registrar el ${i}:`,s),s}})}verificarCorreo(e){return D(this,null,function*(){let t=this.auth.currentUser;if(t){yield t.reload();let r=yield this.getUserData(t.uid);t.emailVerified&&(yield Hp(Za(this.firestore,`users/${t.uid}`),{emailVerificado:!0}))}})}login(e,t){return D(this,null,function*(){try{let r=yield FS(this.auth,e,t);yield this.verificarCorreo(r.user.uid);let i=yield this.getUserData(r.user.uid);if(i.role==="especialista"){if(!i.habilitado)throw new Error("Tu cuenta debe ser aprobada por un administrador antes de poder iniciar sesi\xF3n.");if(!i.emailVerificado)throw new Error("Debes verificar tu correo electr\xF3nico para ingresar.")}else if(!i.emailVerificado)throw new Error("Debes verificar tu correo electr\xF3nico para ingresar.");return this.userSubject.next(V(V({},r.user),i)),V(V({},r.user),i)}catch(r){throw console.error("Error en el login:",r),r}})}getUserData(e){return D(this,null,function*(){let t=Za(this.firestore,`users/${e}`),r=yield Ox(t);if(r.exists())return r.data();throw new Error("No se encontr\xF3 el documento del usuario")})}logout(){return LS(this.auth).then(()=>{this.userSubject.next(null)})}habilitarUsuario(e){return D(this,null,function*(){let t=Za(this.firestore,"users",e);yield Hp(t,{habilitado:!0})})}inhabilitarUsuario(e){return D(this,null,function*(){let t=Za(this.firestore,"users",e);yield Hp(t,{habilitado:!1})})}obtenerUsuarios(){return D(this,null,function*(){let e=kx(this.firestore,"users");return(yield Fx(e)).docs.map(r=>V({id:r.id},r.data()))})}getUser(){return this.userSubject.asObservable()}static \u0275fac=function(t){return new(t||n)(ee(qs),ee(io))};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})};export{V as a,le as b,C4 as c,D as d,he as e,Y as f,Tr as g,ee as h,hD as i,Ar as j,Ve as k,q9 as l,z9 as m,We as n,Jn as o,G9 as p,W9 as q,ie as r,Nr as s,j1 as t,eF as u,rT as v,iT as w,Ay as x,Z9 as y,Pr as z,J9 as A,yF as B,X9 as C,_F as D,oT as E,IF as F,EF as G,bF as H,e8 as I,DF as J,cT as K,t8 as L,n8 as M,r8 as N,i8 as O,s8 as P,o8 as Q,N8 as R,P8 as S,k8 as T,O8 as U,sL as V,cK as W,qV as X,Oi as Y,r7 as Z,i7 as _,W7 as $,K7 as aa,BQ as ba,$Q as ca,io as da,EZ as ea,kx as fa,Za as ga,Ox as ha,Fx as ia,bZ as ja,DZ as ka,Lx as la,Hp as ma,CZ as na,pM as oa,YT as pa,UT as qa,TK as ra,AK as sa,JL as ta,tV as ua,RK as va,rV as wa,sV as xa,aV as ya,v0 as za,xK as Aa,MK as Ba,pV as Ca,NK as Da,PK as Ea,kK as Fa,I4 as Ga};
