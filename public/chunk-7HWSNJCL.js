import{a as j,b as le,c as hk,d as ph,e as Ji,f as b}from"./chunk-YYD2Q6U2.js";var Ed=hk((Yr,h0)=>{"use strict";(function(t,e){typeof Yr=="object"&&typeof h0<"u"?h0.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.Sweetalert2=e())})(Yr,function(){"use strict";function t(l,h,y){if(typeof l=="function"?l===h:l.has(h))return arguments.length<3?h:y;throw new TypeError("Private element is not present on this object")}function e(l,h){if(h.has(l))throw new TypeError("Cannot initialize the same private elements twice on an object")}function n(l,h){return l.get(t(l,h))}function r(l,h,y){e(l,h),h.set(l,y)}function i(l,h,y){return l.set(t(l,h),y),y}let o=100,s={},a=()=>{s.previousActiveElement instanceof HTMLElement?(s.previousActiveElement.focus(),s.previousActiveElement=null):document.body&&document.body.focus()},u=l=>new Promise(h=>{if(!l)return h();let y=window.scrollX,_=window.scrollY;s.restoreFocusTimeout=setTimeout(()=>{a(),h()},o),window.scrollTo(y,_)}),d="swal2-",m=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((l,h)=>(l[h]=d+h,l),{}),E=["success","warning","info","question","error"].reduce((l,h)=>(l[h]=d+h,l),{}),x="SweetAlert2:",F=l=>l.charAt(0).toUpperCase()+l.slice(1),N=l=>{console.warn(`${x} ${typeof l=="object"?l.join(" "):l}`)},B=l=>{console.error(`${x} ${l}`)},Z=[],z=l=>{Z.includes(l)||(Z.push(l),N(l))},ne=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;z(`"${l}" is deprecated and will be removed in the next major release.${h?` Use "${h}" instead.`:""}`)},ye=l=>typeof l=="function"?l():l,ie=l=>l&&typeof l.toPromise=="function",D=l=>ie(l)?l.toPromise():Promise.resolve(l),I=l=>l&&Promise.resolve(l)===l,C=()=>document.body.querySelector(`.${m.container}`),A=l=>{let h=C();return h?h.querySelector(l):null},S=l=>A(`.${l}`),R=()=>S(m.popup),T=()=>S(m.icon),zn=()=>S(m["icon-content"]),ki=()=>S(m.title),Jc=()=>S(m["html-container"]),Oi=()=>S(m.image),Zr=()=>S(m["progress-steps"]),Fi=()=>S(m["validation-message"]),wn=()=>A(`.${m.actions} .${m.confirm}`),Li=()=>A(`.${m.actions} .${m.cancel}`),qt=()=>A(`.${m.actions} .${m.deny}`),Mt=()=>S(m["input-label"]),Vi=()=>A(`.${m.loader}`),Gn=()=>S(m.actions),Id=()=>S(m.footer),pr=()=>S(m["timer-progress-bar"]),Xc=()=>S(m.close),Fg=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Ui=()=>{let l=R();if(!l)return[];let h=l.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),y=Array.from(h).sort((W,ve)=>{let Be=parseInt(W.getAttribute("tabindex")||"0"),tt=parseInt(ve.getAttribute("tabindex")||"0");return Be>tt?1:Be<tt?-1:0}),_=l.querySelectorAll(Fg),k=Array.from(_).filter(W=>W.getAttribute("tabindex")!=="-1");return[...new Set(y.concat(k))].filter(W=>jt(W))},ji=()=>_n(document.body,m.shown)&&!_n(document.body,m["toast-shown"])&&!_n(document.body,m["no-backdrop"]),Bi=()=>{let l=R();return l?_n(l,m.toast):!1},eu=()=>{let l=R();return l?l.hasAttribute("data-loading"):!1},Ut=(l,h)=>{if(l.textContent="",h){let _=new DOMParser().parseFromString(h,"text/html"),k=_.querySelector("head");k&&Array.from(k.childNodes).forEach(ve=>{l.appendChild(ve)});let W=_.querySelector("body");W&&Array.from(W.childNodes).forEach(ve=>{ve instanceof HTMLVideoElement||ve instanceof HTMLAudioElement?l.appendChild(ve.cloneNode(!0)):l.appendChild(ve)})}},_n=(l,h)=>{if(!h)return!1;let y=h.split(/\s+/);for(let _=0;_<y.length;_++)if(!l.classList.contains(y[_]))return!1;return!0},bd=(l,h)=>{Array.from(l.classList).forEach(y=>{!Object.values(m).includes(y)&&!Object.values(E).includes(y)&&!Object.values(h.showClass||{}).includes(y)&&l.classList.remove(y)})},zt=(l,h,y)=>{if(bd(l,h),!h.customClass)return;let _=h.customClass[y];if(_){if(typeof _!="string"&&!_.forEach){N(`Invalid type of customClass.${y}! Expected string or iterable object, got "${typeof _}"`);return}Te(l,_)}},ea=(l,h)=>{if(!h)return null;switch(h){case"select":case"textarea":case"file":return l.querySelector(`.${m.popup} > .${m[h]}`);case"checkbox":return l.querySelector(`.${m.popup} > .${m.checkbox} input`);case"radio":return l.querySelector(`.${m.popup} > .${m.radio} input:checked`)||l.querySelector(`.${m.popup} > .${m.radio} input:first-child`);case"range":return l.querySelector(`.${m.popup} > .${m.range} input`);default:return l.querySelector(`.${m.popup} > .${m.input}`)}},tu=l=>{if(l.focus(),l.type!=="file"){let h=l.value;l.value="",l.value=h}},nu=(l,h,y)=>{!l||!h||(typeof h=="string"&&(h=h.split(/\s+/).filter(Boolean)),h.forEach(_=>{Array.isArray(l)?l.forEach(k=>{y?k.classList.add(_):k.classList.remove(_)}):y?l.classList.add(_):l.classList.remove(_)}))},Te=(l,h)=>{nu(l,h,!0)},En=(l,h)=>{nu(l,h,!1)},mr=(l,h)=>{let y=Array.from(l.children);for(let _=0;_<y.length;_++){let k=y[_];if(k instanceof HTMLElement&&_n(k,h))return k}},Wn=(l,h,y)=>{y===`${parseInt(y)}`&&(y=parseInt(y)),y||parseInt(y)===0?l.style.setProperty(h,typeof y=="number"?`${y}px`:y):l.style.removeProperty(h)},ot=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";l&&(l.style.display=h)},gt=l=>{l&&(l.style.display="none")},yt=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";l&&new MutationObserver(()=>{gr(l,l.innerHTML,h)}).observe(l,{childList:!0,subtree:!0})},Nt=(l,h,y,_)=>{let k=l.querySelector(h);k&&k.style.setProperty(y,_)},gr=function(l,h){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";h?ot(l,y):gt(l)},jt=l=>!!(l&&(l.offsetWidth||l.offsetHeight||l.getClientRects().length)),Cd=()=>!jt(wn())&&!jt(qt())&&!jt(Li()),Td=l=>l.scrollHeight>l.clientHeight,$i=l=>{let h=window.getComputedStyle(l),y=parseFloat(h.getPropertyValue("animation-duration")||"0"),_=parseFloat(h.getPropertyValue("transition-duration")||"0");return y>0||_>0},ta=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=pr();y&&jt(y)&&(h&&(y.style.transition="none",y.style.width="100%"),setTimeout(()=>{y.style.transition=`width ${l/1e3}s linear`,y.style.width="0%"},10))},Dd=()=>{let l=pr();if(!l)return;let h=parseInt(window.getComputedStyle(l).width);l.style.removeProperty("transition"),l.style.width="100%";let y=parseInt(window.getComputedStyle(l).width),_=h/y*100;l.style.width=`${_}%`},ru=()=>typeof window>"u"||typeof document>"u",Lg=`
 <div aria-labelledby="${m.title}" aria-describedby="${m["html-container"]}" class="${m.popup}" tabindex="-1">
   <button type="button" class="${m.close}"></button>
   <ul class="${m["progress-steps"]}"></ul>
   <div class="${m.icon}"></div>
   <img class="${m.image}" />
   <h2 class="${m.title}" id="${m.title}"></h2>
   <div class="${m["html-container"]}" id="${m["html-container"]}"></div>
   <input class="${m.input}" id="${m.input}" />
   <input type="file" class="${m.file}" />
   <div class="${m.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${m.select}" id="${m.select}"></select>
   <div class="${m.radio}"></div>
   <label class="${m.checkbox}">
     <input type="checkbox" id="${m.checkbox}" />
     <span class="${m.label}"></span>
   </label>
   <textarea class="${m.textarea}" id="${m.textarea}"></textarea>
   <div class="${m["validation-message"]}" id="${m["validation-message"]}"></div>
   <div class="${m.actions}">
     <div class="${m.loader}"></div>
     <button type="button" class="${m.confirm}"></button>
     <button type="button" class="${m.deny}"></button>
     <button type="button" class="${m.cancel}"></button>
   </div>
   <div class="${m.footer}"></div>
   <div class="${m["timer-progress-bar-container"]}">
     <div class="${m["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Vg=()=>{let l=C();return l?(l.remove(),En([document.documentElement,document.body],[m["no-backdrop"],m["toast-shown"],m["has-column"]]),!0):!1},Kn=()=>{s.currentInstance.resetValidationMessage()},Ad=()=>{let l=R(),h=mr(l,m.input),y=mr(l,m.file),_=l.querySelector(`.${m.range} input`),k=l.querySelector(`.${m.range} output`),W=mr(l,m.select),ve=l.querySelector(`.${m.checkbox} input`),Be=mr(l,m.textarea);h.oninput=Kn,y.onchange=Kn,W.onchange=Kn,ve.onchange=Kn,Be.oninput=Kn,_.oninput=()=>{Kn(),k.value=_.value},_.onchange=()=>{Kn(),k.value=_.value}},Sd=l=>typeof l=="string"?document.querySelector(l):l,jo=l=>{let h=R();h.setAttribute("role",l.toast?"alert":"dialog"),h.setAttribute("aria-live",l.toast?"polite":"assertive"),l.toast||h.setAttribute("aria-modal","true")},iu=l=>{window.getComputedStyle(l).direction==="rtl"&&Te(C(),m.rtl)},ou=l=>{let h=Vg();if(ru()){B("SweetAlert2 requires document to initialize");return}let y=document.createElement("div");y.className=m.container,h&&Te(y,m["no-transition"]),Ut(y,Lg);let _=Sd(l.target);_.appendChild(y),jo(l),iu(_),Ad()},Qn=(l,h)=>{l instanceof HTMLElement?h.appendChild(l):typeof l=="object"?Rd(l,h):l&&Ut(h,l)},Rd=(l,h)=>{l.jquery?na(h,l):Ut(h,l.toString())},na=(l,h)=>{if(l.textContent="",0 in h)for(let y=0;y in h;y++)l.appendChild(h[y].cloneNode(!0));else l.appendChild(h.cloneNode(!0))},xd=(l,h)=>{let y=Gn(),_=Vi();!y||!_||(!h.showConfirmButton&&!h.showDenyButton&&!h.showCancelButton?gt(y):ot(y),zt(y,h,"actions"),Bo(y,_,h),Ut(_,h.loaderHtml||""),zt(_,h,"loader"))};function Bo(l,h,y){let _=wn(),k=qt(),W=Li();!_||!k||!W||(At(_,"confirm",y),At(k,"deny",y),At(W,"cancel",y),Md(_,k,W,y),y.reverseButtons&&(y.toast?(l.insertBefore(W,_),l.insertBefore(k,_)):(l.insertBefore(W,h),l.insertBefore(k,h),l.insertBefore(_,h))))}function Md(l,h,y,_){if(!_.buttonsStyling){En([l,h,y],m.styled);return}Te([l,h,y],m.styled),_.confirmButtonColor&&(l.style.backgroundColor=_.confirmButtonColor,Te(l,m["default-outline"])),_.denyButtonColor&&(h.style.backgroundColor=_.denyButtonColor,Te(h,m["default-outline"])),_.cancelButtonColor&&(y.style.backgroundColor=_.cancelButtonColor,Te(y,m["default-outline"]))}function At(l,h,y){let _=F(h);gr(l,y[`show${_}Button`],"inline-block"),Ut(l,y[`${h}ButtonText`]||""),l.setAttribute("aria-label",y[`${h}ButtonAriaLabel`]||""),l.className=m[h],zt(l,y,`${h}Button`)}let Nd=(l,h)=>{let y=Xc();y&&(Ut(y,h.closeButtonHtml||""),zt(y,h,"closeButton"),gr(y,h.showCloseButton),y.setAttribute("aria-label",h.closeButtonAriaLabel||""))},$o=(l,h)=>{let y=C();y&&(Ho(y,h.backdrop),Ug(y,h.position),jg(y,h.grow),zt(y,h,"container"))};function Ho(l,h){typeof h=="string"?l.style.background=h:h||Te([document.documentElement,document.body],m["no-backdrop"])}function Ug(l,h){h&&(h in m?Te(l,m[h]):(N('The "position" parameter is not valid, defaulting to "center"'),Te(l,m.center)))}function jg(l,h){h&&Te(l,m[`grow-${h}`])}var ke={innerParams:new WeakMap,domCache:new WeakMap};let Bg=["input","file","range","select","radio","checkbox","textarea"],$g=(l,h)=>{let y=R();if(!y)return;let _=ke.innerParams.get(l),k=!_||h.input!==_.input;Bg.forEach(W=>{let ve=mr(y,m[W]);ve&&(su(W,h.inputAttributes),ve.className=m[W],k&&gt(ve))}),h.input&&(k&&ra(h),ia(h))},ra=l=>{if(!l.input)return;if(!Qe[l.input]){B(`Unexpected type of input! Expected ${Object.keys(Qe).join(" | ")}, got "${l.input}"`);return}let h=au(l.input);if(!h)return;let y=Qe[l.input](h,l);ot(h),l.inputAutoFocus&&setTimeout(()=>{tu(y)})},Pd=l=>{for(let h=0;h<l.attributes.length;h++){let y=l.attributes[h].name;["id","type","value","style"].includes(y)||l.removeAttribute(y)}},su=(l,h)=>{let y=R();if(!y)return;let _=ea(y,l);if(_){Pd(_);for(let k in h)_.setAttribute(k,h[k])}},ia=l=>{if(!l.input)return;let h=au(l.input);h&&zt(h,l,"input")},Mn=(l,h)=>{!l.placeholder&&h.inputPlaceholder&&(l.placeholder=h.inputPlaceholder)},Hi=(l,h,y)=>{if(y.inputLabel){let _=document.createElement("label"),k=m["input-label"];_.setAttribute("for",l.id),_.className=k,typeof y.customClass=="object"&&Te(_,y.customClass.inputLabel),_.innerText=y.inputLabel,h.insertAdjacentElement("beforebegin",_)}},au=l=>{let h=R();if(h)return mr(h,m[l]||m.input)},qi=(l,h)=>{["string","number"].includes(typeof h)?l.value=`${h}`:I(h)||N(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof h}"`)},Qe={};Qe.text=Qe.email=Qe.password=Qe.number=Qe.tel=Qe.url=Qe.search=Qe.date=Qe["datetime-local"]=Qe.time=Qe.week=Qe.month=(l,h)=>(qi(l,h.inputValue),Hi(l,l,h),Mn(l,h),l.type=h.input,l),Qe.file=(l,h)=>(Hi(l,l,h),Mn(l,h),l),Qe.range=(l,h)=>{let y=l.querySelector("input"),_=l.querySelector("output");return qi(y,h.inputValue),y.type=h.input,qi(_,h.inputValue),Hi(y,l,h),l},Qe.select=(l,h)=>{if(l.textContent="",h.inputPlaceholder){let y=document.createElement("option");Ut(y,h.inputPlaceholder),y.value="",y.disabled=!0,y.selected=!0,l.appendChild(y)}return Hi(l,l,h),l},Qe.radio=l=>(l.textContent="",l),Qe.checkbox=(l,h)=>{let y=ea(R(),"checkbox");y.value="1",y.checked=!!h.inputValue;let _=l.querySelector("span");return Ut(_,h.inputPlaceholder||h.inputLabel),y},Qe.textarea=(l,h)=>{qi(l,h.inputValue),Mn(l,h),Hi(l,l,h);let y=_=>parseInt(window.getComputedStyle(_).marginLeft)+parseInt(window.getComputedStyle(_).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let _=parseInt(window.getComputedStyle(R()).width),k=()=>{if(!document.body.contains(l))return;let W=l.offsetWidth+y(l);W>_?R().style.width=`${W}px`:Wn(R(),"width",h.width)};new MutationObserver(k).observe(l,{attributes:!0,attributeFilter:["style"]})}}),l};let kd=(l,h)=>{let y=Jc();y&&(yt(y),zt(y,h,"htmlContainer"),h.html?(Qn(h.html,y),ot(y,"block")):h.text?(y.textContent=h.text,ot(y,"block")):gt(y),$g(l,h))},Od=(l,h)=>{let y=Id();y&&(yt(y),gr(y,h.footer,"block"),h.footer&&Qn(h.footer,y),zt(y,h,"footer"))},Hg=(l,h)=>{let y=ke.innerParams.get(l),_=T();if(_){if(y&&h.icon===y.icon){yr(_,h),qo(_,h);return}if(!h.icon&&!h.iconHtml){gt(_);return}if(h.icon&&Object.keys(E).indexOf(h.icon)===-1){B(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${h.icon}"`),gt(_);return}ot(_),yr(_,h),qo(_,h),Te(_,h.showClass&&h.showClass.icon)}},qo=(l,h)=>{for(let[y,_]of Object.entries(E))h.icon!==y&&En(l,_);Te(l,h.icon&&E[h.icon]),uu(l,h),Fd(),zt(l,h,"icon")},Fd=()=>{let l=R();if(!l)return;let h=window.getComputedStyle(l).getPropertyValue("background-color"),y=l.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let _=0;_<y.length;_++)y[_].style.backgroundColor=h},cu=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,zo=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,yr=(l,h)=>{if(!h.icon&&!h.iconHtml)return;let y=l.innerHTML,_="";h.iconHtml?_=Ld(h.iconHtml):h.icon==="success"?(_=cu,y=y.replace(/ style=".*?"/g,"")):h.icon==="error"?_=zo:h.icon&&(_=Ld({question:"?",warning:"!",info:"i"}[h.icon])),y.trim()!==_.trim()&&Ut(l,_)},uu=(l,h)=>{if(h.iconColor){l.style.color=h.iconColor,l.style.borderColor=h.iconColor;for(let y of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Nt(l,y,"background-color",h.iconColor);Nt(l,".swal2-success-ring","border-color",h.iconColor)}},Ld=l=>`<div class="${m["icon-content"]}">${l}</div>`,Vd=(l,h)=>{let y=Oi();if(y){if(!h.imageUrl){gt(y);return}ot(y,""),y.setAttribute("src",h.imageUrl),y.setAttribute("alt",h.imageAlt||""),Wn(y,"width",h.imageWidth),Wn(y,"height",h.imageHeight),y.className=m.image,zt(y,h,"image")}},Ud=(l,h)=>{let y=C(),_=R();if(!(!y||!_)){if(h.toast){Wn(y,"width",h.width),_.style.width="100%";let k=Vi();k&&_.insertBefore(k,T())}else Wn(_,"width",h.width);Wn(_,"padding",h.padding),h.color&&(_.style.color=h.color),h.background&&(_.style.background=h.background),gt(Fi()),jd(_,h)}},jd=(l,h)=>{let y=h.showClass||{};l.className=`${m.popup} ${jt(l)?y.popup:""}`,h.toast?(Te([document.documentElement,document.body],m["toast-shown"]),Te(l,m.toast)):Te(l,m.modal),zt(l,h,"popup"),typeof h.customClass=="string"&&Te(l,h.customClass),h.icon&&Te(l,m[`icon-${h.icon}`])},lu=(l,h)=>{let y=Zr();if(!y)return;let{progressSteps:_,currentProgressStep:k}=h;if(!_||_.length===0||k===void 0){gt(y);return}ot(y),y.textContent="",k>=_.length&&N("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),_.forEach((W,ve)=>{let Be=du(W);if(y.appendChild(Be),ve===k&&Te(Be,m["active-progress-step"]),ve!==_.length-1){let tt=Bd(h);y.appendChild(tt)}})},du=l=>{let h=document.createElement("li");return Te(h,m["progress-step"]),Ut(h,l),h},Bd=l=>{let h=document.createElement("li");return Te(h,m["progress-step-line"]),l.progressStepsDistance&&Wn(h,"width",l.progressStepsDistance),h},$d=(l,h)=>{let y=ki();y&&(yt(y),gr(y,h.title||h.titleText,"block"),h.title&&Qn(h.title,y),h.titleText&&(y.innerText=h.titleText),zt(y,h,"title"))},Hd=(l,h)=>{Ud(l,h),$o(l,h),lu(l,h),Hg(l,h),Vd(l,h),$d(l,h),Nd(l,h),kd(l,h),xd(l,h),Od(l,h);let y=R();typeof h.didRender=="function"&&y&&h.didRender(y),s.eventEmitter.emit("didRender",y)},qg=()=>jt(R()),hu=()=>{var l;return(l=wn())===null||l===void 0?void 0:l.click()},qd=()=>{var l;return(l=qt())===null||l===void 0?void 0:l.click()},zg=()=>{var l;return(l=Li())===null||l===void 0?void 0:l.click()},an=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Nn=l=>{l.keydownTarget&&l.keydownHandlerAdded&&(l.keydownTarget.removeEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!1)},oa=(l,h,y)=>{Nn(l),h.toast||(l.keydownHandler=_=>sa(h,_,y),l.keydownTarget=h.keydownListenerCapture?window:R(),l.keydownListenerCapture=h.keydownListenerCapture,l.keydownTarget.addEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!0)},zi=(l,h)=>{var y;let _=Ui();if(_.length){l=l+h,l===_.length?l=0:l===-1&&(l=_.length-1),_[l].focus();return}(y=R())===null||y===void 0||y.focus()},fu=["ArrowRight","ArrowDown"],qe=["ArrowLeft","ArrowUp"],sa=(l,h,y)=>{l&&(h.isComposing||h.keyCode===229||(l.stopKeydownPropagation&&h.stopPropagation(),h.key==="Enter"?Go(h,l):h.key==="Tab"?Wo(h):[...fu,...qe].includes(h.key)?Gg(h.key):h.key==="Escape"&&zd(h,l,y)))},Go=(l,h)=>{if(!ye(h.allowEnterKey))return;let y=ea(R(),h.input);if(l.target&&y&&l.target instanceof HTMLElement&&l.target.outerHTML===y.outerHTML){if(["textarea","file"].includes(h.input))return;hu(),l.preventDefault()}},Wo=l=>{let h=l.target,y=Ui(),_=-1;for(let k=0;k<y.length;k++)if(h===y[k]){_=k;break}l.shiftKey?zi(_,-1):zi(_,1),l.stopPropagation(),l.preventDefault()},Gg=l=>{let h=Gn(),y=wn(),_=qt(),k=Li();if(!h||!y||!_||!k)return;let W=[y,_,k];if(document.activeElement instanceof HTMLElement&&!W.includes(document.activeElement))return;let ve=fu.includes(l)?"nextElementSibling":"previousElementSibling",Be=document.activeElement;if(Be){for(let tt=0;tt<h.children.length;tt++){if(Be=Be[ve],!Be)return;if(Be instanceof HTMLButtonElement&&jt(Be))break}Be instanceof HTMLButtonElement&&Be.focus()}},zd=(l,h,y)=>{ye(h.allowEscapeKey)&&(l.preventDefault(),y(an.esc))};var Gi={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let Wg=()=>{let l=C();Array.from(document.body.children).forEach(y=>{y.contains(l)||(y.hasAttribute("aria-hidden")&&y.setAttribute("data-previous-aria-hidden",y.getAttribute("aria-hidden")||""),y.setAttribute("aria-hidden","true"))})},Gd=()=>{Array.from(document.body.children).forEach(h=>{h.hasAttribute("data-previous-aria-hidden")?(h.setAttribute("aria-hidden",h.getAttribute("data-previous-aria-hidden")||""),h.removeAttribute("data-previous-aria-hidden")):h.removeAttribute("aria-hidden")})},Wd=typeof window<"u"&&!!window.GestureEvent,Ko=()=>{if(Wd&&!_n(document.body,m.iosfix)){let l=document.body.scrollTop;document.body.style.top=`${l*-1}px`,Te(document.body,m.iosfix),vr()}},vr=()=>{let l=C();if(!l)return;let h;l.ontouchstart=y=>{h=Kd(y)},l.ontouchmove=y=>{h&&(y.preventDefault(),y.stopPropagation())}},Kd=l=>{let h=l.target,y=C(),_=Jc();return!y||!_||Qd(l)||Yd(l)?!1:h===y||!Td(y)&&h instanceof HTMLElement&&h.tagName!=="INPUT"&&h.tagName!=="TEXTAREA"&&!(Td(_)&&_.contains(h))},Qd=l=>l.touches&&l.touches.length&&l.touches[0].touchType==="stylus",Yd=l=>l.touches&&l.touches.length>1,Wi=()=>{if(_n(document.body,m.iosfix)){let l=parseInt(document.body.style.top,10);En(document.body,m.iosfix),document.body.style.top="",document.body.scrollTop=l*-1}},Kg=()=>{let l=document.createElement("div");l.className=m["scrollbar-measure"],document.body.appendChild(l);let h=l.getBoundingClientRect().width-l.clientWidth;return document.body.removeChild(l),h},Ki=null,Qg=l=>{Ki===null&&(document.body.scrollHeight>window.innerHeight||l==="scroll")&&(Ki=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Ki+Kg()}px`)},wr=()=>{Ki!==null&&(document.body.style.paddingRight=`${Ki}px`,Ki=null)};function Zd(l,h,y,_){Bi()?Ye(l,_):(u(y).then(()=>Ye(l,_)),Nn(s)),Wd?(h.setAttribute("style","display:none !important"),h.removeAttribute("class"),h.innerHTML=""):h.remove(),ji()&&(wr(),Wi(),Gd()),Yg()}function Yg(){En([document.documentElement,document.body],[m.shown,m["height-auto"],m["no-backdrop"],m["toast-shown"]])}function cn(l){l=Qo(l);let h=Gi.swalPromiseResolve.get(this),y=aa(this);this.isAwaitingPromise?l.isDismissed||(Yn(this),h(l)):y&&h(l)}let aa=l=>{let h=R();if(!h)return!1;let y=ke.innerParams.get(l);if(!y||_n(h,y.hideClass.popup))return!1;En(h,y.showClass.popup),Te(h,y.hideClass.popup);let _=C();return En(_,y.showClass.backdrop),Te(_,y.hideClass.backdrop),Jd(l,h,y),!0};function pu(l){let h=Gi.swalPromiseReject.get(this);Yn(this),h&&h(l)}let Yn=l=>{l.isAwaitingPromise&&(delete l.isAwaitingPromise,ke.innerParams.get(l)||l._destroy())},Qo=l=>typeof l>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},l),Jd=(l,h,y)=>{let _=C(),k=$i(h);typeof y.willClose=="function"&&y.willClose(h),s.eventEmitter.emit("willClose",h),k?mu(l,h,_,y.returnFocus,y.didClose):Zd(l,_,y.returnFocus,y.didClose)},mu=(l,h,y,_,k)=>{s.swalCloseEventFinishedCallback=Zd.bind(null,l,y,_,k);let W=function(ve){ve.target===h&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback,h.removeEventListener("animationend",W),h.removeEventListener("transitionend",W))};h.addEventListener("animationend",W),h.addEventListener("transitionend",W)},Ye=(l,h)=>{setTimeout(()=>{typeof h=="function"&&h.bind(l.params)(),s.eventEmitter.emit("didClose"),l._destroy&&l._destroy()})},Qi=l=>{let h=R();if(h||new fh,h=R(),!h)return;let y=Vi();Bi()?gt(T()):Zg(h,l),ot(y),h.setAttribute("data-loading","true"),h.setAttribute("aria-busy","true"),h.focus()},Zg=(l,h)=>{let y=Gn(),_=Vi();!y||!_||(!h&&jt(wn())&&(h=wn()),ot(y),h&&(gt(h),_.setAttribute("data-button-to-replace",h.className),y.insertBefore(_,h)),Te([l,y],m.loading))},Xd=(l,h)=>{h.input==="select"||h.input==="radio"?Zn(l,h):["text","email","number","tel","textarea"].some(y=>y===h.input)&&(ie(h.inputValue)||I(h.inputValue))&&(Qi(wn()),rh(l,h))},eh=(l,h)=>{let y=l.getInput();if(!y)return null;switch(h.input){case"checkbox":return th(y);case"radio":return ca(y);case"file":return nh(y);default:return h.inputAutoTrim?y.value.trim():y.value}},th=l=>l.checked?1:0,ca=l=>l.checked?l.value:null,nh=l=>l.files&&l.files.length?l.getAttribute("multiple")!==null?l.files:l.files[0]:null,Zn=(l,h)=>{let y=R();if(!y)return;let _=k=>{h.input==="select"?Jg(y,Zo(k),h):h.input==="radio"&&Yo(y,Zo(k),h)};ie(h.inputOptions)||I(h.inputOptions)?(Qi(wn()),D(h.inputOptions).then(k=>{l.hideLoading(),_(k)})):typeof h.inputOptions=="object"?_(h.inputOptions):B(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof h.inputOptions}`)},rh=(l,h)=>{let y=l.getInput();y&&(gt(y),D(h.inputValue).then(_=>{y.value=h.input==="number"?`${parseFloat(_)||0}`:`${_}`,ot(y),y.focus(),l.hideLoading()}).catch(_=>{B(`Error in inputValue promise: ${_}`),y.value="",ot(y),y.focus(),l.hideLoading()}))};function Jg(l,h,y){let _=mr(l,m.select);if(!_)return;let k=(W,ve,Be)=>{let tt=document.createElement("option");tt.value=Be,Ut(tt,ve),tt.selected=ua(Be,y.inputValue),W.appendChild(tt)};h.forEach(W=>{let ve=W[0],Be=W[1];if(Array.isArray(Be)){let tt=document.createElement("optgroup");tt.label=ve,tt.disabled=!1,_.appendChild(tt),Be.forEach(fa=>k(tt,fa[1],fa[0]))}else k(_,Be,ve)}),_.focus()}function Yo(l,h,y){let _=mr(l,m.radio);if(!_)return;h.forEach(W=>{let ve=W[0],Be=W[1],tt=document.createElement("input"),fa=document.createElement("label");tt.type="radio",tt.name=m.radio,tt.value=ve,ua(ve,y.inputValue)&&(tt.checked=!0);let ey=document.createElement("span");Ut(ey,Be),ey.className=m.label,fa.appendChild(tt),fa.appendChild(ey),_.appendChild(fa)});let k=_.querySelectorAll("input");k.length&&k[0].focus()}let Zo=l=>{let h=[];return l instanceof Map?l.forEach((y,_)=>{let k=y;typeof k=="object"&&(k=Zo(k)),h.push([_,k])}):Object.keys(l).forEach(y=>{let _=l[y];typeof _=="object"&&(_=Zo(_)),h.push([y,_])}),h},ua=(l,h)=>!!h&&h.toString()===l.toString(),la=l=>{let h=ke.innerParams.get(l);l.disableButtons(),h.input?oh(l,"confirm"):Jo(l,!0)},ih=l=>{let h=ke.innerParams.get(l);l.disableButtons(),h.returnInputValueOnDeny?oh(l,"deny"):Jr(l,!1)},da=(l,h)=>{l.disableButtons(),h(an.cancel)},oh=(l,h)=>{let y=ke.innerParams.get(l);if(!y.input){B(`The "input" parameter is needed to be set when using returnInputValueOn${F(h)}`);return}let _=l.getInput(),k=eh(l,y);y.inputValidator?sh(l,k,h):_&&!_.checkValidity()?(l.enableButtons(),l.showValidationMessage(y.validationMessage||_.validationMessage)):h==="deny"?Jr(l,k):Jo(l,k)},sh=(l,h,y)=>{let _=ke.innerParams.get(l);l.disableInput(),Promise.resolve().then(()=>D(_.inputValidator(h,_.validationMessage))).then(W=>{l.enableButtons(),l.enableInput(),W?l.showValidationMessage(W):y==="deny"?Jr(l,h):Jo(l,h)})},Jr=(l,h)=>{let y=ke.innerParams.get(l||void 0);y.showLoaderOnDeny&&Qi(qt()),y.preDeny?(l.isAwaitingPromise=!0,Promise.resolve().then(()=>D(y.preDeny(h,y.validationMessage))).then(k=>{k===!1?(l.hideLoading(),Yn(l)):l.close({isDenied:!0,value:typeof k>"u"?h:k})}).catch(k=>yu(l||void 0,k))):l.close({isDenied:!0,value:h})},gu=(l,h)=>{l.close({isConfirmed:!0,value:h})},yu=(l,h)=>{l.rejectPromise(h)},Jo=(l,h)=>{let y=ke.innerParams.get(l||void 0);y.showLoaderOnConfirm&&Qi(),y.preConfirm?(l.resetValidationMessage(),l.isAwaitingPromise=!0,Promise.resolve().then(()=>D(y.preConfirm(h,y.validationMessage))).then(k=>{jt(Fi())||k===!1?(l.hideLoading(),Yn(l)):gu(l,typeof k>"u"?h:k)}).catch(k=>yu(l||void 0,k))):gu(l,h)};function Yi(){let l=ke.innerParams.get(this);if(!l)return;let h=ke.domCache.get(this);gt(h.loader),Bi()?l.icon&&ot(T()):ah(h),En([h.popup,h.actions],m.loading),h.popup.removeAttribute("aria-busy"),h.popup.removeAttribute("data-loading"),h.confirmButton.disabled=!1,h.denyButton.disabled=!1,h.cancelButton.disabled=!1}let ah=l=>{let h=l.popup.getElementsByClassName(l.loader.getAttribute("data-button-to-replace"));h.length?ot(h[0],"inline-block"):Cd()&&gt(l.actions)};function Xo(){let l=ke.innerParams.get(this),h=ke.domCache.get(this);return h?ea(h.popup,l.input):null}function vu(l,h,y){let _=ke.domCache.get(l);h.forEach(k=>{_[k].disabled=y})}function wu(l,h){let y=R();if(!(!y||!l))if(l.type==="radio"){let _=y.querySelectorAll(`[name="${m.radio}"]`);for(let k=0;k<_.length;k++)_[k].disabled=h}else l.disabled=h}function _r(){vu(this,["confirmButton","denyButton","cancelButton"],!1)}function _u(){vu(this,["confirmButton","denyButton","cancelButton"],!0)}function Eu(){wu(this.getInput(),!1)}function Iu(){wu(this.getInput(),!0)}function bu(l){let h=ke.domCache.get(this),y=ke.innerParams.get(this);Ut(h.validationMessage,l),h.validationMessage.className=m["validation-message"],y.customClass&&y.customClass.validationMessage&&Te(h.validationMessage,y.customClass.validationMessage),ot(h.validationMessage);let _=this.getInput();_&&(_.setAttribute("aria-invalid","true"),_.setAttribute("aria-describedby",m["validation-message"]),tu(_),Te(_,m.inputerror))}function es(){let l=ke.domCache.get(this);l.validationMessage&&gt(l.validationMessage);let h=this.getInput();h&&(h.removeAttribute("aria-invalid"),h.removeAttribute("aria-describedby"),En(h,m.inputerror))}let vt={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},ch=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],uh={allowEnterKey:void 0},Zi=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],c=l=>Object.prototype.hasOwnProperty.call(vt,l),f=l=>ch.indexOf(l)!==-1,g=l=>uh[l],v=l=>{c(l)||N(`Unknown parameter "${l}"`)},M=l=>{Zi.includes(l)&&N(`The parameter "${l}" is incompatible with toasts`)},O=l=>{let h=g(l);h&&ne(l,h)},q=l=>{l.backdrop===!1&&l.allowOutsideClick&&N('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let h in l)v(h),l.toast&&M(h),O(h)};function je(l){let h=R(),y=ke.innerParams.get(this);if(!h||_n(h,y.hideClass.popup)){N("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let _=St(l),k=Object.assign({},y,_);Hd(this,k),ke.innerParams.set(this,k),Object.defineProperties(this,{params:{value:Object.assign({},this.params,l),writable:!1,enumerable:!0}})}let St=l=>{let h={};return Object.keys(l).forEach(y=>{f(y)?h[y]=l[y]:N(`Invalid parameter to update: ${y}`)}),h};function Re(){let l=ke.domCache.get(this),h=ke.innerParams.get(this);if(!h){Rt(this);return}l.popup&&s.swalCloseEventFinishedCallback&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback),typeof h.didDestroy=="function"&&h.didDestroy(),s.eventEmitter.emit("didDestroy"),Pt(this)}let Pt=l=>{Rt(l),delete l.params,delete s.keydownHandler,delete s.keydownTarget,delete s.currentInstance},Rt=l=>{l.isAwaitingPromise?(Er(ke,l),l.isAwaitingPromise=!0):(Er(Gi,l),Er(ke,l),delete l.isAwaitingPromise,delete l.disableButtons,delete l.enableButtons,delete l.getInput,delete l.disableInput,delete l.enableInput,delete l.hideLoading,delete l.disableLoading,delete l.showValidationMessage,delete l.resetValidationMessage,delete l.close,delete l.closePopup,delete l.closeModal,delete l.closeToast,delete l.rejectPromise,delete l.update,delete l._destroy)},Er=(l,h)=>{for(let y in l)l[y].delete(h)};var In=Object.freeze({__proto__:null,_destroy:Re,close:cn,closeModal:cn,closePopup:cn,closeToast:cn,disableButtons:_u,disableInput:Iu,disableLoading:Yi,enableButtons:_r,enableInput:Eu,getInput:Xo,handleAwaitingPromise:Yn,hideLoading:Yi,rejectPromise:pu,resetValidationMessage:es,showValidationMessage:bu,update:je});let ha=(l,h,y)=>{l.toast?Cu(l,h,y):(DP(h),AP(h),SP(l,h,y))},Cu=(l,h,y)=>{h.popup.onclick=()=>{l&&(TP(l)||l.timer||l.input)||y(an.close)}},TP=l=>!!(l.showConfirmButton||l.showDenyButton||l.showCancelButton||l.showCloseButton),lh=!1,DP=l=>{l.popup.onmousedown=()=>{l.container.onmouseup=function(h){l.container.onmouseup=()=>{},h.target===l.container&&(lh=!0)}}},AP=l=>{l.container.onmousedown=h=>{h.target===l.container&&h.preventDefault(),l.popup.onmouseup=function(y){l.popup.onmouseup=()=>{},(y.target===l.popup||y.target instanceof HTMLElement&&l.popup.contains(y.target))&&(lh=!0)}}},SP=(l,h,y)=>{h.container.onclick=_=>{if(lh){lh=!1;return}_.target===h.container&&ye(l.allowOutsideClick)&&y(an.backdrop)}},RP=l=>typeof l=="object"&&l.jquery,m0=l=>l instanceof Element||RP(l),xP=l=>{let h={};return typeof l[0]=="object"&&!m0(l[0])?Object.assign(h,l[0]):["title","html","icon"].forEach((y,_)=>{let k=l[_];typeof k=="string"||m0(k)?h[y]=k:k!==void 0&&B(`Unexpected type of ${y}! Expected "string" or "Element", got ${typeof k}`)}),h};function MP(){for(var l=arguments.length,h=new Array(l),y=0;y<l;y++)h[y]=arguments[y];return new this(...h)}function NP(l){class h extends this{_main(_,k){return super._main(_,Object.assign({},l,k))}}return h}let PP=()=>s.timeout&&s.timeout.getTimerLeft(),g0=()=>{if(s.timeout)return Dd(),s.timeout.stop()},y0=()=>{if(s.timeout){let l=s.timeout.start();return ta(l),l}},kP=()=>{let l=s.timeout;return l&&(l.running?g0():y0())},OP=l=>{if(s.timeout){let h=s.timeout.increase(l);return ta(h,!0),h}},FP=()=>!!(s.timeout&&s.timeout.isRunning()),v0=!1,Xg={};function LP(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Xg[l]=this,v0||(document.body.addEventListener("click",VP),v0=!0)}let VP=l=>{for(let h=l.target;h&&h!==document;h=h.parentNode)for(let y in Xg){let _=h.getAttribute(y);if(_){Xg[y].fire({template:_});return}}};class UP{constructor(){this.events={}}_getHandlersByEventName(h){return typeof this.events[h]>"u"&&(this.events[h]=[]),this.events[h]}on(h,y){let _=this._getHandlersByEventName(h);_.includes(y)||_.push(y)}once(h,y){var _=this;let k=function(){_.removeListener(h,k);for(var W=arguments.length,ve=new Array(W),Be=0;Be<W;Be++)ve[Be]=arguments[Be];y.apply(_,ve)};this.on(h,k)}emit(h){for(var y=arguments.length,_=new Array(y>1?y-1:0),k=1;k<y;k++)_[k-1]=arguments[k];this._getHandlersByEventName(h).forEach(W=>{try{W.apply(this,_)}catch(ve){console.error(ve)}})}removeListener(h,y){let _=this._getHandlersByEventName(h),k=_.indexOf(y);k>-1&&_.splice(k,1)}removeAllListeners(h){this.events[h]!==void 0&&(this.events[h].length=0)}reset(){this.events={}}}s.eventEmitter=new UP;var jP=Object.freeze({__proto__:null,argsToParams:xP,bindClickHandler:LP,clickCancel:zg,clickConfirm:hu,clickDeny:qd,enableLoading:Qi,fire:MP,getActions:Gn,getCancelButton:Li,getCloseButton:Xc,getConfirmButton:wn,getContainer:C,getDenyButton:qt,getFocusableElements:Ui,getFooter:Id,getHtmlContainer:Jc,getIcon:T,getIconContent:zn,getImage:Oi,getInputLabel:Mt,getLoader:Vi,getPopup:R,getProgressSteps:Zr,getTimerLeft:PP,getTimerProgressBar:pr,getTitle:ki,getValidationMessage:Fi,increaseTimer:OP,isDeprecatedParameter:g,isLoading:eu,isTimerRunning:FP,isUpdatableParameter:f,isValidParameter:c,isVisible:qg,mixin:NP,off:(l,h)=>{if(!l){s.eventEmitter.reset();return}h?s.eventEmitter.removeListener(l,h):s.eventEmitter.removeAllListeners(l)},on:(l,h)=>{s.eventEmitter.on(l,h)},once:(l,h)=>{s.eventEmitter.once(l,h)},resumeTimer:y0,showLoading:Qi,stopTimer:g0,toggleTimer:kP});class BP{constructor(h,y){this.callback=h,this.remaining=y,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(h){let y=this.running;return y&&this.stop(),this.remaining+=h,y&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let w0=["swal-title","swal-html","swal-footer"],$P=l=>{let h=typeof l.template=="string"?document.querySelector(l.template):l.template;if(!h)return{};let y=h.content;return YP(y),Object.assign(HP(y),qP(y),zP(y),GP(y),WP(y),KP(y),QP(y,w0))},HP=l=>{let h={};return Array.from(l.querySelectorAll("swal-param")).forEach(_=>{ts(_,["name","value"]);let k=_.getAttribute("name"),W=_.getAttribute("value");!k||!W||(typeof vt[k]=="boolean"?h[k]=W!=="false":typeof vt[k]=="object"?h[k]=JSON.parse(W):h[k]=W)}),h},qP=l=>{let h={};return Array.from(l.querySelectorAll("swal-function-param")).forEach(_=>{let k=_.getAttribute("name"),W=_.getAttribute("value");!k||!W||(h[k]=new Function(`return ${W}`)())}),h},zP=l=>{let h={};return Array.from(l.querySelectorAll("swal-button")).forEach(_=>{ts(_,["type","color","aria-label"]);let k=_.getAttribute("type");!k||!["confirm","cancel","deny"].includes(k)||(h[`${k}ButtonText`]=_.innerHTML,h[`show${F(k)}Button`]=!0,_.hasAttribute("color")&&(h[`${k}ButtonColor`]=_.getAttribute("color")),_.hasAttribute("aria-label")&&(h[`${k}ButtonAriaLabel`]=_.getAttribute("aria-label")))}),h},GP=l=>{let h={},y=l.querySelector("swal-image");return y&&(ts(y,["src","width","height","alt"]),y.hasAttribute("src")&&(h.imageUrl=y.getAttribute("src")||void 0),y.hasAttribute("width")&&(h.imageWidth=y.getAttribute("width")||void 0),y.hasAttribute("height")&&(h.imageHeight=y.getAttribute("height")||void 0),y.hasAttribute("alt")&&(h.imageAlt=y.getAttribute("alt")||void 0)),h},WP=l=>{let h={},y=l.querySelector("swal-icon");return y&&(ts(y,["type","color"]),y.hasAttribute("type")&&(h.icon=y.getAttribute("type")),y.hasAttribute("color")&&(h.iconColor=y.getAttribute("color")),h.iconHtml=y.innerHTML),h},KP=l=>{let h={},y=l.querySelector("swal-input");y&&(ts(y,["type","label","placeholder","value"]),h.input=y.getAttribute("type")||"text",y.hasAttribute("label")&&(h.inputLabel=y.getAttribute("label")),y.hasAttribute("placeholder")&&(h.inputPlaceholder=y.getAttribute("placeholder")),y.hasAttribute("value")&&(h.inputValue=y.getAttribute("value")));let _=Array.from(l.querySelectorAll("swal-input-option"));return _.length&&(h.inputOptions={},_.forEach(k=>{ts(k,["value"]);let W=k.getAttribute("value");if(!W)return;let ve=k.innerHTML;h.inputOptions[W]=ve})),h},QP=(l,h)=>{let y={};for(let _ in h){let k=h[_],W=l.querySelector(k);W&&(ts(W,[]),y[k.replace(/^swal-/,"")]=W.innerHTML.trim())}return y},YP=l=>{let h=w0.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(l.children).forEach(y=>{let _=y.tagName.toLowerCase();h.includes(_)||N(`Unrecognized element <${_}>`)})},ts=(l,h)=>{Array.from(l.attributes).forEach(y=>{h.indexOf(y.name)===-1&&N([`Unrecognized attribute "${y.name}" on <${l.tagName.toLowerCase()}>.`,`${h.length?`Allowed attributes are: ${h.join(", ")}`:"To set the value, use HTML within the element."}`])})},_0=10,ZP=l=>{let h=C(),y=R();typeof l.willOpen=="function"&&l.willOpen(y),s.eventEmitter.emit("willOpen",y);let k=window.getComputedStyle(document.body).overflowY;ek(h,y,l),setTimeout(()=>{JP(h,y)},_0),ji()&&(XP(h,l.scrollbarPadding,k),Wg()),!Bi()&&!s.previousActiveElement&&(s.previousActiveElement=document.activeElement),typeof l.didOpen=="function"&&setTimeout(()=>l.didOpen(y)),s.eventEmitter.emit("didOpen",y),En(h,m["no-transition"])},dh=l=>{let h=R();if(l.target!==h)return;let y=C();h.removeEventListener("animationend",dh),h.removeEventListener("transitionend",dh),y.style.overflowY="auto"},JP=(l,h)=>{$i(h)?(l.style.overflowY="hidden",h.addEventListener("animationend",dh),h.addEventListener("transitionend",dh)):l.style.overflowY="auto"},XP=(l,h,y)=>{Ko(),h&&y!=="hidden"&&Qg(y),setTimeout(()=>{l.scrollTop=0})},ek=(l,h,y)=>{Te(l,y.showClass.backdrop),y.animation?(h.style.setProperty("opacity","0","important"),ot(h,"grid"),setTimeout(()=>{Te(h,y.showClass.popup),h.style.removeProperty("opacity")},_0)):ot(h,"grid"),Te([document.documentElement,document.body],m.shown),y.heightAuto&&y.backdrop&&!y.toast&&Te([document.documentElement,document.body],m["height-auto"])};var E0={email:(l,h)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid email address"),url:(l,h)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid URL")};function tk(l){l.inputValidator||(l.input==="email"&&(l.inputValidator=E0.email),l.input==="url"&&(l.inputValidator=E0.url))}function nk(l){(!l.target||typeof l.target=="string"&&!document.querySelector(l.target)||typeof l.target!="string"&&!l.target.appendChild)&&(N('Target parameter is not valid, defaulting to "body"'),l.target="body")}function rk(l){tk(l),l.showLoaderOnConfirm&&!l.preConfirm&&N(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),nk(l),typeof l.title=="string"&&(l.title=l.title.split(`
`).join("<br />")),ou(l)}let Ir;var hh=new WeakMap;class dt{constructor(){if(r(this,hh,void 0),typeof window>"u")return;Ir=this;for(var h=arguments.length,y=new Array(h),_=0;_<h;_++)y[_]=arguments[_];let k=Object.freeze(this.constructor.argsToParams(y));this.params=k,this.isAwaitingPromise=!1,i(hh,this,this._main(Ir.params))}_main(h){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(q(Object.assign({},y,h)),s.currentInstance){let W=Gi.swalPromiseResolve.get(s.currentInstance),{isAwaitingPromise:ve}=s.currentInstance;s.currentInstance._destroy(),ve||W({isDismissed:!0}),ji()&&Gd()}s.currentInstance=Ir;let _=ok(h,y);rk(_),Object.freeze(_),s.timeout&&(s.timeout.stop(),delete s.timeout),clearTimeout(s.restoreFocusTimeout);let k=sk(Ir);return Hd(Ir,_),ke.innerParams.set(Ir,_),ik(Ir,k,_)}then(h){return n(hh,this).then(h)}finally(h){return n(hh,this).finally(h)}}let ik=(l,h,y)=>new Promise((_,k)=>{let W=ve=>{l.close({isDismissed:!0,dismiss:ve})};Gi.swalPromiseResolve.set(l,_),Gi.swalPromiseReject.set(l,k),h.confirmButton.onclick=()=>{la(l)},h.denyButton.onclick=()=>{ih(l)},h.cancelButton.onclick=()=>{da(l,W)},h.closeButton.onclick=()=>{W(an.close)},ha(y,h,W),oa(s,y,W),Xd(l,y),ZP(y),ak(s,y,W),ck(h,y),setTimeout(()=>{h.container.scrollTop=0})}),ok=(l,h)=>{let y=$P(l),_=Object.assign({},vt,h,y,l);return _.showClass=Object.assign({},vt.showClass,_.showClass),_.hideClass=Object.assign({},vt.hideClass,_.hideClass),_.animation===!1&&(_.showClass={backdrop:"swal2-noanimation"},_.hideClass={}),_},sk=l=>{let h={popup:R(),container:C(),actions:Gn(),confirmButton:wn(),denyButton:qt(),cancelButton:Li(),loader:Vi(),closeButton:Xc(),validationMessage:Fi(),progressSteps:Zr()};return ke.domCache.set(l,h),h},ak=(l,h,y)=>{let _=pr();gt(_),h.timer&&(l.timeout=new BP(()=>{y("timer"),delete l.timeout},h.timer),h.timerProgressBar&&(ot(_),zt(_,h,"timerProgressBar"),setTimeout(()=>{l.timeout&&l.timeout.running&&ta(h.timer)})))},ck=(l,h)=>{if(!h.toast){if(!ye(h.allowEnterKey)){ne("allowEnterKey"),dk();return}uk(l)||lk(l,h)||zi(-1,1)}},uk=l=>{let h=l.popup.querySelectorAll("[autofocus]");for(let y of h)if(y instanceof HTMLElement&&jt(y))return y.focus(),!0;return!1},lk=(l,h)=>h.focusDeny&&jt(l.denyButton)?(l.denyButton.focus(),!0):h.focusCancel&&jt(l.cancelButton)?(l.cancelButton.focus(),!0):h.focusConfirm&&jt(l.confirmButton)?(l.confirmButton.focus(),!0):!1,dk=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let l=new Date,h=localStorage.getItem("swal-initiation");h?(l.getTime()-Date.parse(h))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let y=document.createElement("audio");y.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",y.loop=!0,document.body.appendChild(y),setTimeout(()=>{y.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${l}`)}dt.prototype.disableButtons=_u,dt.prototype.enableButtons=_r,dt.prototype.getInput=Xo,dt.prototype.disableInput=Iu,dt.prototype.enableInput=Eu,dt.prototype.hideLoading=Yi,dt.prototype.disableLoading=Yi,dt.prototype.showValidationMessage=bu,dt.prototype.resetValidationMessage=es,dt.prototype.close=cn,dt.prototype.closePopup=cn,dt.prototype.closeModal=cn,dt.prototype.closeToast=cn,dt.prototype.rejectPromise=pu,dt.prototype.update=je,dt.prototype._destroy=Re,Object.assign(dt,jP),Object.keys(In).forEach(l=>{dt[l]=function(){return Ir&&Ir[l]?Ir[l](...arguments):null}}),dt.DismissReason=an,dt.version="11.14.4";let fh=dt;return fh.default=fh,fh});typeof Yr<"u"&&Yr.Sweetalert2&&(Yr.swal=Yr.sweetAlert=Yr.Swal=Yr.SweetAlert=Yr.Sweetalert2);typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});function I0(t,e){return Object.is(t,e)}var xt=null,mh=!1,gh=1,Xr=Symbol("SIGNAL");function Oe(t){let e=xt;return xt=t,e}function b0(){return xt}var Du={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ry(t){if(mh)throw new Error("");if(xt===null)return;xt.consumerOnSignalRead(t);let e=xt.nextProducerIndex++;if(_h(xt),e<xt.producerNode.length&&xt.producerNode[e]!==t&&Tu(xt)){let n=xt.producerNode[e];wh(n,xt.producerIndexOfThis[e])}xt.producerNode[e]!==t&&(xt.producerNode[e]=t,xt.producerIndexOfThis[e]=Tu(xt)?A0(t,xt,e):0),xt.producerLastReadVersion[e]=t.version}function fk(){gh++}function C0(t){if(!(Tu(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===gh)){if(!t.producerMustRecompute(t)&&!oy(t)){t.dirty=!1,t.lastCleanEpoch=gh;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=gh}}function T0(t){if(t.liveConsumerNode===void 0)return;let e=mh;mh=!0;try{for(let n of t.liveConsumerNode)n.dirty||pk(n)}finally{mh=e}}function D0(){return xt?.consumerAllowSignalWrites!==!1}function pk(t){t.dirty=!0,T0(t),t.consumerMarkedDirty?.(t)}function vh(t){return t&&(t.nextProducerIndex=0),Oe(t)}function iy(t,e){if(Oe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Tu(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)wh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function oy(t){_h(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(C0(n),r!==n.version))return!0}return!1}function sy(t){if(_h(t),Tu(t))for(let e=0;e<t.producerNode.length;e++)wh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function A0(t,e,n){if(S0(t),t.liveConsumerNode.length===0&&R0(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=A0(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function wh(t,e){if(S0(t),t.liveConsumerNode.length===1&&R0(t))for(let r=0;r<t.producerNode.length;r++)wh(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];_h(i),i.producerIndexOfThis[r]=e}}function Tu(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function _h(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function S0(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function R0(t){return t.producerNode!==void 0}function x0(t){let e=Object.create(mk);e.computation=t;let n=()=>{if(C0(e),ry(e),e.value===yh)throw e.error;return e.value};return n[Xr]=e,n}var ty=Symbol("UNSET"),ny=Symbol("COMPUTING"),yh=Symbol("ERRORED"),mk=le(j({},Du),{value:ty,dirty:!0,error:null,equal:I0,producerMustRecompute(t){return t.value===ty||t.value===ny},producerRecomputeValue(t){if(t.value===ny)throw new Error("Detected cycle in computations.");let e=t.value;t.value=ny;let n=vh(t),r;try{r=t.computation()}catch(i){r=yh,t.error=i}finally{iy(t,n)}if(e!==ty&&e!==yh&&r!==yh&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function gk(){throw new Error}var M0=gk;function N0(){M0()}function P0(t){M0=t}var yk=null;function k0(t){let e=Object.create(F0);e.value=t;let n=()=>(ry(e),e.value);return n[Xr]=e,n}function ay(t,e){D0()||N0(),t.equal(t.value,e)||(t.value=e,vk(t))}function O0(t,e){D0()||N0(),ay(t,e(t.value))}var F0=le(j({},Du),{equal:I0,value:void 0});function vk(t){t.version++,fk(),T0(t),yk?.()}function fe(t){return typeof t=="function"}function pa(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Eh=pa(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ns(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var st=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(fe(r))try{r()}catch(o){e=o instanceof Eh?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{L0(o)}catch(s){e=e??[],s instanceof Eh?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Eh(e)}}add(e){var n;if(e&&e!==this)if(this.closed)L0(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ns(n,e)}remove(e){let{_finalizers:n}=this;n&&ns(n,e),e instanceof t&&e._removeParent(this)}};st.EMPTY=(()=>{let t=new st;return t.closed=!0,t})();var cy=st.EMPTY;function Ih(t){return t instanceof st||t&&"closed"in t&&fe(t.remove)&&fe(t.add)&&fe(t.unsubscribe)}function L0(t){fe(t)?t():t.unsubscribe()}var Jn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ma={setTimeout(t,e,...n){let{delegate:r}=ma;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ma;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function bh(t){ma.setTimeout(()=>{let{onUnhandledError:e}=Jn;if(e)e(t);else throw t})}function Au(){}var V0=uy("C",void 0,void 0);function U0(t){return uy("E",void 0,t)}function j0(t){return uy("N",t,void 0)}function uy(t,e,n){return{kind:t,value:e,error:n}}var rs=null;function ga(t){if(Jn.useDeprecatedSynchronousErrorHandling){let e=!rs;if(e&&(rs={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=rs;if(rs=null,n)throw r}}else t()}function B0(t){Jn.useDeprecatedSynchronousErrorHandling&&rs&&(rs.errorThrown=!0,rs.error=t)}var is=class extends st{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ih(e)&&e.add(this)):this.destination=Ek}static create(e,n,r){return new ya(e,n,r)}next(e){this.isStopped?dy(j0(e),this):this._next(e)}error(e){this.isStopped?dy(U0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?dy(V0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},wk=Function.prototype.bind;function ly(t,e){return wk.call(t,e)}var hy=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ch(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ch(r)}else Ch(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ch(n)}}},ya=class extends is{constructor(e,n,r){super();let i;if(fe(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Jn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ly(e.next,o),error:e.error&&ly(e.error,o),complete:e.complete&&ly(e.complete,o)}):i=e}this.destination=new hy(i)}};function Ch(t){Jn.useDeprecatedSynchronousErrorHandling?B0(t):bh(t)}function _k(t){throw t}function dy(t,e){let{onStoppedNotification:n}=Jn;n&&ma.setTimeout(()=>n(t,e))}var Ek={closed:!0,next:Au,error:_k,complete:Au};var va=typeof Symbol=="function"&&Symbol.observable||"@@observable";function bn(t){return t}function fy(...t){return py(t)}function py(t){return t.length===0?bn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var be=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=bk(n)?n:new ya(n,r,i);return ga(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=$0(r),new r((i,o)=>{let s=new ya({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[va](){return this}pipe(...n){return py(n)(this)}toPromise(n){return n=$0(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function $0(t){var e;return(e=t??Jn.Promise)!==null&&e!==void 0?e:Promise}function Ik(t){return t&&fe(t.next)&&fe(t.error)&&fe(t.complete)}function bk(t){return t&&t instanceof is||Ik(t)&&Ih(t)}function my(t){return fe(t?.lift)}function Me(t){return e=>{if(my(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function De(t,e,n,r,i){return new gy(t,e,n,r,i)}var gy=class extends is{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function wa(){return Me((t,e)=>{let n=null;t._refCount++;let r=De(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var _a=class extends be{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,my(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new st;let n=this.getSubject();e.add(this.source.subscribe(De(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=st.EMPTY)}return e}refCount(){return wa()(this)}};var H0=pa(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ht=(()=>{class t extends be{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Th(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new H0}next(n){ga(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ga(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ga(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?cy:(this.currentObservers=null,o.push(n),new st(()=>{this.currentObservers=null,ns(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new be;return n.source=this,n}}return t.create=(e,n)=>new Th(e,n),t})(),Th=class extends ht{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:cy}};var ft=class extends ht{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var yy={now(){return(yy.delegate||Date).now()},delegate:void 0};var Dh=class extends st{constructor(e,n){super()}schedule(e,n=0){return this}};var Su={setInterval(t,e,...n){let{delegate:r}=Su;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Su;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ea=class extends Dh{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Su.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Su.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ns(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Ia=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Ia.now=yy.now;var ba=class extends Ia{constructor(e,n=Ia.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var vy=new ba(Ea);var Ah=class extends Ea{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Sh=class extends ba{};var wy=new Sh(Ah);var Cn=new be(t=>t.complete());function q0(t){return t&&fe(t.schedule)}function z0(t){return t[t.length-1]}function Rh(t){return fe(z0(t))?t.pop():void 0}function Xi(t){return q0(z0(t))?t.pop():void 0}function _y(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function W0(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(p){try{d(r.next(p))}catch(m){s(m)}}function u(p){try{d(r.throw(p))}catch(m){s(m)}}function d(p){p.done?o(p.value):i(p.value).then(a,u)}d((r=r.apply(t,e||[])).next())})}function G0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function os(t){return this instanceof os?(this.v=t,this):new os(t)}function K0(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(E){return function(x){return Promise.resolve(x).then(E,m)}}function a(E,x){r[E]&&(i[E]=function(F){return new Promise(function(N,B){o.push([E,F,N,B])>1||u(E,F)})},x&&(i[E]=x(i[E])))}function u(E,x){try{d(r[E](x))}catch(F){w(o[0][3],F)}}function d(E){E.value instanceof os?Promise.resolve(E.value.v).then(p,m):w(o[0][2],E)}function p(E){u("next",E)}function m(E){u("throw",E)}function w(E,x){E(x),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Q0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof G0=="function"?G0(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(d){o({value:d,done:a})},s)}}var xh=t=>t&&typeof t.length=="number"&&typeof t!="function";function Mh(t){return fe(t?.then)}function Nh(t){return fe(t[va])}function Ph(t){return Symbol.asyncIterator&&fe(t?.[Symbol.asyncIterator])}function kh(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Ck(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Oh=Ck();function Fh(t){return fe(t?.[Oh])}function Lh(t){return K0(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield os(n.read());if(i)return yield os(void 0);yield yield os(r)}}finally{n.releaseLock()}})}function Vh(t){return fe(t?.getReader)}function wt(t){if(t instanceof be)return t;if(t!=null){if(Nh(t))return Tk(t);if(xh(t))return Dk(t);if(Mh(t))return Ak(t);if(Ph(t))return Y0(t);if(Fh(t))return Sk(t);if(Vh(t))return Rk(t)}throw kh(t)}function Tk(t){return new be(e=>{let n=t[va]();if(fe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Dk(t){return new be(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Ak(t){return new be(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,bh)})}function Sk(t){return new be(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Y0(t){return new be(e=>{xk(t,e).catch(n=>e.error(n))})}function Rk(t){return Y0(Lh(t))}function xk(t,e){var n,r,i,o;return W0(this,void 0,void 0,function*(){try{for(n=Q0(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function un(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function eo(t,e=0){return Me((n,r)=>{n.subscribe(De(r,i=>un(r,t,()=>r.next(i),e),()=>un(r,t,()=>r.complete(),e),i=>un(r,t,()=>r.error(i),e)))})}function to(t,e=0){return Me((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Z0(t,e){return wt(t).pipe(to(e),eo(e))}function J0(t,e){return wt(t).pipe(to(e),eo(e))}function X0(t,e){return new be(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function eC(t,e){return new be(n=>{let r;return un(n,e,()=>{r=t[Oh](),un(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>fe(r?.return)&&r.return()})}function Uh(t,e){if(!t)throw new Error("Iterable cannot be null");return new be(n=>{un(n,e,()=>{let r=t[Symbol.asyncIterator]();un(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function tC(t,e){return Uh(Lh(t),e)}function nC(t,e){if(t!=null){if(Nh(t))return Z0(t,e);if(xh(t))return X0(t,e);if(Mh(t))return J0(t,e);if(Ph(t))return Uh(t,e);if(Fh(t))return eC(t,e);if(Vh(t))return tC(t,e)}throw kh(t)}function Ze(t,e){return e?nC(t,e):wt(t)}function se(...t){let e=Xi(t);return Ze(t,e)}function Ca(t,e){let n=fe(t)?t:()=>t,r=i=>i.error(n());return new be(e?i=>e.schedule(r,0,i):r)}function Ey(t){return!!t&&(t instanceof be||fe(t.lift)&&fe(t.subscribe))}var ei=pa(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function pe(t,e){return Me((n,r)=>{let i=0;n.subscribe(De(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:Mk}=Array;function Nk(t,e){return Mk(e)?t(...e):t(e)}function jh(t){return pe(e=>Nk(t,e))}var{isArray:Pk}=Array,{getPrototypeOf:kk,prototype:Ok,keys:Fk}=Object;function Bh(t){if(t.length===1){let e=t[0];if(Pk(e))return{args:e,keys:null};if(Lk(e)){let n=Fk(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Lk(t){return t&&typeof t=="object"&&kk(t)===Ok}function $h(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ru(...t){let e=Xi(t),n=Rh(t),{args:r,keys:i}=Bh(t);if(r.length===0)return Ze([],e);let o=new be(Vk(r,e,i?s=>$h(i,s):bn));return n?o.pipe(jh(n)):o}function Vk(t,e,n=bn){return r=>{rC(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)rC(e,()=>{let d=Ze(t[u],e),p=!1;d.subscribe(De(r,m=>{o[u]=m,p||(p=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function rC(t,e,n){t?un(n,t,e):e()}function iC(t,e,n,r,i,o,s,a){let u=[],d=0,p=0,m=!1,w=()=>{m&&!u.length&&!d&&e.complete()},E=F=>d<r?x(F):u.push(F),x=F=>{o&&e.next(F),d++;let N=!1;wt(n(F,p++)).subscribe(De(e,B=>{i?.(B),o?E(B):e.next(B)},()=>{N=!0},void 0,()=>{if(N)try{for(d--;u.length&&d<r;){let B=u.shift();s?un(e,s,()=>x(B)):x(B)}w()}catch(B){e.error(B)}}))};return t.subscribe(De(e,E,()=>{m=!0,w()})),()=>{a?.()}}function _t(t,e,n=1/0){return fe(e)?_t((r,i)=>pe((o,s)=>e(r,o,i,s))(wt(t(r,i))),n):(typeof e=="number"&&(n=e),Me((r,i)=>iC(r,i,t,n)))}function Ta(t=1/0){return _t(bn,t)}function oC(){return Ta(1)}function Da(...t){return oC()(Ze(t,Xi(t)))}function Hh(t){return new be(e=>{wt(t()).subscribe(e)})}function Iy(...t){let e=Rh(t),{args:n,keys:r}=Bh(t),i=new be(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,d=s;for(let p=0;p<s;p++){let m=!1;wt(n[p]).subscribe(De(o,w=>{m||(m=!0,d--),a[p]=w},()=>u--,void 0,()=>{(!u||!m)&&(d||o.next(r?$h(r,a):a),o.complete())}))}});return e?i.pipe(jh(e)):i}function Gt(t,e){return Me((n,r)=>{let i=0;n.subscribe(De(r,o=>t.call(e,o,i++)&&r.next(o)))})}function no(t){return Me((e,n)=>{let r=null,i=!1,o;r=e.subscribe(De(n,void 0,void 0,s=>{o=wt(t(s,no(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function sC(t,e,n,r,i){return(o,s)=>{let a=n,u=e,d=0;o.subscribe(De(s,p=>{let m=d++;u=a?t(u,p,m):(a=!0,p),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function ti(t,e){return fe(e)?_t(t,e,1):_t(t,1)}function ro(t){return Me((e,n)=>{let r=!1;e.subscribe(De(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function ni(t){return t<=0?()=>Cn:Me((e,n)=>{let r=0;e.subscribe(De(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function by(t){return pe(()=>t)}function qh(t=Uk){return Me((e,n)=>{let r=!1;e.subscribe(De(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Uk(){return new ei}function ss(t){return Me((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function br(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Gt((i,o)=>t(i,o,r)):bn,ni(1),n?ro(e):qh(()=>new ei))}function Aa(t){return t<=0?()=>Cn:Me((e,n)=>{let r=[];e.subscribe(De(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Cy(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Gt((i,o)=>t(i,o,r)):bn,Aa(1),n?ro(e):qh(()=>new ei))}function Ty(t,e){return Me(sC(t,e,arguments.length>=2,!0))}function Dy(...t){let e=Xi(t);return Me((n,r)=>{(e?Da(t,n,e):Da(t,n)).subscribe(r)})}function ln(t,e){return Me((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(De(r,u=>{i?.unsubscribe();let d=0,p=o++;wt(t(u,p)).subscribe(i=De(r,m=>r.next(e?e(u,m,p,d++):m),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Ay(t){return Me((e,n)=>{wt(t).subscribe(De(n,()=>n.complete(),Au)),!n.closed&&e.subscribe(n)})}function Et(t,e,n){let r=fe(t)||e||n?{next:t,error:e,complete:n}:t;return r?Me((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(De(o,u=>{var d;(d=r.next)===null||d===void 0||d.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var d;a=!1,(d=r.error)===null||d===void 0||d.call(r,u),o.error(u)},()=>{var u,d;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):bn}var zC="https://g.co/ng/security#xss",re=class extends Error{constructor(e,n){super(Df(e,n)),this.code=e}};function Df(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Uu(t){return{toString:t}.toString()}var zh="__parameters__";function jk(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function GC(t,e,n){return Uu(()=>{let r=jk(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,d,p){let m=u.hasOwnProperty(zh)?u[zh]:Object.defineProperty(u,zh,{value:[]})[zh];for(;m.length<=p;)m.push(null);return(m[p]=m[p]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var xu=globalThis;function ze(t){for(let e in t)if(t[e]===ze)return e;throw Error("Could not find renamed property on target object.")}function Bk(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Xt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Xt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function aC(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var $k=ze({__forward_ref__:ze});function Tn(t){return t.__forward_ref__=Tn,t.toString=function(){return Xt(this())},t}function Jt(t){return WC(t)?t():t}function WC(t){return typeof t=="function"&&t.hasOwnProperty($k)&&t.__forward_ref__===Tn}function ee(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function at(t){return{providers:t.providers||[],imports:t.imports||[]}}function Af(t){return cC(t,QC)||cC(t,YC)}function KC(t){return Af(t)!==null}function cC(t,e){return t.hasOwnProperty(e)?t[e]:null}function Hk(t){let e=t&&(t[QC]||t[YC]);return e||null}function uC(t){return t&&(t.hasOwnProperty(lC)||t.hasOwnProperty(qk))?t[lC]:null}var QC=ze({\u0275prov:ze}),lC=ze({\u0275inj:ze}),YC=ze({ngInjectableDef:ze}),qk=ze({ngInjectorDef:ze}),G=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ee({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function ZC(t){return t&&!!t.\u0275providers}var zk=ze({\u0275cmp:ze}),Gk=ze({\u0275dir:ze}),Wk=ze({\u0275pipe:ze}),Kk=ze({\u0275mod:ze}),ef=ze({\u0275fac:ze}),Nu=ze({__NG_ELEMENT_ID__:ze}),dC=ze({__NG_ENV_ID__:ze});function ka(t){return typeof t=="string"?t:t==null?"":String(t)}function Qk(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ka(t)}function Yk(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new re(-200,t)}function Nv(t,e){throw new re(-201,!1)}var _e=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(_e||{}),$y;function JC(){return $y}function dn(t){let e=$y;return $y=t,e}function XC(t,e,n){let r=Af(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&_e.Optional)return null;if(e!==void 0)return e;Nv(t,"Injector")}var Zk={},Pu=Zk,Hy="__NG_DI_FLAG__",tf="ngTempTokenPath",Jk="ngTokenPath",Xk=/\n/gm,eO="\u0275",hC="__source",Na;function tO(){return Na}function io(t){let e=Na;return Na=t,e}function nO(t,e=_e.Default){if(Na===void 0)throw new re(-203,!1);return Na===null?XC(t,void 0,e):Na.get(t,e&_e.Optional?null:void 0,e)}function J(t,e=_e.Default){return(JC()||nO)(Jt(t),e)}function $(t,e=_e.Default){return J(t,Sf(e))}function Sf(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function qy(t){let e=[];for(let n=0;n<t.length;n++){let r=Jt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new re(900,!1);let i,o=_e.Default;for(let s=0;s<r.length;s++){let a=r[s],u=rO(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(J(i,o))}else e.push(J(r))}return e}function eT(t,e){return t[Hy]=e,t.prototype[Hy]=e,t}function rO(t){return t[Hy]}function iO(t,e,n,r){let i=t[tf];throw e[hC]&&i.unshift(e[hC]),t.message=oO(`
`+t.message,i,n,r),t[Jk]=i,t[tf]=null,t}function oO(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==eO?t.slice(2):t;let i=Xt(e);if(Array.isArray(e))i=e.map(Xt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Xt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Xk,`
  `)}`}var Wt=eT(GC("Optional"),8);var Pv=eT(GC("SkipSelf"),4);function us(t,e){let n=t.hasOwnProperty(ef);return n?t[ef]:null}function kv(t,e){t.forEach(n=>Array.isArray(n)?kv(n,e):e(n))}function tT(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function nf(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function sO(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function aO(t,e,n){let r=ju(t,e);return r>=0?t[r|1]=n:(r=~r,sO(t,r,e,n)),r}function Sy(t,e){let n=ju(t,e);if(n>=0)return t[n|1]}function ju(t,e){return cO(t,e,1)}function cO(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Oa={},Pn=[],Fa=new G(""),nT=new G("",-1),rT=new G(""),rf=class{get(e,n=Pu){if(n===Pu){let r=new Error(`NullInjectorError: No provider for ${Xt(e)}!`);throw r.name="NullInjectorError",r}return n}},iT=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(iT||{}),Dr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Dr||{}),ao=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ao||{});function uO(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function zy(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];dO(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function lO(t){return t===3||t===4||t===6}function dO(t){return t.charCodeAt(0)===64}function ku(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?fC(t,n,i,null,e[++r]):fC(t,n,i,null,null))}}return t}function fC(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var oT="ng-template";function hO(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&uO(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Ov(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Ov(t){return t.type===4&&t.value!==oT}function fO(t,e,n){let r=t.type===4&&!n?oT:t.value;return e===r}function pO(t,e,n){let r=4,i=t.attrs,o=i!==null?yO(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Xn(r)&&!Xn(u))return!1;if(s&&Xn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!fO(t,u,n)||u===""&&e.length===1){if(Xn(r))return!1;s=!0}}else if(r&8){if(i===null||!hO(t,i,u,n)){if(Xn(r))return!1;s=!0}}else{let d=e[++a],p=mO(u,i,Ov(t),n);if(p===-1){if(Xn(r))return!1;s=!0;continue}if(d!==""){let m;if(p>o?m="":m=i[p+1].toLowerCase(),r&2&&d!==m){if(Xn(r))return!1;s=!0}}}}return Xn(r)||s}function Xn(t){return(t&1)===0}function mO(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return vO(e,t)}function gO(t,e,n=!1){for(let r=0;r<e.length;r++)if(pO(t,e[r],n))return!0;return!1}function yO(t){for(let e=0;e<t.length;e++){let n=t[e];if(lO(n))return e}return t.length}function vO(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function pC(t,e){return t?":not("+e.trim()+")":e}function wO(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Xn(s)&&(e+=pC(o,i),i=""),r=s,o=o||!Xn(r);n++}return i!==""&&(e+=pC(o,i)),e}function _O(t){return t.map(wO).join(",")}function EO(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Xn(i))break;i=o}r++}return{attrs:e,classes:n}}function hn(t){return Uu(()=>{let e=lT(t),n=le(j({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===iT.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Dr.Emulated,styles:t.styles||Pn,_:null,schemas:t.schemas||null,tView:null,id:""});dT(n);let r=t.dependencies;return n.directiveDefs=gC(r,!1),n.pipeDefs=gC(r,!0),n.id=CO(n),n})}function IO(t){return co(t)||sT(t)}function bO(t){return t!==null}function ct(t){return Uu(()=>({type:t.type,bootstrap:t.bootstrap||Pn,declarations:t.declarations||Pn,imports:t.imports||Pn,exports:t.exports||Pn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function mC(t,e){if(t==null)return Oa;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=ao.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==ao.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Je(t){return Uu(()=>{let e=lT(t);return dT(e),e})}function Fv(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function co(t){return t[zk]||null}function sT(t){return t[Gk]||null}function aT(t){return t[Wk]||null}function cT(t){let e=co(t)||sT(t)||aT(t);return e!==null?e.standalone:!1}function uT(t,e){let n=t[Kk]||null;if(!n&&e===!0)throw new Error(`Type ${Xt(t)} does not have '\u0275mod' property.`);return n}function lT(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Oa,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Pn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:mC(t.inputs,e),outputs:mC(t.outputs),debugInfo:null}}function dT(t){t.features?.forEach(e=>e(t))}function gC(t,e){if(!t)return null;let n=e?aT:IO;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(bO)}function CO(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Fn(t){return{\u0275providers:t}}function TO(...t){return{\u0275providers:hT(!0,t),\u0275fromNgModule:!0}}function hT(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return kv(e,s=>{let a=s;Gy(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&fT(i,o),n}function fT(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Lv(i,o=>{e(o,r)})}}function Gy(t,e,n,r){if(t=Jt(t),!t)return!1;let i=null,o=uC(t),s=!o&&co(t);if(!o&&!s){let u=t.ngModule;if(o=uC(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of u)Gy(d,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let d;try{kv(o.imports,p=>{Gy(p,e,n,r)&&(d||=[],d.push(p))})}finally{}d!==void 0&&fT(d,e)}if(!a){let d=us(i)||(()=>new i);e({provide:i,useFactory:d,deps:Pn},i),e({provide:rT,useValue:i,multi:!0},i),e({provide:Fa,useValue:()=>J(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let d=t;Lv(u,p=>{e(p,d)})}}else return!1;return i!==t&&t.providers!==void 0}function Lv(t,e){for(let n of t)ZC(n)&&(n=n.\u0275providers),Array.isArray(n)?Lv(n,e):e(n)}var DO=ze({provide:String,useValue:ze});function pT(t){return t!==null&&typeof t=="object"&&DO in t}function AO(t){return!!(t&&t.useExisting)}function SO(t){return!!(t&&t.useFactory)}function La(t){return typeof t=="function"}function RO(t){return!!t.useClass}var Rf=new G(""),Qh={},xO={},Ry;function Vv(){return Ry===void 0&&(Ry=new rf),Ry}var en=class{},Ou=class extends en{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ky(e,s=>this.processProvider(s)),this.records.set(nT,Sa(void 0,this)),i.has("environment")&&this.records.set(en,Sa(void 0,this));let o=this.records.get(Rf);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(rT,Pn,_e.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Oe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Oe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=io(this),r=dn(void 0),i;try{return e()}finally{io(n),dn(r)}}get(e,n=Pu,r=_e.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(dC))return e[dC](this);r=Sf(r);let i,o=io(this),s=dn(void 0);try{if(!(r&_e.SkipSelf)){let u=this.records.get(e);if(u===void 0){let d=OO(e)&&Af(e);d&&this.injectableDefInScope(d)?u=Sa(Wy(e),Qh):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&_e.Self?Vv():this.parent;return n=r&_e.Optional&&n===Pu?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[tf]=a[tf]||[]).unshift(Xt(e)),o)throw a;return iO(a,e,"R3InjectorError",this.source)}else throw a}finally{dn(s),io(o)}}resolveInjectorInitializers(){let e=Oe(null),n=io(this),r=dn(void 0),i;try{let o=this.get(Fa,Pn,_e.Self);for(let s of o)s()}finally{io(n),dn(r),Oe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Xt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new re(205,!1)}processProvider(e){e=Jt(e);let n=La(e)?e:Jt(e&&e.provide),r=NO(e);if(!La(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Sa(void 0,Qh,!0),i.factory=()=>qy(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Oe(null);try{return n.value===Qh&&(n.value=xO,n.value=n.factory()),typeof n.value=="object"&&n.value&&kO(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Oe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Jt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Wy(t){let e=Af(t),n=e!==null?e.factory:us(t);if(n!==null)return n;if(t instanceof G)throw new re(204,!1);if(t instanceof Function)return MO(t);throw new re(204,!1)}function MO(t){if(t.length>0)throw new re(204,!1);let n=Hk(t);return n!==null?()=>n.factory(t):()=>new t}function NO(t){if(pT(t))return Sa(void 0,t.useValue);{let e=mT(t);return Sa(e,Qh)}}function mT(t,e,n){let r;if(La(t)){let i=Jt(t);return us(i)||Wy(i)}else if(pT(t))r=()=>Jt(t.useValue);else if(SO(t))r=()=>t.useFactory(...qy(t.deps||[]));else if(AO(t))r=()=>J(Jt(t.useExisting));else{let i=Jt(t&&(t.useClass||t.provide));if(PO(t))r=()=>new i(...qy(t.deps));else return us(i)||Wy(i)}return r}function Sa(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function PO(t){return!!t.deps}function kO(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function OO(t){return typeof t=="function"||typeof t=="object"&&t instanceof G}function Ky(t,e){for(let n of t)Array.isArray(n)?Ky(n,e):n&&ZC(n)?Ky(n.\u0275providers,e):e(n)}function Ln(t,e){t instanceof Ou&&t.assertNotDestroyed();let n,r=io(t),i=dn(void 0);try{return e()}finally{io(r),dn(i)}}function gT(){return JC()!==void 0||tO()!=null}function FO(t){if(!gT())throw new re(-203,!1)}function LO(t){return typeof t=="function"}var si=0,Ce=1,de=2,tn=3,er=4,rr=5,of=6,sf=7,tr=8,Va=9,Ar=10,It=11,Fu=12,yC=13,Wa=14,Sr=15,Ua=16,Ra=17,ja=18,xf=19,yT=20,oo=21,xy=22,kn=23,nr=25,vT=1;var ls=7,af=8,cf=9,On=10,uf=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(uf||{});function so(t){return Array.isArray(t)&&typeof t[vT]=="object"}function ai(t){return Array.isArray(t)&&t[vT]===!0}function wT(t){return(t.flags&4)!==0}function Mf(t){return t.componentOffset>-1}function Uv(t){return(t.flags&1)===1}function uo(t){return!!t.template}function Qy(t){return(t[de]&512)!==0}var Yy=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function _T(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function ci(){return ET}function ET(t){return t.type.prototype.ngOnChanges&&(t.setInput=UO),VO}ci.ngInherit=!0;function VO(){let t=bT(this),e=t?.current;if(e){let n=t.previous;if(n===Oa)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function UO(t,e,n,r,i){let o=this.declaredInputs[r],s=bT(t)||jO(t,{previous:Oa,current:null}),a=s.current||(s.current={}),u=s.previous,d=u[o];a[o]=new Yy(d&&d.currentValue,n,u===Oa),_T(t,e,i,n)}var IT="__ngSimpleChanges__";function bT(t){return t[IT]||null}function jO(t,e){return t[IT]=e}var vC=null;var Cr=function(t,e,n){vC?.(t,e,n)},BO="svg",$O="math";function Rr(t){for(;Array.isArray(t);)t=t[si];return t}function CT(t,e){return Rr(e[t])}function Vn(t,e){return Rr(e[t.index])}function TT(t,e){return t.data[e]}function DT(t,e){return t[e]}function fo(t,e){let n=e[t];return so(n)?n:n[si]}function jv(t){return(t[de]&128)===128}function HO(t){return ai(t[tn])}function lf(t,e){return e==null?null:t[e]}function AT(t){t[Ra]=0}function ST(t){t[de]&1024||(t[de]|=1024,jv(t)&&Pf(t))}function qO(t,e){for(;t>0;)e=e[Wa],t--;return e}function Nf(t){return!!(t[de]&9216||t[kn]?.dirty)}function Zy(t){t[Ar].changeDetectionScheduler?.notify(8),t[de]&64&&(t[de]|=1024),Nf(t)&&Pf(t)}function Pf(t){t[Ar].changeDetectionScheduler?.notify(0);let e=ds(t);for(;e!==null&&!(e[de]&8192||(e[de]|=8192,!jv(e)));)e=ds(e)}function RT(t,e){if((t[de]&256)===256)throw new re(911,!1);t[oo]===null&&(t[oo]=[]),t[oo].push(e)}function zO(t,e){if(t[oo]===null)return;let n=t[oo].indexOf(e);n!==-1&&t[oo].splice(n,1)}function ds(t){let e=t[tn];return ai(e)?e[tn]:e}var Ee={lFrame:UT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var xT=!1;function GO(){return Ee.lFrame.elementDepthCount}function WO(){Ee.lFrame.elementDepthCount++}function KO(){Ee.lFrame.elementDepthCount--}function MT(){return Ee.bindingsEnabled}function QO(){return Ee.skipHydrationRootTNode!==null}function YO(t){return Ee.skipHydrationRootTNode===t}function ZO(){Ee.skipHydrationRootTNode=null}function Fe(){return Ee.lFrame.lView}function nn(){return Ee.lFrame.tView}function xr(t){return Ee.lFrame.contextLView=t,t[tr]}function Mr(t){return Ee.lFrame.contextLView=null,t}function fn(){let t=NT();for(;t!==null&&t.type===64;)t=t.parent;return t}function NT(){return Ee.lFrame.currentTNode}function JO(){let t=Ee.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Bu(t,e){let n=Ee.lFrame;n.currentTNode=t,n.isParent=e}function PT(){return Ee.lFrame.isParent}function XO(){Ee.lFrame.isParent=!1}function kT(){return xT}function wC(t){xT=t}function $u(){let t=Ee.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function e1(){return Ee.lFrame.bindingIndex}function t1(t){return Ee.lFrame.bindingIndex=t}function kf(){return Ee.lFrame.bindingIndex++}function OT(t){let e=Ee.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function n1(){return Ee.lFrame.inI18n}function r1(t,e){let n=Ee.lFrame;n.bindingIndex=n.bindingRootIndex=t,Jy(e)}function i1(){return Ee.lFrame.currentDirectiveIndex}function Jy(t){Ee.lFrame.currentDirectiveIndex=t}function o1(t){let e=Ee.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function FT(t){Ee.lFrame.currentQueryIndex=t}function s1(t){let e=t[Ce];return e.type===2?e.declTNode:e.type===1?t[rr]:null}function LT(t,e,n){if(n&_e.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&_e.Host);)if(i=s1(o),i===null||(o=o[Wa],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=Ee.lFrame=VT();return r.currentTNode=e,r.lView=t,!0}function Bv(t){let e=VT(),n=t[Ce];Ee.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function VT(){let t=Ee.lFrame,e=t===null?null:t.child;return e===null?UT(t):e}function UT(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function jT(){let t=Ee.lFrame;return Ee.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var BT=jT;function $v(){let t=jT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function a1(t){return(Ee.lFrame.contextLView=qO(t,Ee.lFrame.contextLView))[tr]}function ys(){return Ee.lFrame.selectedIndex}function hs(t){Ee.lFrame.selectedIndex=t}function Of(){let t=Ee.lFrame;return TT(t.tView,t.selectedIndex)}function c1(){return Ee.lFrame.currentNamespace}var $T=!0;function Hv(){return $T}function qv(t){$T=t}function u1(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=ET(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function zv(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:p}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),p!=null&&(t.destroyHooks??=[]).push(n,p)}}function Yh(t,e,n){HT(t,e,3,n)}function Zh(t,e,n,r){(t[de]&3)===n&&HT(t,e,n,r)}function My(t,e){let n=t[de];(n&3)===e&&(n&=16383,n+=1,t[de]=n)}function HT(t,e,n,r){let i=r!==void 0?t[Ra]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Ra]+=65536),(a<o||o==-1)&&(l1(t,n,e,u),t[Ra]=(t[Ra]&4294901760)+u+2),u++}function _C(t,e){Cr(4,t,e);let n=Oe(null);try{e.call(t)}finally{Oe(n),Cr(5,t,e)}}function l1(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[de]>>14<t[Ra]>>16&&(t[de]&3)===e&&(t[de]+=16384,_C(a,o)):_C(a,o)}var Pa=-1,fs=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function d1(t){return t instanceof fs}function h1(t){return(t.flags&8)!==0}function f1(t){return(t.flags&16)!==0}var Ny={},Xy=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Sf(r);let i=this.injector.get(e,Ny,r);return i!==Ny||n===Ny?i:this.parentInjector.get(e,n,r)}};function qT(t){return t!==Pa}function df(t){return t&32767}function p1(t){return t>>16}function hf(t,e){let n=p1(t),r=e;for(;n>0;)r=r[Wa],n--;return r}var ev=!0;function ff(t){let e=ev;return ev=t,e}var m1=256,zT=m1-1,GT=5,g1=0,Tr={};function y1(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Nu)&&(r=n[Nu]),r==null&&(r=n[Nu]=g1++);let i=r&zT,o=1<<i;e.data[t+(i>>GT)]|=o}function pf(t,e){let n=WT(t,e);if(n!==-1)return n;let r=e[Ce];r.firstCreatePass&&(t.injectorIndex=e.length,Py(r.data,t),Py(e,null),Py(r.blueprint,null));let i=Gv(t,e),o=t.injectorIndex;if(qT(i)){let s=df(i),a=hf(i,e),u=a[Ce].data;for(let d=0;d<8;d++)e[o+d]=a[s+d]|u[s+d]}return e[o+8]=i,o}function Py(t,e){t.push(0,0,0,0,0,0,0,0,e)}function WT(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Gv(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=JT(i),r===null)return Pa;if(n++,i=i[Wa],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Pa}function tv(t,e,n){y1(t,e,n)}function KT(t,e,n){if(n&_e.Optional||t!==void 0)return t;Nv(e,"NodeInjector")}function QT(t,e,n,r){if(n&_e.Optional&&r===void 0&&(r=null),!(n&(_e.Self|_e.Host))){let i=t[Va],o=dn(void 0);try{return i?i.get(e,r,n&_e.Optional):XC(e,r,n&_e.Optional)}finally{dn(o)}}return KT(r,e,n)}function YT(t,e,n,r=_e.Default,i){if(t!==null){if(e[de]&2048&&!(r&_e.Self)){let s=I1(t,e,n,r,Tr);if(s!==Tr)return s}let o=ZT(t,e,n,r,Tr);if(o!==Tr)return o}return QT(e,n,r,i)}function ZT(t,e,n,r,i){let o=_1(n);if(typeof o=="function"){if(!LT(e,t,r))return r&_e.Host?KT(i,n,r):QT(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&_e.Optional))Nv(n);else return s}finally{BT()}}else if(typeof o=="number"){let s=null,a=WT(t,e),u=Pa,d=r&_e.Host?e[Sr][rr]:null;for((a===-1||r&_e.SkipSelf)&&(u=a===-1?Gv(t,e):e[a+8],u===Pa||!IC(r,!1)?a=-1:(s=e[Ce],a=df(u),e=hf(u,e)));a!==-1;){let p=e[Ce];if(EC(o,a,p.data)){let m=v1(a,e,n,s,r,d);if(m!==Tr)return m}u=e[a+8],u!==Pa&&IC(r,e[Ce].data[a+8]===d)&&EC(o,a,e)?(s=p,a=df(u),e=hf(u,e)):a=-1}}return i}function v1(t,e,n,r,i,o){let s=e[Ce],a=s.data[t+8],u=r==null?Mf(a)&&ev:r!=s&&(a.type&3)!==0,d=i&_e.Host&&o===a,p=w1(a,s,n,u,d);return p!==null?Ba(e,s,p,a):Tr}function w1(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,d=t.directiveEnd,p=o>>20,m=r?a:a+p,w=i?a+p:d;for(let E=m;E<w;E++){let x=s[E];if(E<u&&n===x||E>=u&&x.type===n)return E}if(i){let E=s[u];if(E&&uo(E)&&E.type===n)return u}return null}function Ba(t,e,n,r){let i=t[n],o=e.data;if(d1(i)){let s=i;s.resolving&&Yk(Qk(o[n]));let a=ff(s.canSeeViewProviders);s.resolving=!0;let u,d=s.injectImpl?dn(s.injectImpl):null,p=LT(t,r,_e.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&u1(n,o[n],e)}finally{d!==null&&dn(d),ff(a),s.resolving=!1,BT()}}return i}function _1(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Nu)?t[Nu]:void 0;return typeof e=="number"?e>=0?e&zT:E1:e}function EC(t,e,n){let r=1<<t;return!!(n[e+(t>>GT)]&r)}function IC(t,e){return!(t&_e.Self)&&!(t&_e.Host&&e)}var cs=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return YT(this._tNode,this._lView,e,Sf(r),n)}};function E1(){return new cs(fn(),Fe())}function ui(t){return Uu(()=>{let e=t.prototype.constructor,n=e[ef]||nv(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[ef]||nv(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function nv(t){return WC(t)?()=>{let e=nv(Jt(t));return e&&e()}:us(t)}function I1(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[de]&2048&&!(s[de]&512);){let a=ZT(o,s,n,r|_e.Self,Tr);if(a!==Tr)return a;let u=o.parent;if(!u){let d=s[yT];if(d){let p=d.get(n,Tr,r);if(p!==Tr)return p}u=JT(s),s=s[Wa]}o=u}return i}function JT(t){let e=t[Ce],n=e.type;return n===2?e.declTNode:n===1?t[rr]:null}function bC(t,e=null,n=null,r){let i=XT(t,e,n,r);return i.resolveInjectorInitializers(),i}function XT(t,e=null,n=null,r,i=new Set){let o=[n||Pn,TO(t)];return r=r||(typeof t=="object"?void 0:Xt(t)),new Ou(o,e||Vv(),r||null,i)}var Bt=class t{static{this.THROW_IF_NOT_FOUND=Pu}static{this.NULL=new rf}static create(e,n){if(Array.isArray(e))return bC({name:""},n,e,"");{let r=e.name??"";return bC({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=ee({token:t,providedIn:"any",factory:()=>J(nT)})}static{this.__NG_ELEMENT_ID__=-1}};var b1=new G("");b1.__NG_ELEMENT_ID__=t=>{let e=fn();if(e===null)throw new re(204,!1);if(e.type&2)return e.value;if(t&_e.Optional)return null;throw new re(204,!1)};var C1="ngOriginalError";function ky(t){return t[C1]}var eD=!0,Wv=(()=>{class t{static{this.__NG_ELEMENT_ID__=T1}static{this.__NG_ENV_ID__=n=>n}}return t})(),rv=class extends Wv{constructor(e){super(),this._lView=e}onDestroy(e){return RT(this._lView,e),()=>zO(this._lView,e)}};function T1(){return new rv(Fe())}var po=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ft(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=ee({token:t,providedIn:"root",factory:()=>new t})}}return t})();var iv=class extends ht{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,gT()&&(this.destroyRef=$(Wv,{optional:!0})??void 0,this.pendingTasks=$(po,{optional:!0})??void 0)}emit(e){let n=Oe(null);try{super.next(e)}finally{Oe(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof st&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},We=iv;function mf(...t){}function tD(t){let e,n;function r(){t=mf;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function CC(t){return queueMicrotask(()=>t()),()=>{t=mf}}var Kv="isAngularZone",gf=Kv+"_ID",D1=0,xe=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new We(!1),this.onMicrotaskEmpty=new We(!1),this.onStable=new We(!1),this.onError=new We(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=eD}=e;if(typeof Zone>"u")throw new re(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,R1(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Kv)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new re(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new re(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,A1,mf,mf);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},A1={};function Qv(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function S1(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){tD(()=>{t.callbackScheduled=!1,ov(t),t.isCheckStableRunning=!0,Qv(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),ov(t)}function R1(t){let e=()=>{S1(t)},n=D1++;t._inner=t._inner.fork({name:"angular",properties:{[Kv]:!0,[gf]:n,[gf+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(x1(u))return r.invokeTask(o,s,a,u);try{return TC(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),DC(t)}},onInvoke:(r,i,o,s,a,u,d)=>{try{return TC(t),r.invoke(o,s,a,u,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!M1(u)&&e(),DC(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,ov(t),Qv(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function ov(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function TC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function DC(t){t._nesting--,Qv(t)}var sv=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new We,this.onMicrotaskEmpty=new We,this.onStable=new We,this.onError=new We}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function x1(t){return nD(t,"__ignore_ng_zone__")}function M1(t){return nD(t,"__scheduler_tick__")}function nD(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var ri=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&ky(e);for(;n&&ky(n);)n=ky(n);return n||null}},N1=new G("",{providedIn:"root",factory:()=>{let t=$(xe),e=$(ri);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function P1(){return Ff(fn(),Fe())}function Ff(t,e){return new Un(Vn(t,e))}var Un=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=P1}}return t})();function rD(t){return(t.flags&128)===128}var iD=new Map,k1=0;function O1(){return k1++}function F1(t){iD.set(t[xf],t)}function av(t){iD.delete(t[xf])}var AC="__ngContext__";function ps(t,e){so(e)?(t[AC]=e[xf],F1(e)):t[AC]=e}function oD(t){return aD(t[Fu])}function sD(t){return aD(t[er])}function aD(t){for(;t!==null&&!ai(t);)t=t[er];return t}var cv;function cD(t){cv=t}function L1(){if(cv!==void 0)return cv;if(typeof document<"u")return document;throw new re(210,!1)}var Yv=new G("",{providedIn:"root",factory:()=>V1}),V1="ng",Zv=new G(""),pn=new G("",{providedIn:"platform",factory:()=>"unknown"});var Jv=new G("",{providedIn:"root",factory:()=>L1().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var U1="h",j1="b";var B1=()=>null;function Xv(t,e,n=!1){return B1(t,e,n)}var uD=!1,$1=new G("",{providedIn:"root",factory:()=>uD});var yf=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${zC})`}};function Lf(t){return t instanceof yf?t.changingThisBreaksApplicationSecurity:t}function lD(t,e){let n=H1(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${zC})`)}return n===e}function H1(t){return t instanceof yf&&t.getTypeName()||null}var q1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function dD(t){return t=String(t),t.match(q1)?t:"unsafe:"+t}var ew=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ew||{});function BQ(t){let e=z1();return e?e.sanitize(ew.URL,t)||"":lD(t,"URL")?Lf(t):dD(ka(t))}function z1(){let t=Fe();return t&&t[Ar].sanitizer}function hD(t){return t instanceof Function?t():t}function G1(t){return(t??$(Bt)).get(pn)==="browser"}var ii=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ii||{}),W1;function tw(t,e){return W1(t,e)}function xa(t,e,n,r,i){if(r!=null){let o,s=!1;ai(r)?o=r:so(r)&&(s=!0,r=r[si]);let a=Rr(r);t===0&&n!==null?i==null?yD(e,n,a):vf(e,n,a,i||null,!0):t===1&&n!==null?vf(e,n,a,i||null,!0):t===2?cF(e,a,s):t===3&&e.destroyNode(a),o!=null&&lF(e,t,o,n,i)}}function K1(t,e){return t.createText(e)}function Q1(t,e,n){t.setValue(e,n)}function fD(t,e,n){return t.createElement(e,n)}function Y1(t,e){pD(t,e),e[si]=null,e[rr]=null}function Z1(t,e,n,r,i,o){r[si]=i,r[rr]=e,Vf(t,r,n,1,i,o)}function pD(t,e){e[Ar].changeDetectionScheduler?.notify(9),Vf(t,e,e[It],2,null,null)}function J1(t){let e=t[Fu];if(!e)return Oy(t[Ce],t);for(;e;){let n=null;if(so(e))n=e[Fu];else{let r=e[On];r&&(n=r)}if(!n){for(;e&&!e[er]&&e!==t;)so(e)&&Oy(e[Ce],e),e=e[tn];e===null&&(e=t),so(e)&&Oy(e[Ce],e),n=e&&e[er]}e=n}}function X1(t,e,n,r){let i=On+r,o=n.length;r>0&&(n[i-1][er]=e),r<o-On?(e[er]=n[i],tT(n,On+r,e)):(n.push(e),e[er]=null),e[tn]=n;let s=e[Ua];s!==null&&n!==s&&mD(s,e);let a=e[ja];a!==null&&a.insertView(t),Zy(e),e[de]|=128}function mD(t,e){let n=t[cf],r=e[tn];if(so(r))t[de]|=uf.HasTransplantedViews;else{let i=r[tn][Sr];e[Sr]!==i&&(t[de]|=uf.HasTransplantedViews)}n===null?t[cf]=[e]:n.push(e)}function nw(t,e){let n=t[cf],r=n.indexOf(e);n.splice(r,1)}function uv(t,e){if(t.length<=On)return;let n=On+e,r=t[n];if(r){let i=r[Ua];i!==null&&i!==t&&nw(i,r),e>0&&(t[n-1][er]=r[er]);let o=nf(t,On+e);Y1(r[Ce],r);let s=o[ja];s!==null&&s.detachView(o[Ce]),r[tn]=null,r[er]=null,r[de]&=-129}return r}function gD(t,e){if(!(e[de]&256)){let n=e[It];n.destroyNode&&Vf(t,e,n,3,null,null),J1(e)}}function Oy(t,e){if(e[de]&256)return;let n=Oe(null);try{e[de]&=-129,e[de]|=256,e[kn]&&sy(e[kn]),tF(t,e),eF(t,e),e[Ce].type===1&&e[It].destroy();let r=e[Ua];if(r!==null&&ai(e[tn])){r!==e[tn]&&nw(r,e);let i=e[ja];i!==null&&i.detachView(t)}av(e)}finally{Oe(n)}}function eF(t,e){let n=t.cleanup,r=e[sf];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[sf]=null);let i=e[oo];if(i!==null){e[oo]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function tF(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof fs)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Cr(4,a,u);try{u.call(a)}finally{Cr(5,a,u)}}else{Cr(4,i,o);try{o.call(i)}finally{Cr(5,i,o)}}}}}function nF(t,e,n){return rF(t,e.parent,n)}function rF(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[si];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Dr.None||o===Dr.Emulated)return null}return Vn(r,n)}}function vf(t,e,n,r,i){t.insertBefore(e,n,r,i)}function yD(t,e,n){t.appendChild(e,n)}function SC(t,e,n,r,i){r!==null?vf(t,e,n,r,i):yD(t,e,n)}function vD(t,e){return t.parentNode(e)}function iF(t,e){return t.nextSibling(e)}function oF(t,e,n){return aF(t,e,n)}function sF(t,e,n){return t.type&40?Vn(t,n):null}var aF=sF,RC;function rw(t,e,n,r){let i=nF(t,r,e),o=e[It],s=r.parent||e[rr],a=oF(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)SC(o,i,n[u],a,!1);else SC(o,i,n,a,!1);RC!==void 0&&RC(o,r,e,n,i)}function Mu(t,e){if(e!==null){let n=e.type;if(n&3)return Vn(e,t);if(n&4)return lv(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Mu(t,r);{let i=t[e.index];return ai(i)?lv(-1,i):Rr(i)}}else{if(n&128)return Mu(t,e.next);if(n&32)return tw(e,t)()||Rr(t[e.index]);{let r=wD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ds(t[Sr]);return Mu(i,r)}else return Mu(t,e.next)}}}return null}function wD(t,e){if(e!==null){let r=t[Sr][rr],i=e.projection;return r.projection[i]}return null}function lv(t,e){let n=On+t+1;if(n<e.length){let r=e[n],i=r[Ce].firstChild;if(i!==null)return Mu(r,i)}return e[ls]}function cF(t,e,n){t.removeChild(null,e,n)}function iw(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&ps(Rr(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)iw(t,e,n.child,r,i,o,!1),xa(e,t,i,a,o);else if(u&32){let d=tw(n,r),p;for(;p=d();)xa(e,t,i,p,o);xa(e,t,i,a,o)}else u&16?uF(t,e,r,n,i,o):xa(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Vf(t,e,n,r,i,o){iw(n,r,t.firstChild,e,i,o,!1)}function uF(t,e,n,r,i,o){let s=n[Sr],u=s[rr].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let p=u[d];xa(e,t,i,p,o)}else{let d=u,p=s[tn];rD(r)&&(d.flags|=128),iw(t,e,d,p,i,o,!0)}}function lF(t,e,n,r,i){let o=n[ls],s=Rr(n);o!==s&&xa(e,t,r,o,i);for(let a=On;a<n.length;a++){let u=n[a];Vf(u[Ce],u,t,e,r,o)}}function dF(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:ii.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ii.Important),t.setStyle(n,r,i,o))}}function hF(t,e,n){t.setAttribute(e,"style",n)}function _D(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function ED(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&zy(t,e,r),i!==null&&_D(t,e,i),o!==null&&hF(t,e,o)}var ir={};function Q(t=1){ID(nn(),Fe(),ys()+t,!1)}function ID(t,e,n,r){if(!r)if((e[de]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Yh(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Zh(e,o,0,n)}hs(n)}function K(t,e=_e.Default){let n=Fe();if(n===null)return J(t,e);let r=fn();return YT(r,n,Jt(t),e)}function bD(){let t="invalid";throw new Error(t)}function CD(t,e,n,r,i,o){let s=Oe(null);try{let a=null;i&ao.SignalBased&&(a=e[r][Xr]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&ao.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):_T(e,a,r,o)}finally{Oe(s)}}function fF(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)hs(~i);else{let o=i,s=n[++r],a=n[++r];r1(s,o);let u=e[o];a(2,u)}}}finally{hs(-1)}}function Uf(t,e,n,r,i,o,s,a,u,d,p){let m=e.blueprint.slice();return m[si]=i,m[de]=r|4|128|8|64,(d!==null||t&&t[de]&2048)&&(m[de]|=2048),AT(m),m[tn]=m[Wa]=t,m[tr]=n,m[Ar]=s||t&&t[Ar],m[It]=a||t&&t[It],m[Va]=u||t&&t[Va]||null,m[rr]=o,m[xf]=O1(),m[of]=p,m[yT]=d,m[Sr]=e.type==2?t[Sr]:m,m}function jf(t,e,n,r,i){let o=t.data[e];if(o===null)o=pF(t,e,n,r,i),n1()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=JO();o.injectorIndex=s===null?-1:s.injectorIndex}return Bu(o,!0),o}function pF(t,e,n,r,i){let o=NT(),s=PT(),a=s?o:o&&o.parent,u=t.data[e]=wF(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function TD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function DD(t,e,n,r,i){let o=ys(),s=r&2;try{hs(-1),s&&e.length>nr&&ID(t,e,nr,!1),Cr(s?2:0,i),n(r,i)}finally{hs(o),Cr(s?3:1,i)}}function AD(t,e,n){if(wT(e)){let r=Oe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{Oe(r)}}}function SD(t,e,n){MT()&&(TF(t,e,n,Vn(n,e)),(n.flags&64)===64&&PD(t,e,n))}function RD(t,e,n=Vn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function xD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=ow(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function ow(t,e,n,r,i,o,s,a,u,d,p){let m=nr+r,w=m+i,E=mF(m,w),x=typeof d=="function"?d():d;return E[Ce]={type:t,blueprint:E,template:n,queries:null,viewQuery:a,declTNode:e,data:E.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:w,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:x,incompleteFirstPass:!1,ssrId:p}}function mF(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ir);return n}function gF(t,e,n,r){let o=r.get($1,uD)||n===Dr.ShadowDom,s=t.selectRootElement(e,o);return yF(s),s}function yF(t){vF(t)}var vF=()=>null;function wF(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return QO()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function xC(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=ao.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let d=o;if(i!==null){if(!i.hasOwnProperty(o))continue;d=i[o]}t===0?MC(r,n,d,a,u):MC(r,n,d,a)}return r}function MC(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function _F(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,d=null;for(let p=r;p<i;p++){let m=o[p],w=n?n.get(m):null,E=w?w.inputs:null,x=w?w.outputs:null;u=xC(0,m.inputs,p,u,E),d=xC(1,m.outputs,p,d,x);let F=u!==null&&s!==null&&!Ov(e)?FF(u,p,s):null;a.push(F)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=d}function EF(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function sw(t,e,n,r,i,o,s,a){let u=Vn(e,n),d=e.inputs,p;!a&&d!=null&&(p=d[r])?(aw(t,n,p,r,i),Mf(e)&&IF(n,e.index)):e.type&3?(r=EF(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function IF(t,e){let n=fo(e,t);n[de]&16||(n[de]|=64)}function MD(t,e,n,r){if(MT()){let i=r===null?null:{"":-1},o=AF(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&ND(t,e,n,s,i,a),i&&SF(n,r,i)}n.mergedAttrs=ku(n.mergedAttrs,n.attrs)}function ND(t,e,n,r,i,o){for(let d=0;d<r.length;d++)tv(pf(n,e),t,r[d].type);xF(n,t.data.length,r.length);for(let d=0;d<r.length;d++){let p=r[d];p.providersResolver&&p.providersResolver(p)}let s=!1,a=!1,u=TD(t,e,r.length,null);for(let d=0;d<r.length;d++){let p=r[d];n.mergedAttrs=ku(n.mergedAttrs,p.hostAttrs),MF(t,n,e,u,p),RF(u,p,i),p.contentQueries!==null&&(n.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(n.flags|=64);let m=p.type.prototype;!s&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(m.ngOnChanges||m.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}_F(t,n,o)}function bF(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;CF(s)!=a&&s.push(a),s.push(n,r,o)}}function CF(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function TF(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Mf(n)&&NF(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||pf(n,e),ps(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],d=Ba(e,t,a,n);if(ps(d,e),s!==null&&OF(e,a-i,d,u,n,s),uo(u)){let p=fo(n.index,e);p[tr]=Ba(e,t,a,n)}}}function PD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=i1();try{hs(o);for(let a=r;a<i;a++){let u=t.data[a],d=e[a];Jy(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&DF(u,d)}}finally{hs(-1),Jy(s)}}function DF(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function AF(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(gO(e,s.selectors,!1))if(r||(r=[]),uo(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;dv(t,e,u)}else r.unshift(s),dv(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function dv(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function SF(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new re(-301,!1);r.push(e[i],o)}}}function RF(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;uo(e)&&(n[""]=t)}}function xF(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function MF(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=us(i.type,!0)),s=new fs(o,uo(i),K);t.blueprint[r]=s,n[r]=s,bF(t,e,r,TD(t,n,i.hostVars,ir),i)}function NF(t,e,n){let r=Vn(e,t),i=xD(n),o=t[Ar].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Bf(t,Uf(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function PF(t,e,n,r,i,o){let s=Vn(t,e);kF(e[It],s,o,t.value,n,r,i)}function kF(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?ka(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function OF(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],d=s[a++],p=s[a++],m=s[a++];CD(r,n,u,d,p,m)}}function FF(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function kD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function OD(t,e){let n=t.contentQueries;if(n!==null){let r=Oe(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];FT(o),a.contentQueries(2,e[s],s)}}}finally{Oe(r)}}}function Bf(t,e){return t[Fu]?t[yC][er]=e:t[Fu]=e,t[yC]=e,e}function hv(t,e,n){FT(0);let r=Oe(null);try{e(t,n)}finally{Oe(r)}}function LF(t){return t[sf]??=[]}function VF(t){return t.cleanup??=[]}function FD(t,e){let n=t[Va],r=n?n.get(ri,null):null;r&&r.handleError(e)}function aw(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],d=e[s],p=t.data[s];CD(p,d,r,a,u,i)}}function LD(t,e,n){let r=CT(e,t);Q1(t[It],r,n)}function UF(t,e){let n=fo(e,t),r=n[Ce];jF(r,n);let i=n[si];i!==null&&n[of]===null&&(n[of]=Xv(i,n[Va])),cw(r,n,n[tr])}function jF(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function cw(t,e,n){Bv(e);try{let r=t.viewQuery;r!==null&&hv(1,r,n);let i=t.template;i!==null&&DD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ja]?.finishViewCreation(t),t.staticContentQueries&&OD(t,e),t.staticViewQueries&&hv(2,t.viewQuery,n);let o=t.components;o!==null&&BF(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[de]&=-5,$v()}}function BF(t,e){for(let n=0;n<e.length;n++)UF(t,e[n])}function $F(t,e,n,r){let i=Oe(null);try{let o=e.tView,a=t[de]&4096?4096:16,u=Uf(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=t[e.index];u[Ua]=d;let p=t[ja];return p!==null&&(u[ja]=p.createEmbeddedView(o)),cw(o,u,n),u}finally{Oe(i)}}function NC(t,e){return!e||e.firstChild===null||rD(t)}function HF(t,e,n,r=!0){let i=e[Ce];if(X1(i,e,t,n),r){let s=lv(n,t),a=e[It],u=vD(a,t[ls]);u!==null&&Z1(i,t[rr],a,e,u,s)}let o=e[of];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function wf(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Rr(o)),ai(o)&&qF(o,r);let s=n.type;if(s&8)wf(t,e,n.child,r);else if(s&32){let a=tw(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=wD(e,n);if(Array.isArray(a))r.push(...a);else{let u=ds(e[Sr]);wf(u[Ce],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function qF(t,e){for(let n=On;n<t.length;n++){let r=t[n],i=r[Ce].firstChild;i!==null&&wf(r[Ce],r,i,e)}t[ls]!==t[si]&&e.push(t[ls])}var VD=[];function zF(t){return t[kn]??GF(t)}function GF(t){let e=VD.pop()??Object.create(KF);return e.lView=t,e}function WF(t){t.lView[kn]!==t&&(t.lView=null,VD.push(t))}var KF=le(j({},Du),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Pf(t.lView)},consumerOnSignalRead(){this.lView[kn]=this}});function QF(t){let e=t[kn]??Object.create(YF);return e.lView=t,e}var YF=le(j({},Du),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=ds(t.lView);for(;e&&!UD(e[Ce]);)e=ds(e);e&&ST(e)},consumerOnSignalRead(){this.lView[kn]=this}});function UD(t){return t.type!==2}var ZF=100;function jD(t,e=!0,n=0){let r=t[Ar],i=r.rendererFactory,o=!1;o||i.begin?.();try{JF(t,n)}catch(s){throw e&&FD(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function JF(t,e){let n=kT();try{wC(!0),fv(t,e);let r=0;for(;Nf(t);){if(r===ZF)throw new re(103,!1);r++,fv(t,1)}}finally{wC(n)}}function XF(t,e,n,r){let i=e[de];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Ar].inlineEffectRunner?.flush(),Bv(e);let a=!0,u=null,d=null;o||(UD(t)?(d=zF(e),u=vh(d)):b0()===null?(a=!1,d=QF(e),u=vh(d)):e[kn]&&(sy(e[kn]),e[kn]=null));try{AT(e),t1(t.bindingStartIndex),n!==null&&DD(t,e,n,2,r);let p=(i&3)===3;if(!o)if(p){let E=t.preOrderCheckHooks;E!==null&&Yh(e,E,null)}else{let E=t.preOrderHooks;E!==null&&Zh(e,E,0,null),My(e,0)}if(s||eL(e),BD(e,0),t.contentQueries!==null&&OD(t,e),!o)if(p){let E=t.contentCheckHooks;E!==null&&Yh(e,E)}else{let E=t.contentHooks;E!==null&&Zh(e,E,1),My(e,1)}fF(t,e);let m=t.components;m!==null&&HD(e,m,0);let w=t.viewQuery;if(w!==null&&hv(2,w,r),!o)if(p){let E=t.viewCheckHooks;E!==null&&Yh(e,E)}else{let E=t.viewHooks;E!==null&&Zh(e,E,2),My(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[xy]){for(let E of e[xy])E();e[xy]=null}o||(e[de]&=-73)}catch(p){throw o||Pf(e),p}finally{d!==null&&(iy(d,u),a&&WF(d)),$v()}}function BD(t,e){for(let n=oD(t);n!==null;n=sD(n))for(let r=On;r<n.length;r++){let i=n[r];$D(i,e)}}function eL(t){for(let e=oD(t);e!==null;e=sD(e)){if(!(e[de]&uf.HasTransplantedViews))continue;let n=e[cf];for(let r=0;r<n.length;r++){let i=n[r];ST(i)}}}function tL(t,e,n){let r=fo(e,t);$D(r,n)}function $D(t,e){jv(t)&&fv(t,e)}function fv(t,e){let r=t[Ce],i=t[de],o=t[kn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&oy(o)),s||=!1,o&&(o.dirty=!1),t[de]&=-9217,s)XF(r,t,r.template,t[tr]);else if(i&8192){BD(t,1);let a=r.components;a!==null&&HD(t,a,1)}}function HD(t,e,n){for(let r=0;r<e.length;r++)tL(t,e[r],n)}function uw(t,e){let n=kT()?64:1088;for(t[Ar].changeDetectionScheduler?.notify(e);t;){t[de]|=n;let r=ds(t);if(Qy(t)&&!r)return t;t=r}return null}var ms=class{get rootNodes(){let e=this._lView,n=e[Ce];return wf(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[tr]}set context(e){this._lView[tr]=e}get destroyed(){return(this._lView[de]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[tn];if(ai(e)){let n=e[af],r=n?n.indexOf(this):-1;r>-1&&(uv(e,r),nf(n,r))}this._attachedToViewContainer=!1}gD(this._lView[Ce],this._lView)}onDestroy(e){RT(this._lView,e)}markForCheck(){uw(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[de]&=-129}reattach(){Zy(this._lView),this._lView[de]|=128}detectChanges(){this._lView[de]|=1024,jD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Qy(this._lView),n=this._lView[Ua];n!==null&&!e&&nw(n,this._lView),pD(this._lView[Ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new re(902,!1);this._appRef=e;let n=Qy(this._lView),r=this._lView[Ua];r!==null&&!n&&mD(r,this._lView),Zy(this._lView)}},$f=(()=>{class t{static{this.__NG_ELEMENT_ID__=iL}}return t})(),nL=$f,rL=class extends nL{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=$F(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ms(i)}};function iL(){return oL(fn(),Fe())}function oL(t,e){return t.type&4?new rL(e,t,Ff(t,e)):null}var HQ=new RegExp(`^(\\d+)*(${j1}|${U1})*(.*)`);var sL=()=>null;function PC(t,e){return sL(t,e)}var $a=class{},Hf=new G("",{providedIn:"root",factory:()=>!1});var qD=new G(""),zD=new G(""),pv=class{},_f=class{};function aL(t){let e=Error(`No component factory found for ${Xt(t)}.`);return e[cL]=t,e}var cL="ngComponent";var mv=class{resolveComponentFactory(e){throw aL(e)}},Ha=class{static{this.NULL=new mv}},qa=class{},li=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>uL()}}return t})();function uL(){let t=Fe(),e=fn(),n=fo(e.index,t);return(so(n)?n:t)[It]}var lL=(()=>{class t{static{this.\u0275prov=ee({token:t,providedIn:"root",factory:()=>null})}}return t})();function gv(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=aC(i,a);else if(o==2){let u=a,d=e[++s];r=aC(r,u+": "+d+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Ef=class extends Ha{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=co(e);return new za(n,this.ngModule)}};function kC(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:ao.None;e?n.push({propName:s,templateName:r,isSignal:(a&ao.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function dL(t){let e=t.toLowerCase();return e==="svg"?BO:e==="math"?$O:null}var za=class extends _f{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=kC(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return kC(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=_O(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Oe(null);try{i=i||this.ngModule;let s=i instanceof en?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Xy(e,s):e,u=a.get(qa,null);if(u===null)throw new re(407,!1);let d=a.get(lL,null),p=a.get($a,null),m={rendererFactory:u,sanitizer:d,inlineEffectRunner:null,changeDetectionScheduler:p},w=u.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",x=r?gF(w,r,this.componentDef.encapsulation,a):fD(w,E,dL(E)),F=512;this.componentDef.signals?F|=4096:this.componentDef.onPush||(F|=16);let N=null;x!==null&&(N=Xv(x,a,!0));let B=ow(0,null,null,1,0,null,null,null,null,null,null),Z=Uf(null,B,null,F,null,null,m,w,a,null,N);Bv(Z);let z,ne,ye=null;try{let ie=this.componentDef,D,I=null;ie.findHostDirectiveDefs?(D=[],I=new Map,ie.findHostDirectiveDefs(ie,D,I),D.push(ie)):D=[ie];let C=hL(Z,x);ye=fL(C,x,ie,D,Z,m,w),ne=TT(B,nr),x&&gL(w,ie,x,r),n!==void 0&&yL(ne,this.ngContentSelectors,n),z=mL(ye,ie,D,I,Z,[vL]),cw(B,Z,null)}catch(ie){throw ye!==null&&av(ye),av(Z),ie}finally{$v()}return new yv(this.componentType,z,Ff(ne,Z),Z,ne)}finally{Oe(o)}}},yv=class extends pv{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ms(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;aw(o[Ce],o,i,e,n),this.previousInputValues.set(e,n);let s=fo(this._tNode.index,o);uw(s,1)}}get injector(){return new cs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function hL(t,e){let n=t[Ce],r=nr;return t[r]=e,jf(n,r,2,"#host",null)}function fL(t,e,n,r,i,o,s){let a=i[Ce];pL(r,t,e,s);let u=null;e!==null&&(u=Xv(e,i[Va]));let d=o.rendererFactory.createRenderer(e,n),p=16;n.signals?p=4096:n.onPush&&(p=64);let m=Uf(i,xD(n),null,p,i[t.index],t,o,d,null,null,u);return a.firstCreatePass&&dv(a,t,r.length-1),Bf(i,m),i[t.index]=m}function pL(t,e,n,r){for(let i of t)e.mergedAttrs=ku(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(gv(e,e.mergedAttrs,!0),n!==null&&ED(r,n,e))}function mL(t,e,n,r,i,o){let s=fn(),a=i[Ce],u=Vn(s,i);ND(a,i,s,n,null,r);for(let p=0;p<n.length;p++){let m=s.directiveStart+p,w=Ba(i,a,m,s);ps(w,i)}PD(a,i,s),u&&ps(u,i);let d=Ba(i,a,s.directiveStart+s.componentOffset,s);if(t[tr]=i[tr]=d,o!==null)for(let p of o)p(d,e);return AD(a,s,i),d}function gL(t,e,n,r){if(r)zy(t,n,["ng-version","18.2.9"]);else{let{attrs:i,classes:o}=EO(e.selectors[0]);i&&zy(t,n,i),o&&o.length>0&&_D(t,n,o.join(" "))}}function yL(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function vL(){let t=fn();zv(Fe()[Ce],t)}var Ka=(()=>{class t{static{this.__NG_ELEMENT_ID__=wL}}return t})();function wL(){let t=fn();return EL(t,Fe())}var _L=Ka,GD=class extends _L{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ff(this._hostTNode,this._hostLView)}get injector(){return new cs(this._hostTNode,this._hostLView)}get parentInjector(){let e=Gv(this._hostTNode,this._hostLView);if(qT(e)){let n=hf(e,this._hostLView),r=df(e),i=n[Ce].data[r+8];return new cs(i,n)}else return new cs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=OC(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-On}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=PC(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,NC(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!LO(e),a;if(s)a=n;else{let x=n||{};a=x.index,r=x.injector,i=x.projectableNodes,o=x.environmentInjector||x.ngModuleRef}let u=s?e:new za(co(e)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let F=(s?d:this.parentInjector).get(en,null);F&&(o=F)}let p=co(u.componentType??{}),m=PC(this._lContainer,p?.id??null),w=m?.firstChild??null,E=u.create(d,i,w,o);return this.insertImpl(E.hostView,a,NC(this._hostTNode,m)),E}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(HO(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[tn],d=new GD(u,u[rr],u[tn]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return HF(s,i,o,r),e.attachToViewContainerRef(),tT(Fy(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=OC(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=uv(this._lContainer,n);r&&(nf(Fy(this._lContainer),n),gD(r[Ce],r))}detach(e){let n=this._adjustIndex(e,-1),r=uv(this._lContainer,n);return r&&nf(Fy(this._lContainer),n)!=null?new ms(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function OC(t){return t[af]}function Fy(t){return t[af]||(t[af]=[])}function EL(t,e){let n,r=e[t.index];return ai(r)?n=r:(n=kD(r,e,null,t),e[t.index]=n,Bf(e,n)),bL(n,e,t,r),new GD(n,t,e)}function IL(t,e){let n=t[It],r=n.createComment(""),i=Vn(e,t),o=vD(n,i);return vf(n,o,r,iF(n,i),!1),r}var bL=DL,CL=()=>!1;function TL(t,e,n){return CL(t,e,n)}function DL(t,e,n,r){if(t[ls])return;let i;n.type&8?i=Rr(r):i=IL(e,n),t[ls]=i}var FC=new Set;function vs(t){FC.has(t)||(FC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function AL(t){return typeof t=="function"&&t[Xr]!==void 0}function Qa(t,e){vs("NgSignals");let n=k0(t),r=n[Xr];return e?.equal&&(r.equal=e.equal),n.set=i=>ay(r,i),n.update=i=>O0(r,i),n.asReadonly=SL.bind(n),n}function SL(){let t=this[Xr];if(t.readonlyFn===void 0){let e=()=>this();e[Xr]=t,t.readonlyFn=e}return t.readonlyFn}function WD(t){return AL(t)&&typeof t.set=="function"}function RL(t){return Object.getPrototypeOf(t.prototype).constructor}function mn(t){let e=RL(t.type),n=!0,r=[t];for(;e;){let i;if(uo(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new re(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Gh(t.inputs),s.inputTransforms=Gh(t.inputTransforms),s.declaredInputs=Gh(t.declaredInputs),s.outputs=Gh(t.outputs);let a=i.hostBindings;a&&kL(t,a);let u=i.viewQuery,d=i.contentQueries;if(u&&NL(t,u),d&&PL(t,d),xL(t,i),Bk(t.outputs,i.outputs),uo(i)&&i.data.animation){let p=t.data;p.animation=(p.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===mn&&(n=!1)}}e=Object.getPrototypeOf(e)}ML(r)}function xL(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function ML(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ku(i.hostAttrs,n=ku(n,i.hostAttrs))}}function Gh(t){return t===Oa?{}:t===Pn?[]:t}function NL(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function PL(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function kL(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var lo=class{},Lu=class{};var vv=class extends lo{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ef(this);let o=uT(e);this._bootstrapComponents=hD(o.bootstrap),this._r3Injector=XT(e,n,[{provide:lo,useValue:this},{provide:Ha,useValue:this.componentFactoryResolver},...r],Xt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},wv=class extends Lu{constructor(e){super(),this.moduleType=e}create(e){return new vv(this.moduleType,e,[])}};var If=class extends lo{constructor(e){super(),this.componentFactoryResolver=new Ef(this),this.instance=null;let n=new Ou([...e.providers,{provide:lo,useValue:this},{provide:Ha,useValue:this.componentFactoryResolver}],e.parent||Vv(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function qf(t,e,n=null){return new If({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function KD(t){return FL(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function OL(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function FL(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function lw(t,e,n){return t[e]=n}function LL(t,e){return t[e]}function ho(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function QD(t,e,n,r){let i=ho(t,e,n);return ho(t,e+1,r)||i}function VL(t){return(t.flags&32)===32}function UL(t,e,n,r,i,o,s,a,u){let d=e.consts,p=jf(e,t,4,s||null,a||null);MD(e,n,p,lf(d,u)),zv(e,p);let m=p.tView=ow(2,p,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,p),m.queries=e.queries.embeddedTView(p)),p}function jL(t,e,n,r,i,o,s,a,u,d){let p=n+nr,m=e.firstCreatePass?UL(p,e,t,r,i,o,s,a,u):e.data[p];Bu(m,!1);let w=BL(e,t,m,n);Hv()&&rw(e,t,w,m),ps(w,t);let E=kD(w,t,w,m);return t[p]=E,Bf(t,E),TL(E,m,t),Uv(m)&&SD(e,t,m),u!=null&&RD(t,m,d),m}function Ne(t,e,n,r,i,o,s,a){let u=Fe(),d=nn(),p=lf(d.consts,o);return jL(u,d,t,e,n,r,i,p,s,a),Ne}var BL=$L;function $L(t,e,n,r){return qv(!0),e[It].createComment("")}var Ma=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ma||{}),YD=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=ee({token:t,providedIn:"root",factory:()=>new t})}}return t})(),_v=class t{constructor(){this.ngZone=$(xe),this.scheduler=$($a),this.errorHandler=$(ri,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Ma.EarlyRead,Ma.Write,Ma.MixedReadWrite,Ma.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=ee({token:t,providedIn:"root",factory:()=>new t})}},Ev=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function dw(t,e){!e?.injector&&FO(dw);let n=e?.injector??$(Bt);return G1(n)?(vs("NgAfterNextRender"),qL(t,n,e,!0)):zL}function HL(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function qL(t,e,n,r){let i=e.get(YD);i.impl??=e.get(_v);let o=n?.phase??Ma.MixedReadWrite,s=n?.manualCleanup!==!0?e.get(Wv):null,a=new Ev(i.impl,HL(t,o),r,s);return i.impl.register(a),a}var zL={destroy(){}};function Ya(t,e,n,r){let i=Fe(),o=kf();if(ho(i,o,e)){let s=nn(),a=Of();PF(a,i,t,e,n,r)}return Ya}function ZD(t,e,n,r){return ho(t,kf(),n)?e+ka(n)+r:ir}function GL(t,e,n,r,i,o){let s=e1(),a=QD(t,s,n,i);return OT(2),a?e+ka(n)+r+ka(i)+o:ir}function Wh(t,e){return t<<17|e<<2}function gs(t){return t>>17&32767}function WL(t){return(t&2)==2}function KL(t,e){return t&131071|e<<17}function Iv(t){return t|2}function Ga(t){return(t&131068)>>2}function Ly(t,e){return t&-131069|e<<2}function QL(t){return(t&1)===1}function bv(t){return t|1}function YL(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=gs(s),u=Ga(s);t[r]=n;let d=!1,p;if(Array.isArray(n)){let m=n;p=m[1],(p===null||ju(m,p)>0)&&(d=!0)}else p=n;if(i)if(u!==0){let w=gs(t[a+1]);t[r+1]=Wh(w,a),w!==0&&(t[w+1]=Ly(t[w+1],r)),t[a+1]=KL(t[a+1],r)}else t[r+1]=Wh(a,0),a!==0&&(t[a+1]=Ly(t[a+1],r)),a=r;else t[r+1]=Wh(u,0),a===0?a=r:t[u+1]=Ly(t[u+1],r),u=r;d&&(t[r+1]=Iv(t[r+1])),LC(t,p,r,!0),LC(t,p,r,!1),ZL(e,p,t,r,o),s=Wh(a,u),o?e.classBindings=s:e.styleBindings=s}function ZL(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&ju(o,e)>=0&&(n[r+1]=bv(n[r+1]))}function LC(t,e,n,r){let i=t[n+1],o=e===null,s=r?gs(i):Ga(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],d=t[s+1];JL(u,e)&&(a=!0,t[s+1]=r?bv(d):Iv(d)),s=r?gs(d):Ga(d)}a&&(t[n+1]=r?Iv(i):bv(i))}function JL(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ju(t,e)>=0:!1}function Y(t,e,n){let r=Fe(),i=kf();if(ho(r,i,e)){let o=nn(),s=Of();sw(o,s,r,t,e,r[It],n,!1)}return Y}function VC(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";aw(t,n,o[s],s,r)}function zf(t,e){return XL(t,e,null,!0),zf}function XL(t,e,n,r){let i=Fe(),o=nn(),s=OT(2);if(o.firstUpdatePass&&tV(o,t,s,r),e!==ir&&ho(i,s,e)){let a=o.data[ys()];sV(o,a,i,i[It],t,i[s+1]=aV(e,n),r,s)}}function eV(t,e){return e>=t.expandoStartIndex}function tV(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[ys()],s=eV(t,n);cV(o,r)&&e===null&&!s&&(e=!1),e=nV(i,o,e,r),YL(i,o,e,n,s,r)}}function nV(t,e,n,r){let i=o1(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Vy(null,t,e,n,r),n=Vu(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Vy(i,t,e,n,r),o===null){let u=rV(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Vy(null,t,e,u[1],r),u=Vu(u,e.attrs,r),iV(t,e,r,u))}else o=oV(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function rV(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ga(r)!==0)return t[gs(r)]}function iV(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[gs(i)]=r}function oV(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Vu(r,s,n)}return Vu(r,e.attrs,n)}function Vy(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Vu(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Vu(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),aO(t,s,n?!0:e[++o]))}return t===void 0?null:t}function sV(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,d=u[a+1],p=QL(d)?UC(u,e,n,i,Ga(d),s):void 0;if(!bf(p)){bf(o)||WL(d)&&(o=UC(u,null,n,i,a,s));let m=CT(ys(),n);dF(r,s,m,i,o)}}function UC(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],d=Array.isArray(u),p=d?u[1]:u,m=p===null,w=n[i+1];w===ir&&(w=m?Pn:void 0);let E=m?Sy(w,r):p===r?w:void 0;if(d&&!bf(E)&&(E=Sy(u,r)),bf(E)&&(a=E,s))return a;let x=t[i+1];i=s?gs(x):Ga(x)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Sy(u,r))}return a}function bf(t){return t!==void 0}function aV(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Xt(Lf(t)))),t}function cV(t,e){return(t.flags&(e?8:16))!==0}function uV(t,e,n,r,i,o){let s=e.consts,a=lf(s,i),u=jf(e,t,2,r,a);return MD(e,n,u,lf(s,o)),u.attrs!==null&&gv(u,u.attrs,!1),u.mergedAttrs!==null&&gv(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function L(t,e,n,r){let i=Fe(),o=nn(),s=nr+t,a=i[It],u=o.firstCreatePass?uV(s,o,i,e,n,r):o.data[s],d=lV(o,i,u,a,e,t);i[s]=d;let p=Uv(u);return Bu(u,!0),ED(a,d,u),!VL(u)&&Hv()&&rw(o,i,d,u),GO()===0&&ps(d,i),WO(),p&&(SD(o,i,u),AD(o,u,i)),r!==null&&RD(i,u),L}function P(){let t=fn();PT()?XO():(t=t.parent,Bu(t,!1));let e=t;YO(e)&&ZO(),KO();let n=nn();return n.firstCreatePass&&(zv(n,t),wT(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&h1(e)&&VC(n,e,Fe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&f1(e)&&VC(n,e,Fe(),e.stylesWithoutHost,!1),P}function we(t,e,n,r){return L(t,e,n,r),P(),we}var lV=(t,e,n,r,i,o)=>(qv(!0),fD(r,i,c1()));function Nr(){return Fe()}var as=void 0;function dV(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var hV=["en",[["a","p"],["AM","PM"],as],[["AM","PM"],as,as],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],as,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],as,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",as,"{1} 'at' {0}",as],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",dV],Uy={};function jn(t){let e=fV(t),n=jC(e);if(n)return n;let r=e.split("-")[0];if(n=jC(r),n)return n;if(r==="en")return hV;throw new re(701,!1)}function jC(t){return t in Uy||(Uy[t]=xu.ng&&xu.ng.common&&xu.ng.common.locales&&xu.ng.common.locales[t]),Uy[t]}var pt=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(pt||{});function fV(t){return t.toLowerCase().replace(/_/g,"-")}var Cf="en-US";var pV=Cf;function mV(t){typeof t=="string"&&(pV=t.toLowerCase().replace(/_/g,"-"))}var gV=(t,e,n)=>{};function Ie(t,e,n,r){let i=Fe(),o=nn(),s=fn();return JD(o,i,i[It],s,t,e,r),Ie}function yV(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[sf],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function JD(t,e,n,r,i,o,s){let a=Uv(r),d=t.firstCreatePass&&VF(t),p=e[tr],m=LF(e),w=!0;if(r.type&3||s){let F=Vn(r,e),N=s?s(F):F,B=m.length,Z=s?ne=>s(Rr(ne[r.index])):r.index,z=null;if(!s&&a&&(z=yV(t,e,i,r.index)),z!==null){let ne=z.__ngLastListenerFn__||z;ne.__ngNextListenerFn__=o,z.__ngLastListenerFn__=o,w=!1}else{o=$C(r,e,p,o),gV(F,i,o);let ne=n.listen(N,i,o);m.push(o,ne),d&&d.push(i,Z,B,B+1)}}else o=$C(r,e,p,o);let E=r.outputs,x;if(w&&E!==null&&(x=E[i])){let F=x.length;if(F)for(let N=0;N<F;N+=2){let B=x[N],Z=x[N+1],ye=e[B][Z].subscribe(o),ie=m.length;m.push(o,ye),d&&d.push(i,r.index,ie,-(ie+1))}}}function BC(t,e,n,r){let i=Oe(null);try{return Cr(6,e,n),n(r)!==!1}catch(o){return FD(t,o),!1}finally{Cr(7,e,n),Oe(i)}}function $C(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?fo(t.index,e):e;uw(s,5);let a=BC(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)a=BC(e,n,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function Pr(t=1){return a1(t)}function vV(t,e,n){return XD(t,"",e,"",n),vV}function XD(t,e,n,r,i){let o=Fe(),s=ZD(o,e,n,r);if(s!==ir){let a=nn(),u=Of();sw(a,u,o,t,s,o[It],i,!1)}return XD}function wV(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function U(t,e=""){let n=Fe(),r=nn(),i=t+nr,o=r.firstCreatePass?jf(r,i,1,e,null):r.data[i],s=_V(r,n,o,e,t);n[i]=s,Hv()&&rw(r,n,s,o),Bu(o,!1)}var _V=(t,e,n,r,i)=>(qv(!0),K1(e[It],r));function EV(t){return Gf("",t,""),EV}function Gf(t,e,n){let r=Fe(),i=ZD(r,t,e,n);return i!==ir&&LD(r,ys(),i),Gf}function IV(t,e,n,r,i){let o=Fe(),s=GL(o,t,e,n,r,i);return s!==ir&&LD(o,ys(),s),IV}function Wf(t,e,n){WD(e)&&(e=e());let r=Fe(),i=kf();if(ho(r,i,e)){let o=nn(),s=Of();sw(o,s,r,t,e,r[It],n,!1)}return Wf}function hw(t,e){let n=WD(t);return n&&t.set(e),n}function Kf(t,e){let n=Fe(),r=nn(),i=fn();return JD(r,n,n[It],i,t,e),Kf}function bV(t,e,n){let r=nn();if(r.firstCreatePass){let i=uo(t);Cv(n,r.data,r.blueprint,i,!0),Cv(e,r.data,r.blueprint,i,!1)}}function Cv(t,e,n,r,i){if(t=Jt(t),Array.isArray(t))for(let o=0;o<t.length;o++)Cv(t[o],e,n,r,i);else{let o=nn(),s=Fe(),a=fn(),u=La(t)?t:Jt(t.provide),d=mT(t),p=a.providerIndexes&1048575,m=a.directiveStart,w=a.providerIndexes>>20;if(La(t)||!t.multi){let E=new fs(d,i,K),x=By(u,e,i?p:p+w,m);x===-1?(tv(pf(a,s),o,u),jy(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(E),s.push(E)):(n[x]=E,s[x]=E)}else{let E=By(u,e,p+w,m),x=By(u,e,p,p+w),F=E>=0&&n[E],N=x>=0&&n[x];if(i&&!N||!i&&!F){tv(pf(a,s),o,u);let B=DV(i?TV:CV,n.length,i,r,d);!i&&N&&(n[x].providerFactory=B),jy(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(B),s.push(B)}else{let B=eA(n[i?x:E],d,!i&&r);jy(o,t,E>-1?E:x,B)}!i&&r&&N&&n[x].componentProviders++}}}function jy(t,e,n,r){let i=La(e),o=RO(e);if(i||o){let u=(o?Jt(e.useClass):e).prototype.ngOnDestroy;if(u){let d=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let p=d.indexOf(n);p===-1?d.push(n,[r,u]):d[p+1].push(r,u)}else d.push(n,u)}}}function eA(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function By(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function CV(t,e,n,r){return Tv(this.multi,[])}function TV(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ba(n,n[Ce],this.providerFactory.index,r);o=a.slice(0,s),Tv(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Tv(i,o);return o}function Tv(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function DV(t,e,n,r,i){let o=new fs(t,n,K);return o.multi=[],o.index=e,o.componentProviders=0,eA(o,i,r&&!n),o}function or(t,e=[]){return n=>{n.providersResolver=(r,i)=>bV(r,i?i(t):t,e)}}var AV=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=hT(!1,n.type),i=r.length>0?qf([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=ee({token:t,providedIn:"environment",factory:()=>new t(J(en))})}}return t})();function tA(t){vs("NgStandalone"),t.getStandaloneInjector=e=>e.get(AV).getOrCreateStandaloneInjector(t)}function zQ(t,e,n){let r=$u()+t,i=Fe();return i[r]===ir?lw(i,r,n?e.call(n):e()):LL(i,r)}function GQ(t,e,n,r){return rA(Fe(),$u(),t,e,n,r)}function WQ(t,e,n,r,i){return iA(Fe(),$u(),t,e,n,r,i)}function nA(t,e){let n=t[e];return n===ir?void 0:n}function rA(t,e,n,r,i,o){let s=e+n;return ho(t,s,i)?lw(t,s+1,o?r.call(o,i):r(i)):nA(t,s+1)}function iA(t,e,n,r,i,o,s){let a=e+n;return QD(t,a,i,o)?lw(t,a+2,s?r.call(s,i,o):r(i,o)):nA(t,a+2)}function KQ(t,e){let n=nn(),r,i=t+nr;n.firstCreatePass?(r=SV(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=us(r.type,!0)),s,a=dn(K);try{let u=ff(!1),d=o();return ff(u),wV(n,Fe(),i,d),d}finally{dn(a)}}function SV(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function QQ(t,e,n){let r=t+nr,i=Fe(),o=DT(i,r);return oA(i,r)?rA(i,$u(),e,o.transform,n,o):o.transform(n)}function YQ(t,e,n,r){let i=t+nr,o=Fe(),s=DT(o,i);return oA(o,i)?iA(o,$u(),e,s.transform,n,r,s):s.transform(n,r)}function oA(t,e){return t[Ce].data[e].pure}var oi=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},sA=new oi("18.2.9");var Qf=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var aA=new G("");function ws(t){return!!t&&typeof t.then=="function"}function cA(t){return!!t&&typeof t.subscribe=="function"}var Yf=new G(""),uA=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=$(Yf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(ws(o))n.push(o);else if(cA(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Hu=new G("");function RV(){P0(()=>{throw new re(600,!1)})}function xV(t){return t.isBoundToModule}var MV=10;function NV(t,e,n){try{let r=n();return ws(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var mo=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=$(N1),this.afterRenderManager=$(YD),this.zonelessEnabled=$(Hf),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new ht,this.afterTick=new ht,this.componentTypes=[],this.components=[],this.isStable=$(po).hasPendingTasks.pipe(pe(n=>!n)),this._injector=$(en)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof _f;if(!this._injector.get(uA).done){let w=!i&&cT(n),E=!1;throw new re(405,E)}let s;i?s=n:s=this._injector.get(Ha).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=xV(s)?void 0:this._injector.get(lo),u=r||s.selector,d=s.create(Bt.NULL,[],u,a),p=d.location.nativeElement,m=d.injector.get(aA,null);return m?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),Jh(this.components,d),m?.unregisterApplication(p)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new re(101,!1);let n=Oe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Oe(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(qa,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<MV;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)PV(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Nf(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Jh(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Hu,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Jh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new re(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Jh(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function PV(t,e,n,r){if(!n&&!Nf(t))return;jD(t,e,n&&!r?0:1)}var Dv=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Zf=(()=>{class t{compileModuleSync(n){return new wv(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=uT(n),o=hD(i.declarations).reduce((s,a)=>{let u=co(a);return u&&s.push(new za(u)),s},[]);return new Dv(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var kV=(()=>{class t{constructor(){this.zone=$(xe),this.changeDetectionScheduler=$($a),this.applicationRef=$(mo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),OV=new G("",{factory:()=>!1});function lA({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new xe(le(j({},dA()),{scheduleInRootZone:n})),[{provide:xe,useFactory:t},{provide:Fa,multi:!0,useFactory:()=>{let r=$(kV,{optional:!0});return()=>r.initialize()}},{provide:Fa,multi:!0,useFactory:()=>{let r=$(FV);return()=>{r.initialize()}}},e===!0?{provide:qD,useValue:!0}:[],{provide:zD,useValue:n??eD}]}function ZQ(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=lA({ngZoneFactory:()=>{let i=dA(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&vs("NgZone_CoalesceEvent"),new xe(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Fn([{provide:OV,useValue:!0},{provide:Hf,useValue:!1},r])}function dA(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var FV=(()=>{class t{constructor(){this.subscription=new st,this.initialized=!1,this.zone=$(xe),this.pendingTasks=$(po)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{xe.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{xe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var LV=(()=>{class t{constructor(){this.appRef=$(mo),this.taskService=$(po),this.ngZone=$(xe),this.zonelessEnabled=$(Hf),this.disableScheduling=$(qD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new st,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(gf):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&($(zD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof sv||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?CC:tD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(gf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,CC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function VV(){return typeof $localize<"u"&&$localize.locale||Cf}var Jf=new G("",{providedIn:"root",factory:()=>$(Jf,_e.Optional|_e.SkipSelf)||VV()});var Av=new G("");function Kh(t){return!t.moduleRef}function UV(t){let e=Kh(t)?t.r3Injector:t.moduleRef.injector,n=e.get(xe);return n.run(()=>{Kh(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(ri,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Kh(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Av);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Av);s.add(o),t.moduleRef.onDestroy(()=>{Jh(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return NV(r,n,()=>{let o=e.get(uA);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Jf,Cf);if(mV(s||Cf),Kh(t)){let a=e.get(mo);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return jV(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function jV(t,e){let n=t.injector.get(mo);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new re(-403,!1);e.push(t)}var Xh=null;function BV(t=[],e){return Bt.create({name:e,providers:[{provide:Rf,useValue:"platform"},{provide:Av,useValue:new Set([()=>Xh=null])},...t]})}function $V(t=[]){if(Xh)return Xh;let e=BV(t);return Xh=e,RV(),HV(e),e}function HV(t){t.get(Zv,null)?.forEach(n=>n())}var _s=(()=>{class t{static{this.__NG_ELEMENT_ID__=qV}}return t})();function qV(t){return zV(fn(),Fe(),(t&16)===16)}function zV(t,e,n){if(Mf(t)&&!n){let r=fo(t.index,e);return new ms(r,r)}else if(t.type&175){let r=e[Sr];return new ms(r,e)}return null}var Sv=class{constructor(){}supports(e){return KD(e)}create(e){return new Rv(e)}},GV=(t,e)=>e,Rv=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||GV}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<HC(r,i,o)?n:r,a=HC(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let d=a-i,p=u-i;if(d!=p){for(let w=0;w<d;w++){let E=w<o.length?o[w]:o[w]=0,x=E+w;p<=x&&x<d&&(o[w]=E+1)}let m=s.previousIndex;o[m]=p-d}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!KD(e))throw new re(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,OL(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new xv(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Tf),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Tf),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},xv=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Mv=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Tf=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Mv,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function HC(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function qC(){return new fw([new Sv])}var fw=(()=>{class t{static{this.\u0275prov=ee({token:t,providedIn:"root",factory:qC})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||qC()),deps:[[t,new Pv,new Wt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new re(901,!1)}}return t})();function hA(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=$V(r),o=[lA({}),{provide:$a,useExisting:LV},...n||[]],s=new If({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return UV({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function qu(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Za(t,e){vs("NgSignals");let n=x0(t);return e?.equal&&(n[Xr].equal=e.equal),n}function kr(t){let e=Oe(null);try{return t()}finally{Oe(e)}}function fA(t){let e=co(t);if(!e)return null;let n=new za(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var _A=null;function pi(){return _A}function EA(t){_A??=t}var ap=class{};var Kt=new G(""),Iw=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:()=>$(YV),providedIn:"platform"})}}return t})(),IA=new G(""),YV=(()=>{class t extends Iw{constructor(){super(),this._doc=$(Kt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return pi().getBaseHref(this._doc)}onPopState(n){let r=pi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=pi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function bw(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function pA(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function hi(t){return t&&t[0]!=="?"?"?"+t:t}var Es=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:()=>$(Cw),providedIn:"root"})}}return t})(),bA=new G(""),Cw=(()=>{class t extends Es{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??$(Kt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return bw(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+hi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+hi(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+hi(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(J(Iw),J(bA,8))}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),CA=(()=>{class t extends Es{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=bw(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+hi(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+hi(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(J(Iw),J(bA,8))}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac})}}return t})(),Xa=(()=>{class t{constructor(n){this._subject=new We,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=XV(pA(mA(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+hi(r))}normalize(n){return t.stripTrailingSlash(JV(this._basePath,mA(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+hi(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+hi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=hi}static{this.joinWithSlash=bw}static{this.stripTrailingSlash=pA}static{this.\u0275fac=function(r){return new(r||t)(J(Es))}}static{this.\u0275prov=ee({token:t,factory:()=>ZV(),providedIn:"root"})}}return t})();function ZV(){return new Xa(J(Es))}function JV(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function mA(t){return t.replace(/\/index.html$/,"")}function XV(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var rn=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(rn||{}),Ge=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Ge||{}),Dn=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Dn||{}),go={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function e2(t){return jn(t)[pt.LocaleId]}function t2(t,e,n){let r=jn(t),i=[r[pt.DayPeriodsFormat],r[pt.DayPeriodsStandalone]],o=Bn(i,e);return Bn(o,n)}function n2(t,e,n){let r=jn(t),i=[r[pt.DaysFormat],r[pt.DaysStandalone]],o=Bn(i,e);return Bn(o,n)}function r2(t,e,n){let r=jn(t),i=[r[pt.MonthsFormat],r[pt.MonthsStandalone]],o=Bn(i,e);return Bn(o,n)}function i2(t,e){let r=jn(t)[pt.Eras];return Bn(r,e)}function Xf(t,e){let n=jn(t);return Bn(n[pt.DateFormat],e)}function ep(t,e){let n=jn(t);return Bn(n[pt.TimeFormat],e)}function tp(t,e){let r=jn(t)[pt.DateTimeFormat];return Bn(r,e)}function up(t,e){let n=jn(t),r=n[pt.NumberSymbols][e];if(typeof r>"u"){if(e===go.CurrencyDecimal)return n[pt.NumberSymbols][go.Decimal];if(e===go.CurrencyGroup)return n[pt.NumberSymbols][go.Group]}return r}function TA(t){if(!t[pt.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[pt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function o2(t){let e=jn(t);return TA(e),(e[pt.ExtraData][2]||[]).map(r=>typeof r=="string"?pw(r):[pw(r[0]),pw(r[1])])}function s2(t,e,n){let r=jn(t);TA(r);let i=[r[pt.ExtraData][0],r[pt.ExtraData][1]],o=Bn(i,e)||[];return Bn(o,n)||[]}function Bn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function pw(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var a2=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,np={},c2=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,fi=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(fi||{}),Ue=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Ue||{}),Ve=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Ve||{});function u2(t,e,n,r){let i=v2(t);e=di(n,e)||e;let s=[],a;for(;e;)if(a=c2.exec(e),a){s=s.concat(a.slice(1));let p=s.pop();if(!p)break;e=p}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=AA(r,u),i=y2(i,r,!0));let d="";return s.forEach(p=>{let m=m2(p);d+=m?m(i,n,u):p==="''"?"'":p.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),d}function cp(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function di(t,e){let n=e2(t);if(np[n]??={},np[n][e])return np[n][e];let r="";switch(e){case"shortDate":r=Xf(t,Dn.Short);break;case"mediumDate":r=Xf(t,Dn.Medium);break;case"longDate":r=Xf(t,Dn.Long);break;case"fullDate":r=Xf(t,Dn.Full);break;case"shortTime":r=ep(t,Dn.Short);break;case"mediumTime":r=ep(t,Dn.Medium);break;case"longTime":r=ep(t,Dn.Long);break;case"fullTime":r=ep(t,Dn.Full);break;case"short":let i=di(t,"shortTime"),o=di(t,"shortDate");r=rp(tp(t,Dn.Short),[i,o]);break;case"medium":let s=di(t,"mediumTime"),a=di(t,"mediumDate");r=rp(tp(t,Dn.Medium),[s,a]);break;case"long":let u=di(t,"longTime"),d=di(t,"longDate");r=rp(tp(t,Dn.Long),[u,d]);break;case"full":let p=di(t,"fullTime"),m=di(t,"fullDate");r=rp(tp(t,Dn.Full),[p,m]);break}return r&&(np[n][e]=r),r}function rp(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function sr(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function l2(t,e){return sr(t,3).substring(0,e)}function bt(t,e,n=0,r=!1,i=!1){return function(o,s){let a=d2(t,o);if((n>0||a>-n)&&(a+=n),t===Ue.Hours)a===0&&n===-12&&(a=12);else if(t===Ue.FractionalSeconds)return l2(a,e);let u=up(s,go.MinusSign);return sr(a,e,u,r,i)}}function d2(t,e){switch(t){case Ue.FullYear:return e.getFullYear();case Ue.Month:return e.getMonth();case Ue.Date:return e.getDate();case Ue.Hours:return e.getHours();case Ue.Minutes:return e.getMinutes();case Ue.Seconds:return e.getSeconds();case Ue.FractionalSeconds:return e.getMilliseconds();case Ue.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Ke(t,e,n=rn.Format,r=!1){return function(i,o){return h2(i,o,t,e,n,r)}}function h2(t,e,n,r,i,o){switch(n){case Ve.Months:return r2(e,i,r)[t.getMonth()];case Ve.Days:return n2(e,i,r)[t.getDay()];case Ve.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let d=o2(e),p=s2(e,i,r),m=d.findIndex(w=>{if(Array.isArray(w)){let[E,x]=w,F=s>=E.hours&&a>=E.minutes,N=s<x.hours||s===x.hours&&a<x.minutes;if(E.hours<x.hours){if(F&&N)return!0}else if(F||N)return!0}else if(w.hours===s&&w.minutes===a)return!0;return!1});if(m!==-1)return p[m]}return t2(e,i,r)[s<12?0:1];case Ve.Eras:return i2(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function ip(t){return function(e,n,r){let i=-1*r,o=up(n,go.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case fi.Short:return(i>=0?"+":"")+sr(s,2,o)+sr(Math.abs(i%60),2,o);case fi.ShortGMT:return"GMT"+(i>=0?"+":"")+sr(s,1,o);case fi.Long:return"GMT"+(i>=0?"+":"")+sr(s,2,o)+":"+sr(Math.abs(i%60),2,o);case fi.Extended:return r===0?"Z":(i>=0?"+":"")+sr(s,2,o)+":"+sr(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var f2=0,sp=4;function p2(t){let e=cp(t,f2,1).getDay();return cp(t,0,1+(e<=sp?sp:sp+7)-e)}function DA(t){let e=t.getDay(),n=e===0?-3:sp-e;return cp(t.getFullYear(),t.getMonth(),t.getDate()+n)}function mw(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=DA(n),s=p2(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return sr(i,t,up(r,go.MinusSign))}}function op(t,e=!1){return function(n,r){let o=DA(n).getFullYear();return sr(o,t,up(r,go.MinusSign),e)}}var gw={};function m2(t){if(gw[t])return gw[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ke(Ve.Eras,Ge.Abbreviated);break;case"GGGG":e=Ke(Ve.Eras,Ge.Wide);break;case"GGGGG":e=Ke(Ve.Eras,Ge.Narrow);break;case"y":e=bt(Ue.FullYear,1,0,!1,!0);break;case"yy":e=bt(Ue.FullYear,2,0,!0,!0);break;case"yyy":e=bt(Ue.FullYear,3,0,!1,!0);break;case"yyyy":e=bt(Ue.FullYear,4,0,!1,!0);break;case"Y":e=op(1);break;case"YY":e=op(2,!0);break;case"YYY":e=op(3);break;case"YYYY":e=op(4);break;case"M":case"L":e=bt(Ue.Month,1,1);break;case"MM":case"LL":e=bt(Ue.Month,2,1);break;case"MMM":e=Ke(Ve.Months,Ge.Abbreviated);break;case"MMMM":e=Ke(Ve.Months,Ge.Wide);break;case"MMMMM":e=Ke(Ve.Months,Ge.Narrow);break;case"LLL":e=Ke(Ve.Months,Ge.Abbreviated,rn.Standalone);break;case"LLLL":e=Ke(Ve.Months,Ge.Wide,rn.Standalone);break;case"LLLLL":e=Ke(Ve.Months,Ge.Narrow,rn.Standalone);break;case"w":e=mw(1);break;case"ww":e=mw(2);break;case"W":e=mw(1,!0);break;case"d":e=bt(Ue.Date,1);break;case"dd":e=bt(Ue.Date,2);break;case"c":case"cc":e=bt(Ue.Day,1);break;case"ccc":e=Ke(Ve.Days,Ge.Abbreviated,rn.Standalone);break;case"cccc":e=Ke(Ve.Days,Ge.Wide,rn.Standalone);break;case"ccccc":e=Ke(Ve.Days,Ge.Narrow,rn.Standalone);break;case"cccccc":e=Ke(Ve.Days,Ge.Short,rn.Standalone);break;case"E":case"EE":case"EEE":e=Ke(Ve.Days,Ge.Abbreviated);break;case"EEEE":e=Ke(Ve.Days,Ge.Wide);break;case"EEEEE":e=Ke(Ve.Days,Ge.Narrow);break;case"EEEEEE":e=Ke(Ve.Days,Ge.Short);break;case"a":case"aa":case"aaa":e=Ke(Ve.DayPeriods,Ge.Abbreviated);break;case"aaaa":e=Ke(Ve.DayPeriods,Ge.Wide);break;case"aaaaa":e=Ke(Ve.DayPeriods,Ge.Narrow);break;case"b":case"bb":case"bbb":e=Ke(Ve.DayPeriods,Ge.Abbreviated,rn.Standalone,!0);break;case"bbbb":e=Ke(Ve.DayPeriods,Ge.Wide,rn.Standalone,!0);break;case"bbbbb":e=Ke(Ve.DayPeriods,Ge.Narrow,rn.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ke(Ve.DayPeriods,Ge.Abbreviated,rn.Format,!0);break;case"BBBB":e=Ke(Ve.DayPeriods,Ge.Wide,rn.Format,!0);break;case"BBBBB":e=Ke(Ve.DayPeriods,Ge.Narrow,rn.Format,!0);break;case"h":e=bt(Ue.Hours,1,-12);break;case"hh":e=bt(Ue.Hours,2,-12);break;case"H":e=bt(Ue.Hours,1);break;case"HH":e=bt(Ue.Hours,2);break;case"m":e=bt(Ue.Minutes,1);break;case"mm":e=bt(Ue.Minutes,2);break;case"s":e=bt(Ue.Seconds,1);break;case"ss":e=bt(Ue.Seconds,2);break;case"S":e=bt(Ue.FractionalSeconds,1);break;case"SS":e=bt(Ue.FractionalSeconds,2);break;case"SSS":e=bt(Ue.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=ip(fi.Short);break;case"ZZZZZ":e=ip(fi.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=ip(fi.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=ip(fi.Long);break;default:return null}return gw[t]=e,e}function AA(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function g2(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function y2(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=AA(e,i);return g2(t,r*(o-i))}function v2(t){if(gA(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return cp(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(a2))return w2(r)}let e=new Date(t);if(!gA(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function w2(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),d=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,d),e}function gA(t){return t instanceof Date&&!isNaN(t.valueOf())}function lp(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var yw=/\s+/,yA=[],_Y=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=yA,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(yw):yA}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(yw):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(yw).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(K(Un),K(li))}}static{this.\u0275dir=Je({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var vw=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},SA=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new vw(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),vA(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);vA(o,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(K(Ka),K($f),K(fw))}}static{this.\u0275dir=Je({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function vA(t,e){t.context.$implicit=e.item}var yo=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new ww,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){wA("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){wA("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(K(Ka),K($f))}}static{this.\u0275dir=Je({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),ww=class{constructor(){this.$implicit=null,this.ngIf=null}};function wA(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Xt(e)}'.`)}function RA(t,e){return new re(2100,!1)}var _2=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,EY=(()=>{class t{transform(n){if(n==null)return null;if(typeof n!="string")throw RA(t,n);return n.replace(_2,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275pipe=Fv({name:"titlecase",type:t,pure:!0,standalone:!0})}}return t})();var E2="mediumDate",I2=new G(""),b2=new G(""),IY=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??E2,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return u2(n,s,o||this.locale,a)}catch(s){throw RA(t,s.message)}}static{this.\u0275fac=function(r){return new(r||t)(K(Jf,16),K(I2,24),K(b2,24))}}static{this.\u0275pipe=Fv({name:"date",type:t,pure:!0,standalone:!0})}}return t})();var zu=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ct({type:t})}static{this.\u0275inj=at({})}}return t})(),Tw="browser",C2="server";function Dw(t){return t===Tw}function dp(t){return t===C2}var xA=(()=>{class t{static{this.\u0275prov=ee({token:t,providedIn:"root",factory:()=>Dw($(pn))?new _w($(Kt),window):new Ew})}}return t})(),_w=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=T2(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function T2(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Ew=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Ja=class{};var Ku=class{},fp=class{},mi=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Sw=class{encodeKey(e){return MA(e)}encodeValue(e){return MA(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function D2(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(a),n.set(s,u)}),n}var A2=/%(\d[a-f0-9])/gi,S2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function MA(t){return encodeURIComponent(t).replace(A2,(e,n)=>S2[n]??e)}function hp(t){return`${t}`}var wo=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Sw,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=D2(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(hp):[hp(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(hp(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(hp(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Rw=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function R2(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function NA(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function PA(t){return typeof Blob<"u"&&t instanceof Blob}function kA(t){return typeof FormData<"u"&&t instanceof FormData}function x2(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Wu=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(R2(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new mi,this.context??=new Rw,!this.params)this.params=new wo,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||NA(this.body)||PA(this.body)||kA(this.body)||x2(this.body)?this.body:this.body instanceof wo?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||kA(this.body)?null:PA(this.body)?this.body.type||null:NA(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof wo?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,d=e.headers||this.headers,p=e.params||this.params,m=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((w,E)=>w.set(E,e.setHeaders[E]),d)),e.setParams&&(p=Object.keys(e.setParams).reduce((w,E)=>w.set(E,e.setParams[E]),p)),new t(n,r,s,{params:p,headers:d,context:m,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},_o=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(_o||{}),Qu=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new mi,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},pp=class t extends Qu{constructor(e={}){super(e),this.type=_o.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Yu=class t extends Qu{constructor(e={}){super(e),this.type=_o.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},vo=class extends Qu{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},VA=200,M2=204;function Aw(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var N2=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Wu)o=n;else{let u;i.headers instanceof mi?u=i.headers:u=new mi(i.headers);let d;i.params&&(i.params instanceof wo?d=i.params:d=new wo({fromObject:i.params})),o=new Wu(n,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:d,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=se(o).pipe(ti(u=>this.handler.handle(u)));if(n instanceof Wu||i.observe==="events")return s;let a=s.pipe(Gt(u=>u instanceof Yu));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(pe(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(pe(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(pe(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(pe(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new wo().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Aw(i,r))}post(n,r,i={}){return this.request("POST",n,Aw(i,r))}put(n,r,i={}){return this.request("PUT",n,Aw(i,r))}static{this.\u0275fac=function(r){return new(r||t)(J(Ku))}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac})}}return t})(),P2=/^\)\]\}',?\n/,k2="X-Request-URL";function OA(t){if(t.url)return t.url;let e=k2.toLocaleLowerCase();return t.headers.get(e)}var O2=(()=>{class t{constructor(){this.fetchImpl=$(xw,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n)),this.ngZone=$(xe)}handle(n){return new be(r=>{let i=new AbortController;return this.doRequest(n,i.signal,r).then(Mw,o=>r.error(new vo({error:o}))),()=>i.abort()})}doRequest(n,r,i){return b(this,null,function*(){let o=this.createRequestInit(n),s;try{let E=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,j({signal:r},o)));F2(E),i.next({type:_o.Sent}),s=yield E}catch(E){i.error(new vo({error:E,status:E.status??0,statusText:E.statusText,url:n.urlWithParams,headers:E.headers}));return}let a=new mi(s.headers),u=s.statusText,d=OA(s)??n.urlWithParams,p=s.status,m=null;if(n.reportProgress&&i.next(new pp({headers:a,status:p,statusText:u,url:d})),s.body){let E=s.headers.get("content-length"),x=[],F=s.body.getReader(),N=0,B,Z,z=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>b(this,null,function*(){for(;;){let{done:ye,value:ie}=yield F.read();if(ye)break;if(x.push(ie),N+=ie.length,n.reportProgress){Z=n.responseType==="text"?(Z??"")+(B??=new TextDecoder).decode(ie,{stream:!0}):void 0;let D=()=>i.next({type:_o.DownloadProgress,total:E?+E:void 0,loaded:N,partialText:Z});z?z.run(D):D()}}}));let ne=this.concatChunks(x,N);try{let ye=s.headers.get("Content-Type")??"";m=this.parseBody(n,ne,ye)}catch(ye){i.error(new vo({error:ye,headers:new mi(s.headers),status:s.status,statusText:s.statusText,url:OA(s)??n.urlWithParams}));return}}p===0&&(p=m?VA:0),p>=200&&p<300?(i.next(new Yu({body:m,headers:a,status:p,statusText:u,url:d})),i.complete()):i.error(new vo({error:m,headers:a,status:p,statusText:u,url:d}))})}parseBody(n,r,i){switch(n.responseType){case"json":let o=new TextDecoder().decode(r).replace(P2,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},i=n.withCredentials?"include":void 0;if(n.headers.forEach((o,s)=>r[o]=s.join(",")),n.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let o=n.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:i}}concatChunks(n,r){let i=new Uint8Array(r),o=0;for(let s of n)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac})}}return t})(),xw=class{};function Mw(){}function F2(t){t.then(Mw,Mw)}function L2(t,e){return e(t)}function V2(t,e,n){return(r,i)=>Ln(n,()=>e(r,o=>t(o,i)))}var UA=new G(""),U2=new G(""),j2=new G("",{providedIn:"root",factory:()=>!0});var FA=(()=>{class t extends Ku{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=$(po),this.contributeToStability=$(j2)}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(UA),...this.injector.get(U2,[])]));this.chain=r.reduceRight((i,o)=>V2(i,o,this.injector),L2)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(ss(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||t)(J(fp),J(en))}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac})}}return t})();var B2=/^\)\]\}',?\n/;function $2(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var LA=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new re(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ze(r.\u0275loadImpl()):se(null)).pipe(ln(()=>new be(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((F,N)=>s.setRequestHeader(F,N.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let F=n.detectContentTypeHeader();F!==null&&s.setRequestHeader("Content-Type",F)}if(n.responseType){let F=n.responseType.toLowerCase();s.responseType=F!=="json"?F:"text"}let a=n.serializeBody(),u=null,d=()=>{if(u!==null)return u;let F=s.statusText||"OK",N=new mi(s.getAllResponseHeaders()),B=$2(s)||n.url;return u=new pp({headers:N,status:s.status,statusText:F,url:B}),u},p=()=>{let{headers:F,status:N,statusText:B,url:Z}=d(),z=null;N!==M2&&(z=typeof s.response>"u"?s.responseText:s.response),N===0&&(N=z?VA:0);let ne=N>=200&&N<300;if(n.responseType==="json"&&typeof z=="string"){let ye=z;z=z.replace(B2,"");try{z=z!==""?JSON.parse(z):null}catch(ie){z=ye,ne&&(ne=!1,z={error:ie,text:z})}}ne?(o.next(new Yu({body:z,headers:F,status:N,statusText:B,url:Z||void 0})),o.complete()):o.error(new vo({error:z,headers:F,status:N,statusText:B,url:Z||void 0}))},m=F=>{let{url:N}=d(),B=new vo({error:F,status:s.status||0,statusText:s.statusText||"Unknown Error",url:N||void 0});o.error(B)},w=!1,E=F=>{w||(o.next(d()),w=!0);let N={type:_o.DownloadProgress,loaded:F.loaded};F.lengthComputable&&(N.total=F.total),n.responseType==="text"&&s.responseText&&(N.partialText=s.responseText),o.next(N)},x=F=>{let N={type:_o.UploadProgress,loaded:F.loaded};F.lengthComputable&&(N.total=F.total),o.next(N)};return s.addEventListener("load",p),s.addEventListener("error",m),s.addEventListener("timeout",m),s.addEventListener("abort",m),n.reportProgress&&(s.addEventListener("progress",E),a!==null&&s.upload&&s.upload.addEventListener("progress",x)),s.send(a),o.next({type:_o.Sent}),()=>{s.removeEventListener("error",m),s.removeEventListener("abort",m),s.removeEventListener("load",p),s.removeEventListener("timeout",m),n.reportProgress&&(s.removeEventListener("progress",E),a!==null&&s.upload&&s.upload.removeEventListener("progress",x)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||t)(J(Ja))}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac})}}return t})(),jA=new G(""),H2="XSRF-TOKEN",q2=new G("",{providedIn:"root",factory:()=>H2}),z2="X-XSRF-TOKEN",G2=new G("",{providedIn:"root",factory:()=>z2}),mp=class{},W2=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=lp(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||t)(J(Kt),J(pn),J(q2))}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac})}}return t})();function K2(t,e){let n=t.url.toLowerCase();if(!$(jA)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=$(mp).getToken(),i=$(G2);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function FY(...t){let e=[N2,LA,FA,{provide:Ku,useExisting:FA},{provide:fp,useFactory:()=>$(O2,{optional:!0})??$(LA)},{provide:UA,useValue:K2,multi:!0},{provide:jA,useValue:!0},{provide:mp,useClass:W2}];for(let n of t)e.push(...n.\u0275providers);return Fn(e)}var kw=class extends ap{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Ow=class t extends kw{static makeCurrent(){EA(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Q2();return n==null?null:Y2(n)}resetBaseElement(){Zu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return lp(document.cookie,e)}},Zu=null;function Q2(){return Zu=Zu||document.querySelector("base"),Zu?Zu.getAttribute("href"):null}function Y2(t){return new URL(t,document.baseURI).pathname}var Z2=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac})}}return t})(),Fw=new G(""),qA=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new re(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(J(Fw),J(xe))}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac})}}return t})(),gp=class{constructor(e){this._doc=e}},Nw="ng-app-id",zA=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=dp(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Nw}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Nw),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Nw,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(J(Kt),J(Yv),J(Jv,8),J(pn))}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac})}}return t})(),Pw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Vw=/%COMP%/g,GA="%COMP%",J2=`_nghost-${GA}`,X2=`_ngcontent-${GA}`,eU=!0,tU=new G("",{providedIn:"root",factory:()=>eU});function nU(t){return X2.replace(Vw,t)}function rU(t){return J2.replace(Vw,t)}function WA(t,e){return e.map(n=>n.replace(Vw,t))}var BA=(()=>{class t{constructor(n,r,i,o,s,a,u,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=dp(a),this.defaultRenderer=new Ju(n,s,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Dr.ShadowDom&&(r=le(j({},r),{encapsulation:Dr.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof yp?i.applyToHost(n):i instanceof Xu&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case Dr.Emulated:o=new yp(u,d,r,this.appId,p,s,a,m);break;case Dr.ShadowDom:return new Lw(u,d,n,r,s,a,this.nonce,m);default:o=new Xu(u,d,r,p,s,a,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(J(qA),J(zA),J(Yv),J(tU),J(Kt),J(pn),J(xe),J(Jv))}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac})}}return t})(),Ju=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Pw[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){($A(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&($A(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new re(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Pw[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Pw[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ii.DashCase|ii.Important)?e.style.setProperty(n,r,i&ii.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ii.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=pi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function $A(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Lw=class extends Ju{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=WA(i.id,i.styles);for(let p of d){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=p,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Xu=class extends Ju{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?WA(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},yp=class extends Xu{constructor(e,n,r,i,o,s,a,u){let d=i+"-"+r.id;super(e,n,r,o,s,a,u,d),this.contentAttr=nU(d),this.hostAttr=rU(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},iU=(()=>{class t extends gp{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(J(Kt))}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac})}}return t})(),HA=["alt","control","meta","shift"],oU={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},sU={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},aU=(()=>{class t extends gp{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pi().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),HA.forEach(d=>{let p=r.indexOf(d);p>-1&&(r.splice(p,1),s+=d+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=oU[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),HA.forEach(s=>{if(s!==i){let a=sU[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(J(Kt))}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac})}}return t})();function cZ(t,e){return hA(j({rootComponent:t},cU(e)))}function cU(t){return{appProviders:[...fU,...t?.providers??[]],platformProviders:hU}}function uU(){Ow.makeCurrent()}function lU(){return new ri}function dU(){return cD(document),document}var hU=[{provide:pn,useValue:Tw},{provide:Zv,useValue:uU,multi:!0},{provide:Kt,useFactory:dU,deps:[]}];var fU=[{provide:Rf,useValue:"root"},{provide:ri,useFactory:lU,deps:[]},{provide:Fw,useClass:iU,multi:!0,deps:[Kt,xe,pn]},{provide:Fw,useClass:aU,multi:!0,deps:[Kt]},BA,zA,qA,{provide:qa,useExisting:BA},{provide:Ja,useClass:Z2,deps:[]},[]];var KA=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(J(Kt))}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ge="primary",ml=Symbol("RouteTitle"),Hw=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function oc(t){return new Hw(t)}function mU(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function gU(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Or(t[n],e[n]))return!1;return!0}function Or(t,e){let n=t?qw(t):void 0,r=e?qw(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!oS(t[i],e[i]))return!1;return!0}function qw(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function oS(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function sS(t){return t.length>0?t[t.length-1]:null}function Io(t){return Ey(t)?t:ws(t)?Ze(Promise.resolve(t)):se(t)}var yU={exact:cS,subset:uS},aS={exact:vU,subset:wU,ignored:()=>!0};function QA(t,e,n){return yU[n.paths](t.root,e.root,n.matrixParams)&&aS[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function vU(t,e){return Or(t,e)}function cS(t,e,n){if(!bs(t.segments,e.segments)||!_p(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!cS(t.children[r],e.children[r],n))return!1;return!0}function wU(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>oS(t[n],e[n]))}function uS(t,e,n){return lS(t,e,e.segments,n)}function lS(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!bs(i,n)||e.hasChildren()||!_p(i,n,r))}else if(t.segments.length===n.length){if(!bs(t.segments,n)||!_p(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!uS(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!bs(t.segments,i)||!_p(t.segments,i,r)||!t.children[ge]?!1:lS(t.children[ge],e,o,r)}}function _p(t,e,n){return e.every((r,i)=>aS[n](t[i].parameters,r.parameters))}var yi=class{constructor(e=new $e([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=oc(this.queryParams),this._queryParamMap}toString(){return IU.serialize(this)}},$e=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ep(this)}},Is=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=oc(this.parameters),this._parameterMap}toString(){return hS(this)}};function _U(t,e){return bs(t,e)&&t.every((n,r)=>Or(n.parameters,e[r].parameters))}function bs(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function EU(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ge&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ge&&(n=n.concat(e(i,r)))}),n}var gl=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:()=>new sc,providedIn:"root"})}}return t})(),sc=class{parse(e){let n=new Gw(e);return new yi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${el(e.root,!0)}`,r=TU(e.queryParams),i=typeof e.fragment=="string"?`#${bU(e.fragment)}`:"";return`${n}${r}${i}`}},IU=new sc;function Ep(t){return t.segments.map(e=>hS(e)).join("/")}function el(t,e){if(!t.hasChildren())return Ep(t);if(e){let n=t.children[ge]?el(t.children[ge],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ge&&r.push(`${i}:${el(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=EU(t,(r,i)=>i===ge?[el(t.children[ge],!1)]:[`${i}:${el(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ge]!=null?`${Ep(t)}/${n[0]}`:`${Ep(t)}/(${n.join("//")})`}}function dS(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vp(t){return dS(t).replace(/%3B/gi,";")}function bU(t){return encodeURI(t)}function zw(t){return dS(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ip(t){return decodeURIComponent(t)}function YA(t){return Ip(t.replace(/\+/g,"%20"))}function hS(t){return`${zw(t.path)}${CU(t.parameters)}`}function CU(t){return Object.entries(t).map(([e,n])=>`;${zw(e)}=${zw(n)}`).join("")}function TU(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${vp(n)}=${vp(i)}`).join("&"):`${vp(n)}=${vp(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var DU=/^[^\/()?;#]+/;function Uw(t){let e=t.match(DU);return e?e[0]:""}var AU=/^[^\/()?;=#]+/;function SU(t){let e=t.match(AU);return e?e[0]:""}var RU=/^[^=?&#]+/;function xU(t){let e=t.match(RU);return e?e[0]:""}var MU=/^[^&#]+/;function NU(t){let e=t.match(MU);return e?e[0]:""}var Gw=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new $e([],{}):new $e([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ge]=new $e(e,n)),r}parseSegment(){let e=Uw(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new re(4009,!1);return this.capture(e),new Is(Ip(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=SU(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Uw(this.remaining);i&&(r=i,this.capture(r))}e[Ip(n)]=Ip(r)}parseQueryParam(e){let n=xU(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=NU(this.remaining);s&&(r=s,this.capture(r))}let i=YA(n),o=YA(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Uw(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new re(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ge);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[ge]:new $e([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new re(4011,!1)}};function fS(t){return t.segments.length>0?new $e([],{[ge]:t}):t}function pS(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=pS(i);if(r===ge&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new $e(t.segments,e);return PU(n)}function PU(t){if(t.numberOfChildren===1&&t.children[ge]){let e=t.children[ge];return new $e(t.segments.concat(e.segments),e.children)}return t}function sl(t){return t instanceof yi}function kU(t,e,n=null,r=null){let i=mS(t);return gS(i,e,n,r)}function mS(t){let e;function n(o){let s={};for(let u of o.children){let d=n(u);s[u.outlet]=d}let a=new $e(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=fS(r);return e??i}function gS(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return jw(i,i,i,n,r);let o=OU(e);if(o.toRoot())return jw(i,i,new $e([],{}),n,r);let s=FU(o,i,t),a=s.processChildren?rl(s.segmentGroup,s.index,o.commands):vS(s.segmentGroup,s.index,o.commands);return jw(i,s.segmentGroup,a,n,r)}function bp(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function al(t){return typeof t=="object"&&t!=null&&t.outlets}function jw(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,d])=>{o[u]=Array.isArray(d)?d.map(p=>`${p}`):`${d}`});let s;t===e?s=n:s=yS(t,e,n);let a=fS(pS(s));return new yi(a,o,i)}function yS(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=yS(o,e,n)}),new $e(t.segments,r)}var Cp=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&bp(r[0]))throw new re(4003,!1);let i=r.find(al);if(i&&i!==sS(r))throw new re(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function OU(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Cp(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,d])=>{a[u]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Cp(n,e,r)}var nc=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function FU(t,e,n){if(t.isAbsolute)return new nc(e,!0,0);if(!n)return new nc(e,!1,NaN);if(n.parent===null)return new nc(n,!0,0);let r=bp(t.commands[0])?0:1,i=n.segments.length-1+r;return LU(n,i,t.numberOfDoubleDots)}function LU(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new re(4005,!1);i=r.segments.length}return new nc(r,!1,i-o)}function VU(t){return al(t[0])?t[0].outlets:{[ge]:t}}function vS(t,e,n){if(t??=new $e([],{}),t.segments.length===0&&t.hasChildren())return rl(t,e,n);let r=UU(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new $e(t.segments.slice(0,r.pathIndex),{});return o.children[ge]=new $e(t.segments.slice(r.pathIndex),t.children),rl(o,0,i)}else return r.match&&i.length===0?new $e(t.segments,{}):r.match&&!t.hasChildren()?Ww(t,e,n):r.match?rl(t,0,i):Ww(t,e,n)}function rl(t,e,n){if(n.length===0)return new $e(t.segments,{});{let r=VU(n),i={};if(Object.keys(r).some(o=>o!==ge)&&t.children[ge]&&t.numberOfChildren===1&&t.children[ge].segments.length===0){let o=rl(t.children[ge],e,n);return new $e(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=vS(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new $e(t.segments,i)}}function UU(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(al(a))break;let u=`${a}`,d=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&d&&typeof d=="object"&&d.outlets===void 0){if(!JA(u,d,s))return o;r+=2}else{if(!JA(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ww(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(al(o)){let u=jU(o.outlets);return new $e(r,u)}if(i===0&&bp(n[0])){let u=t.segments[e];r.push(new Is(u.path,ZA(n[0]))),i++;continue}let s=al(o)?o.outlets[ge]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&bp(a)?(r.push(new Is(s,ZA(a))),i+=2):(r.push(new Is(s,{})),i++)}return new $e(r,{})}function jU(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Ww(new $e([],{}),0,r))}),e}function ZA(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function JA(t,e,n){return t==n.path&&Or(e,n.parameters)}var il="imperative",Ft=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ft||{}),$n=class{constructor(e,n){this.id=e,this.url=n}},ac=class extends $n{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ft.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},vi=class extends $n{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ft.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Sn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Sn||{}),Tp=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Tp||{}),gi=class extends $n{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ft.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Eo=class extends $n{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ft.NavigationSkipped}},cl=class extends $n{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ft.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Dp=class extends $n{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ft.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kw=class extends $n{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ft.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qw=class extends $n{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Ft.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Yw=class extends $n{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ft.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zw=class extends $n{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ft.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jw=class{constructor(e){this.route=e,this.type=Ft.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Xw=class{constructor(e){this.route=e,this.type=Ft.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},e_=class{constructor(e){this.snapshot=e,this.type=Ft.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},t_=class{constructor(e){this.snapshot=e,this.type=Ft.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},n_=class{constructor(e){this.snapshot=e,this.type=Ft.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},r_=class{constructor(e){this.snapshot=e,this.type=Ft.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ap=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Ft.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ul=class{},cc=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function BU(t,e){return t.providers&&!t._injector&&(t._injector=qf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function ar(t){return t.outlet||ge}function $U(t,e){let n=t.filter(r=>ar(r)===e);return n.push(...t.filter(r=>ar(r)!==e)),n}function yl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var i_=class{get injector(){return yl(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new vl(this.rootInjector),this.attachRef=null}},vl=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new i_(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(J(en))}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Sp=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=o_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=o_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=s_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return s_(e,this._root).map(n=>n.value)}};function o_(t,e){if(t===e.value)return e;for(let n of e.children){let r=o_(t,n);if(r)return r}return null}function s_(t,e){if(t===e.value)return[e];for(let n of e.children){let r=s_(t,n);if(r.length)return r.unshift(e),r}return[]}var An=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function tc(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Rp=class extends Sp{constructor(e,n){super(e),this.snapshot=n,m_(this,e)}toString(){return this.snapshot.toString()}};function wS(t){let e=HU(t),n=new ft([new Is("",{})]),r=new ft({}),i=new ft({}),o=new ft({}),s=new ft(""),a=new Cs(n,r,o,s,i,ge,t,e.root);return a.snapshot=e.root,new Rp(new An(a,[]),e)}function HU(t){let e={},n={},r={},i="",o=new rc([],e,r,i,n,ge,t,null,{});return new Mp("",new An(o,[]))}var Cs=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(pe(d=>d[ml]))??se(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(pe(e=>oc(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(pe(e=>oc(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function xp(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:j(j({},e.params),t.params),data:j(j({},e.data),t.data),resolve:j(j(j(j({},t.data),e.data),i?.data),t._resolvedData)}:r={params:j({},t.params),data:j({},t.data),resolve:j(j({},t.data),t._resolvedData??{})},i&&ES(i)&&(r.resolve[ml]=i.title),r}var rc=class{get title(){return this.data?.[ml]}constructor(e,n,r,i,o,s,a,u,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=oc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=oc(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Mp=class extends Sp{constructor(e,n){super(n),this.url=e,m_(this,n)}toString(){return _S(this._root)}};function m_(t,e){e.value._routerState=t,e.children.forEach(n=>m_(t,n))}function _S(t){let e=t.children.length>0?` { ${t.children.map(_S).join(", ")} } `:"";return`${t.value}${e}`}function Bw(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Or(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Or(e.params,n.params)||t.paramsSubject.next(n.params),gU(e.url,n.url)||t.urlSubject.next(n.url),Or(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function a_(t,e){let n=Or(t.params,e.params)&&_U(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||a_(t.parent,e.parent))}function ES(t){return typeof t.title=="string"||t.title===null}var qU=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ge,this.activateEvents=new We,this.deactivateEvents=new We,this.attachEvents=new We,this.detachEvents=new We,this.parentContexts=$(vl),this.location=$(Ka),this.changeDetector=$(_s),this.inputBinder=$(Op,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new re(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new re(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new re(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new re(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new c_(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Je({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ci]})}}return t})(),c_=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Cs?this.route:e===vl?this.childContexts:this.parent.get(e,n)}},Op=new G(""),XA=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Ru([r.queryParams,r.params,r.data]).pipe(ln(([o,s,a],u)=>(a=j(j(j({},o),s),a),u===0?se(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=fA(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac})}}return t})();function zU(t,e,n){let r=ll(t,e._root,n?n._root:void 0);return new Rp(r,e)}function ll(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=GU(t,e,n);return new An(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ll(t,a)),s}}let r=WU(e.value),i=e.children.map(o=>ll(t,o));return new An(r,i)}}function GU(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ll(t,r,i);return ll(t,r)})}function WU(t){return new Cs(new ft(t.url),new ft(t.params),new ft(t.queryParams),new ft(t.fragment),new ft(t.data),t.outlet,t.component,t)}var dl=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},IS="ngNavigationCancelingError";function Np(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=sl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=bS(!1,Sn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function bS(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[IS]=!0,n.cancellationCode=e,n}function KU(t){return CS(t)&&sl(t.url)}function CS(t){return!!t&&t[IS]}var QU=(t,e,n,r)=>pe(i=>(new u_(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),u_=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Bw(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=tc(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=tc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=tc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=tc(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new r_(o.value.snapshot))}),e.children.length&&this.forwardEvent(new t_(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Bw(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Bw(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Pp=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ic=class{constructor(e,n){this.component=e,this.route=n}};function YU(t,e,n){let r=t._root,i=e?e._root:null;return tl(r,i,n,[r.value])}function ZU(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function lc(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!KC(t)?t:e.get(t):r}function tl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=tc(e);return t.children.forEach(s=>{JU(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ol(a,n.getContext(s),i)),i}function JU(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=XU(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Pp(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?tl(t,e,a?a.children:null,r,i):tl(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ic(a.outlet.component,s))}else s&&ol(e,a,i),i.canActivateChecks.push(new Pp(r)),o.component?tl(t,null,a?a.children:null,r,i):tl(t,null,n,r,i);return i}function XU(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!bs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!bs(t.url,e.url)||!Or(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!a_(t,e)||!Or(t.queryParams,e.queryParams);case"paramsChange":default:return!a_(t,e)}}function ol(t,e,n){let r=tc(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ol(s,e.children.getContext(o),n):ol(s,null,n):ol(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ic(e.outlet.component,i)):n.canDeactivateChecks.push(new ic(null,i)):n.canDeactivateChecks.push(new ic(null,i))}function wl(t){return typeof t=="function"}function ej(t){return typeof t=="boolean"}function tj(t){return t&&wl(t.canLoad)}function nj(t){return t&&wl(t.canActivate)}function rj(t){return t&&wl(t.canActivateChild)}function ij(t){return t&&wl(t.canDeactivate)}function oj(t){return t&&wl(t.canMatch)}function TS(t){return t instanceof ei||t?.name==="EmptyError"}var wp=Symbol("INITIAL_VALUE");function uc(){return ln(t=>Ru(t.map(e=>e.pipe(ni(1),Dy(wp)))).pipe(pe(e=>{for(let n of e)if(n!==!0){if(n===wp)return wp;if(n===!1||sj(n))return n}return!0}),Gt(e=>e!==wp),ni(1)))}function sj(t){return sl(t)||t instanceof dl}function aj(t,e){return _t(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?se(le(j({},n),{guardsResult:!0})):cj(s,r,i,t).pipe(_t(a=>a&&ej(a)?uj(r,o,t,e):se(a)),pe(a=>le(j({},n),{guardsResult:a})))})}function cj(t,e,n,r){return Ze(t).pipe(_t(i=>pj(i.component,i.route,n,e,r)),br(i=>i!==!0,!0))}function uj(t,e,n,r){return Ze(e).pipe(ti(i=>Da(dj(i.route.parent,r),lj(i.route,r),fj(t,i.path,n),hj(t,i.route,n))),br(i=>i!==!0,!0))}function lj(t,e){return t!==null&&e&&e(new n_(t)),se(!0)}function dj(t,e){return t!==null&&e&&e(new e_(t)),se(!0)}function hj(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return se(!0);let i=r.map(o=>Hh(()=>{let s=yl(e)??n,a=lc(o,s),u=nj(a)?a.canActivate(e,t):Ln(s,()=>a(e,t));return Io(u).pipe(br())}));return se(i).pipe(uc())}function fj(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>ZU(s)).filter(s=>s!==null).map(s=>Hh(()=>{let a=s.guards.map(u=>{let d=yl(s.node)??n,p=lc(u,d),m=rj(p)?p.canActivateChild(r,t):Ln(d,()=>p(r,t));return Io(m).pipe(br())});return se(a).pipe(uc())}));return se(o).pipe(uc())}function pj(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return se(!0);let s=o.map(a=>{let u=yl(e)??i,d=lc(a,u),p=ij(d)?d.canDeactivate(t,e,n,r):Ln(u,()=>d(t,e,n,r));return Io(p).pipe(br())});return se(s).pipe(uc())}function mj(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return se(!0);let o=i.map(s=>{let a=lc(s,t),u=tj(a)?a.canLoad(e,n):Ln(t,()=>a(e,n));return Io(u)});return se(o).pipe(uc(),DS(r))}function DS(t){return fy(Et(e=>{if(typeof e!="boolean")throw Np(t,e)}),pe(e=>e===!0))}function gj(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return se(!0);let o=i.map(s=>{let a=lc(s,t),u=oj(a)?a.canMatch(e,n):Ln(t,()=>a(e,n));return Io(u)});return se(o).pipe(uc(),DS(r))}var hl=class{constructor(e){this.segmentGroup=e||null}},fl=class extends Error{constructor(e){super(),this.urlTree=e}};function ec(t){return Ca(new hl(t))}function yj(t){return Ca(new re(4e3,!1))}function vj(t){return Ca(bS(!1,Sn.GuardRejected))}var l_=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return se(r);if(i.numberOfChildren>1||!i.children[ge])return yj(`${e.redirectTo}`);i=i.children[ge]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:d,routeConfig:p,url:m,outlet:w,params:E,data:x,title:F}=i,N=Ln(o,()=>a({params:E,data:x,queryParams:u,fragment:d,routeConfig:p,url:m,outlet:w,title:F}));if(N instanceof yi)throw new fl(N);n=N}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new fl(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new yi(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new $e(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new re(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},d_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function wj(t,e,n,r,i){let o=AS(t,e,n);return o.matched?(r=BU(e,r),gj(r,e,n,i).pipe(pe(s=>s===!0?o:j({},d_)))):se(o)}function AS(t,e,n){if(e.path==="**")return _j(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?j({},d_):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||mU)(n,t,e);if(!i)return j({},d_);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?j(j({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function _j(t){return{matched:!0,parameters:t.length>0?sS(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function eS(t,e,n,r){return n.length>0&&bj(t,n,r)?{segmentGroup:new $e(e,Ij(r,new $e(n,t.children))),slicedSegments:[]}:n.length===0&&Cj(t,n,r)?{segmentGroup:new $e(t.segments,Ej(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new $e(t.segments,t.children),slicedSegments:n}}function Ej(t,e,n,r){let i={};for(let o of n)if(Fp(t,e,o)&&!r[ar(o)]){let s=new $e([],{});i[ar(o)]=s}return j(j({},r),i)}function Ij(t,e){let n={};n[ge]=e;for(let r of t)if(r.path===""&&ar(r)!==ge){let i=new $e([],{});n[ar(r)]=i}return n}function bj(t,e,n){return n.some(r=>Fp(t,e,r)&&ar(r)!==ge)}function Cj(t,e,n){return n.some(r=>Fp(t,e,r))}function Fp(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Tj(t,e,n){return e.length===0&&!t.children[n]}var h_=class{};function Dj(t,e,n,r,i,o,s="emptyOnly"){return new f_(t,e,n,r,i,s,o).recognize()}var Aj=31,f_=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new l_(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new re(4002,`'${e.segmentGroup}'`)}recognize(){let e=eS(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(pe(({children:n,rootSnapshot:r})=>{let i=new An(r,n),o=new Mp("",i),s=kU(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new rc([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ge,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ge,n).pipe(pe(r=>({children:r,rootSnapshot:n})),no(r=>{if(r instanceof fl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof hl?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(pe(s=>s instanceof An?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ze(o).pipe(ti(s=>{let a=r.children[s],u=$U(n,s);return this.processSegmentGroup(e,u,a,s,i)}),Ty((s,a)=>(s.push(...a),s)),ro(null),Cy(),_t(s=>{if(s===null)return ec(r);let a=SS(s);return Sj(a),se(a)}))}processSegment(e,n,r,i,o,s,a){return Ze(n).pipe(ti(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(no(d=>{if(d instanceof hl)return se(null);throw d}))),br(u=>!!u),no(u=>{if(TS(u))return Tj(r,i,o)?se(new h_):ec(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return ar(r)!==s&&(s===ge||!Fp(i,o,r))?ec(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):ec(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:d,consumedSegments:p,positionalParamSegments:m,remainingSegments:w}=AS(n,i,o);if(!u)return ec(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Aj&&(this.allowRedirects=!1));let E=new rc(o,d,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,tS(i),ar(i),i.component??i._loadedComponent??null,i,nS(i)),x=xp(E,a,this.paramsInheritanceStrategy);E.params=Object.freeze(x.params),E.data=Object.freeze(x.data);let F=this.applyRedirects.applyRedirectCommands(p,i.redirectTo,m,E,e);return this.applyRedirects.lineralizeSegments(i,F).pipe(_t(N=>this.processSegment(e,r,n,N.concat(w),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=wj(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(ln(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(ln(({routes:d})=>{let p=r._loadedInjector??e,{parameters:m,consumedSegments:w,remainingSegments:E}=u,x=new rc(w,m,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,tS(r),ar(r),r.component??r._loadedComponent??null,r,nS(r)),F=xp(x,s,this.paramsInheritanceStrategy);x.params=Object.freeze(F.params),x.data=Object.freeze(F.data);let{segmentGroup:N,slicedSegments:B}=eS(n,w,E,d);if(B.length===0&&N.hasChildren())return this.processChildren(p,d,N,x).pipe(pe(z=>new An(x,z)));if(d.length===0&&B.length===0)return se(new An(x,[]));let Z=ar(r)===o;return this.processSegment(p,d,N,B,Z?ge:o,!0,x).pipe(pe(z=>new An(x,z instanceof An?[z]:[])))}))):ec(n)))}getChildConfig(e,n,r){return n.children?se({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?se({routes:n._loadedRoutes,injector:n._loadedInjector}):mj(e,n,r,this.urlSerializer).pipe(_t(i=>i?this.configLoader.loadChildren(e,n).pipe(Et(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):vj(n))):se({routes:[],injector:e})}};function Sj(t){t.sort((e,n)=>e.value.outlet===ge?-1:n.value.outlet===ge?1:e.value.outlet.localeCompare(n.value.outlet))}function Rj(t){let e=t.value.routeConfig;return e&&e.path===""}function SS(t){let e=[],n=new Set;for(let r of t){if(!Rj(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=SS(r.children);e.push(new An(r.value,i))}return e.filter(r=>!n.has(r))}function tS(t){return t.data||{}}function nS(t){return t.resolve||{}}function xj(t,e,n,r,i,o){return _t(s=>Dj(t,e,n,r,s.extractedUrl,i,o).pipe(pe(({state:a,tree:u})=>le(j({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function Mj(t,e){return _t(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return se(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let d of RS(u))s.add(d);let a=0;return Ze(s).pipe(ti(u=>o.has(u)?Nj(u,r,t,e):(u.data=xp(u,u.parent,t).resolve,se(void 0))),Et(()=>a++),Aa(1),_t(u=>a===s.size?se(n):Cn))})}function RS(t){let e=t.children.map(n=>RS(n)).flat();return[t,...e]}function Nj(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!ES(i)&&(o[ml]=i.title),Pj(o,t,e,r).pipe(pe(s=>(t._resolvedData=s,t.data=xp(t,t.parent,n).resolve,null)))}function Pj(t,e,n,r){let i=qw(t);if(i.length===0)return se({});let o={};return Ze(i).pipe(_t(s=>kj(t[s],e,n,r).pipe(br(),Et(a=>{if(a instanceof dl)throw Np(new sc,a);o[s]=a}))),Aa(1),by(o),no(s=>TS(s)?Cn:Ca(s)))}function kj(t,e,n,r){let i=yl(e)??r,o=lc(t,i),s=o.resolve?o.resolve(e,n):Ln(i,()=>o(e,n));return Io(s)}function $w(t){return ln(e=>{let n=t(e);return n?Ze(n).pipe(pe(()=>e)):se(e)})}var xS=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ge);return r}getResolvedTitleForRoute(n){return n.data[ml]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:()=>$(Oj),providedIn:"root"})}}return t})(),Oj=(()=>{class t extends xS{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(J(KA))}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),_l=new G("",{providedIn:"root",factory:()=>({})}),Fj=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=hn({type:t,selectors:[["ng-component"]],standalone:!0,features:[tA],decls:1,vars:0,template:function(r,i){r&1&&we(0,"router-outlet")},dependencies:[qU],encapsulation:2})}}return t})();function g_(t){let e=t.children&&t.children.map(g_),n=e?le(j({},t),{children:e}):j({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ge&&(n.component=Fj),n}var pl=new G(""),y_=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=$(Zf)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return se(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Io(n.loadComponent()).pipe(pe(MS),Et(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),ss(()=>{this.componentLoaders.delete(n)})),i=new _a(r,()=>new ht).pipe(wa());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return se({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Lj(r,this.compiler,n,this.onLoadEndListener).pipe(ss(()=>{this.childrenLoaders.delete(r)})),s=new _a(o,()=>new ht).pipe(wa());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Lj(t,e,n,r){return Io(t.loadChildren()).pipe(pe(MS),_t(i=>i instanceof Lu||Array.isArray(i)?se(i):Ze(e.compileModuleAsync(i))),pe(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(pl,[],{optional:!0,self:!0}).flat()),{routes:s.map(g_),injector:o}}))}function Vj(t){return t&&typeof t=="object"&&"default"in t}function MS(t){return Vj(t)?t.default:t}var v_=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:()=>$(Uj),providedIn:"root"})}}return t})(),Uj=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),NS=new G(""),PS=new G("");function jj(t,e,n){let r=t.get(PS),i=t.get(Kt);return t.get(xe).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(d=>setTimeout(d));let o,s=new Promise(d=>{o=d}),a=i.startViewTransition(()=>(o(),Bj(t))),{onViewTransitionCreated:u}=r;return u&&Ln(t,()=>u({transition:a,from:e,to:n})),s})}function Bj(t){return new Promise(e=>{dw({read:()=>setTimeout(e)},{injector:t})})}var $j=new G(""),w_=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ht,this.transitionAbortSubject=new ht,this.configLoader=$(y_),this.environmentInjector=$(en),this.urlSerializer=$(gl),this.rootContexts=$(vl),this.location=$(Xa),this.inputBindingEnabled=$(Op,{optional:!0})!==null,this.titleStrategy=$(xS),this.options=$(_l,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=$(v_),this.createViewTransition=$(NS,{optional:!0}),this.navigationErrorHandler=$($j,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>se(void 0),this.rootComponentType=null;let n=i=>this.events.next(new Jw(i)),r=i=>this.events.next(new Xw(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(le(j(j({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new ft({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:il,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Gt(o=>o.id!==0),pe(o=>le(j({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ln(o=>{let s=!1,a=!1;return se(o).pipe(ln(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Sn.SupersededByNewNavigation),Cn;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?le(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!d&&p!=="reload"){let m="";return this.events.next(new Eo(u.id,this.urlSerializer.serialize(u.rawUrl),m,Tp.IgnoredSameUrlNavigation)),u.resolve(!1),Cn}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return se(u).pipe(ln(m=>{let w=this.transitions?.getValue();return this.events.next(new ac(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),w!==this.transitions?.getValue()?Cn:Promise.resolve(m)}),xj(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Et(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=le(j({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let w=new Dp(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(w)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:m,extractedUrl:w,source:E,restoredState:x,extras:F}=u,N=new ac(m,this.urlSerializer.serialize(w),E,x);this.events.next(N);let B=wS(this.rootComponentType).snapshot;return this.currentTransition=o=le(j({},u),{targetSnapshot:B,urlAfterRedirects:w,extras:le(j({},F),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=w,se(o)}else{let m="";return this.events.next(new Eo(u.id,this.urlSerializer.serialize(u.extractedUrl),m,Tp.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Cn}}),Et(u=>{let d=new Kw(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),pe(u=>(this.currentTransition=o=le(j({},u),{guards:YU(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),aj(this.environmentInjector,u=>this.events.next(u)),Et(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Np(this.urlSerializer,u.guardsResult);let d=new Qw(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),Gt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Sn.GuardRejected),!1)),$w(u=>{if(u.guards.canActivateChecks.length)return se(u).pipe(Et(d=>{let p=new Yw(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),ln(d=>{let p=!1;return se(d).pipe(Mj(this.paramsInheritanceStrategy,this.environmentInjector),Et({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(d,"",Sn.NoDataFromResolver)}}))}),Et(d=>{let p=new Zw(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}))}),$w(u=>{let d=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(Et(w=>{p.component=w}),pe(()=>{})));for(let w of p.children)m.push(...d(w));return m};return Ru(d(u.targetSnapshot.root)).pipe(ro(null),ni(1))}),$w(()=>this.afterPreactivation()),ln(()=>{let{currentSnapshot:u,targetSnapshot:d}=o,p=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return p?Ze(p).pipe(pe(()=>o)):se(o)}),pe(u=>{let d=zU(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=le(j({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),Et(()=>{this.events.next(new ul)}),QU(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),ni(1),Et({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new vi(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),Ay(this.transitionAbortSubject.pipe(Et(u=>{throw u}))),ss(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Sn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),no(u=>{if(a=!0,CS(u))this.events.next(new gi(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),KU(u)?this.events.next(new cc(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let d=new cl(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let p=Ln(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(p instanceof dl){let{message:m,cancellationCode:w}=Np(this.urlSerializer,p);this.events.next(new gi(o.id,this.urlSerializer.serialize(o.extractedUrl),m,w)),this.events.next(new cc(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(d);let m=n.errorHandler(u);o.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(p)}}return Cn}))}))}cancelNavigationTransition(n,r,i){let o=new gi(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Hj(t){return t!==il}var qj=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:()=>$(zj),providedIn:"root"})}}return t})(),p_=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},zj=(()=>{class t extends p_{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ui(t)))(i||t)}})()}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),kS=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:()=>$(Gj),providedIn:"root"})}}return t})(),Gj=(()=>{class t extends kS{constructor(){super(...arguments),this.location=$(Xa),this.urlSerializer=$(gl),this.options=$(_l,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=$(v_),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new yi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=wS(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof ac)this.stateMemento=this.createStateMemento();else if(n instanceof Eo)this.rawUrlTree=r.initialUrl;else if(n instanceof Dp){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof ul?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof gi&&(n.code===Sn.GuardRejected||n.code===Sn.NoDataFromResolver)?this.restoreHistory(r):n instanceof cl?this.restoreHistory(r,!0):n instanceof vi&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof yi?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=j(j({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=j(j({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ui(t)))(i||t)}})()}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),nl=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(nl||{});function OS(t,e){t.events.pipe(Gt(n=>n instanceof vi||n instanceof gi||n instanceof cl||n instanceof Eo),pe(n=>n instanceof vi||n instanceof Eo?nl.COMPLETE:(n instanceof gi?n.code===Sn.Redirect||n.code===Sn.SupersededByNewNavigation:!1)?nl.REDIRECTING:nl.FAILED),Gt(n=>n!==nl.REDIRECTING),ni(1)).subscribe(()=>{e()})}function Wj(t){throw t}var Kj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ot=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=$(Qf),this.stateManager=$(kS),this.options=$(_l,{optional:!0})||{},this.pendingTasks=$(po),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=$(w_),this.urlSerializer=$(gl),this.location=$(Xa),this.urlHandlingStrategy=$(v_),this._events=new ht,this.errorHandler=this.options.errorHandler||Wj,this.navigated=!1,this.routeReuseStrategy=$(qj),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=$(pl,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!$(Op,{optional:!0}),this.eventsSubscription=new st,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof gi&&r.code!==Sn.Redirect&&r.code!==Sn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof vi)this.navigated=!0;else if(r instanceof cc){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=j({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Hj(i.source)},s);this.scheduleNavigation(a,il,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Zj(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),il,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=j({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(g_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,d=u?this.currentUrlTree.fragment:s,p=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":p=j(j({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let w=i?i.snapshot:this.routerState.snapshot.root;m=mS(w)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),m=this.currentUrlTree.root}return gS(m,n,p,d??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=sl(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,il,null,r)}navigate(n,r={skipLocationChange:!1}){return Yj(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=j({},Kj):r===!1?i=j({},Qj):i=r,sl(n))return QA(this.currentUrlTree,n,i);let o=this.parseUrl(n);return QA(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,d;s?(a=s.resolve,u=s.reject,d=s.promise):d=new Promise((m,w)=>{a=m,u=w});let p=this.pendingTasks.add();return OS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Yj(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new re(4008,!1)}function Zj(t){return!(t instanceof ul)&&!(t instanceof cc)}var kp=class{};var Jj=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Gt(n=>n instanceof vi),ti(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=qf(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ze(i).pipe(Ta())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=se(null);let o=i.pipe(_t(s=>s===null?se(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Ze([o,s]).pipe(Ta())}else return o})}static{this.\u0275fac=function(r){return new(r||t)(J(Ot),J(Zf),J(en),J(kp),J(y_))}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),FS=new G(""),Xj=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ac?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof vi?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Eo&&n.code===Tp.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Ap&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ap(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){bD()}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac})}}return t})();function xZ(t,...e){return Fn([{provide:pl,multi:!0,useValue:t},[],{provide:Cs,useFactory:LS,deps:[Ot]},{provide:Hu,multi:!0,useFactory:VS},e.map(n=>n.\u0275providers)])}function LS(t){return t.routerState.root}function El(t,e){return{\u0275kind:t,\u0275providers:e}}function VS(){let t=$(Bt);return e=>{let n=t.get(mo);if(e!==n.components[0])return;let r=t.get(Ot),i=t.get(US);t.get(__)===1&&r.initialNavigation(),t.get(jS,null,_e.Optional)?.setUpPreloading(),t.get(FS,null,_e.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var US=new G("",{factory:()=>new ht}),__=new G("",{providedIn:"root",factory:()=>1});function eB(){return El(2,[{provide:__,useValue:0},{provide:Yf,multi:!0,deps:[Bt],useFactory:e=>{let n=e.get(IA,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Ot),o=e.get(US);OS(i,()=>{r(!0)}),e.get(w_).afterPreactivation=()=>(r(!0),o.closed?se(void 0):o),i.initialNavigation()}))}}])}function tB(){return El(3,[{provide:Yf,multi:!0,useFactory:()=>{let e=$(Ot);return()=>{e.setUpLocationChangeListener()}}},{provide:__,useValue:2}])}var jS=new G("");function nB(t){return El(0,[{provide:jS,useExisting:Jj},{provide:kp,useExisting:t}])}function rB(){return El(8,[XA,{provide:Op,useExisting:XA}])}function iB(t){let e=[{provide:NS,useValue:jj},{provide:PS,useValue:j({skipNextTransition:!!t?.skipInitialTransition},t)}];return El(9,e)}var rS=new G("ROUTER_FORROOT_GUARD"),oB=[Xa,{provide:gl,useClass:sc},Ot,vl,{provide:Cs,useFactory:LS,deps:[Ot]},y_,[]],dc=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[oB,[],{provide:pl,multi:!0,useValue:n},{provide:rS,useFactory:uB,deps:[[Ot,new Wt,new Pv]]},{provide:_l,useValue:r||{}},r?.useHash?aB():cB(),sB(),r?.preloadingStrategy?nB(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?lB(r):[],r?.bindToComponentInputs?rB().\u0275providers:[],r?.enableViewTransitions?iB().\u0275providers:[],dB()]}}static forChild(n){return{ngModule:t,providers:[{provide:pl,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)(J(rS,8))}}static{this.\u0275mod=ct({type:t})}static{this.\u0275inj=at({})}}return t})();function sB(){return{provide:FS,useFactory:()=>{let t=$(xA),e=$(xe),n=$(_l),r=$(w_),i=$(gl);return n.scrollOffset&&t.setOffset(n.scrollOffset),new Xj(i,r,t,e,n)}}}function aB(){return{provide:Es,useClass:CA}}function cB(){return{provide:Es,useClass:Cw}}function uB(t){return"guarded"}function lB(t){return[t.initialNavigation==="disabled"?tB().\u0275providers:[],t.initialNavigation==="enabledBlocking"?eB().\u0275providers:[]]}var iS=new G("");function dB(){return[{provide:iS,useFactory:VS},{provide:Hu,multi:!0,useExisting:iS}]}var $S=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},hB=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},HS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,p=o>>2,m=(o&3)<<4|a>>4,w=(a&15)<<2|d>>6,E=d&63;u||(E=64,s||(w=64)),r.push(n[p],n[m],n[w],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($S(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let d=i<t.length?n[t.charAt(i)]:64;++i;let m=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||d==null||m==null)throw new I_;let w=o<<2|a>>4;if(r.push(w),d!==64){let E=a<<4&240|d>>2;if(r.push(E),m!==64){let x=d<<6&192|m;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},I_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},fB=function(t){let e=$S(t);return HS.encodeByteArray(e,!0)},bl=function(t){return fB(t).replace(/\./g,"")},C_=function(t){try{return HS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function pB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var mB=()=>pB().__FIREBASE_DEFAULTS__,gB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&C_(t[1]);return e&&JSON.parse(e)},Vp=()=>{try{return mB()||gB()||yB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},T_=t=>{var e,n;return(n=(e=Vp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Up=t=>{let e=T_(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},D_=()=>{var t;return(t=Vp())===null||t===void 0?void 0:t.config},A_=t=>{var e;return(e=Vp())===null||e===void 0?void 0:e[`_${t}`]};var Lp=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function jp(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[bl(JSON.stringify(n)),bl(JSON.stringify(s)),""].join(".")}function Lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function vB(){var t;let e=(t=Vp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GS(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function WS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KS(){let t=Lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function QS(){return!vB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function S_(){try{return typeof indexedDB=="object"}catch{return!1}}function YS(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var wB="FirebaseError",on=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=wB,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wi.prototype.create)}},wi=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?_B(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new on(i,a,r)}};function _B(t,e){return t.replace(EB,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var EB=/\{\$([^}]+)}/g;function ZS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ts(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(BS(o)&&BS(s)){if(!Ts(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function BS(t){return t!==null&&typeof t=="object"}function Cl(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hc(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function fc(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function JS(t,e){let n=new b_(t,e);return n.subscribe.bind(n)}var b_=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");IB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=E_),i.error===void 0&&(i.error=E_),i.complete===void 0&&(i.complete=E_);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function IB(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function E_(){}var NZ=4*60*60*1e3;function Xe(t){return t&&t._delegate?t._delegate:t}var gn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ds="[DEFAULT]";var R_=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Lp;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CB(e))try{this.getOrInitializeService({instanceIdentifier:Ds})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return b(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ds){return this.instances.has(e)}getOptions(e=Ds){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ds){return this.component?this.component.multipleInstances?e:Ds:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function bB(t){return t===Ds?void 0:t}function CB(t){return t.instantiationMode==="EAGER"}var Bp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new R_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var TB=[],Ae=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Ae||{}),DB={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},AB=Ae.INFO,SB={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},RB=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=SB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},bo=class{constructor(e){this.name=e,this._logLevel=AB,this._logHandler=RB,this._userLogHandler=null,TB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}};var xB=(t,e)=>e.some(n=>t instanceof n),XS,eR;function MB(){return XS||(XS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NB(){return eR||(eR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var tR=new WeakMap,M_=new WeakMap,nR=new WeakMap,x_=new WeakMap,P_=new WeakMap;function PB(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Fr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&tR.set(n,t)}).catch(()=>{}),P_.set(e,t),e}function kB(t){if(M_.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});M_.set(t,e)}var N_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return M_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rR(t){N_=t(N_)}function OB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call($p(this),e,...n);return nR.set(r,e.sort?e.sort():[e]),Fr(r)}:NB().includes(t)?function(...e){return t.apply($p(this),e),Fr(tR.get(this))}:function(...e){return Fr(t.apply($p(this),e))}}function FB(t){return typeof t=="function"?OB(t):(t instanceof IDBTransaction&&kB(t),xB(t,MB())?new Proxy(t,N_):t)}function Fr(t){if(t instanceof IDBRequest)return PB(t);if(x_.has(t))return x_.get(t);let e=FB(t);return e!==t&&(x_.set(t,e),P_.set(e,t)),e}var $p=t=>P_.get(t);function oR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Fr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Fr(s.result),u.oldVersion,u.newVersion,Fr(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}var LB=["get","getKey","getAll","getAllKeys","count"],VB=["put","add","delete","clear"],k_=new Map;function iR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(k_.get(e))return k_.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=VB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||LB.includes(n)))return;let o=function(s,...a){return b(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),d=u.store;return r&&(d=d.index(a.shift())),(yield Promise.all([d[n](...a),i&&u.done]))[0]})};return k_.set(e,o),o}rR(t=>le(j({},t),{get:(e,n,r)=>iR(e,n)||t.get(e,n,r),has:(e,n)=>!!iR(e,n)||t.has(e,n)}));var F_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UB(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function UB(t){let e=t.getComponent();return e?.type==="VERSION"}var L_="@firebase/app",sR="0.10.13";var _i=new bo("@firebase/app"),jB="@firebase/app-compat",BB="@firebase/analytics-compat",$B="@firebase/analytics",HB="@firebase/app-check-compat",qB="@firebase/app-check",zB="@firebase/auth",GB="@firebase/auth-compat",WB="@firebase/database",KB="@firebase/data-connect",QB="@firebase/database-compat",YB="@firebase/functions",ZB="@firebase/functions-compat",JB="@firebase/installations",XB="@firebase/installations-compat",e$="@firebase/messaging",t$="@firebase/messaging-compat",n$="@firebase/performance",r$="@firebase/performance-compat",i$="@firebase/remote-config",o$="@firebase/remote-config-compat",s$="@firebase/storage",a$="@firebase/storage-compat",c$="@firebase/firestore",u$="@firebase/vertexai-preview",l$="@firebase/firestore-compat",d$="firebase",h$="10.14.1";var V_="[DEFAULT]",f$={[L_]:"fire-core",[jB]:"fire-core-compat",[$B]:"fire-analytics",[BB]:"fire-analytics-compat",[qB]:"fire-app-check",[HB]:"fire-app-check-compat",[zB]:"fire-auth",[GB]:"fire-auth-compat",[WB]:"fire-rtdb",[KB]:"fire-data-connect",[QB]:"fire-rtdb-compat",[YB]:"fire-fn",[ZB]:"fire-fn-compat",[JB]:"fire-iid",[XB]:"fire-iid-compat",[e$]:"fire-fcm",[t$]:"fire-fcm-compat",[n$]:"fire-perf",[r$]:"fire-perf-compat",[i$]:"fire-rc",[o$]:"fire-rc-compat",[s$]:"fire-gcs",[a$]:"fire-gcs-compat",[c$]:"fire-fst",[l$]:"fire-fst-compat",[u$]:"fire-vertex","fire-js":"fire-js",[d$]:"fire-js-all"};var Tl=new Map,p$=new Map,U_=new Map;function aR(t,e){try{t.container.addComponent(e)}catch(n){_i.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Lr(t){let e=t.name;if(U_.has(e))return _i.debug(`There were multiple attempts to register component ${e}.`),!1;U_.set(e,t);for(let n of Tl.values())aR(n,t);for(let n of p$.values())aR(n,t);return!0}function As(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function cr(t){return t.settings!==void 0}var m$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Co=new wi("app","Firebase",m$);var j_=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Co.create("app-deleted",{appName:this._name})}};var Vr=h$;function H_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:V_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Co.create("bad-app-name",{appName:String(i)});if(n||(n=D_()),!n)throw Co.create("no-options");let o=Tl.get(i);if(o){if(Ts(n,o.options)&&Ts(r,o.config))return o;throw Co.create("duplicate-app",{appName:i})}let s=new Bp(i);for(let u of U_.values())s.addComponent(u);let a=new j_(n,r,s);return Tl.set(i,a),a}function To(t=V_){let e=Tl.get(t);if(!e&&t===V_&&D_())return H_();if(!e)throw Co.create("no-app",{appName:t});return e}function Hp(){return Array.from(Tl.values())}function nt(t,e,n){var r;let i=(r=f$[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_i.warn(a.join(" "));return}Lr(new gn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var g$="firebase-heartbeat-database",y$=1,Dl="firebase-heartbeat-store",O_=null;function dR(){return O_||(O_=oR(g$,y$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Dl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Co.create("idb-open",{originalErrorMessage:t.message})})),O_}function v$(t){return b(this,null,function*(){try{let n=(yield dR()).transaction(Dl),r=yield n.objectStore(Dl).get(hR(t));return yield n.done,r}catch(e){if(e instanceof on)_i.warn(e.message);else{let n=Co.create("idb-get",{originalErrorMessage:e?.message});_i.warn(n.message)}}})}function cR(t,e){return b(this,null,function*(){try{let r=(yield dR()).transaction(Dl,"readwrite");yield r.objectStore(Dl).put(e,hR(t)),yield r.done}catch(n){if(n instanceof on)_i.warn(n.message);else{let r=Co.create("idb-set",{originalErrorMessage:n?.message});_i.warn(r.message)}}})}function hR(t){return`${t.name}!${t.options.appId}`}var w$=1024,_$=30*24*60*60*1e3,B_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new $_(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return b(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=uR();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=_$}),this._storage.overwrite(this._heartbeatsCache))}catch(r){_i.warn(r)}})}getHeartbeatsHeader(){return b(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=uR(),{heartbeatsToSend:r,unsentEntries:i}=E$(this._heartbeatsCache.heartbeats),o=bl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return _i.warn(n),""}})}};function uR(){return new Date().toISOString().substring(0,10)}function E$(t,e=w$){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),lR(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),lR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var $_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return b(this,null,function*(){return S_()?YS().then(()=>!0).catch(()=>!1):!1})}read(){return b(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield v$(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return b(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return cR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return b(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return cR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function lR(t){return bl(JSON.stringify({version:2,heartbeats:t})).length}function I$(t){Lr(new gn("platform-logger",e=>new F_(e),"PRIVATE")),Lr(new gn("heartbeat",e=>new B_(e),"PRIVATE")),nt(L_,sR,t),nt(L_,sR,"esm2017"),nt("fire-js","")}I$("");var b$="firebase",C$="10.14.1";nt(b$,C$,"app");var Do=new oi("ANGULARFIRE2_VERSION");function Al(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var mc=(t,e)=>{let n=e?[e]:Hp(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Rs=class{constructor(){return mc(T$)}},T$="app-check";function pc(){}var qp=class{zone;delegate;constructor(e,n=wy){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},q_=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",pc,{},pc,pc)),n.pipe(Et({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},xs=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new qp(Zone.current)),this.insideAngular=n.run(()=>new qp(Zone.current,vy)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(J(xe))};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function zp(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function D$(t){return zp().ngZone.runOutsideAngular(()=>t())}function Ss(t){return zp().ngZone.run(()=>t())}function A$(t){return S$(zp())(t)}function S$(t){return function(n){return n=n.lift(new q_(t.ngZone)),n.pipe(to(t.outsideAngular),eo(t.insideAngular))}}var R$=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ss(()=>t.apply(void 0,r))},rt=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Ss(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",pc,{},pc,pc))),r[o]=R$(r[o],n));let i=D$(()=>t.apply(this,r));if(!e)if(i instanceof be){let o=zp();return i.pipe(to(o.outsideAngular),eo(o.insideAngular))}else return Ss(()=>i);return i instanceof be?i.pipe(A$):i instanceof Promise?Ss(()=>new Promise((o,s)=>i.then(a=>Ss(()=>o(a)),a=>Ss(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Ss(()=>i)};var Ei=class{constructor(e){return e}},Ms=class{constructor(){return Hp()}};function x$(t){return t&&t.length===1?t[0]:new Ei(To())}var z_=new G("angularfire2._apps"),M$={provide:Ei,useFactory:x$,deps:[[new Wt,z_]]},N$={provide:Ms,deps:[[new Wt,z_]]};function P$(t){return(e,n)=>{let r=n.get(pn);nt("angularfire",Do.full,"core"),nt("angularfire",Do.full,"app"),nt("angular",sA.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Ei(i)}}function vJ(t,...e){return Fn([M$,N$,{provide:z_,useFactory:P$(t),multi:!0,deps:[xe,Bt,xs,...e]}])}var wJ=rt(H_,!0);function RR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var xR=RR,MR=new wi("auth","Firebase",RR());var Zp=new bo("@firebase/auth");function k$(t,...e){Zp.logLevel<=Ae.WARN&&Zp.warn(`Auth (${Vr}): ${t}`,...e)}function Wp(t,...e){Zp.logLevel<=Ae.ERROR&&Zp.error(`Auth (${Vr}): ${t}`,...e)}function jr(t,...e){throw pE(t,...e)}function Ns(t,...e){return pE(t,...e)}function NR(t,e,n){let r=Object.assign(Object.assign({},xR()),{[e]:n});return new wi("auth","Firebase",r).create(e,{appName:t.name})}function Ci(t){return NR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pE(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return MR.create(t,...e)}function ae(t,e,...n){if(!t)throw pE(e,...n)}function Ii(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Wp(e),new Error(e)}function So(t,e){t||Ii(e)}function Q_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function O$(){return fR()==="http:"||fR()==="https:"}function fR(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function F$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(O$()||GS()||"connection"in navigator)?navigator.onLine:!0}function L$(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ps=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,So(n>e,"Short delay should be less than long delay!"),this.isMobile=qS()||WS()}get(){return F$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function mE(t,e){So(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Jp=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var V$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var U$=new Ps(3e4,6e4);function Ti(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Di(o,s,a,u){return b(this,arguments,function*(t,e,n,r,i={}){return PR(t,i,()=>b(this,null,function*(){let d={},p={};r&&(e==="GET"?p=r:d={body:JSON.stringify(r)});let m=Cl(Object.assign({key:t.config.apiKey},p)).slice(1),w=yield t._getAdditionalHeaders();w["Content-Type"]="application/json",t.languageCode&&(w["X-Firebase-Locale"]=t.languageCode);let E=Object.assign({method:e,headers:w},d);return zS()||(E.referrerPolicy="no-referrer"),Jp.fetch()(kR(t,t.config.apiHost,n,m),E)}))})}function PR(t,e,n){return b(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},V$),e);try{let i=new Y_(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Gp(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,d]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gp(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Gp(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Gp(t,"user-disabled",s);let p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw NR(t,p,d);jr(t,p)}}catch(i){if(i instanceof on)throw i;jr(t,"network-request-failed",{message:String(i)})}})}function Ol(o,s,a,u){return b(this,arguments,function*(t,e,n,r,i={}){let d=yield Di(t,e,n,r,i);return"mfaPendingCredential"in d&&jr(t,"multi-factor-auth-required",{_serverResponse:d}),d})}function kR(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?mE(t.config,i):`${t.config.apiScheme}://${i}`}function j$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Y_=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ns(this.auth,"network-request-failed")),U$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Gp(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Ns(t,e,r);return i.customData._tokenResponse=n,i}function pR(t){return t!==void 0&&t.enterprise!==void 0}var Z_=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return j$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function B$(t,e){return b(this,null,function*(){return Di(t,"GET","/v2/recaptchaConfig",Ti(t,e))})}function $$(t,e){return b(this,null,function*(){return Di(t,"POST","/v1/accounts:delete",e)})}function OR(t,e){return b(this,null,function*(){return Di(t,"POST","/v1/accounts:lookup",e)})}function Sl(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function gE(t,e=!1){return b(this,null,function*(){let n=Xe(t),r=yield n.getIdToken(e),i=yE(r);ae(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Sl(G_(i.auth_time)),issuedAtTime:Sl(G_(i.iat)),expirationTime:Sl(G_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function G_(t){return Number(t)*1e3}function yE(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wp("JWT malformed, contained fewer than 3 sections"),null;try{let i=C_(n);return i?JSON.parse(i):(Wp("Failed to decode base64 JWT payload"),null)}catch(i){return Wp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function mR(t){let e=yE(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function xl(t,e,n=!1){return b(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof on&&H$(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function H$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var J_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>b(this,null,function*(){yield this.iteration()}),n)}iteration(){return b(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ml=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sl(this.lastLoginAt),this.creationTime=Sl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Xp(t){return b(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield xl(t,OR(n,{idToken:r}));ae(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?FR(o.providerUserInfo):[],a=q$(t.providerData,s),u=t.isAnonymous,d=!(t.email&&o.passwordHash)&&!a?.length,p=u?d:!1,m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ml(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(t,m)})}function vE(t){return b(this,null,function*(){let e=Xe(t);yield Xp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function q$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function FR(t){return t.map(e=>{var{providerId:n}=e,r=_y(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function z$(t,e){return b(this,null,function*(){let n=yield PR(t,{},()=>b(this,null,function*(){let r=Cl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=kR(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Jp.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function G$(t,e){return b(this,null,function*(){return Di(t,"POST","/v2/accounts:revokeToken",Ti(t,e))})}var Rl=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ae(e.length!==0,"internal-error");let n=mR(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return b(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return b(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield z$(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(ae(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ae(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ae(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Ii("not implemented")}};function Ao(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var gc=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=_y(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new J_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ml(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return b(this,null,function*(){let n=yield xl(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return gE(this,e)}reload(){return vE(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return b(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Xp(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return b(this,null,function*(){if(cr(this.auth.app))return Promise.reject(Ci(this.auth));let e=yield this.getIdToken();return yield xl(this,$$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,d,p;let m=(r=n.displayName)!==null&&r!==void 0?r:void 0,w=(i=n.email)!==null&&i!==void 0?i:void 0,E=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,x=(s=n.photoURL)!==null&&s!==void 0?s:void 0,F=(a=n.tenantId)!==null&&a!==void 0?a:void 0,N=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,B=(d=n.createdAt)!==null&&d!==void 0?d:void 0,Z=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:z,emailVerified:ne,isAnonymous:ye,providerData:ie,stsTokenManager:D}=n;ae(z&&D,e,"internal-error");let I=Rl.fromJSON(this.name,D);ae(typeof z=="string",e,"internal-error"),Ao(m,e.name),Ao(w,e.name),ae(typeof ne=="boolean",e,"internal-error"),ae(typeof ye=="boolean",e,"internal-error"),Ao(E,e.name),Ao(x,e.name),Ao(F,e.name),Ao(N,e.name),Ao(B,e.name),Ao(Z,e.name);let C=new t({uid:z,auth:e,email:w,emailVerified:ne,displayName:m,isAnonymous:ye,photoURL:x,phoneNumber:E,tenantId:F,stsTokenManager:I,createdAt:B,lastLoginAt:Z});return ie&&Array.isArray(ie)&&(C.providerData=ie.map(A=>Object.assign({},A))),N&&(C._redirectEventId=N),C}static _fromIdTokenResponse(e,n,r=!1){return b(this,null,function*(){let i=new Rl;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Xp(o),o})}static _fromGetAccountInfoResponse(e,n,r){return b(this,null,function*(){let i=n.users[0];ae(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?FR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Rl;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ml(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,d),u})}};var gR=new Map;function bi(t){So(t instanceof Function,"Expected a class definition");let e=gR.get(t);return e?(So(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gR.set(t,e),e)}var W$=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return b(this,null,function*(){return!0})}_set(n,r){return b(this,null,function*(){this.storage[n]=r})}_get(n){return b(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return b(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),X_=W$;function Kp(t,e,n){return`firebase:${t}:${e}:${n}`}var em=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Kp(this.userKey,i.apiKey,o),this.fullPersistenceKey=Kp("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return b(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?gc._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return b(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return b(this,null,function*(){if(!n.length)return new t(bi(X_),e,r);let i=(yield Promise.all(n.map(d=>b(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),o=i[0]||bi(X_),s=Kp(r,e.config.apiKey,e.name),a=null;for(let d of n)try{let p=yield d._get(s);if(p){let m=gc._fromJSON(e,p);d!==o&&(a=m),o=d;break}}catch{}let u=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(d=>b(this,null,function*(){if(d!==o)try{yield d._remove(s)}catch{}}))),new t(o,e,r))})}};function yR(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($R(e))return"Blackberry";if(HR(e))return"Webos";if(VR(e))return"Safari";if((e.includes("chrome/")||UR(e))&&!e.includes("edge/"))return"Chrome";if(BR(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function LR(t=Lt()){return/firefox\//i.test(t)}function VR(t=Lt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UR(t=Lt()){return/crios\//i.test(t)}function jR(t=Lt()){return/iemobile/i.test(t)}function BR(t=Lt()){return/android/i.test(t)}function $R(t=Lt()){return/blackberry/i.test(t)}function HR(t=Lt()){return/webos/i.test(t)}function wE(t=Lt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function K$(t=Lt()){var e;return wE(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Q$(){return KS()&&document.documentMode===10}function qR(t=Lt()){return wE(t)||BR(t)||HR(t)||$R(t)||/windows phone/i.test(t)||jR(t)}function zR(t,e=[]){let n;switch(t){case"Browser":n=yR(Lt());break;case"Worker":n=`${yR(Lt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vr}/${r}`}var eE=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return b(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Y$(n){return b(this,arguments,function*(t,e={}){return Di(t,"GET","/v2/passwordPolicy",Ti(t,e))})}var Z$=6,tE=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Z$,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var nE=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tm(this),this.idTokenSubscription=new tm(this),this.beforeStateQueue=new eE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=bi(n)),this._initializationPromise=this.queue(()=>b(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield em.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return b(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return b(this,null,function*(){try{let n=yield OR(this,{idToken:e}),r=yield gc._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return b(this,null,function*(){var n;if(cr(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return b(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return b(this,null,function*(){try{yield Xp(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=L$()}_delete(){return b(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return b(this,null,function*(){if(cr(this.app))return Promise.reject(Ci(this));let n=e?Xe(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return b(this,null,function*(){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>b(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return b(this,null,function*(){return cr(this.app)?Promise.reject(Ci(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return cr(this.app)?Promise.reject(Ci(this)):this.queue(()=>b(this,null,function*(){yield this.assertedPersistence.setPersistence(bi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return b(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return b(this,null,function*(){let e=yield Y$(this),n=new tE(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return b(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield G$(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return b(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return b(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&bi(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=yield em.create(this,[bi(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return b(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>b(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return b(this,null,function*(){if(e===this.currentUser)return this.queue(()=>b(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return b(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return b(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return b(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&k$(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Os(t){return Xe(t)}var tm=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=JS(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var cm={loadJS(){return b(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function J$(t){cm=t}function GR(t){return cm.loadJS(t)}function X$(){return cm.recaptchaEnterpriseScript}function eH(){return cm.gapiScript}function WR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var tH="recaptcha-enterprise",nH="NO_RECAPTCHA",rE=class{constructor(e){this.type=tH,this.auth=Os(e)}verify(e="verify",n=!1){return b(this,null,function*(){function r(o){return b(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>b(this,null,function*(){B$(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let d=new Z_(u);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,s(d.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;pR(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(d=>{s(d)}).catch(()=>{s(nH)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&pR(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=X$();u.length!==0&&(u+=a),GR(u).then(()=>{i(a,o,s)}).catch(d=>{s(d)})}}).catch(a=>{s(a)})})})}};function vR(t,e,n,r=!1){return b(this,null,function*(){let i=new rE(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function iE(t,e,n,r){return b(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield vR(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>b(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield vR(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function _E(t,e){let n=As(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Ts(o,e??{}))return i;jr(i,"already-initialized")}return n.initialize({options:e})}function rH(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(bi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function EE(t,e,n){let r=Os(t);ae(r._canInitEmulator,r,"emulator-config-failed"),ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=KR(e),{host:s,port:a}=iH(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||oH()}function KR(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function iH(t){let e=KR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:wR(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:wR(s)}}}function wR(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function oH(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Nl=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ii("not implemented")}_getIdTokenResponse(e){return Ii("not implemented")}_linkToIdToken(e,n){return Ii("not implemented")}_getReauthenticationResolver(e){return Ii("not implemented")}};function sH(t,e){return b(this,null,function*(){return Di(t,"POST","/v1/accounts:signUp",e)})}function aH(t,e){return b(this,null,function*(){return Ol(t,"POST","/v1/accounts:signInWithPassword",Ti(t,e))})}function cH(t,e){return b(this,null,function*(){return Di(t,"POST","/v1/accounts:sendOobCode",Ti(t,e))})}function uH(t,e){return b(this,null,function*(){return cH(t,e)})}function lH(t,e){return b(this,null,function*(){return Ol(t,"POST","/v1/accounts:signInWithEmailLink",Ti(t,e))})}function dH(t,e){return b(this,null,function*(){return Ol(t,"POST","/v1/accounts:signInWithEmailLink",Ti(t,e))})}var Pl=class t extends Nl{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return b(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return iE(e,n,"signInWithPassword",aH);case"emailLink":return lH(e,{email:this._email,oobCode:this._password});default:jr(e,"internal-error")}})}_linkToIdToken(e,n){return b(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return iE(e,r,"signUpPassword",sH);case"emailLink":return dH(e,{idToken:n,email:this._email,oobCode:this._password});default:jr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function W_(t,e){return b(this,null,function*(){return Ol(t,"POST","/v1/accounts:signInWithIdp",Ti(t,e))})}function hH(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function fH(t){let e=hc(fc(t)).link,n=e?hc(fc(e)).deep_link_id:null,r=hc(fc(t)).deep_link_id;return(r?hc(fc(r)).link:null)||r||n||e||t}var nm=class t{constructor(e){var n,r,i,o,s,a;let u=hc(fc(e)),d=(n=u.apiKey)!==null&&n!==void 0?n:null,p=(r=u.oobCode)!==null&&r!==void 0?r:null,m=hH((i=u.mode)!==null&&i!==void 0?i:null);ae(d&&p&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=p,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=fH(e);try{return new t(n)}catch{return null}}};var QR=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Pl._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=nm.parseLink(r);return ae(i,"argument-error"),Pl._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),rm=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var oE=class extends rm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function pH(t,e){return b(this,null,function*(){return Ol(t,"POST","/v1/accounts:signUp",Ti(t,e))})}var yc=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return b(this,null,function*(){let o=yield gc._fromIdTokenResponse(e,r,i),s=_R(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return b(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=_R(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function _R(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var sE=class t extends on{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function YR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?sE._fromErrorAndOperation(t,o,e,r):o})}function mH(t,e,n=!1){return b(this,null,function*(){let r=yield xl(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return yc._forOperation(t,"link",r)})}function gH(t,e,n=!1){return b(this,null,function*(){let{auth:r}=t;if(cr(r.app))return Promise.reject(Ci(r));let i="reauthenticate";try{let o=yield xl(t,YR(r,i,e,t),n);ae(o.idToken,r,"internal-error");let s=yE(o.idToken);ae(s,r,"internal-error");let{sub:a}=s;return ae(t.uid===a,r,"user-mismatch"),yc._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&jr(r,"user-mismatch"),o}})}function ZR(t,e,n=!1){return b(this,null,function*(){if(cr(t.app))return Promise.reject(Ci(t));let r="signIn",i=yield YR(t,r,e),o=yield yc._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function IE(t,e){return b(this,null,function*(){return ZR(Os(t),e)})}function yH(t,e,n){var r;ae(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),ae(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ae(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ae(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function JR(t){return b(this,null,function*(){let e=Os(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function bE(t,e,n){return b(this,null,function*(){if(cr(t.app))return Promise.reject(Ci(t));let r=Os(t),s=yield iE(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pH).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&JR(t),u}),a=yield yc._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function CE(t,e,n){return cr(t.app)?Promise.reject(Ci(t)):IE(Xe(t),QR.credential(e,n)).catch(r=>b(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&JR(t),r}))}function TE(t,e){return b(this,null,function*(){let n=Xe(t),i={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&yH(n.auth,i,e);let{email:o}=yield uH(n.auth,i);o!==t.email&&(yield t.reload())})}function DE(t,e,n,r){return Xe(t).onIdTokenChanged(e,n,r)}function AE(t,e,n){return Xe(t).beforeAuthStateChanged(e,n)}function SE(t){return Xe(t).signOut()}var im="__sak";var om=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(im,"1"),this.storage.removeItem(im),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var vH=1e3,wH=10,_H=(()=>{class t extends om{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qR(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,d)=>{this.notifyListeners(a,d)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);Q$()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,wH):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},vH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return b(this,null,function*(){yield Ji(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return b(this,null,function*(){let r=yield Ji(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return b(this,null,function*(){yield Ji(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),XR=_H;var EH=(()=>{class t extends om{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),RE=EH;function IH(t){return Promise.all(t.map(e=>b(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var bH=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return b(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(p=>b(this,null,function*(){return p(r.origin,s)})),d=yield IH(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:d})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function ex(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var aE=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return b(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let d=ex("",20);i.port1.start();let p=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(m){let w=m;if(w.data.eventId===d)switch(w.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(w.data.response);break;default:clearTimeout(p),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Ur(){return window}function CH(t){Ur().location.href=t}function tx(){return typeof Ur().WorkerGlobalScope<"u"&&typeof Ur().importScripts=="function"}function TH(){return b(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function DH(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function AH(){return tx()?self:null}var nx="firebaseLocalStorageDb",SH=1,sm="firebaseLocalStorage",rx="fbase_key",ks=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function um(t,e){return t.transaction([sm],e?"readwrite":"readonly").objectStore(sm)}function RH(){let t=indexedDB.deleteDatabase(nx);return new ks(t).toPromise()}function cE(){let t=indexedDB.open(nx,SH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(sm,{keyPath:rx})}catch(i){n(i)}}),t.addEventListener("success",()=>b(this,null,function*(){let r=t.result;r.objectStoreNames.contains(sm)?e(r):(r.close(),yield RH(),e(yield cE()))}))})}function ER(t,e,n){return b(this,null,function*(){let r=um(t,!0).put({[rx]:e,value:n});return new ks(r).toPromise()})}function xH(t,e){return b(this,null,function*(){let n=um(t,!1).get(e),r=yield new ks(n).toPromise();return r===void 0?null:r.value})}function IR(t,e){let n=um(t,!0).delete(e);return new ks(n).toPromise()}var MH=800,NH=3,PH=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return b(this,null,function*(){return this.db?this.db:(this.db=yield cE(),this.db)})}_withRetries(n){return b(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>NH)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return b(this,null,function*(){return tx()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return b(this,null,function*(){this.receiver=bH._getInstance(AH()),this.receiver._subscribe("keyChanged",(n,r)=>b(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>b(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return b(this,null,function*(){var n,r;if(this.activeServiceWorker=yield TH(),!this.activeServiceWorker)return;this.sender=new aE(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return b(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||DH()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return b(this,null,function*(){try{if(!indexedDB)return!1;let n=yield cE();return yield ER(n,im,"1"),yield IR(n,im),!0}catch{}return!1})}_withPendingWrite(n){return b(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(i=>ER(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return b(this,null,function*(){let r=yield this._withRetries(i=>xH(i,n));return this.localCache[n]=r,r})}_remove(n){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(r=>IR(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return b(this,null,function*(){let n=yield this._withRetries(o=>{let s=um(o,!1).getAll();return new ks(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>b(this,null,function*(){return this._poll()}),MH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),ix=PH;var AJ=WR("rcb"),SJ=new Ps(3e4,6e4);function kH(t,e){return e?bi(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var kl=class extends Nl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return W_(e,this._buildIdpRequest())}_linkToIdToken(e,n){return W_(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return W_(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function OH(t){return ZR(t.auth,new kl(t),t.bypassAuthState)}function FH(t){let{auth:e,user:n}=t;return ae(n,e,"internal-error"),gH(n,new kl(t),t.bypassAuthState)}function LH(t){return b(this,null,function*(){let{auth:e,user:n}=t;return ae(n,e,"internal-error"),mH(n,new kl(t),t.bypassAuthState)})}var uE=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>b(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return b(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(d){this.reject(d)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OH;case"linkViaPopup":case"linkViaRedirect":return LH;case"reauthViaPopup":case"reauthViaRedirect":return FH;default:jr(this.auth,"internal-error")}}resolve(e){So(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){So(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var RJ=new Ps(2e3,1e4);var VH="pendingRedirect",Qp=new Map,lE=class t extends uE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return b(this,null,function*(){let e=Qp.get(this.auth._key());if(!e){try{let r=(yield UH(this.resolver,this.auth))?yield Ji(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Qp.set(this.auth._key(),e)}return this.bypassAuthState||Qp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return b(this,null,function*(){if(e.type==="signInViaRedirect")return Ji(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Ji(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return b(this,null,function*(){})}cleanUp(){}};function UH(t,e){return b(this,null,function*(){let n=$H(e),r=BH(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function jH(t,e){Qp.set(t._key(),e)}function BH(t){return bi(t._redirectPersistence)}function $H(t){return Kp(VH,t.config.apiKey,t.name)}function HH(t,e,n=!1){return b(this,null,function*(){if(cr(t.app))return Promise.reject(Ci(t));let r=Os(t),i=kH(r,e),s=yield new lE(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var qH=10*60*1e3,dE=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ox(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ns(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qH&&this.cachedEventUids.clear(),this.cachedEventUids.has(bR(e))}saveEventToCache(e){this.cachedEventUids.add(bR(e)),this.lastProcessedEventTime=Date.now()}};function bR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ox({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function zH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ox(t);default:return!1}}function GH(n){return b(this,arguments,function*(t,e={}){return Di(t,"GET","/v1/projects",e)})}var WH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KH=/^https?/;function QH(t){return b(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield GH(t);for(let n of e)try{if(YH(n))return}catch{}jr(t,"unauthorized-domain")})}function YH(t){let e=Q_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!KH.test(n))return!1;if(WH.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var ZH=new Ps(3e4,6e4);function CR(){let t=Ur().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function JH(t){return new Promise((e,n)=>{var r,i,o;function s(){CR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{CR(),n(Ns(t,"network-request-failed"))},timeout:ZH.get()})}if(!((i=(r=Ur().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Ur().gapi)===null||o===void 0)&&o.load)s();else{let a=WR("iframefcb");return Ur()[a]=()=>{gapi.load?s():n(Ns(t,"network-request-failed"))},GR(`${eH()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Yp=null,e})}var Yp=null;function XH(t){return Yp=Yp||JH(t),Yp}var e4=new Ps(5e3,15e3),t4="__/auth/iframe",n4="emulator/auth/iframe",r4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},i4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function o4(t){let e=t.config;ae(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?mE(e,n4):`https://${t.config.authDomain}/${t4}`,r={apiKey:e.apiKey,appName:t.name,v:Vr},i=i4.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Cl(r).slice(1)}`}function s4(t){return b(this,null,function*(){let e=yield XH(t),n=Ur().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:o4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:r4,dontclear:!0},r=>new Promise((i,o)=>b(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Ns(t,"network-request-failed"),a=Ur().setTimeout(()=>{o(s)},e4.get());function u(){Ur().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var a4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},c4=500,u4=600,l4="_blank",d4="http://localhost",am=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function h4(t,e,n,r=c4,i=u4){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},a4),{width:r.toString(),height:i.toString(),top:o,left:s}),d=Lt().toLowerCase();n&&(a=UR(d)?l4:n),LR(d)&&(e=e||d4,u.scrollbars="yes");let p=Object.entries(u).reduce((w,[E,x])=>`${w}${E}=${x},`,"");if(K$(d)&&a!=="_self")return f4(e||"",a),new am(null);let m=window.open(e||"",a,p);ae(m,t,"popup-blocked");try{m.focus()}catch{}return new am(m)}function f4(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var p4="__/auth/handler",m4="emulator/auth/handler",g4=encodeURIComponent("fac");function TR(t,e,n,r,i,o){return b(this,null,function*(){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Vr,eventId:i};if(e instanceof rm){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",ZS(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[p,m]of Object.entries(o||{}))s[p]=m}if(e instanceof oE){let p=e.getScopes().filter(m=>m!=="");p.length>0&&(s.scopes=p.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let p of Object.keys(a))a[p]===void 0&&delete a[p];let u=yield t._getAppCheckToken(),d=u?`#${g4}=${encodeURIComponent(u)}`:"";return`${y4(t)}?${Cl(a).slice(1)}${d}`})}function y4({config:t}){return t.emulator?mE(t,m4):`https://${t.authDomain}/${p4}`}var K_="webStorageSupport",hE=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RE,this._completeRedirectFn=HH,this._overrideRedirectResult=jH}_openPopup(e,n,r,i){return b(this,null,function*(){var o;So((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield TR(e,n,r,Q_(),i);return h4(e,s,ex())})}_openRedirect(e,n,r,i){return b(this,null,function*(){yield this._originValidation(e);let o=yield TR(e,n,r,Q_(),i);return CH(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(So(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return b(this,null,function*(){let n=yield s4(e),r=new dE(e);return n.register("authEvent",i=>(ae(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(K_,{type:K_},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[K_];s!==void 0&&n(!!s),jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qR()||VR()||wE()}},sx=hE;var DR="@firebase/auth",AR="1.7.9";var fE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return b(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function v4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function w4(t){Lr(new gn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ae(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zR(t)},d=new nE(r,i,o,u);return rH(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Lr(new gn("auth-internal",e=>{let n=Os(e.getProvider("auth").getImmediate());return(r=>new fE(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),nt(DR,AR,v4(t)),nt(DR,AR,"esm2017")}var _4=5*60,E4=A_("authIdTokenMaxAge")||_4,SR=null,I4=t=>e=>b(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>E4)return;let i=n?.token;SR!==i&&(SR=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function xE(t=To()){let e=As(t,"auth");if(e.isInitialized())return e.getImmediate();let n=_E(t,{popupRedirectResolver:sx,persistence:[ix,XR,RE]}),r=A_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=I4(o.toString());AE(n,s,()=>s(n.currentUser)),DE(n,a=>s(a))}}let i=T_("auth");return i&&EE(n,`http://${i}`),n}function b4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}J$({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Ns("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",b4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});w4("Browser");var ax="auth",Fs=class{constructor(e){return e}},Fl=class{constructor(){return mc(ax)}};var ME=new G("angularfire2.auth-instances");function hq(t,e){let n=Al(ax,t,e);return n&&new Fs(n)}function fq(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Fs(r)}}var pq={provide:Fl,deps:[[new Wt,ME]]},mq={provide:Fs,useFactory:hq,deps:[[new Wt,ME],Ei]};function hX(t,...e){return nt("angularfire",Do.full,"auth"),Fn([mq,pq,{provide:ME,useFactory:fq(t),multi:!0,deps:[xe,Bt,xs,Ms,[new Wt,Rs],...e]}])}var cx=rt(bE,!0);var fX=rt(xE,!0);var ux=rt(TE,!0);var lx=rt(CE,!0);var dx=rt(SE,!0);var hx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fx={};var Ro,NE;(function(){var t;function e(D,I){function C(){}C.prototype=I.prototype,D.D=I.prototype,D.prototype=new C,D.prototype.constructor=D,D.C=function(A,S,R){for(var T=Array(arguments.length-2),zn=2;zn<arguments.length;zn++)T[zn-2]=arguments[zn];return I.prototype[S].apply(A,T)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,I,C){C||(C=0);var A=Array(16);if(typeof I=="string")for(var S=0;16>S;++S)A[S]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(S=0;16>S;++S)A[S]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=D.g[0],C=D.g[1],S=D.g[2];var R=D.g[3],T=I+(R^C&(S^R))+A[0]+3614090360&4294967295;I=C+(T<<7&4294967295|T>>>25),T=R+(S^I&(C^S))+A[1]+3905402710&4294967295,R=I+(T<<12&4294967295|T>>>20),T=S+(C^R&(I^C))+A[2]+606105819&4294967295,S=R+(T<<17&4294967295|T>>>15),T=C+(I^S&(R^I))+A[3]+3250441966&4294967295,C=S+(T<<22&4294967295|T>>>10),T=I+(R^C&(S^R))+A[4]+4118548399&4294967295,I=C+(T<<7&4294967295|T>>>25),T=R+(S^I&(C^S))+A[5]+1200080426&4294967295,R=I+(T<<12&4294967295|T>>>20),T=S+(C^R&(I^C))+A[6]+2821735955&4294967295,S=R+(T<<17&4294967295|T>>>15),T=C+(I^S&(R^I))+A[7]+4249261313&4294967295,C=S+(T<<22&4294967295|T>>>10),T=I+(R^C&(S^R))+A[8]+1770035416&4294967295,I=C+(T<<7&4294967295|T>>>25),T=R+(S^I&(C^S))+A[9]+2336552879&4294967295,R=I+(T<<12&4294967295|T>>>20),T=S+(C^R&(I^C))+A[10]+4294925233&4294967295,S=R+(T<<17&4294967295|T>>>15),T=C+(I^S&(R^I))+A[11]+2304563134&4294967295,C=S+(T<<22&4294967295|T>>>10),T=I+(R^C&(S^R))+A[12]+1804603682&4294967295,I=C+(T<<7&4294967295|T>>>25),T=R+(S^I&(C^S))+A[13]+4254626195&4294967295,R=I+(T<<12&4294967295|T>>>20),T=S+(C^R&(I^C))+A[14]+2792965006&4294967295,S=R+(T<<17&4294967295|T>>>15),T=C+(I^S&(R^I))+A[15]+1236535329&4294967295,C=S+(T<<22&4294967295|T>>>10),T=I+(S^R&(C^S))+A[1]+4129170786&4294967295,I=C+(T<<5&4294967295|T>>>27),T=R+(C^S&(I^C))+A[6]+3225465664&4294967295,R=I+(T<<9&4294967295|T>>>23),T=S+(I^C&(R^I))+A[11]+643717713&4294967295,S=R+(T<<14&4294967295|T>>>18),T=C+(R^I&(S^R))+A[0]+3921069994&4294967295,C=S+(T<<20&4294967295|T>>>12),T=I+(S^R&(C^S))+A[5]+3593408605&4294967295,I=C+(T<<5&4294967295|T>>>27),T=R+(C^S&(I^C))+A[10]+38016083&4294967295,R=I+(T<<9&4294967295|T>>>23),T=S+(I^C&(R^I))+A[15]+3634488961&4294967295,S=R+(T<<14&4294967295|T>>>18),T=C+(R^I&(S^R))+A[4]+3889429448&4294967295,C=S+(T<<20&4294967295|T>>>12),T=I+(S^R&(C^S))+A[9]+568446438&4294967295,I=C+(T<<5&4294967295|T>>>27),T=R+(C^S&(I^C))+A[14]+3275163606&4294967295,R=I+(T<<9&4294967295|T>>>23),T=S+(I^C&(R^I))+A[3]+4107603335&4294967295,S=R+(T<<14&4294967295|T>>>18),T=C+(R^I&(S^R))+A[8]+1163531501&4294967295,C=S+(T<<20&4294967295|T>>>12),T=I+(S^R&(C^S))+A[13]+2850285829&4294967295,I=C+(T<<5&4294967295|T>>>27),T=R+(C^S&(I^C))+A[2]+4243563512&4294967295,R=I+(T<<9&4294967295|T>>>23),T=S+(I^C&(R^I))+A[7]+1735328473&4294967295,S=R+(T<<14&4294967295|T>>>18),T=C+(R^I&(S^R))+A[12]+2368359562&4294967295,C=S+(T<<20&4294967295|T>>>12),T=I+(C^S^R)+A[5]+4294588738&4294967295,I=C+(T<<4&4294967295|T>>>28),T=R+(I^C^S)+A[8]+2272392833&4294967295,R=I+(T<<11&4294967295|T>>>21),T=S+(R^I^C)+A[11]+1839030562&4294967295,S=R+(T<<16&4294967295|T>>>16),T=C+(S^R^I)+A[14]+4259657740&4294967295,C=S+(T<<23&4294967295|T>>>9),T=I+(C^S^R)+A[1]+2763975236&4294967295,I=C+(T<<4&4294967295|T>>>28),T=R+(I^C^S)+A[4]+1272893353&4294967295,R=I+(T<<11&4294967295|T>>>21),T=S+(R^I^C)+A[7]+4139469664&4294967295,S=R+(T<<16&4294967295|T>>>16),T=C+(S^R^I)+A[10]+3200236656&4294967295,C=S+(T<<23&4294967295|T>>>9),T=I+(C^S^R)+A[13]+681279174&4294967295,I=C+(T<<4&4294967295|T>>>28),T=R+(I^C^S)+A[0]+3936430074&4294967295,R=I+(T<<11&4294967295|T>>>21),T=S+(R^I^C)+A[3]+3572445317&4294967295,S=R+(T<<16&4294967295|T>>>16),T=C+(S^R^I)+A[6]+76029189&4294967295,C=S+(T<<23&4294967295|T>>>9),T=I+(C^S^R)+A[9]+3654602809&4294967295,I=C+(T<<4&4294967295|T>>>28),T=R+(I^C^S)+A[12]+3873151461&4294967295,R=I+(T<<11&4294967295|T>>>21),T=S+(R^I^C)+A[15]+530742520&4294967295,S=R+(T<<16&4294967295|T>>>16),T=C+(S^R^I)+A[2]+3299628645&4294967295,C=S+(T<<23&4294967295|T>>>9),T=I+(S^(C|~R))+A[0]+4096336452&4294967295,I=C+(T<<6&4294967295|T>>>26),T=R+(C^(I|~S))+A[7]+1126891415&4294967295,R=I+(T<<10&4294967295|T>>>22),T=S+(I^(R|~C))+A[14]+2878612391&4294967295,S=R+(T<<15&4294967295|T>>>17),T=C+(R^(S|~I))+A[5]+4237533241&4294967295,C=S+(T<<21&4294967295|T>>>11),T=I+(S^(C|~R))+A[12]+1700485571&4294967295,I=C+(T<<6&4294967295|T>>>26),T=R+(C^(I|~S))+A[3]+2399980690&4294967295,R=I+(T<<10&4294967295|T>>>22),T=S+(I^(R|~C))+A[10]+4293915773&4294967295,S=R+(T<<15&4294967295|T>>>17),T=C+(R^(S|~I))+A[1]+2240044497&4294967295,C=S+(T<<21&4294967295|T>>>11),T=I+(S^(C|~R))+A[8]+1873313359&4294967295,I=C+(T<<6&4294967295|T>>>26),T=R+(C^(I|~S))+A[15]+4264355552&4294967295,R=I+(T<<10&4294967295|T>>>22),T=S+(I^(R|~C))+A[6]+2734768916&4294967295,S=R+(T<<15&4294967295|T>>>17),T=C+(R^(S|~I))+A[13]+1309151649&4294967295,C=S+(T<<21&4294967295|T>>>11),T=I+(S^(C|~R))+A[4]+4149444226&4294967295,I=C+(T<<6&4294967295|T>>>26),T=R+(C^(I|~S))+A[11]+3174756917&4294967295,R=I+(T<<10&4294967295|T>>>22),T=S+(I^(R|~C))+A[2]+718787259&4294967295,S=R+(T<<15&4294967295|T>>>17),T=C+(R^(S|~I))+A[9]+3951481745&4294967295,D.g[0]=D.g[0]+I&4294967295,D.g[1]=D.g[1]+(S+(T<<21&4294967295|T>>>11))&4294967295,D.g[2]=D.g[2]+S&4294967295,D.g[3]=D.g[3]+R&4294967295}r.prototype.u=function(D,I){I===void 0&&(I=D.length);for(var C=I-this.blockSize,A=this.B,S=this.h,R=0;R<I;){if(S==0)for(;R<=C;)i(this,D,R),R+=this.blockSize;if(typeof D=="string"){for(;R<I;)if(A[S++]=D.charCodeAt(R++),S==this.blockSize){i(this,A),S=0;break}}else for(;R<I;)if(A[S++]=D[R++],S==this.blockSize){i(this,A),S=0;break}}this.h=S,this.o+=I},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var I=1;I<D.length-8;++I)D[I]=0;var C=8*this.o;for(I=D.length-8;I<D.length;++I)D[I]=C&255,C/=256;for(this.u(D),D=Array(16),I=C=0;4>I;++I)for(var A=0;32>A;A+=8)D[C++]=this.g[I]>>>A&255;return D};function o(D,I){var C=a;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=I(D)}function s(D,I){this.h=I;for(var C=[],A=!0,S=D.length-1;0<=S;S--){var R=D[S]|0;A&&R==I||(C[S]=R,A=!1)}this.g=C}var a={};function u(D){return-128<=D&&128>D?o(D,function(I){return new s([I|0],0>I?-1:0)}):new s([D|0],0>D?-1:0)}function d(D){if(isNaN(D)||!isFinite(D))return m;if(0>D)return N(d(-D));for(var I=[],C=1,A=0;D>=C;A++)I[A]=D/C|0,C*=4294967296;return new s(I,0)}function p(D,I){if(D.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(D.charAt(0)=="-")return N(p(D.substring(1),I));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=d(Math.pow(I,8)),A=m,S=0;S<D.length;S+=8){var R=Math.min(8,D.length-S),T=parseInt(D.substring(S,S+R),I);8>R?(R=d(Math.pow(I,R)),A=A.j(R).add(d(T))):(A=A.j(C),A=A.add(d(T)))}return A}var m=u(0),w=u(1),E=u(16777216);t=s.prototype,t.m=function(){if(F(this))return-N(this).m();for(var D=0,I=1,C=0;C<this.g.length;C++){var A=this.i(C);D+=(0<=A?A:4294967296+A)*I,I*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(x(this))return"0";if(F(this))return"-"+N(this).toString(D);for(var I=d(Math.pow(D,6)),C=this,A="";;){var S=ne(C,I).g;C=B(C,S.j(I));var R=((0<C.g.length?C.g[0]:C.h)>>>0).toString(D);if(C=S,x(C))return R+A;for(;6>R.length;)R="0"+R;A=R+A}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function x(D){if(D.h!=0)return!1;for(var I=0;I<D.g.length;I++)if(D.g[I]!=0)return!1;return!0}function F(D){return D.h==-1}t.l=function(D){return D=B(this,D),F(D)?-1:x(D)?0:1};function N(D){for(var I=D.g.length,C=[],A=0;A<I;A++)C[A]=~D.g[A];return new s(C,~D.h).add(w)}t.abs=function(){return F(this)?N(this):this},t.add=function(D){for(var I=Math.max(this.g.length,D.g.length),C=[],A=0,S=0;S<=I;S++){var R=A+(this.i(S)&65535)+(D.i(S)&65535),T=(R>>>16)+(this.i(S)>>>16)+(D.i(S)>>>16);A=T>>>16,R&=65535,T&=65535,C[S]=T<<16|R}return new s(C,C[C.length-1]&-2147483648?-1:0)};function B(D,I){return D.add(N(I))}t.j=function(D){if(x(this)||x(D))return m;if(F(this))return F(D)?N(this).j(N(D)):N(N(this).j(D));if(F(D))return N(this.j(N(D)));if(0>this.l(E)&&0>D.l(E))return d(this.m()*D.m());for(var I=this.g.length+D.g.length,C=[],A=0;A<2*I;A++)C[A]=0;for(A=0;A<this.g.length;A++)for(var S=0;S<D.g.length;S++){var R=this.i(A)>>>16,T=this.i(A)&65535,zn=D.i(S)>>>16,ki=D.i(S)&65535;C[2*A+2*S]+=T*ki,Z(C,2*A+2*S),C[2*A+2*S+1]+=R*ki,Z(C,2*A+2*S+1),C[2*A+2*S+1]+=T*zn,Z(C,2*A+2*S+1),C[2*A+2*S+2]+=R*zn,Z(C,2*A+2*S+2)}for(A=0;A<I;A++)C[A]=C[2*A+1]<<16|C[2*A];for(A=I;A<2*I;A++)C[A]=0;return new s(C,0)};function Z(D,I){for(;(D[I]&65535)!=D[I];)D[I+1]+=D[I]>>>16,D[I]&=65535,I++}function z(D,I){this.g=D,this.h=I}function ne(D,I){if(x(I))throw Error("division by zero");if(x(D))return new z(m,m);if(F(D))return I=ne(N(D),I),new z(N(I.g),N(I.h));if(F(I))return I=ne(D,N(I)),new z(N(I.g),I.h);if(30<D.g.length){if(F(D)||F(I))throw Error("slowDivide_ only works with positive integers.");for(var C=w,A=I;0>=A.l(D);)C=ye(C),A=ye(A);var S=ie(C,1),R=ie(A,1);for(A=ie(A,2),C=ie(C,2);!x(A);){var T=R.add(A);0>=T.l(D)&&(S=S.add(C),R=T),A=ie(A,1),C=ie(C,1)}return I=B(D,S.j(I)),new z(S,I)}for(S=m;0<=D.l(I);){for(C=Math.max(1,Math.floor(D.m()/I.m())),A=Math.ceil(Math.log(C)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),R=d(C),T=R.j(I);F(T)||0<T.l(D);)C-=A,R=d(C),T=R.j(I);x(R)&&(R=w),S=S.add(R),D=B(D,T)}return new z(S,D)}t.A=function(D){return ne(this,D).h},t.and=function(D){for(var I=Math.max(this.g.length,D.g.length),C=[],A=0;A<I;A++)C[A]=this.i(A)&D.i(A);return new s(C,this.h&D.h)},t.or=function(D){for(var I=Math.max(this.g.length,D.g.length),C=[],A=0;A<I;A++)C[A]=this.i(A)|D.i(A);return new s(C,this.h|D.h)},t.xor=function(D){for(var I=Math.max(this.g.length,D.g.length),C=[],A=0;A<I;A++)C[A]=this.i(A)^D.i(A);return new s(C,this.h^D.h)};function ye(D){for(var I=D.g.length+1,C=[],A=0;A<I;A++)C[A]=D.i(A)<<1|D.i(A-1)>>>31;return new s(C,D.h)}function ie(D,I){var C=I>>5;I%=32;for(var A=D.g.length-C,S=[],R=0;R<A;R++)S[R]=0<I?D.i(R+C)>>>I|D.i(R+C+1)<<32-I:D.i(R+C);return new s(S,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,NE=fx.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=p,Ro=fx.Integer=s}).apply(typeof hx<"u"?hx:typeof self<"u"?self:typeof window<"u"?window:{});var lm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ai={};var PE,yq,vc,kE,Ll,dm,OE,FE,LE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,f,g){return c==Array.prototype||c==Object.prototype||(c[f]=g.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof lm=="object"&&lm];for(var f=0;f<c.length;++f){var g=c[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(c,f){if(f)e:{var g=r;c=c.split(".");for(var v=0;v<c.length-1;v++){var M=c[v];if(!(M in g))break e;g=g[M]}c=c[c.length-1],v=g[c],f=f(v),f!=v&&f!=null&&e(g,c,{configurable:!0,writable:!0,value:f})}}function o(c,f){c instanceof String&&(c+="");var g=0,v=!1,M={next:function(){if(!v&&g<c.length){var O=g++;return{value:f(O,c[O]),done:!1}}return v=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(c){return c||function(){return o(this,function(f,g){return g})}});var s=s||{},a=this||self;function u(c){var f=typeof c;return f=f!="object"?f:c?Array.isArray(c)?"array":f:"null",f=="array"||f=="object"&&typeof c.length=="number"}function d(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function p(c,f,g){return c.call.apply(c.bind,arguments)}function m(c,f,g){if(!c)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,v),c.apply(f,M)}}return function(){return c.apply(f,arguments)}}function w(c,f,g){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,w.apply(null,arguments)}function E(c,f){var g=Array.prototype.slice.call(arguments,1);return function(){var v=g.slice();return v.push.apply(v,arguments),c.apply(this,v)}}function x(c,f){function g(){}g.prototype=f.prototype,c.aa=f.prototype,c.prototype=new g,c.prototype.constructor=c,c.Qb=function(v,M,O){for(var q=Array(arguments.length-2),je=2;je<arguments.length;je++)q[je-2]=arguments[je];return f.prototype[M].apply(v,q)}}function F(c){let f=c.length;if(0<f){let g=Array(f);for(let v=0;v<f;v++)g[v]=c[v];return g}return[]}function N(c,f){for(let g=1;g<arguments.length;g++){let v=arguments[g];if(u(v)){let M=c.length||0,O=v.length||0;c.length=M+O;for(let q=0;q<O;q++)c[M+q]=v[q]}else c.push(v)}}class B{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function Z(c){return/^[\s\xa0]*$/.test(c)}function z(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ne(c){return ne[" "](c),c}ne[" "]=function(){};var ye=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function ie(c,f,g){for(let v in c)f.call(g,c[v],v,c)}function D(c,f){for(let g in c)f.call(void 0,c[g],g,c)}function I(c){let f={};for(let g in c)f[g]=c[g];return f}let C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(c,f){let g,v;for(let M=1;M<arguments.length;M++){v=arguments[M];for(g in v)c[g]=v[g];for(let O=0;O<C.length;O++)g=C[O],Object.prototype.hasOwnProperty.call(v,g)&&(c[g]=v[g])}}function S(c){var f=1;c=c.split(":");let g=[];for(;0<f&&c.length;)g.push(c.shift()),f--;return c.length&&g.push(c.join(":")),g}function R(c){a.setTimeout(()=>{throw c},0)}function T(){var c=Fi;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class zn{constructor(){this.h=this.g=null}add(f,g){let v=ki.get();v.set(f,g),this.h?this.h.next=v:this.g=v,this.h=v}}var ki=new B(()=>new Jc,c=>c.reset());class Jc{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Oi,Zr=!1,Fi=new zn,wn=()=>{let c=a.Promise.resolve(void 0);Oi=()=>{c.then(Li)}};var Li=()=>{for(var c;c=T();){try{c.h.call(c.g)}catch(g){R(g)}var f=ki;f.j(c),100>f.h&&(f.h++,c.next=f.g,f.g=c)}Zr=!1};function qt(){this.s=this.s,this.C=this.C}qt.prototype.s=!1,qt.prototype.ma=function(){this.s||(this.s=!0,this.N())},qt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Mt(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}Mt.prototype.h=function(){this.defaultPrevented=!0};var Vi=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return c}();function Gn(c,f){if(Mt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var g=this.type=c.type,v=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget){if(ye){e:{try{ne(f.nodeName);var M=!0;break e}catch{}M=!1}M||(f=null)}}else g=="mouseover"?f=c.fromElement:g=="mouseout"&&(f=c.toElement);this.relatedTarget=f,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Id[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Gn.aa.h.call(this)}}x(Gn,Mt);var Id={2:"touch",3:"pen",4:"mouse"};Gn.prototype.h=function(){Gn.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var pr="closure_listenable_"+(1e6*Math.random()|0),Xc=0;function Fg(c,f,g,v,M){this.listener=c,this.proxy=null,this.src=f,this.type=g,this.capture=!!v,this.ha=M,this.key=++Xc,this.da=this.fa=!1}function Ui(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ji(c){this.src=c,this.g={},this.h=0}ji.prototype.add=function(c,f,g,v,M){var O=c.toString();c=this.g[O],c||(c=this.g[O]=[],this.h++);var q=eu(c,f,v,M);return-1<q?(f=c[q],g||(f.fa=!1)):(f=new Fg(f,this.src,O,!!v,M),f.fa=g,c.push(f)),f};function Bi(c,f){var g=f.type;if(g in c.g){var v=c.g[g],M=Array.prototype.indexOf.call(v,f,void 0),O;(O=0<=M)&&Array.prototype.splice.call(v,M,1),O&&(Ui(f),c.g[g].length==0&&(delete c.g[g],c.h--))}}function eu(c,f,g,v){for(var M=0;M<c.length;++M){var O=c[M];if(!O.da&&O.listener==f&&O.capture==!!g&&O.ha==v)return M}return-1}var Ut="closure_lm_"+(1e6*Math.random()|0),_n={};function bd(c,f,g,v,M){if(v&&v.once)return tu(c,f,g,v,M);if(Array.isArray(f)){for(var O=0;O<f.length;O++)bd(c,f[O],g,v,M);return null}return g=gt(g),c&&c[pr]?c.K(f,g,d(v)?!!v.capture:!!v,M):zt(c,f,g,!1,v,M)}function zt(c,f,g,v,M,O){if(!f)throw Error("Invalid event type");var q=d(M)?!!M.capture:!!M,je=Wn(c);if(je||(c[Ut]=je=new ji(c)),g=je.add(f,g,v,q,O),g.proxy)return g;if(v=ea(),g.proxy=v,v.src=c,v.listener=g,c.addEventListener)Vi||(M=q),M===void 0&&(M=!1),c.addEventListener(f.toString(),v,M);else if(c.attachEvent)c.attachEvent(En(f.toString()),v);else if(c.addListener&&c.removeListener)c.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ea(){function c(g){return f.call(c.src,c.listener,g)}let f=mr;return c}function tu(c,f,g,v,M){if(Array.isArray(f)){for(var O=0;O<f.length;O++)tu(c,f[O],g,v,M);return null}return g=gt(g),c&&c[pr]?c.L(f,g,d(v)?!!v.capture:!!v,M):zt(c,f,g,!0,v,M)}function nu(c,f,g,v,M){if(Array.isArray(f))for(var O=0;O<f.length;O++)nu(c,f[O],g,v,M);else v=d(v)?!!v.capture:!!v,g=gt(g),c&&c[pr]?(c=c.i,f=String(f).toString(),f in c.g&&(O=c.g[f],g=eu(O,g,v,M),-1<g&&(Ui(O[g]),Array.prototype.splice.call(O,g,1),O.length==0&&(delete c.g[f],c.h--)))):c&&(c=Wn(c))&&(f=c.g[f.toString()],c=-1,f&&(c=eu(f,g,v,M)),(g=-1<c?f[c]:null)&&Te(g))}function Te(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[pr])Bi(f.i,c);else{var g=c.type,v=c.proxy;f.removeEventListener?f.removeEventListener(g,v,c.capture):f.detachEvent?f.detachEvent(En(g),v):f.addListener&&f.removeListener&&f.removeListener(v),(g=Wn(f))?(Bi(g,c),g.h==0&&(g.src=null,f[Ut]=null)):Ui(c)}}}function En(c){return c in _n?_n[c]:_n[c]="on"+c}function mr(c,f){if(c.da)c=!0;else{f=new Gn(f,this);var g=c.listener,v=c.ha||c.src;c.fa&&Te(c),c=g.call(v,f)}return c}function Wn(c){return c=c[Ut],c instanceof ji?c:null}var ot="__closure_events_fn_"+(1e9*Math.random()>>>0);function gt(c){return typeof c=="function"?c:(c[ot]||(c[ot]=function(f){return c.handleEvent(f)}),c[ot])}function yt(){qt.call(this),this.i=new ji(this),this.M=this,this.F=null}x(yt,qt),yt.prototype[pr]=!0,yt.prototype.removeEventListener=function(c,f,g,v){nu(this,c,f,g,v)};function Nt(c,f){var g,v=c.F;if(v)for(g=[];v;v=v.F)g.push(v);if(c=c.M,v=f.type||f,typeof f=="string")f=new Mt(f,c);else if(f instanceof Mt)f.target=f.target||c;else{var M=f;f=new Mt(v,c),A(f,M)}if(M=!0,g)for(var O=g.length-1;0<=O;O--){var q=f.g=g[O];M=gr(q,v,!0,f)&&M}if(q=f.g=c,M=gr(q,v,!0,f)&&M,M=gr(q,v,!1,f)&&M,g)for(O=0;O<g.length;O++)q=f.g=g[O],M=gr(q,v,!1,f)&&M}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var c=this.i,f;for(f in c.g){for(var g=c.g[f],v=0;v<g.length;v++)Ui(g[v]);delete c.g[f],c.h--}}this.F=null},yt.prototype.K=function(c,f,g,v){return this.i.add(String(c),f,!1,g,v)},yt.prototype.L=function(c,f,g,v){return this.i.add(String(c),f,!0,g,v)};function gr(c,f,g,v){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();for(var M=!0,O=0;O<f.length;++O){var q=f[O];if(q&&!q.da&&q.capture==g){var je=q.listener,St=q.ha||q.src;q.fa&&Bi(c.i,q),M=je.call(St,v)!==!1&&M}}return M&&!v.defaultPrevented}function jt(c,f,g){if(typeof c=="function")g&&(c=w(c,g));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(c,f||0)}function Cd(c){c.g=jt(()=>{c.g=null,c.i&&(c.i=!1,Cd(c))},c.l);let f=c.h;c.h=null,c.m.apply(null,f)}class Td extends qt{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Cd(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $i(c){qt.call(this),this.h=c,this.g={}}x($i,qt);var ta=[];function Dd(c){ie(c.g,function(f,g){this.g.hasOwnProperty(g)&&Te(f)},c),c.g={}}$i.prototype.N=function(){$i.aa.N.call(this),Dd(this)},$i.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ru=a.JSON.stringify,Lg=a.JSON.parse,Vg=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Kn(){}Kn.prototype.h=null;function Ad(c){return c.h||(c.h=c.i())}function Sd(){}var jo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function iu(){Mt.call(this,"d")}x(iu,Mt);function ou(){Mt.call(this,"c")}x(ou,Mt);var Qn={},Rd=null;function na(){return Rd=Rd||new yt}Qn.La="serverreachability";function xd(c){Mt.call(this,Qn.La,c)}x(xd,Mt);function Bo(c){let f=na();Nt(f,new xd(f))}Qn.STAT_EVENT="statevent";function Md(c,f){Mt.call(this,Qn.STAT_EVENT,c),this.stat=f}x(Md,Mt);function At(c){let f=na();Nt(f,new Md(f,c))}Qn.Ma="timingevent";function Nd(c,f){Mt.call(this,Qn.Ma,c),this.size=f}x(Nd,Mt);function $o(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},f)}function Ho(){this.g=!0}Ho.prototype.xa=function(){this.g=!1};function Ug(c,f,g,v,M,O){c.info(function(){if(c.g)if(O)for(var q="",je=O.split("&"),St=0;St<je.length;St++){var Re=je[St].split("=");if(1<Re.length){var Pt=Re[0];Re=Re[1];var Rt=Pt.split("_");q=2<=Rt.length&&Rt[1]=="type"?q+(Pt+"="+Re+"&"):q+(Pt+"=redacted&")}}else q=null;else q=O;return"XMLHTTP REQ ("+v+") [attempt "+M+"]: "+f+`
`+g+`
`+q})}function jg(c,f,g,v,M,O,q){c.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+M+"]: "+f+`
`+g+`
`+O+" "+q})}function ke(c,f,g,v){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+$g(c,g)+(v?" "+v:"")})}function Bg(c,f){c.info(function(){return"TIMEOUT: "+f})}Ho.prototype.info=function(){};function $g(c,f){if(!c.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(c=0;c<g.length;c++)if(Array.isArray(g[c])){var v=g[c];if(!(2>v.length)){var M=v[1];if(Array.isArray(M)&&!(1>M.length)){var O=M[0];if(O!="noop"&&O!="stop"&&O!="close")for(var q=1;q<M.length;q++)M[q]=""}}}}return ru(g)}catch{return f}}var ra={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pd={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},su;function ia(){}x(ia,Kn),ia.prototype.g=function(){return new XMLHttpRequest},ia.prototype.i=function(){return{}},su=new ia;function Mn(c,f,g,v){this.j=c,this.i=f,this.l=g,this.R=v||1,this.U=new $i(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hi}function Hi(){this.i=null,this.g="",this.h=!1}var au={},qi={};function Qe(c,f,g){c.L=1,c.v=sa(Nn(f)),c.m=g,c.P=!0,kd(c,null)}function kd(c,f){c.F=Date.now(),qo(c),c.A=Nn(c.v);var g=c.A,v=c.R;Array.isArray(v)||(v=[String(v)]),Yd(g.i,"t",v),c.C=0,g=c.j.J,c.h=new Hi,c.g=Iu(c.j,g?f:null,!c.m),0<c.O&&(c.M=new Td(w(c.Y,c,c.g),c.O)),f=c.U,g=c.g,v=c.ca;var M="readystatechange";Array.isArray(M)||(M&&(ta[0]=M.toString()),M=ta);for(var O=0;O<M.length;O++){var q=bd(g,M[O],v||f.handleEvent,!1,f.h||f);if(!q)break;f.g[q.key]=q}f=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,f)):(c.u="GET",c.g.ea(c.A,c.u,null,f)),Bo(),Ug(c.i,c.u,c.A,c.l,c.R,c.m)}Mn.prototype.ca=function(c){c=c.target;let f=this.M;f&&Zn(c)==3?f.j():this.Y(c)},Mn.prototype.Y=function(c){try{if(c==this.g)e:{let Rt=Zn(this.g);var f=this.g.Ba();let Er=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||rh(this.g)))){this.J||Rt!=4||f==7||(f==8||0>=Er?Bo(3):Bo(2)),cu(this);var g=this.g.Z();this.X=g;t:if(Od(this)){var v=rh(this.g);c="";var M=v.length,O=Zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yr(this),zo(this);var q="";break t}this.h.i=new a.TextDecoder}for(f=0;f<M;f++)this.h.h=!0,c+=this.h.i.decode(v[f],{stream:!(O&&f==M-1)});v.length=0,this.h.g+=c,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=g==200,jg(this.i,this.u,this.A,this.l,this.R,Rt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var je,St=this.g;if((je=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(je)){var Re=je;break t}}Re=null}if(g=Re)ke(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,uu(this,g);else{this.o=!1,this.s=3,At(12),yr(this),zo(this);break e}}if(this.P){g=!0;let In;for(;!this.J&&this.C<q.length;)if(In=Hg(this,q),In==qi){Rt==4&&(this.s=4,At(14),g=!1),ke(this.i,this.l,null,"[Incomplete Response]");break}else if(In==au){this.s=4,At(15),ke(this.i,this.l,q,"[Invalid Chunk]"),g=!1;break}else ke(this.i,this.l,In,null),uu(this,In);if(Od(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||q.length!=0||this.h.h||(this.s=1,At(16),g=!1),this.o=this.o&&g,!g)ke(this.i,this.l,q,"[Invalid Chunked Response]"),yr(this),zo(this);else if(0<q.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),Yi(Pt),Pt.M=!0,At(11))}}else ke(this.i,this.l,q,null),uu(this,q);Rt==4&&yr(this),this.o&&!this.J&&(Rt==4?vu(this.j,this):(this.o=!1,qo(this)))}else Jg(this.g),g==400&&0<q.indexOf("Unknown SID")?(this.s=3,At(12)):(this.s=0,At(13)),yr(this),zo(this)}}}catch{}finally{}};function Od(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Hg(c,f){var g=c.C,v=f.indexOf(`
`,g);return v==-1?qi:(g=Number(f.substring(g,v)),isNaN(g)?au:(v+=1,v+g>f.length?qi:(f=f.slice(v,v+g),c.C=v+g,f)))}Mn.prototype.cancel=function(){this.J=!0,yr(this)};function qo(c){c.S=Date.now()+c.I,Fd(c,c.I)}function Fd(c,f){if(c.B!=null)throw Error("WatchDog timer not null");c.B=$o(w(c.ba,c),f)}function cu(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Mn.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(Bg(this.i,this.A),this.L!=2&&(Bo(),At(17)),yr(this),this.s=2,zo(this)):Fd(this,this.S-c)};function zo(c){c.j.G==0||c.J||vu(c.j,c)}function yr(c){cu(c);var f=c.M;f&&typeof f.ma=="function"&&f.ma(),c.M=null,Dd(c.U),c.g&&(f=c.g,c.g=null,f.abort(),f.ma())}function uu(c,f){try{var g=c.j;if(g.G!=0&&(g.g==c||lu(g.h,c))){if(!c.K&&lu(g.h,c)&&g.G==3){try{var v=g.Da.g.parse(f)}catch{v=null}if(Array.isArray(v)&&v.length==3){var M=v;if(M[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<c.F)Xo(g),la(g);else break e;Jo(g),At(18)}}else g.za=M[1],0<g.za-g.T&&37500>M[2]&&g.F&&g.v==0&&!g.C&&(g.C=$o(w(g.Za,g),6e3));if(1>=jd(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else _r(g,11)}else if((c.K||g.g==c)&&Xo(g),!Z(f))for(M=g.Da.g.parse(f),f=0;f<M.length;f++){let Re=M[f];if(g.T=Re[0],Re=Re[1],g.G==2)if(Re[0]=="c"){g.K=Re[1],g.ia=Re[2];let Pt=Re[3];Pt!=null&&(g.la=Pt,g.j.info("VER="+g.la));let Rt=Re[4];Rt!=null&&(g.Aa=Rt,g.j.info("SVER="+g.Aa));let Er=Re[5];Er!=null&&typeof Er=="number"&&0<Er&&(v=1.5*Er,g.L=v,g.j.info("backChannelRequestTimeoutMs_="+v)),v=g;let In=c.g;if(In){let ha=In.g?In.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ha){var O=v.h;O.g||ha.indexOf("spdy")==-1&&ha.indexOf("quic")==-1&&ha.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(du(O,O.h),O.h=null))}if(v.D){let Cu=In.g?In.g.getResponseHeader("X-HTTP-Session-Id"):null;Cu&&(v.ya=Cu,qe(v.I,v.D,Cu))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-c.F,g.j.info("Handshake RTT: "+g.R+"ms")),v=g;var q=c;if(v.qa=Eu(v,v.J?v.ia:null,v.W),q.K){Bd(v.h,q);var je=q,St=v.L;St&&(je.I=St),je.B&&(cu(je),qo(je)),v.g=q}else yu(v);0<g.i.length&&da(g)}else Re[0]!="stop"&&Re[0]!="close"||_r(g,7);else g.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?_r(g,7):ua(g):Re[0]!="noop"&&g.l&&g.l.ta(Re),g.v=0)}}Bo(4)}catch{}}var Ld=class{constructor(c,f){this.g=c,this.map=f}};function Vd(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ud(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function jd(c){return c.h?1:c.g?c.g.size:0}function lu(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function du(c,f){c.g?c.g.add(f):c.h=f}function Bd(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}Vd.prototype.cancel=function(){if(this.i=$d(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function $d(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let f=c.i;for(let g of c.g.values())f=f.concat(g.D);return f}return F(c.i)}function Hd(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var f=[],g=c.length,v=0;v<g;v++)f.push(c[v]);return f}f=[],g=0;for(v in c)f[g++]=c[v];return f}function qg(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var f=[];c=c.length;for(var g=0;g<c;g++)f.push(g);return f}f=[],g=0;for(let v in c)f[g++]=v;return f}}}function hu(c,f){if(c.forEach&&typeof c.forEach=="function")c.forEach(f,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,f,void 0);else for(var g=qg(c),v=Hd(c),M=v.length,O=0;O<M;O++)f.call(void 0,v[O],g&&g[O],c)}var qd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zg(c,f){if(c){c=c.split("&");for(var g=0;g<c.length;g++){var v=c[g].indexOf("="),M=null;if(0<=v){var O=c[g].substring(0,v);M=c[g].substring(v+1)}else O=c[g];f(O,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function an(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof an){this.h=c.h,oa(this,c.j),this.o=c.o,this.g=c.g,zi(this,c.s),this.l=c.l;var f=c.i,g=new Ko;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),fu(this,g),this.m=c.m}else c&&(f=String(c).match(qd))?(this.h=!1,oa(this,f[1]||"",!0),this.o=Go(f[2]||""),this.g=Go(f[3]||"",!0),zi(this,f[4]),this.l=Go(f[5]||"",!0),fu(this,f[6]||"",!0),this.m=Go(f[7]||"")):(this.h=!1,this.i=new Ko(null,this.h))}an.prototype.toString=function(){var c=[],f=this.j;f&&c.push(Wo(f,zd,!0),":");var g=this.g;return(g||f=="file")&&(c.push("//"),(f=this.o)&&c.push(Wo(f,zd,!0),"@"),c.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&c.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(Wo(g,g.charAt(0)=="/"?Wg:Gi,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",Wo(g,Wd)),c.join("")};function Nn(c){return new an(c)}function oa(c,f,g){c.j=g?Go(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function zi(c,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);c.s=f}else c.s=null}function fu(c,f,g){f instanceof Ko?(c.i=f,Kg(c.i,c.h)):(g||(f=Wo(f,Gd)),c.i=new Ko(f,c.h))}function qe(c,f,g){c.i.set(f,g)}function sa(c){return qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Go(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Wo(c,f,g){return typeof c=="string"?(c=encodeURI(c).replace(f,Gg),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Gg(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var zd=/[#\/\?@]/g,Gi=/[#\?:]/g,Wg=/[#\?]/g,Gd=/[#\?@]/g,Wd=/#/g;function Ko(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function vr(c){c.g||(c.g=new Map,c.h=0,c.i&&zg(c.i,function(f,g){c.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=Ko.prototype,t.add=function(c,f){vr(this),this.i=null,c=Wi(this,c);var g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(f),this.h+=1,this};function Kd(c,f){vr(c),f=Wi(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function Qd(c,f){return vr(c),f=Wi(c,f),c.g.has(f)}t.forEach=function(c,f){vr(this),this.g.forEach(function(g,v){g.forEach(function(M){c.call(f,M,v,this)},this)},this)},t.na=function(){vr(this);let c=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let v=0;v<f.length;v++){let M=c[v];for(let O=0;O<M.length;O++)g.push(f[v])}return g},t.V=function(c){vr(this);let f=[];if(typeof c=="string")Qd(this,c)&&(f=f.concat(this.g.get(Wi(this,c))));else{c=Array.from(this.g.values());for(let g=0;g<c.length;g++)f=f.concat(c[g])}return f},t.set=function(c,f){return vr(this),this.i=null,c=Wi(this,c),Qd(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},t.get=function(c,f){return c?(c=this.V(c),0<c.length?String(c[0]):f):f};function Yd(c,f,g){Kd(c,f),0<g.length&&(c.i=null,c.g.set(Wi(c,f),F(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var v=f[g];let O=encodeURIComponent(String(v)),q=this.V(v);for(v=0;v<q.length;v++){var M=O;q[v]!==""&&(M+="="+encodeURIComponent(String(q[v]))),c.push(M)}}return this.i=c.join("&")};function Wi(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function Kg(c,f){f&&!c.j&&(vr(c),c.i=null,c.g.forEach(function(g,v){var M=v.toLowerCase();v!=M&&(Kd(this,v),Yd(this,M,g))},c)),c.j=f}function Ki(c,f){let g=new Ho;if(a.Image){let v=new Image;v.onload=E(wr,g,"TestLoadImage: loaded",!0,f,v),v.onerror=E(wr,g,"TestLoadImage: error",!1,f,v),v.onabort=E(wr,g,"TestLoadImage: abort",!1,f,v),v.ontimeout=E(wr,g,"TestLoadImage: timeout",!1,f,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=c}else f(!1)}function Qg(c,f){let g=new Ho,v=new AbortController,M=setTimeout(()=>{v.abort(),wr(g,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:v.signal}).then(O=>{clearTimeout(M),O.ok?wr(g,"TestPingServer: ok",!0,f):wr(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(M),wr(g,"TestPingServer: error",!1,f)})}function wr(c,f,g,v,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),v(g)}catch{}}function Zd(){this.g=new Vg}function Yg(c,f,g){let v=g||"";try{hu(c,function(M,O){let q=M;d(M)&&(q=ru(M)),f.push(v+O+"="+encodeURIComponent(q))})}catch(M){throw f.push(v+"type="+encodeURIComponent("_badmap")),M}}function cn(c){this.l=c.Ub||null,this.j=c.eb||!1}x(cn,Kn),cn.prototype.g=function(){return new aa(this.l,this.j)},cn.prototype.i=function(c){return function(){return c}}({});function aa(c,f){yt.call(this),this.D=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(aa,yt),t=aa.prototype,t.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=f,this.readyState=1,Qo(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(f.body=c),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yn(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qo(this)),this.g&&(this.readyState=3,Qo(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;pu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function pu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?Yn(this):Qo(this),this.readyState==3&&pu(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Yn(this))},t.Qa=function(c){this.g&&(this.response=c,Yn(this))},t.ga=function(){this.g&&Yn(this)};function Yn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Qo(c)}t.setRequestHeader=function(c,f){this.u.append(c,f)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=f.next();return c.join(`\r
`)};function Qo(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(aa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Jd(c){let f="";return ie(c,function(g,v){f+=v,f+=":",f+=g,f+=`\r
`}),f}function mu(c,f,g){e:{for(v in g){var v=!1;break e}v=!0}v||(g=Jd(g),typeof c=="string"?g!=null&&encodeURIComponent(String(g)):qe(c,f,g))}function Ye(c){yt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Ye,yt);var Qi=/^https?$/i,Zg=["POST","PUT"];t=Ye.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,f,g,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():su.g(),this.v=this.o?Ad(this.o):Ad(su),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(O){Xd(this,O);return}if(c=g||"",g=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var M in v)g.set(M,v[M]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let O of v.keys())g.set(O,v.get(O));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(g.keys()).find(O=>O.toLowerCase()=="content-type"),M=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Zg,f,void 0))||v||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[O,q]of g)this.g.setRequestHeader(O,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nh(this),this.u=!0,this.g.send(c),this.u=!1}catch(O){Xd(this,O)}};function Xd(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.m=5,eh(c),ca(c)}function eh(c){c.A||(c.A=!0,Nt(c,"complete"),Nt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Nt(this,"complete"),Nt(this,"abort"),ca(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ca(this,!0)),Ye.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?th(this):this.bb())},t.bb=function(){th(this)};function th(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Zn(c)!=4||c.Z()!=2)){if(c.u&&Zn(c)==4)jt(c.Ea,0,c);else if(Nt(c,"readystatechange"),Zn(c)==4){c.h=!1;try{let q=c.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var v;if(v=q===0){var M=String(c.D).match(qd)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),v=!Qi.test(M?M.toLowerCase():"")}g=v}if(g)Nt(c,"complete"),Nt(c,"success");else{c.m=6;try{var O=2<Zn(c)?c.g.statusText:""}catch{O=""}c.l=O+" ["+c.Z()+"]",eh(c)}}finally{ca(c)}}}}function ca(c,f){if(c.g){nh(c);let g=c.g,v=c.v[0]?()=>{}:null;c.g=null,c.v=null,f||Nt(c,"ready");try{g.onreadystatechange=v}catch{}}}function nh(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Zn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Zn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),Lg(f)}};function rh(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Jg(c){let f={};c=(c.g&&2<=Zn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<c.length;v++){if(Z(c[v]))continue;var g=S(c[v]);let M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();let O=f[M]||[];f[M]=O,O.push(g)}D(f,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yo(c,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||f}function Zo(c){this.Aa=0,this.i=[],this.j=new Ho,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yo("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yo("baseRetryDelayMs",5e3,c),this.cb=Yo("retryDelaySeedMs",1e4,c),this.Wa=Yo("forwardChannelMaxRetries",2,c),this.wa=Yo("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Vd(c&&c.concurrentRequestLimit),this.Da=new Zd,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Zo.prototype,t.la=8,t.G=1,t.connect=function(c,f,g,v){At(0),this.W=c,this.H=f||{},g&&v!==void 0&&(this.H.OSID=g,this.H.OAID=v),this.F=this.X,this.I=Eu(this,null,this.W),da(this)};function ua(c){if(ih(c),c.G==3){var f=c.U++,g=Nn(c.I);if(qe(g,"SID",c.K),qe(g,"RID",f),qe(g,"TYPE","terminate"),Jr(c,g),f=new Mn(c,c.j,f),f.L=2,f.v=sa(Nn(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=f.v,g=!0),g||(f.g=Iu(f.j,null),f.g.ea(f.v)),f.F=Date.now(),qo(f)}_u(c)}function la(c){c.g&&(Yi(c),c.g.cancel(),c.g=null)}function ih(c){la(c),c.u&&(a.clearTimeout(c.u),c.u=null),Xo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function da(c){if(!Ud(c.h)&&!c.s){c.s=!0;var f=c.Ga;Oi||wn(),Zr||(Oi(),Zr=!0),Fi.add(f,c),c.B=0}}function oh(c,f){return jd(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=f.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=$o(w(c.Ga,c,f),wu(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let M=new Mn(this,this.j,c),O=this.o;if(this.S&&(O?(O=I(O),A(O,this.S)):O=this.S),this.m!==null||this.O||(M.H=O,O=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var v=this.i[g];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(f+=v,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=gu(this,M,f),g=Nn(this.I),qe(g,"RID",c),qe(g,"CVER",22),this.D&&qe(g,"X-HTTP-Session-Id",this.D),Jr(this,g),O&&(this.O?f="headers="+encodeURIComponent(String(Jd(O)))+"&"+f:this.m&&mu(g,this.m,O)),du(this.h,M),this.Ua&&qe(g,"TYPE","init"),this.P?(qe(g,"$req",f),qe(g,"SID","null"),M.T=!0,Qe(M,g,null)):Qe(M,g,f),this.G=2}}else this.G==3&&(c?sh(this,c):this.i.length==0||Ud(this.h)||sh(this))};function sh(c,f){var g;f?g=f.l:g=c.U++;let v=Nn(c.I);qe(v,"SID",c.K),qe(v,"RID",g),qe(v,"AID",c.T),Jr(c,v),c.m&&c.o&&mu(v,c.m,c.o),g=new Mn(c,c.j,g,c.B+1),c.m===null&&(g.H=c.o),f&&(c.i=f.D.concat(c.i)),f=gu(c,g,1e3),g.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),du(c.h,g),Qe(g,v,f)}function Jr(c,f){c.H&&ie(c.H,function(g,v){qe(f,v,g)}),c.l&&hu({},function(g,v){qe(f,v,g)})}function gu(c,f,g){g=Math.min(c.i.length,g);var v=c.l?w(c.l.Na,c.l,c):null;e:{var M=c.i;let O=-1;for(;;){let q=["count="+g];O==-1?0<g?(O=M[0].g,q.push("ofs="+O)):O=0:q.push("ofs="+O);let je=!0;for(let St=0;St<g;St++){let Re=M[St].g,Pt=M[St].map;if(Re-=O,0>Re)O=Math.max(0,M[St].g-100),je=!1;else try{Yg(Pt,q,"req"+Re+"_")}catch{v&&v(Pt)}}if(je){v=q.join("&");break e}}}return c=c.i.splice(0,g),f.D=c,v}function yu(c){if(!c.g&&!c.u){c.Y=1;var f=c.Fa;Oi||wn(),Zr||(Oi(),Zr=!0),Fi.add(f,c),c.v=0}}function Jo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=$o(w(c.Fa,c),wu(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,ah(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=$o(w(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,At(10),la(this),ah(this))};function Yi(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function ah(c){c.g=new Mn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var f=Nn(c.qa);qe(f,"RID","rpc"),qe(f,"SID",c.K),qe(f,"AID",c.T),qe(f,"CI",c.F?"0":"1"),!c.F&&c.ja&&qe(f,"TO",c.ja),qe(f,"TYPE","xmlhttp"),Jr(c,f),c.m&&c.o&&mu(f,c.m,c.o),c.L&&(c.g.I=c.L);var g=c.g;c=c.ia,g.L=1,g.v=sa(Nn(f)),g.m=null,g.P=!0,kd(g,c)}t.Za=function(){this.C!=null&&(this.C=null,la(this),Jo(this),At(19))};function Xo(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function vu(c,f){var g=null;if(c.g==f){Xo(c),Yi(c),c.g=null;var v=2}else if(lu(c.h,f))g=f.D,Bd(c.h,f),v=1;else return;if(c.G!=0){if(f.o)if(v==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var M=c.B;v=na(),Nt(v,new Nd(v,g)),da(c)}else yu(c);else if(M=f.s,M==3||M==0&&0<f.X||!(v==1&&oh(c,f)||v==2&&Jo(c)))switch(g&&0<g.length&&(f=c.h,f.i=f.i.concat(g)),M){case 1:_r(c,5);break;case 4:_r(c,10);break;case 3:_r(c,6);break;default:_r(c,2)}}}function wu(c,f){let g=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(g*=2),g*f}function _r(c,f){if(c.j.info("Error code "+f),f==2){var g=w(c.fb,c),v=c.Xa;let M=!v;v=new an(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||oa(v,"https"),sa(v),M?Ki(v.toString(),g):Qg(v.toString(),g)}else At(2);c.G=0,c.l&&c.l.sa(f),_u(c),ih(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function _u(c){if(c.G=0,c.ka=[],c.l){let f=$d(c.h);(f.length!=0||c.i.length!=0)&&(N(c.ka,f),N(c.ka,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.ra()}}function Eu(c,f,g){var v=g instanceof an?Nn(g):new an(g);if(v.g!="")f&&(v.g=f+"."+v.g),zi(v,v.s);else{var M=a.location;v=M.protocol,f=f?f+"."+M.hostname:M.hostname,M=+M.port;var O=new an(null);v&&oa(O,v),f&&(O.g=f),M&&zi(O,M),g&&(O.l=g),v=O}return g=c.D,f=c.ya,g&&f&&qe(v,g,f),qe(v,"VER",c.la),Jr(c,v),v}function Iu(c,f,g){if(f&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Ca&&!c.pa?new Ye(new cn({eb:g})):new Ye(c.pa),f.Ha(c.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function bu(){}t=bu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function es(){}es.prototype.g=function(c,f){return new vt(c,f)};function vt(c,f){yt.call(this),this.g=new Zo(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(c?c["X-WebChannel-Client-Profile"]=f.va:c={"X-WebChannel-Client-Profile":f.va}),this.g.S=c,(c=f&&f.Sb)&&!Z(c)&&(this.g.m=c),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!Z(f)&&(this.g.D=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new Zi(this)}x(vt,yt),vt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vt.prototype.close=function(){ua(this.g)},vt.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.u&&(g={},g.__data__=ru(c),c=g);f.i.push(new Ld(f.Ya++,c)),f.G==3&&da(f)},vt.prototype.N=function(){this.g.l=null,delete this.j,ua(this.g),delete this.g,vt.aa.N.call(this)};function ch(c){iu.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(let g in f){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}x(ch,iu);function uh(){ou.call(this),this.status=1}x(uh,ou);function Zi(c){this.g=c}x(Zi,bu),Zi.prototype.ua=function(){Nt(this.g,"a")},Zi.prototype.ta=function(c){Nt(this.g,new ch(c))},Zi.prototype.sa=function(c){Nt(this.g,new uh)},Zi.prototype.ra=function(){Nt(this.g,"b")},es.prototype.createWebChannel=es.prototype.g,vt.prototype.send=vt.prototype.o,vt.prototype.open=vt.prototype.m,vt.prototype.close=vt.prototype.close,LE=Ai.createWebChannelTransport=function(){return new es},FE=Ai.getStatEventTarget=function(){return na()},OE=Ai.Event=Qn,dm=Ai.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ra.NO_ERROR=0,ra.TIMEOUT=8,ra.HTTP_ERROR=6,Ll=Ai.ErrorCode=ra,Pd.COMPLETE="complete",kE=Ai.EventType=Pd,Sd.EventType=jo,jo.OPEN="a",jo.CLOSE="b",jo.ERROR="c",jo.MESSAGE="d",yt.prototype.listen=yt.prototype.K,vc=Ai.WebChannel=Sd,yq=Ai.FetchXmlHttpFactory=cn,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,PE=Ai.XhrIo=Ye}).apply(typeof lm<"u"?lm:typeof self<"u"?self:typeof window<"u"?window:{});var px="@firebase/firestore";var Vt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");var Uc="10.14.0";var js=new bo("@firebase/firestore");function Vl(){return js.logLevel}function te(t,...e){if(js.logLevel<=Ae.DEBUG){let n=e.map(_b);js.debug(`Firestore (${Uc}): ${t}`,...n)}}function Si(t,...e){if(js.logLevel<=Ae.ERROR){let n=e.map(_b);js.error(`Firestore (${Uc}): ${t}`,...n)}}function Tc(t,...e){if(js.logLevel<=Ae.WARN){let n=e.map(_b);js.warn(`Firestore (${Uc}): ${t}`,...n)}}function _b(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ue(t="Unexpected state"){let e=`FIRESTORE (${Uc}) INTERNAL ASSERTION FAILED: `+t;throw Si(e),new Error(e)}function He(t,e){t||ue()}function he(t,e){return t}var V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},X=class extends on{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ur=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var gm=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},$E=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vt.UNAUTHENTICATED))}shutdown(){}},HE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},qE=class{constructor(e){this.t=e,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ur,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>b(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ur)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string"),new gm(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string"),new Vt(e)}},zE=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},GE=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new zE(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},WE=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},KE=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){He(this.o===void 0);let r=o=>{o.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,te("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string"),this.R=n.token,new WE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function vq(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var ym=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=vq(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function Le(t,e){return t<e?-1:t>e?1:0}function Dc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var $t=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var me=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new $t(0,0))}static max(){return new t(new $t(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var vm=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ue(),r===void 0?r=e.length-n:r>e.length-n&&ue(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},it=class t extends vm{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new X(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},wq=/^[_a-zA-Z][_a-zA-Z0-9]*$/,xn=class t extends vm{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return wq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new X(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new X(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new X(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new X(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var oe=class t{constructor(e){this.path=e}static fromPath(e){return new t(it.fromString(e))}static fromName(e){return new t(it.fromString(e).popFirst(5))}static empty(){return new t(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new it(e.slice()))}};var QE=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};QE.UNKNOWN_ID=-1;function _q(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=me.fromTimestamp(r===1e9?new $t(n+1,0):new $t(n,r));return new Bs(i,oe.empty(),e)}function Eq(t){return new Bs(t.readTime,t.key,-1)}var Bs=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(me.min(),oe.empty(),-1)}static max(){return new t(me.max(),oe.empty(),-1)}};function Iq(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}var bq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",YE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function nd(t){return b(this,null,function*(){if(t.code!==V.FAILED_PRECONDITION||t.message!==bq)throw t;te("LocalStore","Unexpectedly lost primary lease")})}var H=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let d=u;n(e[d]).next(p=>{s[d]=p,++a,a===o&&r(s)},p=>i(p))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function Cq(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function rd(t){return t.name==="IndexedDbTransactionError"}var Kx=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Ym(t){return t==null}function ql(t){return t===0&&1/t==-1/0}function Tq(t){return typeof t=="number"&&Number.isInteger(t)&&!ql(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Dq=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],DX=[...Dq,"documentOverlays"],Aq=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Sq=Aq,Rq=[...Sq,"indexConfiguration","indexState","indexEntries"];var AX=[...Rq,"globals"];function mx(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ks(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Qx(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ut=class t{constructor(e,n){this.comparator=e,this.root=n||$r.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$r.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$r.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ic(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ic(this.root,e,this.comparator,!0)}},Ic=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},$r=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ue();let e=this.left.check();if(e!==this.right.check())throw ue();return e+(this.isRed()?0:1)}};$r.EMPTY=null,$r.RED=!0,$r.BLACK=!1;$r.EMPTY=new class{constructor(){this.size=0}get key(){throw ue()}get value(){throw ue()}get color(){throw ue()}get left(){throw ue()}get right(){throw ue()}copy(e,n,r,i,o){return this}insert(e,n,r){return new $r(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Yt=class t{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wm(this.data.getIterator())}getIteratorFrom(e){return new wm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},wm=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Hn=class t{constructor(e){this.fields=e,e.sort(xn.comparator)}static empty(){return new t([])}unionWith(e){let n=new Yt(xn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Dc(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var _m=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Zt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new _m("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Zt.EMPTY_BYTE_STRING=new Zt("");var xq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ri(t){if(He(!!t),typeof t=="string"){let e=0,n=xq.exec(t);if(He(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:et(t.seconds),nanos:et(t.nanos)}}function et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function No(t){return typeof t=="string"?Zt.fromBase64String(t):Zt.fromUint8Array(t)}function Eb(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ib(t){let e=t.mapValue.fields.__previous_value__;return Eb(e)?Ib(e):e}function zl(t){let e=Ri(t.mapValue.fields.__local_write_time__.timestampValue);return new $t(e.seconds,e.nanos)}var ZE=class{constructor(e,n,r,i,o,s,a,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=d}},Em=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var hm={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function $s(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Eb(t)?4:Zx(t)?9007199254740991:Yx(t)?10:11:ue()}function zr(t,e){if(t===e)return!0;let n=$s(t);if(n!==$s(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zl(t).isEqual(zl(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Ri(i.timestampValue),a=Ri(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return No(i.bytesValue).isEqual(No(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return et(i.geoPointValue.latitude)===et(o.geoPointValue.latitude)&&et(i.geoPointValue.longitude)===et(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return et(i.integerValue)===et(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=et(i.doubleValue),a=et(o.doubleValue);return s===a?ql(s)===ql(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Dc(t.arrayValue.values||[],e.arrayValue.values||[],zr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(mx(s)!==mx(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!zr(s[u],a[u])))return!1;return!0}(t,e);default:return ue()}}function Gl(t,e){return(t.values||[]).find(n=>zr(n,e))!==void 0}function Ac(t,e){if(t===e)return 0;let n=$s(t),r=$s(e);if(n!==r)return Le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=et(o.integerValue||o.doubleValue),u=et(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return gx(t.timestampValue,e.timestampValue);case 4:return gx(zl(t),zl(e));case 5:return Le(t.stringValue,e.stringValue);case 6:return function(o,s){let a=No(o),u=No(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let d=0;d<a.length&&d<u.length;d++){let p=Le(a[d],u[d]);if(p!==0)return p}return Le(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Le(et(o.latitude),et(s.latitude));return a!==0?a:Le(et(o.longitude),et(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return yx(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,d,p;let m=o.fields||{},w=s.fields||{},E=(a=m.value)===null||a===void 0?void 0:a.arrayValue,x=(u=w.value)===null||u===void 0?void 0:u.arrayValue,F=Le(((d=E?.values)===null||d===void 0?void 0:d.length)||0,((p=x?.values)===null||p===void 0?void 0:p.length)||0);return F!==0?F:yx(E,x)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===hm.mapValue&&s===hm.mapValue)return 0;if(o===hm.mapValue)return 1;if(s===hm.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),d=s.fields||{},p=Object.keys(d);u.sort(),p.sort();for(let m=0;m<u.length&&m<p.length;++m){let w=Le(u[m],p[m]);if(w!==0)return w;let E=Ac(a[u[m]],d[p[m]]);if(E!==0)return E}return Le(u.length,p.length)}(t.mapValue,e.mapValue);default:throw ue()}}function gx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);let n=Ri(t),r=Ri(e),i=Le(n.seconds,r.seconds);return i!==0?i:Le(n.nanos,r.nanos)}function yx(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Ac(n[i],r[i]);if(o)return o}return Le(n.length,r.length)}function Sc(t){return JE(t)}function JE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Ri(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return No(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=JE(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${JE(n.fields[s])}`;return i+"}"}(t.mapValue):ue()}function vx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function XE(t){return!!t&&"integerValue"in t}function bb(t){return!!t&&"arrayValue"in t}function wx(t){return!!t&&"nullValue"in t}function _x(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pm(t){return!!t&&"mapValue"in t}function Yx(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function jl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ks(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=jl(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Zx(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Rn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!pm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jl(n)}setAll(e){let n=xn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=jl(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());pm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];pm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ks(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(jl(this.value))}};function Jx(t){let e=[];return Ks(t.fields,(n,r)=>{let i=new xn([n]);if(pm(r)){let o=Jx(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Hn(e)}var lr=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,me.min(),me.min(),me.min(),Rn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,me.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,me.min(),me.min(),Rn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,me.min(),me.min(),Rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Rc=class{constructor(e,n){this.position=e,this.inclusive=n}};function Ex(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=oe.comparator(oe.fromName(s.referenceValue),n.key):r=Ac(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ix(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!zr(t.position[n],e.position[n]))return!1;return!0}var xc=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Mq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Im=class{},Dt=class t extends Im{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new tI(e,n,r):n==="array-contains"?new iI(e,r):n==="in"?new oI(e,r):n==="not-in"?new sI(e,r):n==="array-contains-any"?new aI(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new nI(e,r):new rI(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ac(n,this.value)):n!==null&&$s(this.value)===$s(n)&&this.matchesComparison(Ac(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},dr=class t extends Im{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return Xx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Xx(t){return t.op==="and"}function eM(t){return Nq(t)&&Xx(t)}function Nq(t){for(let e of t.filters)if(e instanceof dr)return!1;return!0}function eI(t){if(t instanceof Dt)return t.field.canonicalString()+t.op.toString()+Sc(t.value);if(eM(t))return t.filters.map(e=>eI(e)).join(",");{let e=t.filters.map(n=>eI(n)).join(",");return`${t.op}(${e})`}}function tM(t,e){return t instanceof Dt?function(r,i){return i instanceof Dt&&r.op===i.op&&r.field.isEqual(i.field)&&zr(r.value,i.value)}(t,e):t instanceof dr?function(r,i){return i instanceof dr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&tM(s,i.filters[a]),!0):!1}(t,e):void ue()}function nM(t){return t instanceof Dt?function(n){return`${n.field.canonicalString()} ${n.op} ${Sc(n.value)}`}(t):t instanceof dr?function(n){return n.op.toString()+" {"+n.getFilters().map(nM).join(" ,")+"}"}(t):"Filter"}var tI=class extends Dt{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){let n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}},nI=class extends Dt{constructor(e,n){super(e,"in",n),this.keys=rM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},rI=class extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=rM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function rM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}var iI=class extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return bb(n)&&Gl(n.arrayValue,this.value)}},oI=class extends Dt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Gl(this.value.arrayValue,n)}},sI=class extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Gl(this.value.arrayValue,n)}},aI=class extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!bb(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Gl(this.value.arrayValue,r))}};var cI=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function bx(t,e=null,n=[],r=[],i=null,o=null,s=null){return new cI(t,e,n,r,i,o,s)}function Cb(t){let e=he(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>eI(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Ym(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Sc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Sc(r)).join(",")),e.ue=n}return e.ue}function Tb(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Mq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!tM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ix(t.startAt,e.startAt)&&Ix(t.endAt,e.endAt)}function uI(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Hs=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function Pq(t,e,n,r,i,o,s,a){return new Hs(t,e,n,r,i,o,s,a)}function Db(t){return new Hs(t)}function Cx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iM(t){return t.collectionGroup!==null}function Bl(t){let e=he(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Yt(xn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new xc(o,r))}),n.has(xn.keyField().canonicalString())||e.ce.push(new xc(xn.keyField(),r))}return e.ce}function Hr(t){let e=he(t);return e.le||(e.le=kq(e,Bl(t))),e.le}function kq(t,e){if(t.limitType==="F")return bx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new xc(i.field,o)});let n=t.endAt?new Rc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Rc(t.startAt.position,t.startAt.inclusive):null;return bx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function lI(t,e){let n=t.filters.concat([e]);return new Hs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function dI(t,e,n){return new Hs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Zm(t,e){return Tb(Hr(t),Hr(e))&&t.limitType===e.limitType}function oM(t){return`${Cb(Hr(t))}|lt:${t.limitType}`}function wc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>nM(i)).join(", ")}]`),Ym(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Sc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Sc(i)).join(",")),`Target(${r})`}(Hr(t))}; limitType=${t.limitType})`}function Jm(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):oe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Bl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let d=Ex(s,a,u);return s.inclusive?d<=0:d<0}(r.startAt,Bl(r),i)||r.endAt&&!function(s,a,u){let d=Ex(s,a,u);return s.inclusive?d>=0:d>0}(r.endAt,Bl(r),i))}(t,e)}function Oq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function sM(t){return(e,n)=>{let r=!1;for(let i of Bl(t)){let o=Fq(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Fq(t,e,n){let r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),d=a.data.field(o);return u!==null&&d!==null?Ac(u,d):ue()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ue()}}var Po=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ks(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return Qx(this.inner)}size(){return this.innerSize}};var Lq=new ut(oe.comparator);function xi(){return Lq}var aM=new ut(oe.comparator);function Ul(...t){let e=aM;for(let n of t)e=e.insert(n.key,n);return e}function cM(t){let e=aM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ls(){return $l()}function uM(){return $l()}function $l(){return new Po(t=>t.toString(),(t,e)=>t.isEqual(e))}var Vq=new ut(oe.comparator),Uq=new Yt(oe.comparator);function Se(...t){let e=Uq;for(let n of t)e=e.add(n);return e}var jq=new Yt(Le);function Bq(){return jq}function Ab(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ql(e)?"-0":e}}function lM(t){return{integerValue:""+t}}function $q(t,e){return Tq(e)?lM(e):Ab(t,e)}var Mc=class{constructor(){this._=void 0}};function Hq(t,e,n){return t instanceof Nc?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Eb(o)&&(o=Ib(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof qs?hM(t,e):t instanceof zs?fM(t,e):function(i,o){let s=dM(i,o),a=Tx(s)+Tx(i.Pe);return XE(s)&&XE(i.Pe)?lM(a):Ab(i.serializer,a)}(t,e)}function qq(t,e,n){return t instanceof qs?hM(t,e):t instanceof zs?fM(t,e):n}function dM(t,e){return t instanceof Pc?function(r){return XE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Nc=class extends Mc{},qs=class extends Mc{constructor(e){super(),this.elements=e}};function hM(t,e){let n=pM(e);for(let r of t.elements)n.some(i=>zr(i,r))||n.push(r);return{arrayValue:{values:n}}}var zs=class extends Mc{constructor(e){super(),this.elements=e}};function fM(t,e){let n=pM(e);for(let r of t.elements)n=n.filter(i=>!zr(i,r));return{arrayValue:{values:n}}}var Pc=class extends Mc{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function Tx(t){return et(t.integerValue||t.doubleValue)}function pM(t){return bb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function zq(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof qs&&i instanceof qs||r instanceof zs&&i instanceof zs?Dc(r.elements,i.elements,zr):r instanceof Pc&&i instanceof Pc?zr(r.Pe,i.Pe):r instanceof Nc&&i instanceof Nc}(t.transform,e.transform)}var hI=class{constructor(e,n){this.version=e,this.transformResults=n}},xo=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function mm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var kc=class{};function mM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new bm(t.key,xo.none()):new Gs(t.key,t.data,xo.none());{let n=t.data,r=Rn.empty(),i=new Yt(xn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Gr(t.key,r,new Hn(i.toArray()),xo.none())}}function Gq(t,e,n){t instanceof Gs?function(i,o,s){let a=i.value.clone(),u=Ax(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Gr?function(i,o,s){if(!mm(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=Ax(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(gM(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Hl(t,e,n,r){return t instanceof Gs?function(o,s,a,u){if(!mm(o.precondition,s))return a;let d=o.value.clone(),p=Sx(o.fieldTransforms,u,s);return d.setAll(p),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Gr?function(o,s,a,u){if(!mm(o.precondition,s))return a;let d=Sx(o.fieldTransforms,u,s),p=s.data;return p.setAll(gM(o)),p.setAll(d),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(o,s,a){return mm(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function Wq(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=dM(r.transform,i||null);o!=null&&(n===null&&(n=Rn.empty()),n.set(r.field,o))}return n||null}function Dx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Dc(r,i,(o,s)=>zq(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Gs=class extends kc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Gr=class extends kc{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function gM(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function Ax(t,e,n){let r=new Map;He(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,qq(s,a,n[i]))}return r}function Sx(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,Hq(o,s,e))}return r}var bm=class extends kc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},fI=class extends kc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var pI=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&Gq(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Hl(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Hl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=uM();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=mM(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Se())}isEqual(e){return this.batchId===e.batchId&&Dc(this.mutations,e.mutations,(n,r)=>Dx(n,r))&&Dc(this.baseMutations,e.baseMutations,(n,r)=>Dx(n,r))}},mI=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){He(e.mutations.length===r.length);let i=function(){return Vq}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var gI=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var yI=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ct,Pe;function Kq(t){switch(t){default:return ue();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}function yM(t){if(t===void 0)return Si("GRPC error has no .code"),V.UNKNOWN;switch(t){case Ct.OK:return V.OK;case Ct.CANCELLED:return V.CANCELLED;case Ct.UNKNOWN:return V.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return V.INTERNAL;case Ct.UNAVAILABLE:return V.UNAVAILABLE;case Ct.UNAUTHENTICATED:return V.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case Ct.NOT_FOUND:return V.NOT_FOUND;case Ct.ALREADY_EXISTS:return V.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return V.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case Ct.ABORTED:return V.ABORTED;case Ct.OUT_OF_RANGE:return V.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return V.UNIMPLEMENTED;case Ct.DATA_LOSS:return V.DATA_LOSS;default:return ue()}}(Pe=Ct||(Ct={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";var Rx=null;function Qq(){return new TextEncoder}var Yq=new Ro([4294967295,4294967295],0);function xx(t){let e=Qq().encode(t),n=new NE;return n.update(e),new Uint8Array(n.digest())}function Mx(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ro([n,r],0),new Ro([i,o],0)]}var vI=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Vs(`Invalid padding: ${n}`);if(r<0)throw new Vs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vs(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Vs(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ro.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ro.fromNumber(r)));return i.compare(Yq)===1&&(i=new Ro([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=xx(e),[r,i]=Mx(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=xx(e),[r,i]=Mx(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Vs=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Cm=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Wl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(me.min(),i,new ut(Le),xi(),Se())}},Wl=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,Se(),Se(),Se())}};var bc=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Tm=class{constructor(e,n){this.targetId=e,this.me=n}},Dm=class{constructor(e,n,r=Zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Am=class{constructor(){this.fe=0,this.ge=Px(),this.pe=Zt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Se(),n=Se(),r=Se();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ue()}}),new Wl(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Px()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,He(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},wI=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=xi(),this.qe=Nx(),this.Qe=new ut(Le)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ue()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(uI(o))if(r===0){let s=new oe(o.path);this.Ue(n,s,lr.newNoDocument(s,me.min()))}else He(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);let d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}Rx?.et(function(p,m,w,E,x){var F,N,B,Z,z,ne;let ye={localCacheCount:p,existenceFilterCount:m.count,databaseId:w.database,projectId:w.projectId},ie=m.unchangedNames;return ie&&(ye.bloomFilter={applied:x===0,hashCount:(F=ie?.hashCount)!==null&&F!==void 0?F:0,bitmapLength:(Z=(B=(N=ie?.bits)===null||N===void 0?void 0:N.bitmap)===null||B===void 0?void 0:B.length)!==null&&Z!==void 0?Z:0,padding:(ne=(z=ie?.bits)===null||z===void 0?void 0:z.padding)!==null&&ne!==void 0?ne:0,mightContain:D=>{var I;return(I=E?.mightContain(D))!==null&&I!==void 0&&I}}),ye}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=No(r).toUint8Array()}catch(u){if(u instanceof _m)return Tc("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new vI(s,i,o)}catch(u){return Tc(u instanceof Vs?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&uI(a.target)){let u=new oe(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,lr.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=Se();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let d=this.Je(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new Cm(e,n,this.Qe,this.ke,r);return this.ke=xi(),this.qe=Nx(),this.Qe=new ut(Le),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Am,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Yt(Le),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Am),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function Nx(){return new ut(oe.comparator)}function Px(){return new ut(oe.comparator)}var Zq={asc:"ASCENDING",desc:"DESCENDING"},Jq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xq={and:"AND",or:"OR"},_I=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function EI(t,e){return t.useProto3Json||Ym(e)?e:{value:e}}function Sm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ez(t,e){return Sm(t,e.toTimestamp())}function qr(t){return He(!!t),me.fromTimestamp(function(n){let r=Ri(n);return new $t(r.seconds,r.nanos)}(t))}function Sb(t,e){return II(t,e).canonicalString()}function II(t,e){let n=function(i){return new it(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function wM(t){let e=it.fromString(t);return He(CM(e)),e}function bI(t,e){return Sb(t.databaseId,e.path)}function VE(t,e){let n=wM(e);if(n.get(1)!==t.databaseId.projectId)throw new X(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(EM(n))}function _M(t,e){return Sb(t.databaseId,e)}function tz(t){let e=wM(t);return e.length===4?it.emptyPath():EM(e)}function CI(t){return new it(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function EM(t){return He(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function kx(t,e,n){return{name:bI(t,e),fields:n.value.mapValue.fields}}function nz(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(d,p){return d.useProto3Json?(He(p===void 0||typeof p=="string"),Zt.fromBase64String(p||"")):(He(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Zt.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(d){let p=d.code===void 0?V.UNKNOWN:yM(d.code);return new X(p,d.message||"")}(s);n=new Dm(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=VE(t,r.document.name),o=qr(r.document.updateTime),s=r.document.createTime?qr(r.document.createTime):me.min(),a=new Rn({mapValue:{fields:r.document.fields}}),u=lr.newFoundDocument(i,o,s,a),d=r.targetIds||[],p=r.removedTargetIds||[];n=new bc(d,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=VE(t,r.document),o=r.readTime?qr(r.readTime):me.min(),s=lr.newNoDocument(i,o),a=r.removedTargetIds||[];n=new bc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=VE(t,r.document),o=r.removedTargetIds||[];n=new bc([],o,i,null)}else{if(!("filter"in e))return ue();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new yI(i,o),a=r.targetId;n=new Tm(a,s)}}return n}function rz(t,e){let n;if(e instanceof Gs)n={update:kx(t,e.key,e.value)};else if(e instanceof bm)n={delete:bI(t,e.key)};else if(e instanceof Gr)n={update:kx(t,e.key,e.data),updateMask:hz(e.fieldMask)};else{if(!(e instanceof fI))return ue();n={verify:bI(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Nc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof qs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof zs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Pc)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ue()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:ez(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ue()}(t,e.precondition)),n}function iz(t,e){return t&&t.length>0?(He(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?qr(i.updateTime):qr(o);return s.isEqual(me.min())&&(s=qr(o)),new hI(s,i.transformResults||[])}(n,e))):[]}function oz(t,e){return{documents:[_M(t,e.path)]}}function sz(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=_M(t,i);let o=function(d){if(d.length!==0)return bM(dr.create(d,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(d){if(d.length!==0)return d.map(p=>function(w){return{field:_c(w.field),direction:uz(w.dir)}}(p))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=EI(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:i}}function az(t){let e=tz(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){He(r===1);let p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=function(m){let w=IM(m);return w instanceof dr&&eM(w)?w.getFilters():[w]}(n.where));let s=[];n.orderBy&&(s=function(m){return m.map(w=>function(x){return new xc(Ec(x.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(w))}(n.orderBy));let a=null;n.limit&&(a=function(m){let w;return w=typeof m=="object"?m.value:m,Ym(w)?null:w}(n.limit));let u=null;n.startAt&&(u=function(m){let w=!!m.before,E=m.values||[];return new Rc(E,w)}(n.startAt));let d=null;return n.endAt&&(d=function(m){let w=!m.before,E=m.values||[];return new Rc(E,w)}(n.endAt)),Pq(e,i,s,o,a,"F",u,d)}function cz(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function IM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ec(n.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ec(n.unaryFilter.field);return Dt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ec(n.unaryFilter.field);return Dt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ec(n.unaryFilter.field);return Dt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ue()}}(t):t.fieldFilter!==void 0?function(n){return Dt.create(Ec(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ue()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return dr.create(n.compositeFilter.filters.map(r=>IM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ue()}}(n.compositeFilter.op))}(t):ue()}function uz(t){return Zq[t]}function lz(t){return Jq[t]}function dz(t){return Xq[t]}function _c(t){return{fieldPath:t.canonicalString()}}function Ec(t){return xn.fromServerFormat(t.fieldPath)}function bM(t){return t instanceof Dt?function(n){if(n.op==="=="){if(_x(n.value))return{unaryFilter:{field:_c(n.field),op:"IS_NAN"}};if(wx(n.value))return{unaryFilter:{field:_c(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_x(n.value))return{unaryFilter:{field:_c(n.field),op:"IS_NOT_NAN"}};if(wx(n.value))return{unaryFilter:{field:_c(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_c(n.field),op:lz(n.op),value:n.value}}}(t):t instanceof dr?function(n){let r=n.getFilters().map(i=>bM(i));return r.length===1?r[0]:{compositeFilter:{op:dz(n.op),filters:r}}}(t):ue()}function hz(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function CM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Kl=class t{constructor(e,n,r,i,o=me.min(),s=me.min(),a=Zt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var TI=class{constructor(e){this.ct=e}};function fz(t){let e=az({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dI(e,e.limit,"L"):e}var Rm=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(et(e.integerValue));else if("doubleValue"in e){let r=et(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),ql(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Ri(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(No(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?Zx(e)?this.dt(n,Number.MAX_SAFE_INTEGER):Yx(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ue()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(et(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),oe.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Rm.vt=new Rm;var DI=class{constructor(){this.un=new AI}addToCollectionParentIndex(e,n){return this.un.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(Bs.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(Bs.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}},AI=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Yt(it.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Yt(it.comparator)).toArray()}};var RX=new Uint8Array(0);var Br=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Br.DEFAULT_COLLECTION_PERCENTILE=10,Br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Br.DEFAULT=new Br(41943040,Br.DEFAULT_COLLECTION_PERCENTILE,Br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Br.DISABLED=new Br(-1,0,0);var Ql=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var SI=class{constructor(){this.changes=new Po(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,lr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var RI=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var xI=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Hl(r.mutation,i,Hn.empty(),$t.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Se()){let i=Ls();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ul();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Ls();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Se()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=xi(),s=$l(),a=function(){return $l()}();return n.forEach((u,d)=>{let p=r.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof Gr)?o=o.insert(d.key,d):p!==void 0?(s.set(d.key,p.mutation.getFieldMask()),Hl(p.mutation,d,p.mutation.getFieldMask(),$t.now())):s.set(d.key,Hn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((d,p)=>s.set(d,p)),n.forEach((d,p)=>{var m;return a.set(d,new RI(p,(m=s.get(d))!==null&&m!==void 0?m:null))}),a))}recalculateAndSaveOverlays(e,n){let r=$l(),i=new ut((s,a)=>s-a),o=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let d=n.get(u);if(d===null)return;let p=r.get(u)||Hn.empty();p=a.applyToLocalView(d,p),r.set(u,p);let m=(i.get(a.batchId)||Se()).add(u);i=i.insert(a.batchId,m)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),d=u.key,p=u.value,m=uM();p.forEach(w=>{if(!o.has(w)){let E=mM(n.get(w),r.get(w));E!==null&&m.set(w,E),o=o.add(w)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,m))}return H.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return oe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):H.resolve(Ls()),a=-1,u=o;return s.next(d=>H.forEach(d,(p,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),o.get(p)?H.resolve():this.remoteDocumentCache.getEntry(e,p).next(w=>{u=u.insert(p,w)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,u,d,Se())).next(p=>({batchId:a,changes:cM(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let i=Ul();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Ul();return this.indexManager.getCollectionParents(e,o).next(a=>H.forEach(a,u=>{let d=function(m,w){return new Hs(w,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(p=>{p.forEach((m,w)=>{s=s.insert(m,w)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,d)=>{let p=d.getKey();s.get(p)===null&&(s=s.insert(p,lr.newInvalidDocument(p)))});let a=Ul();return s.forEach((u,d)=>{let p=o.get(u);p!==void 0&&Hl(p.mutation,d,Hn.empty(),$t.now()),Jm(n,d)&&(a=a.insert(u,d))}),a})}};var MI=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return H.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:qr(i.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:fz(i.bundledQuery),readTime:qr(i.readTime)}}(n)),H.resolve()}};var NI=class{constructor(){this.overlays=new ut(oe.comparator),this.Ir=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ls();return H.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),H.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){let i=Ls(),o=n.length+1,s=new oe(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ut((d,p)=>d-p),s=this.overlays.getIterator();for(;s.hasNext();){let d=s.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let p=o.get(d.largestBatchId);p===null&&(p=Ls(),o=o.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}let a=Ls(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,p)=>a.set(d,p)),!(a.size()>=i)););return H.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new gI(n,r));let o=this.Ir.get(n);o===void 0&&(o=Se(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var PI=class{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}};var Yl=class{constructor(){this.Tr=new Yt(Tt.Er),this.dr=new Yt(Tt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Tt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Tt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new oe(new it([])),r=new Tt(n,e),i=new Tt(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new oe(new it([])),r=new Tt(n,e),i=new Tt(n,e+1),o=Se();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Tt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Tt=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return oe.comparator(e.key,n.key)||Le(e.wr,n.wr)}static Ar(e,n){return Le(e.wr,n.wr)||oe.comparator(e.key,n.key)}};var kI=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Yt(Tt.Er)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new pI(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new Tt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(s)}lookupMutationBatch(e,n){return H.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return H.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Tt(n,0),i=new Tt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),H.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Yt(Le);return n.forEach(i=>{let o=new Tt(i,0),s=new Tt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),H.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;oe.isDocumentKey(o)||(o=o.child(""));let s=new Tt(new oe(o),0),a=new Yt(Le);return this.br.forEachWhile(u=>{let d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(u.wr)),!0)},s),H.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){He(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return H.forEach(n.mutations,i=>{let o=new Tt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Tt(n,0),i=this.br.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var OI=class{constructor(e){this.Mr=e,this.docs=function(){return new ut(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():lr.newInvalidDocument(n))}getEntries(e,n){let r=xi();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():lr.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=xi(),s=n.path,a=new oe(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:d,value:{document:p}}=u.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||Iq(Eq(p),r)<=0||(i.has(p.key)||Jm(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return H.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ue()}Or(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new FI(this)}getSize(e){return H.resolve(this.size)}},FI=class extends SI{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var LI=class{constructor(e){this.persistence=e,this.Nr=new Po(n=>Cb(n),Tb),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Yl,this.targetCount=0,this.kr=Ql.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),H.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Ql(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Kn(n),H.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),H.waitFor(o).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),H.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),H.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.Br.containsKey(n))}};var VI=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Kx(0),this.Kr=!1,this.Kr=!0,this.$r=new PI,this.referenceDelegate=e(this),this.Ur=new LI(this),this.indexManager=new DI,this.remoteDocumentCache=function(i){return new OI(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new TI(n),this.Gr=new MI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new NI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new kI(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);let i=new UI(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return H.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},UI=class extends YE{constructor(e){super(),this.currentSequenceNumber=e}},jI=class t{constructor(e){this.persistence=e,this.Jr=new Yl,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw ue()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),H.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Xr,r=>{let i=oe.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,me.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return H.or([()=>H.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var BI=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Se(),i=Se();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var $I=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var HI=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return QS()?8:Cq(Lt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new $I;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Vl()<=Ae.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",wc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),H.resolve()):(Vl()<=Ae.DEBUG&&te("QueryEngine","Query:",wc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Vl()<=Ae.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",wc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hr(n))):H.resolve())}Yi(e,n){if(Cx(n))return H.resolve(null);let r=Hr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=dI(n,null,"F"),r=Hr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Se(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let d=this.ts(n,a);return this.ns(n,d,s,u.readTime)?this.Yi(e,dI(n,null,"F")):this.rs(e,d,n,u)}))})))}Zi(e,n,r,i){return Cx(n)||i.isEqual(me.min())?H.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?H.resolve(null):(Vl()<=Ae.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),wc(n)),this.rs(e,s,n,_q(i,-1)).next(a=>a))})}ts(e,n){let r=new Yt(sM(e));return n.forEach((i,o)=>{Jm(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Vl()<=Ae.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",wc(n)),this.Ji.getDocumentsMatchingQuery(e,n,Bs.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var qI=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new ut(Le),this._s=new Po(o=>Cb(o),Tb),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function pz(t,e,n,r){return new qI(t,e,n,r)}function TM(t,e){return b(this,null,function*(){let n=he(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=Se();for(let d of i){s.push(d.batchId);for(let p of d.mutations)u=u.add(p.key)}for(let d of o){a.push(d.batchId);for(let p of d.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next(d=>({hs:d,removedBatchIds:s,addedBatchIds:a}))})})})}function mz(t,e){let n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,d,p){let m=d.batch,w=m.keys(),E=H.resolve();return w.forEach(x=>{E=E.next(()=>p.getEntry(u,x)).next(F=>{let N=d.docVersions.get(x);He(N!==null),F.version.compareTo(N)<0&&(m.applyToRemoteDocument(F,d),F.isValidDocument()&&(F.setReadTime(d.commitVersion),p.addEntry(F)))})}),E.next(()=>a.mutationQueue.removeMutationBatch(u,m))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Se();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(u=u.add(a.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function DM(t){let e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function gz(t,e){let n=he(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((p,m)=>{let w=i.get(m);if(!w)return;a.push(n.Ur.removeMatchingKeys(o,p.removedDocuments,m).next(()=>n.Ur.addMatchingKeys(o,p.addedDocuments,m)));let E=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?E=E.withResumeToken(Zt.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):p.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(p.resumeToken,r)),i=i.insert(m,E),function(F,N,B){return F.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=3e8?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(w,E,p)&&a.push(n.Ur.updateTargetData(o,E))});let u=xi(),d=Se();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))}),a.push(yz(o,s,e.documentUpdates).next(p=>{u=p.Ps,d=p.Is})),!r.isEqual(me.min())){let p=n.Ur.getLastRemoteSnapshotVersion(o).next(m=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(p)}return H.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,d)).next(()=>u)}).then(o=>(n.os=i,o))}function yz(t,e,n){let r=Se(),i=Se();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=xi();return n.forEach((a,u)=>{let d=o.get(a);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(me.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function vz(t,e){let n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function wz(t,e){let n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,H.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Kl(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function zI(t,e,n){return b(this,null,function*(){let r=he(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!rd(s))throw s;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function Ox(t,e,n){let r=he(t),i=me.min(),o=Se();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,d,p){let m=he(u),w=m._s.get(p);return w!==void 0?H.resolve(m.os.get(w)):m.Ur.getTargetData(d,p)}(r,s,Hr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:me.min(),n?o:Se())).next(a=>(_z(r,Oq(e),a),{documents:a,Ts:o})))}function _z(t,e,n){let r=t.us.get(e)||me.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var xm=class{constructor(){this.activeTargetIds=Bq()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var GI=class{constructor(){this.so=new xm,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new xm,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var WI=class{_o(e){}shutdown(){}};var Mm=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var fm=null;function UE(){return fm===null?fm=function(){return 268435456+Math.round(2147483648*Math.random())}():fm++,"0x"+fm.toString(16)}var Ez={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var KI=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Qt="WebChannelConnection",QI=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=UE(),u=this.xo(n,r.toUriEncodedString());te("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,o,s),this.No(n,u,d,i).then(p=>(te("RestConnection",`Received RPC '${n}' ${a}: `,p),p),p=>{throw Tc("RestConnection",`RPC '${n}' ${a} failed with error: `,p,"url: ",u,"request:",i),p})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Uc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=Ez[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=UE();return new Promise((s,a)=>{let u=new PE;u.setWithCredentials(!0),u.listenOnce(kE.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ll.NO_ERROR:let p=u.getResponseJson();te(Qt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),s(p);break;case Ll.TIMEOUT:te(Qt,`RPC '${e}' ${o} timed out`),a(new X(V.DEADLINE_EXCEEDED,"Request time out"));break;case Ll.HTTP_ERROR:let m=u.getStatus();if(te(Qt,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let w=u.getResponseJson();Array.isArray(w)&&(w=w[0]);let E=w?.error;if(E&&E.status&&E.message){let x=function(N){let B=N.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(B)>=0?B:V.UNKNOWN}(E.status);a(new X(x,E.message))}else a(new X(V.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new X(V.UNAVAILABLE,"Connection failed."));break;default:ue()}}finally{te(Qt,`RPC '${e}' ${o} completed.`)}});let d=JSON.stringify(i);te(Qt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",d,r,15)})}Bo(e,n,r){let i=UE(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=LE(),a=FE(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let p=o.join("");te(Qt,`Creating RPC '${e}' stream ${i}: ${p}`,u);let m=s.createWebChannel(p,u),w=!1,E=!1,x=new KI({Io:N=>{E?te(Qt,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(w||(te(Qt,`Opening RPC '${e}' stream ${i} transport.`),m.open(),w=!0),te(Qt,`RPC '${e}' stream ${i} sending:`,N),m.send(N))},To:()=>m.close()}),F=(N,B,Z)=>{N.listen(B,z=>{try{Z(z)}catch(ne){setTimeout(()=>{throw ne},0)}})};return F(m,vc.EventType.OPEN,()=>{E||(te(Qt,`RPC '${e}' stream ${i} transport opened.`),x.yo())}),F(m,vc.EventType.CLOSE,()=>{E||(E=!0,te(Qt,`RPC '${e}' stream ${i} transport closed`),x.So())}),F(m,vc.EventType.ERROR,N=>{E||(E=!0,Tc(Qt,`RPC '${e}' stream ${i} transport errored:`,N),x.So(new X(V.UNAVAILABLE,"The operation could not be completed")))}),F(m,vc.EventType.MESSAGE,N=>{var B;if(!E){let Z=N.data[0];He(!!Z);let z=Z,ne=z.error||((B=z[0])===null||B===void 0?void 0:B.error);if(ne){te(Qt,`RPC '${e}' stream ${i} received error:`,ne);let ye=ne.status,ie=function(C){let A=Ct[C];if(A!==void 0)return yM(A)}(ye),D=ne.message;ie===void 0&&(ie=V.INTERNAL,D="Unknown error status: "+ye+" with message "+ne.message),E=!0,x.So(new X(ie,D)),m.close()}else te(Qt,`RPC '${e}' stream ${i} received:`,Z),x.bo(Z)}}),F(a,OE.STAT_EVENT,N=>{N.stat===dm.PROXY?te(Qt,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===dm.NOPROXY&&te(Qt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.wo()},0),x}};function jE(){return typeof document<"u"?document:null}function Xm(t){return new _I(t,!0)}var Nm=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Pm=class{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Nm(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return b(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return b(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return b(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(Si(n.toString()),Si("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new X(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>b(this,null,function*(){this.state=0,this.start()}))}I_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},YI=class extends Pm{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=nz(this.serializer,e),r=function(o){if(!("targetChange"in o))return me.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?me.min():s.readTime?qr(s.readTime):me.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=CI(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=uI(u)?{documents:oz(o,u)}:{query:sz(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=vM(o,s.resumeToken);let d=EI(o,s.expectedCount);d!==null&&(a.expectedCount=d)}else if(s.snapshotVersion.compareTo(me.min())>0){a.readTime=Sm(o,s.snapshotVersion.toTimestamp());let d=EI(o,s.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);let r=cz(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=CI(this.serializer),n.removeTarget=e,this.a_(n)}},ZI=class extends Pm{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return He(!!e.streamToken),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){He(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=iz(e.writeResults,e.commitTime),r=qr(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=CI(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>rz(this.serializer,r))};this.a_(n)}};var JI=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new X(V.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,II(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(V.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,II(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(V.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},XI=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Si(n),this.D_=!1):te("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var eb=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>b(this,null,function*(){Qs(this)&&(te("RemoteStore","Restarting streams for network reachability change."),yield function(u){return b(this,null,function*(){let d=he(u);d.L_.add(4),yield id(d),d.q_.set("Unknown"),d.L_.delete(4),yield eg(d)})}(this))}))}),this.q_=new XI(r,i)}};function eg(t){return b(this,null,function*(){if(Qs(t))for(let e of t.B_)yield e(!0)})}function id(t){return b(this,null,function*(){for(let e of t.B_)yield e(!1)})}function AM(t,e){let n=he(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Nb(n)?Mb(n):jc(n).r_()&&xb(n,e))}function Rb(t,e){let n=he(t),r=jc(n);n.N_.delete(e),r.r_()&&SM(n,e),n.N_.size===0&&(r.r_()?r.o_():Qs(n)&&n.q_.set("Unknown"))}function xb(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jc(t).A_(e)}function SM(t,e){t.Q_.xe(e),jc(t).R_(e)}function Mb(t){t.Q_=new wI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),jc(t).start(),t.q_.v_()}function Nb(t){return Qs(t)&&!jc(t).n_()&&t.N_.size>0}function Qs(t){return he(t).L_.size===0}function RM(t){t.Q_=void 0}function Iz(t){return b(this,null,function*(){t.q_.set("Online")})}function bz(t){return b(this,null,function*(){t.N_.forEach((e,n)=>{xb(t,e)})})}function Cz(t,e){return b(this,null,function*(){RM(t),Nb(t)?(t.q_.M_(e),Mb(t)):t.q_.set("Unknown")})}function Tz(t,e,n){return b(this,null,function*(){if(t.q_.set("Online"),e instanceof Dm&&e.state===2&&e.cause)try{yield function(i,o){return b(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield km(t,r)}else if(e instanceof bc?t.Q_.Ke(e):e instanceof Tm?t.Q_.He(e):t.Q_.We(e),!n.isEqual(me.min()))try{let r=yield DM(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){let p=o.N_.get(d);p&&o.N_.set(d,p.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,d)=>{let p=o.N_.get(u);if(!p)return;o.N_.set(u,p.withResumeToken(Zt.EMPTY_BYTE_STRING,p.snapshotVersion)),SM(o,u);let m=new Kl(p.target,u,d,p.sequenceNumber);xb(o,m)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){te("RemoteStore","Failed to raise snapshot:",r),yield km(t,r)}})}function km(t,e,n){return b(this,null,function*(){if(!rd(e))throw e;t.L_.add(1),yield id(t),t.q_.set("Offline"),n||(n=()=>DM(t.localStore)),t.asyncQueue.enqueueRetryable(()=>b(this,null,function*(){te("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield eg(t)}))})}function xM(t,e){return e().catch(n=>km(t,n,e))}function tg(t){return b(this,null,function*(){let e=he(t),n=ko(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Dz(e);)try{let i=yield vz(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,Az(e,i)}catch(i){yield km(e,i)}MM(e)&&NM(e)})}function Dz(t){return Qs(t)&&t.O_.length<10}function Az(t,e){t.O_.push(e);let n=ko(t);n.r_()&&n.V_&&n.m_(e.mutations)}function MM(t){return Qs(t)&&!ko(t).n_()&&t.O_.length>0}function NM(t){ko(t).start()}function Sz(t){return b(this,null,function*(){ko(t).p_()})}function Rz(t){return b(this,null,function*(){let e=ko(t);for(let n of t.O_)e.m_(n.mutations)})}function xz(t,e,n){return b(this,null,function*(){let r=t.O_.shift(),i=mI.from(r,e,n);yield xM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield tg(t)})}function Mz(t,e){return b(this,null,function*(){e&&ko(t).V_&&(yield function(r,i){return b(this,null,function*(){if(function(s){return Kq(s)&&s!==V.ABORTED}(i.code)){let o=r.O_.shift();ko(r).s_(),yield xM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield tg(r)}})}(t,e)),MM(t)&&NM(t)})}function Fx(t,e){return b(this,null,function*(){let n=he(t);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");let r=Qs(n);n.L_.add(3),yield id(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield eg(n)})}function Nz(t,e){return b(this,null,function*(){let n=he(t);e?(n.L_.delete(2),yield eg(n)):e||(n.L_.add(2),yield id(n),n.q_.set("Unknown"))})}function jc(t){return t.K_||(t.K_=function(n,r,i){let o=he(n);return o.w_(),new YI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Iz.bind(null,t),Ro:bz.bind(null,t),mo:Cz.bind(null,t),d_:Tz.bind(null,t)}),t.B_.push(e=>b(this,null,function*(){e?(t.K_.s_(),Nb(t)?Mb(t):t.q_.set("Unknown")):(yield t.K_.stop(),RM(t))}))),t.K_}function ko(t){return t.U_||(t.U_=function(n,r,i){let o=he(n);return o.w_(),new ZI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Sz.bind(null,t),mo:Mz.bind(null,t),f_:Rz.bind(null,t),g_:xz.bind(null,t)}),t.B_.push(e=>b(this,null,function*(){e?(t.U_.s_(),yield tg(t)):(yield t.U_.stop(),t.O_.length>0&&(te("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var tb=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Pb(t,e){if(Si("AsyncQueue",`${e}: ${t}`),rd(t))return new X(V.UNAVAILABLE,`${e}: ${t}`);throw t}var Om=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=Ul(),this.sortedSet=new ut(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Fm=class{constructor(){this.W_=new ut(oe.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ue():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Oc=class t{constructor(e,n,r,i,o,s,a,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Om.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var nb=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},rb=class{constructor(){this.queries=Lx(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=he(n),o=i.queries;i.queries=Lx(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new X(V.ABORTED,"Firestore shutting down"))}};function Lx(){return new Po(t=>oM(t),Zm)}function PM(t,e){return b(this,null,function*(){let n=he(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new nb,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=Pb(s,`Initialization of query '${wc(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&kb(n)})}function kM(t,e){return b(this,null,function*(){let n=he(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function Pz(t,e){let n=he(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&kb(n)}function kz(t,e,n){let r=he(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function kb(t){t.Y_.forEach(e=>{e.next()})}var ib,Vx;(Vx=ib||(ib={})).ea="default",Vx.Cache="cache";var Lm=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Oc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Oc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ib.Cache}};var Vm=class{constructor(e){this.key=e}},Um=class{constructor(e){this.key=e}},ob=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Se(),this.mutatedKeys=Se(),this.Aa=sM(e),this.Ra=new Om(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Fm,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,m)=>{let w=i.get(p),E=Jm(this.query,m)?m:null,x=!!w&&this.mutatedKeys.has(w.key),F=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations),N=!1;w&&E?w.data.isEqual(E.data)?x!==F&&(r.track({type:3,doc:E}),N=!0):this.ga(w,E)||(r.track({type:2,doc:E}),N=!0,(u&&this.Aa(E,u)>0||d&&this.Aa(E,d)<0)&&(a=!0)):!w&&E?(r.track({type:0,doc:E}),N=!0):w&&!E&&(r.track({type:1,doc:w}),N=!0,(u||d)&&(a=!0)),N&&(E?(s=s.add(E),o=F?o.add(p):o.delete(p)):(s=s.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let p=this.query.limitType==="F"?s.last():s.first();s=s.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((p,m)=>function(E,x){let F=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue()}};return F(E)-F(x)}(p.type,m.type)||this.Aa(p.doc,m.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,d=u!==this.Ea;return this.Ea=u,s.length!==0||d?{snapshot:new Oc(this.query,e.Ra,o,s,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Fm,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Se(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Um(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Vm(r))}),n}ba(e){this.Ta=e.Ts,this.da=Se();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Oc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},sb=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},ab=class{constructor(e){this.key=e,this.va=!1}},cb=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Po(a=>oM(a),Zm),this.Ma=new Map,this.xa=new Set,this.Oa=new ut(oe.comparator),this.Na=new Map,this.La=new Yl,this.Ba={},this.ka=new Map,this.qa=Ql.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function Oz(t,e,n=!0){return b(this,null,function*(){let r=jM(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield OM(r,e,n,!0),i})}function Fz(t,e){return b(this,null,function*(){let n=jM(t);yield OM(n,e,!0,!1)})}function OM(t,e,n,r){return b(this,null,function*(){let i=yield wz(t.localStore,Hr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield Lz(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&AM(t.remoteStore,i),a})}function Lz(t,e,n,r,i){return b(this,null,function*(){t.Ka=(m,w,E)=>function(F,N,B,Z){return b(this,null,function*(){let z=N.view.ma(B);z.ns&&(z=yield Ox(F.localStore,N.query,!1).then(({documents:D})=>N.view.ma(D,z)));let ne=Z&&Z.targetChanges.get(N.targetId),ye=Z&&Z.targetMismatches.get(N.targetId)!=null,ie=N.view.applyChanges(z,F.isPrimaryClient,ne,ye);return jx(F,N.targetId,ie.wa),ie.snapshot})}(t,m,w,E);let o=yield Ox(t.localStore,e,!0),s=new ob(e,o.Ts),a=s.ma(o.documents),u=Wl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=s.applyChanges(a,t.isPrimaryClient,u);jx(t,n,d.wa);let p=new sb(e,n,s);return t.Fa.set(e,p),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot})}function Vz(t,e,n){return b(this,null,function*(){let r=he(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Zm(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield zI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Rb(r.remoteStore,i.targetId),ub(r,i.targetId)}).catch(nd))):(ub(r,i.targetId),yield zI(r.localStore,i.targetId,!0))})}function Uz(t,e){return b(this,null,function*(){let n=he(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Rb(n.remoteStore,r.targetId))})}function jz(t,e,n){return b(this,null,function*(){let r=Wz(t);try{let i=yield function(s,a){let u=he(s),d=$t.now(),p=a.reduce((E,x)=>E.add(x.key),Se()),m,w;return u.persistence.runTransaction("Locally write mutations","readwrite",E=>{let x=xi(),F=Se();return u.cs.getEntries(E,p).next(N=>{x=N,x.forEach((B,Z)=>{Z.isValidDocument()||(F=F.add(B))})}).next(()=>u.localDocuments.getOverlayedDocuments(E,x)).next(N=>{m=N;let B=[];for(let Z of a){let z=Wq(Z,m.get(Z.key).overlayedDocument);z!=null&&B.push(new Gr(Z.key,z,Jx(z.value.mapValue),xo.exists(!0)))}return u.mutationQueue.addMutationBatch(E,d,B,a)}).next(N=>{w=N;let B=N.applyToLocalDocumentSet(m,F);return u.documentOverlayCache.saveOverlays(E,N.batchId,B)})}).then(()=>({batchId:w.batchId,changes:cM(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let d=s.Ba[s.currentUser.toKey()];d||(d=new ut(Le)),d=d.insert(a,u),s.Ba[s.currentUser.toKey()]=d}(r,i.batchId,n),yield od(r,i.changes),yield tg(r.remoteStore)}catch(i){let o=Pb(i,"Failed to persist write");n.reject(o)}})}function FM(t,e){return b(this,null,function*(){let n=he(t);try{let r=yield gz(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(He(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?He(s.va):i.removedDocuments.size>0&&(He(s.va),s.va=!1))}),yield od(n,r,e)}catch(r){yield nd(r)}})}function Ux(t,e,n){let r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=he(s);u.onlineState=a;let d=!1;u.queries.forEach((p,m)=>{for(let w of m.j_)w.Z_(a)&&(d=!0)}),d&&kb(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Bz(t,e,n){return b(this,null,function*(){let r=he(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new ut(oe.comparator);s=s.insert(o,lr.newNoDocument(o,me.min()));let a=Se().add(o),u=new Cm(me.min(),new Map,new ut(Le),s,a);yield FM(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),Ob(r)}else yield zI(r.localStore,e,!1).then(()=>ub(r,e,n)).catch(nd)})}function $z(t,e){return b(this,null,function*(){let n=he(t),r=e.batch.batchId;try{let i=yield mz(n.localStore,e);VM(n,r,null),LM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield od(n,i)}catch(i){yield nd(i)}})}function Hz(t,e,n){return b(this,null,function*(){let r=he(t);try{let i=yield function(s,a){let u=he(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return u.mutationQueue.lookupMutationBatch(d,a).next(m=>(He(m!==null),p=m.keys(),u.mutationQueue.removeMutationBatch(d,m))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,p,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>u.localDocuments.getDocuments(d,p))})}(r.localStore,e);VM(r,e,n),LM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield od(r,i)}catch(i){yield nd(i)}})}function LM(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function VM(t,e,n){let r=he(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function ub(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||UM(t,r)})}function UM(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(Rb(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Ob(t))}function jx(t,e,n){for(let r of n)r instanceof Vm?(t.La.addReference(r.key,e),qz(t,r)):r instanceof Um?(te("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||UM(t,r.key)):ue()}function qz(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(te("SyncEngine","New document in limbo: "+n),t.xa.add(r),Ob(t))}function Ob(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new oe(it.fromString(e)),r=t.qa.next();t.Na.set(r,new ab(n)),t.Oa=t.Oa.insert(n,r),AM(t.remoteStore,new Kl(Hr(Db(n.path)),r,"TargetPurposeLimboResolution",Kx.oe))}}function od(t,e,n){return b(this,null,function*(){let r=he(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(d=>{var p;if((d||n)&&r.isPrimaryClient){let m=d?!d.fromCache:(p=n?.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(d){i.push(d);let m=BI.Wi(u.targetId,d);o.push(m)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,d){return b(this,null,function*(){let p=he(u);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>H.forEach(d,w=>H.forEach(w.$i,E=>p.persistence.referenceDelegate.addReference(m,w.targetId,E)).next(()=>H.forEach(w.Ui,E=>p.persistence.referenceDelegate.removeReference(m,w.targetId,E)))))}catch(m){if(!rd(m))throw m;te("LocalStore","Failed to update sequence numbers: "+m)}for(let m of d){let w=m.targetId;if(!m.fromCache){let E=p.os.get(w),x=E.snapshotVersion,F=E.withLastLimboFreeSnapshotVersion(x);p.os=p.os.insert(w,F)}}})}(r.localStore,o))})}function zz(t,e){return b(this,null,function*(){let n=he(t);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());let r=yield TM(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new X(V.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield od(n,r.hs)}})}function Gz(t,e){let n=he(t),r=n.Na.get(e);if(r&&r.va)return Se().add(r.key);{let i=Se(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function jM(t){let e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=FM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Bz.bind(null,e),e.Ca.d_=Pz.bind(null,e.eventManager),e.Ca.$a=kz.bind(null,e.eventManager),e}function Wz(t){let e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$z.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Hz.bind(null,e),e}var Bx=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return b(this,null,function*(){this.serializer=Xm(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return pz(this.persistence,new HI,n.initialUser,this.serializer)}Ga(n){return new VI(jI.Zr,this.serializer)}Wa(n){return new GI}terminate(){return b(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var Kz=(()=>{class t{initialize(n,r){return b(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Ux(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=zz.bind(null,this.syncEngine),yield Nz(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new rb}()}createDatastore(n){let r=Xm(n.databaseInfo.databaseId),i=function(s){return new QI(s)}(n.databaseInfo);return function(s,a,u,d){return new JI(s,a,u,d)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new eb(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>Ux(this.syncEngine,r,0),function(){return Mm.D()?new Mm:new WI}())}createSyncEngine(n,r){return function(o,s,a,u,d,p,m){let w=new cb(o,s,a,u,d,p);return m&&(w.Qa=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return b(this,null,function*(){var n,r;yield function(o){return b(this,null,function*(){let s=he(o);te("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield id(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var jm=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Si("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var lb=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Vt.UNAUTHENTICATED,this.clientId=ym.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>b(this,null,function*(){te("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(te("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>b(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Pb(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function BE(t,e){return b(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>b(this,null,function*(){r.isEqual(i)||(yield TM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function $x(t,e){return b(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield Qz(t);te("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Fx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Fx(e.remoteStore,i)),t._onlineComponents=e})}function Qz(t){return b(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{yield BE(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===V.FAILED_PRECONDITION||i.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Tc("Error using user provided cache. Falling back to memory cache: "+n),yield BE(t,new Bx)}}else te("FirestoreClient","Using default OfflineComponentProvider"),yield BE(t,new Bx);return t._offlineComponents})}function BM(t){return b(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),yield $x(t,t._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),yield $x(t,new Kz))),t._onlineComponents})}function Yz(t){return BM(t).then(e=>e.syncEngine)}function $M(t){return b(this,null,function*(){let e=yield BM(t),n=e.eventManager;return n.onListen=Oz.bind(null,e.syncEngine),n.onUnlisten=Vz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Fz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Uz.bind(null,e.syncEngine),n})}function Zz(t,e,n={}){let r=new ur;return t.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return function(o,s,a,u,d){let p=new jm({next:w=>{p.Za(),s.enqueueAndForget(()=>kM(o,m));let E=w.docs.has(a);!E&&w.fromCache?d.reject(new X(V.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&w.fromCache&&u&&u.source==="server"?d.reject(new X(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(w)},error:w=>d.reject(w)}),m=new Lm(Db(a.path),p,{includeMetadataChanges:!0,_a:!0});return PM(o,m)}(yield $M(t),t.asyncQueue,e,n,r)})),r.promise}function Jz(t,e,n={}){let r=new ur;return t.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return function(o,s,a,u,d){let p=new jm({next:w=>{p.Za(),s.enqueueAndForget(()=>kM(o,m)),w.fromCache&&u.source==="server"?d.reject(new X(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(w)},error:w=>d.reject(w)}),m=new Lm(a,p,{includeMetadataChanges:!0,_a:!0});return PM(o,m)}(yield $M(t),t.asyncQueue,e,n,r)})),r.promise}function HM(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var Hx=new Map;function qM(t,e,n){if(!n)throw new X(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Xz(t,e,n,r){if(e===!0&&r===!0)throw new X(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function qx(t){if(!oe.isDocumentKey(t))throw new X(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function zx(t){if(oe.isDocumentKey(t))throw new X(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ng(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ue()}function Mi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=ng(t);throw new X(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Bm=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Xz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new X(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new X(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new X(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Fc=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bm(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $E;switch(r.type){case"firstParty":return new GE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return b(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=Hx.get(n);r&&(te("ComponentProvider","Removing Datastore"),Hx.delete(n),r.terminate())}(this),Promise.resolve()}};function zM(t,e,n,r={}){var i;let o=(t=Mi(t,Fc))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Tc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Vt.MOCK_USER;else{a=jp(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new X(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Vt(d)}t._authCredentials=new HE(new gm(a,u))}}var Lc=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},sn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Mo=class t extends Lc{constructor(e,n,r){super(e,n,Db(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new oe(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function GM(t,e,...n){if(t=Xe(t),qM("collection","path",e),t instanceof Fc){let r=it.fromString(e,...n);return zx(r),new Mo(t,null,r)}{if(!(t instanceof sn||t instanceof Mo))throw new X(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(it.fromString(e,...n));return zx(r),new Mo(t.firestore,null,r)}}function WM(t,e,...n){if(t=Xe(t),arguments.length===1&&(e=ym.newId()),qM("doc","path",e),t instanceof Fc){let r=it.fromString(e,...n);return qx(r),new sn(t,null,new oe(r))}{if(!(t instanceof sn||t instanceof Mo))throw new X(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(it.fromString(e,...n));return qx(r),new sn(t.firestore,t instanceof Mo?t.converter:null,new oe(r))}}var $m=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Nm(this,"async_queue_retry"),this.Vu=()=>{let r=jE();r&&te("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=jE();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=jE();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new ur;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return b(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!rd(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Si("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=tb.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ue()}verifyOperationInProgress(){}wu(){return b(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};var Ws=class extends Fc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new $m,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return b(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new $m(e),this._firestoreClient=void 0,yield e}})}};function KM(t,e){let n=typeof t=="object"?t:To(),r=typeof t=="string"?t:e||"(default)",i=As(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Up("firestore");o&&zM(i,...o)}return i}function Fb(t){if(t._terminated)throw new X(V.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||e3(t),t._firestoreClient}function e3(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,d,p){return new ZE(a,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,HM(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new lb(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var Zl=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Zt.fromBase64String(e))}catch(n){throw new X(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Vc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Jl=class{constructor(e){this._methodName=e}};var Xl=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}};var ed=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var t3=/^__.*__$/,db=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Gr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gs(e,this.data,n,this.fieldTransforms)}},Hm=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Gr(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function QM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue()}}var hb=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return zm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(QM(this.Cu)&&t3.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},fb=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Xm(e)}Qu(e,n,r,i=!1){return new hb({Cu:e,methodName:n,qu:r,path:xn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Lb(t){let e=t._freezeSettings(),n=Xm(t._databaseId);return new fb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function n3(t,e,n,r,i,o={}){let s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);Vb("Data must be an object, but it was:",s,r);let a=YM(r,s),u,d;if(o.merge)u=new Hn(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){let p=[];for(let m of o.mergeFields){let w=pb(e,m,n);if(!s.contains(w))throw new X(V.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);JM(p,w)||p.push(w)}u=new Hn(p),d=s.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,d=s.fieldTransforms;return new db(new Rn(a),u,d)}var qm=class t extends Jl{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function r3(t,e,n,r){let i=t.Qu(1,e,n);Vb("Data must be an object, but it was:",i,r);let o=[],s=Rn.empty();Ks(r,(u,d)=>{let p=Ub(e,u,n);d=Xe(d);let m=i.Nu(p);if(d instanceof qm)o.push(p);else{let w=sd(d,m);w!=null&&(o.push(p),s.set(p,w))}});let a=new Hn(o);return new Hm(s,a,i.fieldTransforms)}function i3(t,e,n,r,i,o){let s=t.Qu(1,e,n),a=[pb(e,r,n)],u=[i];if(o.length%2!=0)throw new X(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)a.push(pb(e,o[w])),u.push(o[w+1]);let d=[],p=Rn.empty();for(let w=a.length-1;w>=0;--w)if(!JM(d,a[w])){let E=a[w],x=u[w];x=Xe(x);let F=s.Nu(E);if(x instanceof qm)d.push(E);else{let N=sd(x,F);N!=null&&(d.push(E),p.set(E,N))}}let m=new Hn(d);return new Hm(p,m,s.fieldTransforms)}function o3(t,e,n,r=!1){return sd(n,t.Qu(r?4:3,e))}function sd(t,e){if(ZM(t=Xe(t)))return Vb("Unsupported field value:",e,t),YM(t,e);if(t instanceof Jl)return function(r,i){if(!QM(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=sd(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Xe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $q(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=$t.fromDate(r);return{timestampValue:Sm(i.serializer,o)}}if(r instanceof $t){let o=new $t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sm(i.serializer,o)}}if(r instanceof Xl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zl)return{bytesValue:vM(i.serializer,r._byteString)};if(r instanceof sn){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Sb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ed)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return Ab(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${ng(r)}`)}(t,e)}function YM(t,e){let n={};return Qx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ks(t,(r,i)=>{let o=sd(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function ZM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $t||t instanceof Xl||t instanceof Zl||t instanceof sn||t instanceof Jl||t instanceof ed)}function Vb(t,e,n){if(!ZM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=ng(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function pb(t,e,n){if((e=Xe(e))instanceof Vc)return e._internalPath;if(typeof e=="string")return Ub(t,e);throw zm("Field path arguments must be of type string or ",t,!1,void 0,n)}var s3=new RegExp("[~\\*/\\[\\]]");function Ub(t,e,n){if(e.search(s3)>=0)throw zm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Vc(...e.split("."))._internalPath}catch{throw zm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function zm(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new X(V.INVALID_ARGUMENT,a+t+u)}function JM(t,e){return t.some(n=>n.isEqual(e))}var Gm=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new mb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(jb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},mb=class extends Gm{data(){return super.data()}};function jb(t,e){return typeof e=="string"?Ub(t,e):e instanceof Vc?e._internalPath:e._delegate._internalPath}function a3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var td=class{},gb=class extends td{};function XM(t,e,...n){let r=[];e instanceof td&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof yb).length,a=o.filter(u=>u instanceof Wm).length;if(s>1||s>0&&a>0)throw new X(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Wm=class t extends gb{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return tN(e._query,n),new Lc(e.firestore,e.converter,lI(e._query,n))}_parse(e){let n=Lb(e.firestore);return function(o,s,a,u,d,p,m){let w;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new X(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){Wx(m,p);let E=[];for(let x of m)E.push(Gx(u,o,x));w={arrayValue:{values:E}}}else w=Gx(u,o,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||Wx(m,p),w=o3(a,s,m,p==="in"||p==="not-in");return Dt.create(d,p,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function eN(t,e,n){let r=e,i=jb("where",t);return Wm._create(i,r,n)}var yb=class t extends td{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:dr.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)tN(s,u),s=lI(s,u)}(e._query,n),new Lc(e.firestore,e.converter,lI(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function Gx(t,e,n){if(typeof(n=Xe(n))=="string"){if(n==="")throw new X(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iM(e)&&n.indexOf("/")!==-1)throw new X(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(it.fromString(n));if(!oe.isDocumentKey(r))throw new X(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vx(t,new oe(r))}if(n instanceof sn)return vx(t,n._key);throw new X(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ng(n)}.`)}function Wx(t,e){if(!Array.isArray(t)||t.length===0)throw new X(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tN(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var vb=class{convertValue(e,n="none"){switch($s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(No(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ue()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ks(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>et(s.doubleValue));return new ed(o)}convertGeoPoint(e){return new Xl(et(e.latitude),et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Ib(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zl(e));default:return null}}convertTimestamp(e){let n=Ri(e);return new $t(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=it.fromString(e);He(CM(r));let i=new Em(r.get(1),r.get(3)),o=new oe(r.popFirst(5));return i.isEqual(n)||Si(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function c3(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Us=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Km=class extends Gm{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Cc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(jb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Cc=class extends Km{data(e={}){return super.data(e)}},wb=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Us(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Cc(this._firestore,this._userDataWriter,r.key,r,new Us(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Cc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Us(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Cc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Us(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,p=-1;return a.type!==0&&(d=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),p=s.indexOf(a.doc.key)),{type:u3(a.type),doc:u,oldIndex:d,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function u3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue()}}function nN(t){t=Mi(t,sn);let e=Mi(t.firestore,Ws);return Zz(Fb(e),t._key).then(n=>l3(e,t,n))}var Qm=class extends vb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zl(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,n)}};function rN(t){t=Mi(t,Lc);let e=Mi(t.firestore,Ws),n=Fb(e),r=new Qm(e);return a3(t._query),Jz(n,t._query).then(i=>new wb(e,r,t,i))}function iN(t,e,n){t=Mi(t,sn);let r=Mi(t.firestore,Ws),i=c3(t.converter,e,n);return sN(r,[n3(Lb(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,xo.none())])}function oN(t,e,n,...r){t=Mi(t,sn);let i=Mi(t.firestore,Ws),o=Lb(i),s;return s=typeof(e=Xe(e))=="string"||e instanceof Vc?i3(o,"updateDoc",t._key,e,n,r):r3(o,"updateDoc",t._key,e),sN(i,[s.toMutation(t._key,xo.exists(!0))])}function sN(t,e){return function(r,i){let o=new ur;return r.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return jz(yield Yz(r),i,o)})),o.promise}(Fb(t),e)}function l3(t,e,n){let r=n.docs.get(e._key),i=new Qm(t);return new Km(t,i,e._key,r,new Us(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Uc=i})(Vr),Lr(new gn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Ws(new qE(r.getProvider("auth-internal")),new KE(r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new X(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Em(d.options.projectId,p)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),nt(px,"4.7.3",e),nt(px,"4.7.3","esm2017")})();var Ni=class{constructor(e){return e}},aN="firestore",Bb=class{constructor(){return mc(aN)}};var $b=new G("angularfire2.firestore-instances");function d3(t,e){let n=Al(aN,t,e);return n&&new Ni(n)}function h3(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ni(r)}}var f3={provide:Bb,deps:[[new Wt,$b]]},p3={provide:Ni,useFactory:d3,deps:[[new Wt,$b],Ei]};function Wee(t,...e){return nt("angularfire",Do.full,"fst"),Fn([p3,f3,{provide:$b,useFactory:h3(t),multi:!0,deps:[xe,Bt,xs,Ms,[new Wt,Fl],[new Wt,Rs],...e]}])}var ad=rt(GM,!0);var Wr=rt(WM,!0);var rg=rt(nN,!0);var ig=rt(rN,!0);var Kee=rt(KM,!0);var Qee=rt(XM,!0);var og=rt(iN,!0);var Bc=rt(oN,!0);var Yee=rt(eN,!0);var mN="firebasestorage.googleapis.com",gN="storageBucket",m3=2*60*1e3,g3=10*60*1e3;var lt=class t extends on{constructor(e,n,r=0){super(Hb(e),`Firebase Storage: ${n} (${Hb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Hb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},mt=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(mt||{});function Hb(t){return"storage/"+t}function Qb(){let t="An unknown error occurred, please check the error payload for server response.";return new lt(mt.UNKNOWN,t)}function y3(t){return new lt(mt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function v3(t){return new lt(mt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function w3(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new lt(mt.UNAUTHENTICATED,t)}function _3(){return new lt(mt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function E3(t){return new lt(mt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function I3(){return new lt(mt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function b3(){return new lt(mt.CANCELED,"User canceled the upload/download.")}function C3(t){return new lt(mt.INVALID_URL,"Invalid URL '"+t+"'.")}function T3(t){return new lt(mt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function D3(){return new lt(mt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+gN+"' property when initializing the app?")}function A3(){return new lt(mt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function S3(){return new lt(mt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function R3(t){return new lt(mt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function qb(t){return new lt(mt.INVALID_ARGUMENT,t)}function yN(){return new lt(mt.APP_DELETED,"The Firebase app was deleted.")}function x3(t){return new lt(mt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ud(t,e){return new lt(mt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function cd(t){throw new lt(mt.INTERNAL_ERROR,"Internal error: "+t)}var hr=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw T3(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(ne){ne.path.charAt(ne.path.length-1)==="/"&&(ne.path_=ne.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),u={bucket:1,path:3};function d(ne){ne.path_=decodeURIComponent(ne.path)}let p="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",E=new RegExp(`^https?://${m}/${p}/b/${i}/o${w}`,"i"),x={bucket:1,path:3},F=n===mN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",B=new RegExp(`^https?://${F}/${i}/${N}`,"i"),z=[{regex:a,indices:u,postModify:o},{regex:E,indices:x,postModify:d},{regex:B,indices:{bucket:1,path:2},postModify:d}];for(let ne=0;ne<z.length;ne++){let ye=z[ne],ie=ye.regex.exec(e);if(ie){let D=ie[ye.indices.bucket],I=ie[ye.indices.path];I||(I=""),r=new t(D,I),ye.postModify(r);break}}if(r==null)throw C3(e);return r}},zb=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function M3(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function u(){return a===2}let d=!1;function p(...N){d||(d=!0,e.apply(null,N))}function m(N){i=setTimeout(()=>{i=null,t(E,u())},N)}function w(){o&&clearTimeout(o)}function E(N,...B){if(d){w();return}if(N){w(),p.call(null,N,...B);return}if(u()||s){w(),p.call(null,N,...B);return}r<64&&(r*=2);let z;a===1?(a=2,z=0):z=(r+Math.random())*1e3,m(z)}let x=!1;function F(N){x||(x=!0,w(),!d&&(i!==null?(N||(a=2),clearTimeout(i),m(0)):N||(a=1)))}return m(0),o=setTimeout(()=>{s=!0,F(!0)},n),F}function N3(t){t(!1)}function P3(t){return t!==void 0}function k3(t){return typeof t=="object"&&!Array.isArray(t)}function Yb(t){return typeof t=="string"||t instanceof String}function uN(t){return Zb()&&t instanceof Blob}function Zb(){return typeof Blob<"u"}function lN(t,e,n,r){if(r<e)throw qb(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw qb(`Invalid value for '${t}'. Expected ${n} or less.`)}function Jb(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function vN(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Hc=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Hc||{});function O3(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}var Gb=class{constructor(e,n,r,i,o,s,a,u,d,p,m,w=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=p,this.connectionFactory_=m,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,x)=>{this.resolve_=E,this.reject_=x,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new $c(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let u=a.loaded,d=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===Hc.NO_ERROR,u=o.getStatus();if(!a||O3(u,this.additionalRetryCodes_)&&this.retry){let p=o.getErrorCode()===Hc.ABORT;r(!1,new $c(!1,null,p));return}let d=this.successCodes_.indexOf(u)!==-1;r(!0,new $c(d,o))})},n=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let u=this.callback_(a,a.getResponse());P3(u)?o(u):o()}catch(u){s(u)}else if(a!==null){let u=Qb();u.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,u)):s(u)}else if(i.canceled){let u=this.appDelete_?yN():b3();s(u)}else{let u=I3();s(u)}};this.canceled_?n(!1,new $c(!1,null,!0)):this.backoffId_=M3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&N3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},$c=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function F3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function L3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function V3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function U3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function j3(t,e,n,r,i,o,s=!0){let a=vN(t.urlParams),u=t.url+a,d=Object.assign({},t.headers);return V3(d,e),F3(d,n),L3(d,o),U3(d,r),new Gb(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}function B3(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function $3(...t){let e=B3();if(e!==void 0){let n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Zb())return new Blob(t);throw new lt(mt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function H3(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function q3(t){if(typeof atob>"u")throw R3("base-64");return atob(t)}var Kr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},ld=class{constructor(e,n){this.data=e,this.contentType=n||null}};function z3(t,e){switch(t){case Kr.RAW:return new ld(wN(e));case Kr.BASE64:case Kr.BASE64URL:return new ld(_N(t,e));case Kr.DATA_URL:return new ld(W3(e),K3(e))}throw Qb()}function wN(t){let e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function G3(t){let e;try{e=decodeURIComponent(t)}catch{throw ud(Kr.DATA_URL,"Malformed data URL.")}return wN(e)}function _N(t,e){switch(t){case Kr.BASE64:{let i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw ud(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Kr.BASE64URL:{let i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw ud(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=q3(e)}catch(i){throw i.message.includes("polyfill")?i:ud(t,"Invalid character found")}let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}var ag=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw ud(Kr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=n[1]||null;r!=null&&(this.base64=Q3(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function W3(t){let e=new ag(t);return e.base64?_N(Kr.BASE64,e.rest):G3(e.rest)}function K3(t){return new ag(t).contentType}function Q3(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var cg=class t{constructor(e,n){let r=0,i="";uN(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(uN(this.data_)){let r=this.data_,i=H3(r,e,n);return i===null?null:new t(i)}else{let r=new Uint8Array(this.data_.buffer,e,n-e);return new t(r,!0)}}static getBlob(...e){if(Zb()){let n=e.map(r=>r instanceof t?r.data_:r);return new t($3.apply(null,n))}else{let n=e.map(s=>Yb(s)?z3(Kr.RAW,s).data:s.data_),r=0;n.forEach(s=>{r+=s.byteLength});let i=new Uint8Array(r),o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new t(i,!0)}}uploadData(){return this.data_}};function EN(t){let e;try{e=JSON.parse(t)}catch{return null}return k3(e)?e:null}function Y3(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Z3(t,e){let n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function IN(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function J3(t,e){return e}var Ht=class{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||J3}},sg=null;function X3(t){return!Yb(t)||t.length<2?t:IN(t)}function bN(){if(sg)return sg;let t=[];t.push(new Ht("bucket")),t.push(new Ht("generation")),t.push(new Ht("metageneration")),t.push(new Ht("name","fullPath",!0));function e(o,s){return X3(s)}let n=new Ht("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}let i=new Ht("size");return i.xform=r,t.push(i),t.push(new Ht("timeCreated")),t.push(new Ht("updated")),t.push(new Ht("md5Hash",null,!0)),t.push(new Ht("cacheControl",null,!0)),t.push(new Ht("contentDisposition",null,!0)),t.push(new Ht("contentEncoding",null,!0)),t.push(new Ht("contentLanguage",null,!0)),t.push(new Ht("contentType",null,!0)),t.push(new Ht("metadata","customMetadata",!0)),sg=t,sg}function e5(t,e){function n(){let r=t.bucket,i=t.fullPath,o=new hr(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function t5(t,e,n){let r={};r.type="file";let i=n.length;for(let o=0;o<i;o++){let s=n[o];r[s.local]=s.xform(r,e[s.server])}return e5(r,t),r}function CN(t,e,n){let r=EN(e);return r===null?null:t5(t,r,n)}function n5(t,e,n,r){let i=EN(e);if(i===null||!Yb(i.downloadTokens))return null;let o=i.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(d=>{let p=t.bucket,m=t.fullPath,w="/b/"+s(p)+"/o/"+s(m),E=Jb(w,n,r),x=vN({alt:"media",token:d});return E+x})[0]}function r5(t,e){let n={},r=e.length;for(let i=0;i<r;i++){let o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var ug=class{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function TN(t){if(!t)throw Qb()}function i5(t,e){function n(r,i){let o=CN(t,i,e);return TN(o!==null),o}return n}function o5(t,e){function n(r,i){let o=CN(t,i,e);return TN(o!==null),n5(o,i,t.host,t._protocol)}return n}function DN(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=_3():i=w3():n.getStatus()===402?i=v3(t.bucket):n.getStatus()===403?i=E3(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function s5(t){let e=DN(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=y3(t.path)),o.serverResponse=i.serverResponse,o}return n}function a5(t,e,n){let r=e.fullServerUrl(),i=Jb(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new ug(i,o,o5(t,n),s);return a.errorHandler=s5(e),a}function c5(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function u5(t,e,n){let r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=c5(null,e)),r}function l5(t,e,n,r,i){let o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let z="";for(let ne=0;ne<2;ne++)z=z+Math.random().toString().slice(2);return z}let u=a();s["Content-Type"]="multipart/related; boundary="+u;let d=u5(e,r,i),p=r5(d,n),m="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+u+`\r
Content-Type: `+d.contentType+`\r
\r
`,w=`\r
--`+u+"--",E=cg.getBlob(m,r,w);if(E===null)throw A3();let x={name:d.fullPath},F=Jb(o,t.host,t._protocol),N="POST",B=t.maxUploadRetryTime,Z=new ug(F,N,i5(t,n),B);return Z.urlParams=x,Z.headers=s,Z.body=E.uploadData(),Z.errorHandler=DN(e),Z}var tte=256*1024;var dN=null,Wb=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Hc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Hc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Hc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw cd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(let o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw cd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw cd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw cd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw cd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},Kb=class extends Wb{initXhr(){this.xhr_.responseType="text"}};function AN(){return dN?dN():new Kb}var qc=class t{constructor(e,n){this._service=e,n instanceof hr?this._location=n:this._location=hr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new hr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return IN(this._location.path)}get storage(){return this._service}get parent(){let e=Y3(this._location.path);if(e===null)return null;let n=new hr(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw x3(e)}};function d5(t,e,n){t._throwIfRoot("uploadBytes");let r=l5(t.storage,t._location,bN(),new cg(e,!0),n);return t.storage.makeRequestWithTokens(r,AN).then(i=>({metadata:i,ref:t}))}function h5(t){t._throwIfRoot("getDownloadURL");let e=a5(t.storage,t._location,bN());return t.storage.makeRequestWithTokens(e,AN).then(n=>{if(n===null)throw S3();return n})}function f5(t,e){let n=Z3(t._location.path,e),r=new hr(t._location.bucket,n);return new qc(t.storage,r)}function p5(t){return/^[A-Za-z]+:\/\//.test(t)}function m5(t,e){return new qc(t,e)}function SN(t,e){if(t instanceof dd){let n=t;if(n._bucket==null)throw D3();let r=new qc(n,n._bucket);return e!=null?SN(r,e):r}else return e!==void 0?f5(t,e):t}function g5(t,e){if(e&&p5(e)){if(t instanceof dd)return m5(t,e);throw qb("To use ref(service, url), the first argument must be a Storage instance.")}else return SN(t,e)}function hN(t,e){let n=e?.[gN];return n==null?null:hr.makeFromBucketSpec(n,t)}function y5(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:jp(i,t.app.options.projectId))}var dd=class{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=mN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=m3,this._maxUploadRetryTime=g3,this._requests=new Set,i!=null?this._bucket=hr.makeFromBucketSpec(i,this._host):this._bucket=hN(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=hr.makeFromBucketSpec(this._url,e):this._bucket=hN(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){lN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){lN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return b(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return b(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qc(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new zb(yN());{let s=j3(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){return b(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},fN="@firebase/storage",pN="0.13.2";var RN="storage";function xN(t,e,n){return t=Xe(t),d5(t,e,n)}function MN(t){return t=Xe(t),h5(t)}function NN(t,e){return t=Xe(t),g5(t,e)}function PN(t=To(),e){t=Xe(t);let r=As(t,RN).getImmediate({identifier:e}),i=Up("storage");return i&&kN(r,...i),r}function kN(t,e,n,r={}){y5(t,e,n,r)}function v5(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new dd(n,r,i,e,Vr)}function w5(){Lr(new gn(RN,v5,"PUBLIC").setMultipleInstances(!0)),nt(fN,pN,""),nt(fN,pN,"esm2017")}w5();var ON=rt(MN,!0);var FN=rt(PN,!0);var LN=rt(NN,!0);var VN=rt(xN,!0);var qn=class t{constructor(e,n){this.auth=e;this.firestore=n}userSubject=new ft(null);uploadImage(e){return b(this,null,function*(){let n=FN(),r=LN(n,`images/${e.name}`);try{return yield VN(r,e),yield ON(r)}catch(i){throw console.error("Error al subir la imagen:",i),i}})}registerUser(e,n,r,i){return b(this,null,function*(){try{let o=yield cx(this.auth,e,n);yield ux(o.user);let s=i!=="especialista",a=le(j({uid:o.user.uid},r),{role:i,createdAt:new Date,habilitado:s,emailVerificado:!1});return yield og(Wr(this.firestore,"users",o.user.uid),a),le(j({},o.user),{role:i})}catch(o){throw console.error(`Error al registrar el ${i}:`,o),o}})}verificarCorreo(e){return b(this,null,function*(){let n=this.auth.currentUser;if(n){yield n.reload();let r=yield this.getUserData(n.uid);n.emailVerified&&(yield Bc(Wr(this.firestore,`users/${n.uid}`),{emailVerificado:!0}))}})}login(e,n){return b(this,null,function*(){try{let r=yield lx(this.auth,e,n);yield this.verificarCorreo(r.user.uid);let i=yield this.getUserData(r.user.uid);if(i.role==="especialista"){if(!i.habilitado)throw new Error("Tu cuenta debe ser aprobada por un administrador antes de poder iniciar sesi\xF3n.");if(!i.emailVerificado)throw new Error("Debes verificar tu correo electr\xF3nico para ingresar.")}else if(!i.emailVerificado)throw new Error("Debes verificar tu correo electr\xF3nico para ingresar.");return this.userSubject.next(j(j({},r.user),i)),j(j({},r.user),i)}catch(r){throw console.error("Error en el login:",r),r}})}getUserData(e){return b(this,null,function*(){let n=Wr(this.firestore,`users/${e}`),r=yield rg(n);if(r.exists())return r.data();throw new Error("No se encontr\xF3 el documento del usuario")})}logout(){return dx(this.auth).then(()=>{this.userSubject.next(null)})}habilitarUsuario(e){return b(this,null,function*(){let n=Wr(this.firestore,"users",e);yield Bc(n,{habilitado:!0})})}inhabilitarUsuario(e){return b(this,null,function*(){let n=Wr(this.firestore,"users",e);yield Bc(n,{habilitado:!1})})}obtenerUsuarios(){return b(this,null,function*(){let e=ad(this.firestore,"users");return(yield ig(e)).docs.map(r=>j({id:r.id},r.data()))})}getUser(){return this.userSubject.asObservable()}static \u0275fac=function(n){return new(n||t)(J(Fs),J(Ni))};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})};var KN=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(K(li),K(Un))}}static{this.\u0275dir=Je({type:t})}}return t})(),wg=(()=>{class t extends KN{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ui(t)))(i||t)}})()}static{this.\u0275dir=Je({type:t,features:[mn]})}}return t})(),Qc=new G("");var _5={provide:Qc,useExisting:Tn(()=>Qr),multi:!0};function E5(){let t=pi()?pi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var I5=new G(""),Qr=(()=>{class t extends KN{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!E5())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(K(li),K(Un),K(I5,8))}}static{this.\u0275dir=Je({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ie("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[or([_5]),mn]})}}return t})();function Oo(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function QN(t){return t!=null&&typeof t.length=="number"}var wd=new G(""),_g=new G(""),b5=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ce=class{static min(e){return C5(e)}static max(e){return T5(e)}static required(e){return YN(e)}static requiredTrue(e){return D5(e)}static email(e){return A5(e)}static minLength(e){return S5(e)}static maxLength(e){return R5(e)}static pattern(e){return x5(e)}static nullValidator(e){return dg(e)}static compose(e){return nP(e)}static composeAsync(e){return rP(e)}};function C5(t){return e=>{if(Oo(e.value)||Oo(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function T5(t){return e=>{if(Oo(e.value)||Oo(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function YN(t){return Oo(t.value)?{required:!0}:null}function D5(t){return t.value===!0?null:{required:!0}}function A5(t){return Oo(t.value)||b5.test(t.value)?null:{email:!0}}function S5(t){return e=>Oo(e.value)||!QN(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function R5(t){return e=>QN(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function x5(t){if(!t)return dg;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Oo(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function dg(t){return null}function ZN(t){return t!=null}function JN(t){return ws(t)?Ze(t):t}function XN(t){let e={};return t.forEach(n=>{e=n!=null?j(j({},e),n):e}),Object.keys(e).length===0?null:e}function eP(t,e){return e.map(n=>n(t))}function M5(t){return!t.validate}function tP(t){return t.map(e=>M5(e)?e:n=>e.validate(n))}function nP(t){if(!t)return null;let e=t.filter(ZN);return e.length==0?null:function(n){return XN(eP(n,e))}}function i0(t){return t!=null?nP(tP(t)):null}function rP(t){if(!t)return null;let e=t.filter(ZN);return e.length==0?null:function(n){let r=eP(n,e).map(JN);return Iy(r).pipe(pe(XN))}}function o0(t){return t!=null?rP(tP(t)):null}function UN(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function iP(t){return t._rawValidators}function oP(t){return t._rawAsyncValidators}function Xb(t){return t?Array.isArray(t)?t:[t]:[]}function hg(t,e){return Array.isArray(t)?t.includes(e):t===e}function jN(t,e){let n=Xb(e);return Xb(t).forEach(i=>{hg(n,i)||n.push(i)}),n}function BN(t,e){return Xb(e).filter(n=>!hg(t,n))}var fg=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=i0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=o0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Pi=class extends fg{get formDirective(){return null}get path(){return null}},Ys=class extends fg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},pg=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},N5={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},qte=le(j({},N5),{"[class.ng-submitted]":"isSubmitted"}),Lo=(()=>{class t extends pg{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(K(Ys,2))}}static{this.\u0275dir=Je({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&zf("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[mn]})}}return t})(),Vo=(()=>{class t extends pg{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(K(Pi,10))}}static{this.\u0275dir=Je({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&zf("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[mn]})}}return t})();var fd="VALID",lg="INVALID",zc="PENDING",pd="DISABLED",Fo=class{},mg=class extends Fo{constructor(e,n){super(),this.value=e,this.source=n}},gd=class extends Fo{constructor(e,n){super(),this.pristine=e,this.source=n}},yd=class extends Fo{constructor(e,n){super(),this.touched=e,this.source=n}},Gc=class extends Fo{constructor(e,n){super(),this.status=e,this.source=n}},e0=class extends Fo{constructor(e){super(),this.source=e}},t0=class extends Fo{constructor(e){super(),this.source=e}};function s0(t){return(Eg(t)?t.validators:t)||null}function P5(t){return Array.isArray(t)?i0(t):t||null}function a0(t,e){return(Eg(e)?e.asyncValidators:t)||null}function k5(t){return Array.isArray(t)?o0(t):t||null}function Eg(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function sP(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new re(1e3,"");if(!r[n])throw new re(1001,"")}function aP(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new re(1002,"")})}var Wc=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Za(()=>this.statusReactive()),this.statusReactive=Qa(void 0),this._pristine=Za(()=>this.pristineReactive()),this.pristineReactive=Qa(!0),this._touched=Za(()=>this.touchedReactive()),this.touchedReactive=Qa(!1),this._events=new ht,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return kr(this.statusReactive)}set status(e){kr(()=>this.statusReactive.set(e))}get valid(){return this.status===fd}get invalid(){return this.status===lg}get pending(){return this.status==zc}get disabled(){return this.status===pd}get enabled(){return this.status!==pd}get pristine(){return kr(this.pristineReactive)}set pristine(e){kr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return kr(this.touchedReactive)}set touched(e){kr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(jN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(jN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(BN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(BN(e,this._rawAsyncValidators))}hasValidator(e){return hg(this._rawValidators,e)}hasAsyncValidator(e){return hg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(le(j({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new yd(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new yd(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(le(j({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new gd(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new gd(!0,r))}markAsPending(e={}){this.status=zc;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Gc(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(le(j({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=pd,this.errors=null,this._forEachChild(i=>{i.disable(le(j({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new mg(this.value,r)),this._events.next(new Gc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(le(j({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=fd,this._forEachChild(r=>{r.enable(le(j({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(le(j({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fd||this.status===zc)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new mg(this.value,n)),this._events.next(new Gc(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(le(j({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pd:fd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=zc,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=JN(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Gc(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new We,this.statusChanges=new We}_calculateStatus(){return this._allControlsDisabled()?pd:this.errors?lg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zc)?zc:this._anyControlsHaveStatus(lg)?lg:fd}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new gd(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new yd(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Eg(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=P5(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=k5(this._rawAsyncValidators)}},Kc=class extends Wc{constructor(e,n,r){super(s0(n),a0(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){aP(this,!0,e),Object.keys(e).forEach(r=>{sP(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var n0=class extends Kc{};var _d=new G("CallSetDisabledState",{providedIn:"root",factory:()=>Ig}),Ig="always";function cP(t,e){return[...e.path,t]}function gg(t,e,n=Ig){c0(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),F5(t,e),V5(t,e),L5(t,e),O5(t,e)}function $N(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),vg(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function yg(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function O5(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function c0(t,e){let n=iP(t);e.validator!==null?t.setValidators(UN(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=oP(t);e.asyncValidator!==null?t.setAsyncValidators(UN(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();yg(e._rawValidators,i),yg(e._rawAsyncValidators,i)}function vg(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=iP(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=oP(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return yg(e._rawValidators,r),yg(e._rawAsyncValidators,r),n}function F5(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&uP(t,e)})}function L5(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&uP(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function uP(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function V5(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function lP(t,e){t==null,c0(t,e)}function U5(t,e){return vg(t,e)}function dP(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function j5(t){return Object.getPrototypeOf(t.constructor)===wg}function hP(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function fP(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Qr?n=o:j5(o)?r=o:i=o}),i||r||n||null}function B5(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var $5={provide:Pi,useExisting:Tn(()=>u0)},md=Promise.resolve(),u0=(()=>{class t extends Pi{get submitted(){return kr(this.submittedReactive)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=Za(()=>this.submittedReactive()),this.submittedReactive=Qa(!1),this._directives=new Set,this.ngSubmit=new We,this.form=new Kc({},i0(n),o0(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){md.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),gg(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){md.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){md.then(()=>{let r=this._findContainer(n.path),i=new Kc({});lP(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){md.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){md.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),hP(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||t)(K(wd,10),K(_g,10),K(_d,8))}}static{this.\u0275dir=Je({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Ie("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[or([$5]),mn]})}}return t})();function HN(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function qN(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var vd=class extends Wc{constructor(e=null,n,r){super(s0(n),a0(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Eg(n)&&(n.nonNullable||n.initialValueIsDefault)&&(qN(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){HN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){HN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){qN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var H5=t=>t instanceof vd;var q5={provide:Ys,useExisting:Tn(()=>l0)},zN=Promise.resolve(),l0=(()=>{class t extends Ys{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new vd,this._registered=!1,this.name="",this.update=new We,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=fP(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),dP(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){gg(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){zN.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&qu(r);zN.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?cP(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(K(Pi,9),K(wd,10),K(_g,10),K(Qc,10),K(_s,8),K(_d,8))}}static{this.\u0275dir=Je({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[or([q5]),mn,ci]})}}return t})(),Uo=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Je({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),z5={provide:Qc,useExisting:Tn(()=>Zs),multi:!0},Zs=(()=>{class t extends wg{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ui(t)))(i||t)}})()}static{this.\u0275dir=Je({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Ie("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[or([z5]),mn]})}}return t})();var pP=new G("");var G5={provide:Pi,useExisting:Tn(()=>Js)},Js=(()=>{class t extends Pi{get submitted(){return kr(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=Za(()=>this._submittedReactive()),this._submittedReactive=Qa(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new We,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(vg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return gg(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){$N(n.control||null,n,!1),B5(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),hP(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new e0(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new t0(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&($N(r||null,n),H5(i)&&(gg(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);lP(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&U5(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){c0(this.form,this),this._oldForm&&vg(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(K(wd,10),K(_g,10),K(_d,8))}}static{this.\u0275dir=Je({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Ie("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[or([G5]),mn,ci]})}}return t})();var W5={provide:Ys,useExisting:Tn(()=>Xs)},Xs=(()=>{class t extends Ys{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new We,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=fP(this,o)}ngOnChanges(n){this._added||this._setUpControl(),dP(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return cP(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(K(Pi,13),K(wd,10),K(_g,10),K(Qc,10),K(pP,8))}}static{this.\u0275dir=Je({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[or([W5]),mn,ci]})}}return t})(),K5={provide:Qc,useExisting:Tn(()=>gP),multi:!0};function mP(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Q5(t){return t.split(":")[0]}var gP=(()=>{class t extends wg{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=mP(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=Q5(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ui(t)))(i||t)}})()}static{this.\u0275dir=Je({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Ie("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[or([K5]),mn]})}}return t})(),Gte=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(mP(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(K(Un),K(li),K(gP,9))}}static{this.\u0275dir=Je({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),Y5={provide:Qc,useExisting:Tn(()=>yP),multi:!0};function GN(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Z5(t){return t.split(":")[0]}var yP=(()=>{class t extends wg{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],d=this._getOptionValue(u.value);i.push(d)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let d=this._getOptionValue(u.value);i.push(d)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=Z5(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ui(t)))(i||t)}})()}static{this.\u0275dir=Je({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Ie("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[or([Y5]),mn]})}}return t})(),Wte=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(GN(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(GN(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(K(Un),K(li),K(yP,9))}}static{this.\u0275dir=Je({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();var J5=(()=>{class t{constructor(){this._validator=dg}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):dg,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Je({type:t,features:[ci]})}}return t})();var X5={provide:wd,useExisting:Tn(()=>d0),multi:!0};var d0=(()=>{class t extends J5{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=qu,this.createValidator=n=>YN}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ui(t)))(i||t)}})()}static{this.\u0275dir=Je({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ya("required",i._enabled?"":null)},inputs:{required:"required"},features:[or([X5]),mn]})}}return t})();var vP=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ct({type:t})}static{this.\u0275inj=at({})}}return t})(),r0=class extends Wc{constructor(e,n,r){super(s0(n),a0(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){aP(this,!1,e),e.forEach((r,i)=>{sP(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function WN(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var Yc=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return WN(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Kc(i,o)}record(n,r=null){let i=this._reduceControls(n);return new n0(i,r)}control(n,r,i){let o={};return this.useNonNullable?(WN(r)?o=r:(o.validators=r,o.asyncValidators=i),new vd(n,le(j({},o),{nonNullable:!0}))):new vd(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new r0(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof vd)return n;if(n instanceof Wc)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var wP=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:_d,useValue:n.callSetDisabledState??Ig}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ct({type:t})}static{this.\u0275inj=at({imports:[vP]})}}return t})(),_P=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:pP,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:_d,useValue:n.callSetDisabledState??Ig}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ct({type:t})}static{this.\u0275inj=at({imports:[vP]})}}return t})();var fr=ph(Ed());var eG=new G("recaptcha-language"),tG=new G("recaptcha-base-url"),nG=new G("recaptcha-nonce-tag"),rG=new G("recaptcha-settings"),EP=new G("recaptcha-v3-site-key"),iG=new G("recaptcha-loader-options");function oG(t,e,n,{url:r,lang:i,nonce:o}={}){window.ng2recaptchaloaded=()=>{n(grecaptcha)};let s=document.createElement("script");s.innerHTML="";let{url:a,nonce:u}=e(new URL(r||"https://www.google.com/recaptcha/api.js"));a.searchParams.set("render",t==="explicit"?t:t.key),a.searchParams.set("onload","ng2recaptchaloaded"),a.searchParams.set("trustedtypes","true"),i&&a.searchParams.set("hl",i),s.src=a.href;let d=u||o;d&&s.setAttribute("nonce",d),s.async=!0,s.defer=!0,document.head.appendChild(s)}function sG({v3SiteKey:t,onBeforeLoad:e,onLoaded:n}){let r=t?{key:t}:"explicit";IP.loadScript(r,e,n)}var IP={loadScript:oG,newLoadScript:sG};function aG(t){return t.asObservable().pipe(Gt(e=>e!==null))}var Cg=(()=>{class t{static{this.ready=null}constructor(n,r,i,o,s,a){this.platformId=n,this.language=r,this.baseUrl=i,this.nonce=o,this.v3SiteKey=s,this.options=a;let u=this.init();this.ready=u?aG(u):se()}init(){if(t.ready)return t.ready;if(!Dw(this.platformId))return;let n=new ft(null);return t.ready=n,IP.newLoadScript({v3SiteKey:this.v3SiteKey,onBeforeLoad:r=>{if(this.options?.onBeforeLoad)return this.options.onBeforeLoad(r);let i=new URL(this.baseUrl??r);return this.language&&i.searchParams.set("hl",this.language),{url:i,nonce:this.nonce}},onLoaded:r=>{let i=r;this.options?.onLoaded&&(i=this.options.onLoaded(r)),n.next(i)}}),n}static{this.\u0275fac=function(r){return new(r||t)(J(pn),J(eG,8),J(tG,8),J(nG,8),J(EP,8),J(iG,8))}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac})}}return t})(),cG=0,Zc=(()=>{class t{constructor(n,r,i,o){this.elementRef=n,this.loader=r,this.zone=i,this.id=`ngrecaptcha-${cG++}`,this.errorMode="default",this.resolved=new We,this.error=new We,this.errored=new We,o&&(this.siteKey=o.siteKey,this.theme=o.theme,this.type=o.type,this.size=o.size,this.badge=o.badge)}ngAfterViewInit(){this.subscription=this.loader.ready.subscribe(n=>{n!=null&&n.render instanceof Function&&(this.grecaptcha=n,this.renderRecaptcha())})}ngOnDestroy(){this.grecaptchaReset(),this.subscription&&this.subscription.unsubscribe()}execute(){this.size==="invisible"&&(this.widget!=null?this.grecaptcha.execute(this.widget):this.executeRequested=!0)}reset(){this.widget!=null&&(this.grecaptcha.getResponse(this.widget)&&this.resolved.emit(null),this.grecaptchaReset())}get __unsafe_widgetValue(){return this.widget!=null?this.grecaptcha.getResponse(this.widget):null}expired(){this.resolved.emit(null)}onError(n){this.error.emit(n),this.errored.emit(n)}captchaResponseCallback(n){this.resolved.emit(n)}grecaptchaReset(){this.widget!=null&&this.zone.runOutsideAngular(()=>this.grecaptcha.reset(this.widget))}renderRecaptcha(){let n={badge:this.badge,callback:r=>{this.zone.run(()=>this.captchaResponseCallback(r))},"expired-callback":()=>{this.zone.run(()=>this.expired())},sitekey:this.siteKey,size:this.size,tabindex:this.tabIndex,theme:this.theme,type:this.type};this.errorMode==="handled"&&(n["error-callback"]=(...r)=>{this.zone.run(()=>this.onError(r))}),this.widget=this.grecaptcha.render(this.elementRef.nativeElement,n),this.executeRequested===!0&&(this.executeRequested=!1,this.execute())}static{this.\u0275fac=function(r){return new(r||t)(K(Un),K(Cg),K(xe),K(rG,8))}}static{this.\u0275cmp=hn({type:t,selectors:[["re-captcha"]],hostVars:1,hostBindings:function(r,i){r&2&&Ya("id",i.id)},inputs:{id:"id",siteKey:"siteKey",theme:"theme",type:"type",size:"size",tabIndex:"tabIndex",badge:"badge",errorMode:"errorMode"},outputs:{resolved:"resolved",error:"error",errored:"errored"},exportAs:["reCaptcha"],decls:0,vars:0,template:function(r,i){},encapsulation:2})}}return t})(),uG=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ct({type:t})}static{this.\u0275inj=at({})}}return t})(),Tg=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ct({type:t})}static{this.\u0275inj=at({providers:[Cg],imports:[uG]})}}return t})(),lG=(()=>{class t{constructor(n,r,i){this.recaptchaLoader=r,this.zone=n,this.siteKey=i,this.init()}get onExecute(){return this.onExecuteSubject||(this.onExecuteSubject=new ht,this.onExecuteObservable=this.onExecuteSubject.asObservable()),this.onExecuteObservable}get onExecuteError(){return this.onExecuteErrorSubject||(this.onExecuteErrorSubject=new ht,this.onExecuteErrorObservable=this.onExecuteErrorSubject.asObservable()),this.onExecuteErrorObservable}execute(n){let r=new ht;return this.grecaptcha?this.executeActionWithSubject(n,r):(this.actionBacklog||(this.actionBacklog=[]),this.actionBacklog.push([n,r])),r.asObservable()}executeActionWithSubject(n,r){let i=o=>{this.zone.run(()=>{r.error(o),this.onExecuteErrorSubject&&this.onExecuteErrorSubject.next({action:n,error:o})})};this.zone.runOutsideAngular(()=>{try{this.grecaptcha.execute(this.siteKey,{action:n}).then(o=>{this.zone.run(()=>{r.next(o),r.complete(),this.onExecuteSubject&&this.onExecuteSubject.next({action:n,token:o})})},i)}catch(o){i(o)}})}init(){this.recaptchaLoader.ready.subscribe(n=>{this.grecaptcha=n,this.actionBacklog&&this.actionBacklog.length>0&&(this.actionBacklog.forEach(([r,i])=>this.executeActionWithSubject(r,i)),this.actionBacklog=void 0)})}static{this.\u0275fac=function(r){return new(r||t)(J(xe),J(Cg),J(EP))}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac})}}return t})(),bP=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ct({type:t})}static{this.\u0275inj=at({providers:[lG,Cg]})}}return t})();function dG(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function hG(t,e){t&1&&(L(0,"div"),U(1,"Solo se permiten letras."),P())}function fG(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function pG(t,e){t&1&&(L(0,"div"),U(1,"Solo se permiten letras."),P())}function mG(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function gG(t,e){t&1&&(L(0,"div"),U(1,"La edad m\xEDnima es 18 a\xF1os."),P())}function yG(t,e){t&1&&(L(0,"div"),U(1,"La edad m\xE1xima es 99 a\xF1os."),P())}function vG(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function wG(t,e){t&1&&(L(0,"div"),U(1,"El DNI debe tener 8 d\xEDgitos."),P())}function _G(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function EG(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function IG(t,e){t&1&&(L(0,"div"),U(1,"Formato de email inv\xE1lido."),P())}function bG(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function CG(t,e){t&1&&(L(0,"div"),U(1,"La contrase\xF1a debe tener al menos 6 caracteres."),P())}function TG(t,e){t&1&&(L(0,"div"),U(1,"Debes subir exactamente 2 im\xE1genes."),P())}function DG(t,e){if(t&1){let n=Nr();L(0,"div")(1,"re-captcha",20),Ie("resolved",function(i){xr(n);let o=Pr();return Mr(o.onCaptchaResolved(i))}),P()()}}function AG(t,e){t&1&&(L(0,"div")(1,"span"),U(2,"Captcha completado con \xE9xito"),P()())}var Dg=class t{constructor(e,n,r){this.fb=e;this.authService=n;this.router=r;this.pacienteForm=this.fb.group({nombre:["",[ce.required,ce.pattern("^[a-zA-Z ]*$")]],apellido:["",[ce.required,ce.pattern("^[a-zA-Z ]*$")]],edad:["",[ce.required,ce.min(1),ce.max(123)]],dni:["",[ce.required,ce.pattern("^[0-9]{8,8}$")]],obraSocial:["",ce.required],email:["",[ce.required,ce.email]],password:["",[ce.required,ce.minLength(6)]],imagenes:this.fb.array([],[ce.required])})}pacienteForm;allowedFileTypes=["image/jpeg","image/png","image/gif"];maxFileSize=2*1024*1024;captchaValido=!1;agregarImagen(e){let n=e.target,r=this.pacienteForm.get("imagenes");if(n.files&&n.files.length>0){let i=Array.from(n.files);for(let o of i){if(!this.allowedFileTypes.includes(o.type)){fr.default.fire("Tipo de archivo no v\xE1lido","Solo se permiten im\xE1genes en formato JPEG, PNG o GIF.","error");return}if(o.size>this.maxFileSize){fr.default.fire("Tama\xF1o de archivo excedido","El tama\xF1o m\xE1ximo permitido es de 2 MB por archivo.","error");return}}if(r.length>=2){fr.default.fire("Error","Solo puedes subir hasta 2 im\xE1genes.","error");return}i.forEach(o=>{r.length<2&&r.push(this.fb.control(o))})}}mostrarError(e,n){let r=this.pacienteForm.get(e);return r?r.hasError(n)&&(r.dirty||r.touched):!1}guardarPaciente(){return b(this,null,function*(){if(this.pacienteForm.valid&&this.captchaValido){let e=this.pacienteForm.get("imagenes");if(e.length!==2){fr.default.fire("Error","Debes subir exactamente 2 im\xE1genes.","error");return}fr.default.fire({title:"Cargando...",text:"Por favor, espera un momento.",allowOutsideClick:!1,didOpen:()=>{fr.default.showLoading()}});try{let n=[];for(let i=0;i<e.length;i++){let o=e.at(i).value,s=yield this.authService.uploadImage(o);n.push(s)}let r=le(j({},this.pacienteForm.value),{role:"paciente",imagenes:n});yield this.authService.registerUser(r.email,r.password,r,"paciente"),fr.default.fire("Registro exitoso","El paciente ha sido registrado correctamente","success"),this.pacienteForm.reset(),this.router.navigate(["/bienvenida"])}catch(n){fr.default.fire("Error",`Ha ocurrido un error durante el registro: ${n}`,"error")}finally{fr.default.close()}}else fr.default.fire("Formulario inv\xE1lido","Por favor, completa todos los campos correctamente.","warning")})}onCaptchaResolved(e){this.captchaValido=!!e}static \u0275fac=function(n){return new(n||t)(K(Yc),K(qn),K(Ot))};static \u0275cmp=hn({type:t,selectors:[["app-registro-paciente"]],decls:53,vars:19,consts:[[3,"ngSubmit","formGroup"],["for","nombre"],["id","nombre","formControlName","nombre"],[4,"ngIf"],["for","apellido"],["id","apellido","formControlName","apellido"],["for","edad"],["id","edad","type","number","formControlName","edad"],["for","dni"],["id","dni","formControlName","dni"],["for","obraSocial"],["id","obraSocial","formControlName","obraSocial"],["for","email"],["id","email","formControlName","email"],["for","password"],["id","password","type","password","formControlName","password"],["for","imagenes"],["type","file","multiple","",3,"change"],[1,"captcha-container"],["type","submit",3,"disabled"],["siteKey","6LeSo3oqAAAAAIQ5hamDg0b7J9m9D7QuO2Jj0fXc",3,"resolved"]],template:function(n,r){n&1&&(L(0,"form",0),Ie("ngSubmit",function(){return r.guardarPaciente()}),L(1,"div")(2,"label",1),U(3,"Nombre:"),P(),we(4,"input",2),Ne(5,dG,2,0,"div",3)(6,hG,2,0,"div",3),P(),L(7,"div")(8,"label",4),U(9,"Apellido:"),P(),we(10,"input",5),Ne(11,fG,2,0,"div",3)(12,pG,2,0,"div",3),P(),L(13,"div")(14,"label",6),U(15,"Edad:"),P(),we(16,"input",7),Ne(17,mG,2,0,"div",3)(18,gG,2,0,"div",3)(19,yG,2,0,"div",3),P(),L(20,"div")(21,"label",8),U(22,"DNI:"),P(),we(23,"input",9),Ne(24,vG,2,0,"div",3)(25,wG,2,0,"div",3),P(),L(26,"div")(27,"label",10),U(28,"Obra Social:"),P(),we(29,"input",11),Ne(30,_G,2,0,"div",3),P(),L(31,"div")(32,"label",12),U(33,"Email:"),P(),we(34,"input",13),Ne(35,EG,2,0,"div",3)(36,IG,2,0,"div",3),P(),L(37,"div")(38,"label",14),U(39,"Contrase\xF1a:"),P(),we(40,"input",15),Ne(41,bG,2,0,"div",3)(42,CG,2,0,"div",3),P(),L(43,"div")(44,"label",16),U(45,"Sube exactamente 2 im\xE1genes:"),P(),L(46,"input",17),Ie("change",function(o){return r.agregarImagen(o)}),P(),Ne(47,TG,2,0,"div",3),P(),L(48,"div",18),Ne(49,DG,2,0,"div",3)(50,AG,3,0,"div",3),P(),L(51,"button",19),U(52,"Registrar Paciente "),P()()),n&2&&(Y("formGroup",r.pacienteForm),Q(5),Y("ngIf",r.mostrarError("nombre","required")),Q(),Y("ngIf",r.mostrarError("nombre","pattern")),Q(5),Y("ngIf",r.mostrarError("apellido","required")),Q(),Y("ngIf",r.mostrarError("apellido","pattern")),Q(5),Y("ngIf",r.mostrarError("edad","required")),Q(),Y("ngIf",r.mostrarError("edad","min")),Q(),Y("ngIf",r.mostrarError("edad","max")),Q(5),Y("ngIf",r.mostrarError("dni","required")),Q(),Y("ngIf",r.mostrarError("dni","pattern")),Q(5),Y("ngIf",r.mostrarError("obraSocial","required")),Q(5),Y("ngIf",r.mostrarError("email","required")),Q(),Y("ngIf",r.mostrarError("email","email")),Q(5),Y("ngIf",r.mostrarError("password","required")),Q(),Y("ngIf",r.mostrarError("password","minlength")),Q(5),Y("ngIf",r.mostrarError("imagenes","required")),Q(2),Y("ngIf",!r.captchaValido),Q(),Y("ngIf",r.captchaValido),Q(),Y("disabled",!r.captchaValido))},dependencies:[yo,Uo,Qr,Zs,Lo,Vo,Js,Xs,Zc],styles:['@charset "UTF-8";form[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;padding:30px;border:1px solid #007bff;border-radius:10px;background-color:#e0f7fa;box-shadow:0 4px 20px #0003}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:8px;display:block;color:#007bff}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #007bff;border-radius:6px;margin-bottom:15px;box-sizing:border-box;transition:border-color .3s,background-color .3s;background-color:#f1f1f1}input[type=text][_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus, input[type=email][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus{border-color:#0056b3;outline:none;background-color:#fff}div[ngIf][_ngcontent-%COMP%]{color:#dc3545;font-size:.9em;margin-top:-10px;margin-bottom:10px}button[type=submit][_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:12px 15px;border:none;border-radius:6px;cursor:pointer;transition:background-color .3s,transform .2s;width:100%;font-size:1em}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:translateY(-2px)}input[type=text][_ngcontent-%COMP%]:hover, input[type=number][_ngcontent-%COMP%]:hover, input[type=email][_ngcontent-%COMP%]:hover, input[type=password][_ngcontent-%COMP%]:hover{border-color:#0056b3}div[_ngcontent-%COMP%]{margin-bottom:15px}']})};var yn=ph(Ed());var Sg=class t{constructor(e){this.firestore=e}addEspecialidad(e){return b(this,null,function*(){let n=Wr(ad(this.firestore,"especialidades"));yield og(n,{nombre:e})})}getEspecialidades(){return b(this,null,function*(){let e=ad(this.firestore,"especialidades");return(yield ig(e)).docs.map(r=>j({id:r.id},r.data()))})}getEspecialidad(e){return b(this,null,function*(){let n=Wr(this.firestore,`especialidades/${e}`),r=yield rg(n);if(r.exists())return j({id:r.id},r.data());throw new Error("No se encontr\xF3 la especialidad")})}updateEspecialidad(e,n){return b(this,null,function*(){let r=Wr(this.firestore,`especialidades/${e}`);yield Bc(r,{nombre:n})})}static \u0275fac=function(n){return new(n||t)(J(Ni))};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})};function xG(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function MG(t,e){t&1&&(L(0,"div"),U(1,"Solo se permiten letras."),P())}function NG(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function PG(t,e){t&1&&(L(0,"div"),U(1,"Solo se permiten letras."),P())}function kG(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function OG(t,e){t&1&&(L(0,"div"),U(1,"La edad m\xEDnima es 18 a\xF1os."),P())}function FG(t,e){t&1&&(L(0,"div"),U(1,"La edad m\xE1xima es 99 a\xF1os."),P())}function LG(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function VG(t,e){t&1&&(L(0,"div"),U(1,"El DNI debe tener 8 d\xEDgitos."),P())}function UG(t,e){if(t&1){let n=Nr();L(0,"div")(1,"input",22),Ie("change",function(i){xr(n);let o=Pr();return Mr(o.onEspecialidadChange(i))}),P(),U(2),P()}if(t&2){let n=e.$implicit;Q(),Y("value",n),Q(),Gf(" ",n," ")}}function jG(t,e){t&1&&(L(0,"div")(1,"p"),U(2,"No hay especialidades disponibles. Puedes agregar una nueva a continuaci\xF3n:"),P()())}function BG(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function $G(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio si no hay especialidades disponibles."),P())}function HG(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function qG(t,e){t&1&&(L(0,"div"),U(1,"El formato del email es inv\xE1lido."),P())}function zG(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function GG(t,e){t&1&&(L(0,"div"),U(1,"La contrase\xF1a debe tener al menos 6 caracteres."),P())}function WG(t,e){t&1&&(L(0,"div"),U(1,"Se debe cargar una imagen."),P())}function KG(t,e){if(t&1){let n=Nr();L(0,"div")(1,"re-captcha",23),Ie("resolved",function(i){xr(n);let o=Pr();return Mr(o.onCaptchaResolved(i))}),P()()}}function QG(t,e){t&1&&(L(0,"div")(1,"span"),U(2,"Captcha completado con \xE9xito"),P()())}var Rg=class t{constructor(e,n,r,i){this.fb=e;this.authService=n;this.router=r;this.especialidadService=i;this.especialistaForm=this.fb.group({nombre:["",[ce.required,ce.pattern("^[a-zA-Z ]*$")]],apellido:["",[ce.required,ce.pattern("^[a-zA-Z ]*$")]],edad:["",[ce.required,ce.min(18),ce.max(99)]],dni:["",[ce.required,ce.pattern("^[0-9]{8}$")]],especialidades:this.fb.array([],ce.required),nuevaEspecialidad:[""],email:["",[ce.required,ce.email]],password:["",[ce.required,ce.minLength(6)]],imagenes:this.fb.array([],ce.required)})}especialistaForm;allowedFileTypes=["image/jpeg","image/png","image/gif"];maxFileSize=2*1024*1024;especialidades=[];captchaValido=!1;ngOnInit(){this.loadEspecialidades()}loadEspecialidades(){this.especialidadService.getEspecialidades().then(e=>{this.especialidades=e.map(n=>n.nombre)})}onEspecialidadChange(e){let n=this.especialistaForm.get("especialidades");if(e.target.checked)n.push(this.fb.control(e.target.value));else{let r=n.controls.findIndex(i=>i.value===e.target.value);r>=0&&n.removeAt(r)}}agregarNuevaEspecialidad(){let e=this.especialistaForm.get("nuevaEspecialidad")?.value?.trim();if(!e){yn.default.fire("Advertencia","Ingresa una nueva especialidad antes de agregarla.","warning");return}if(this.especialidades.includes(e)){yn.default.fire("Advertencia","La especialidad ya existe en la lista.","warning");return}this.especialidadService.addEspecialidad(e).then(()=>{yn.default.fire("\xC9xito","Nueva especialidad agregada correctamente.","success"),this.loadEspecialidades(),this.especialistaForm.get("nuevaEspecialidad")?.reset()}).catch(n=>{yn.default.fire("Error","No se pudo agregar la especialidad.","error")})}agregarImagen(e){let n=e.target,r=this.especialistaForm.get("imagenes");if(n.files&&n.files.length>0){let i=n.files[0];if(!this.allowedFileTypes.includes(i.type)){yn.default.fire("Tipo de archivo no v\xE1lido","Por favor, sube una imagen en formato JPEG, PNG o GIF.","error");return}if(i.size>this.maxFileSize){yn.default.fire("Tama\xF1o de archivo excedido","El tama\xF1o m\xE1ximo permitido es de 2 MB.","error");return}r.clear(),r.push(this.fb.control(i))}}mostrarError(e,n){let r=this.especialistaForm.get(e);return r?r.hasError(n)&&(r.dirty||r.touched):!1}guardarEspecialista(){return b(this,null,function*(){if(this.especialistaForm.valid&&this.captchaValido){let e=this.especialistaForm.get("especialidades"),n=this.especialistaForm.get("nuevaEspecialidad")?.value;if(e.length===0&&n)e.push(this.fb.control(n));else if(e.length===0){yn.default.fire("Advertencia","Debes seleccionar al menos una especialidad o agregar una nueva.","warning");return}yn.default.fire({title:"Cargando...",text:"Por favor, espera un momento.",allowOutsideClick:!1}),yn.default.showLoading();let i=this.especialistaForm.get("imagenes").at(0).value;try{let o=yield this.authService.uploadImage(i),s=le(j({},this.especialistaForm.value),{especialidades:e.value,role:"especialista",imageUrl:o});delete s.imagenes,yield this.authService.registerUser(s.email,s.password,s,"especialista"),yn.default.fire("Registro exitoso","El especialista ha sido registrado correctamente","success"),this.router.navigate(["/bienvenida"])}catch(o){yn.default.fire("Error",`Ha ocurrido un error durante la subida de la imagen: ${o}`,"error")}finally{yn.default.close()}}else yn.default.fire("Formulario inv\xE1lido","Por favor, completa todos los campos","warning")})}onCaptchaResolved(e){this.captchaValido=!!e}static \u0275fac=function(n){return new(n||t)(K(Yc),K(qn),K(Ot),K(Sg))};static \u0275cmp=hn({type:t,selectors:[["app-registro-especialista"]],decls:61,vars:22,consts:[[3,"ngSubmit","formGroup"],["for","nombre"],["id","nombre","formControlName","nombre"],[4,"ngIf"],["for","apellido"],["id","apellido","formControlName","apellido"],["for","edad"],["id","edad","type","number","formControlName","edad"],["for","dni"],["id","dni","formControlName","dni"],[4,"ngFor","ngForOf"],["for","nuevaEspecialidad"],["id","nuevaEspecialidad","formControlName","nuevaEspecialidad","placeholder","Si no est\xE1 en la lista, ingr\xE9sela aqu\xED"],["type","button",3,"click"],["for","email"],["id","email","formControlName","email"],["for","password"],["id","password","type","password","formControlName","password"],["for","imagenes"],["type","file",3,"change"],[1,"captcha-container"],["type","submit",3,"disabled"],["type","checkbox",3,"change","value"],["siteKey","6LeSo3oqAAAAAIQ5hamDg0b7J9m9D7QuO2Jj0fXc",3,"resolved"]],template:function(n,r){n&1&&(L(0,"form",0),Ie("ngSubmit",function(){return r.guardarEspecialista()}),L(1,"div")(2,"label",1),U(3,"Nombre:"),P(),we(4,"input",2),Ne(5,xG,2,0,"div",3)(6,MG,2,0,"div",3),P(),L(7,"div")(8,"label",4),U(9,"Apellido:"),P(),we(10,"input",5),Ne(11,NG,2,0,"div",3)(12,PG,2,0,"div",3),P(),L(13,"div")(14,"label",6),U(15,"Edad:"),P(),we(16,"input",7),Ne(17,kG,2,0,"div",3)(18,OG,2,0,"div",3)(19,FG,2,0,"div",3),P(),L(20,"div")(21,"label",8),U(22,"DNI:"),P(),we(23,"input",9),Ne(24,LG,2,0,"div",3)(25,VG,2,0,"div",3),P(),L(26,"div")(27,"label"),U(28,"Especialidades:"),P(),Ne(29,UG,3,2,"div",10)(30,jG,3,0,"div",3)(31,BG,2,0,"div",3),P(),L(32,"div")(33,"label",11),U(34,"Nueva Especialidad:"),P(),we(35,"input",12),L(36,"button",13),Ie("click",function(){return r.agregarNuevaEspecialidad()}),U(37,"Agregar Nueva Especialidad"),P(),Ne(38,$G,2,0,"div",3),P(),L(39,"div")(40,"label",14),U(41,"Email:"),P(),we(42,"input",15),Ne(43,HG,2,0,"div",3)(44,qG,2,0,"div",3),P(),L(45,"div")(46,"label",16),U(47,"Contrase\xF1a:"),P(),we(48,"input",17),Ne(49,zG,2,0,"div",3)(50,GG,2,0,"div",3),P(),L(51,"div")(52,"label",18),U(53,"Im\xE1genes:"),P(),L(54,"input",19),Ie("change",function(o){return r.agregarImagen(o)}),P(),Ne(55,WG,2,0,"div",3),P(),L(56,"div",20),Ne(57,KG,2,0,"div",3)(58,QG,3,0,"div",3),P(),L(59,"button",21),U(60,"Registrar Especialista"),P()()),n&2&&(Y("formGroup",r.especialistaForm),Q(5),Y("ngIf",r.mostrarError("nombre","required")),Q(),Y("ngIf",r.mostrarError("nombre","pattern")),Q(5),Y("ngIf",r.mostrarError("apellido","required")),Q(),Y("ngIf",r.mostrarError("apellido","pattern")),Q(5),Y("ngIf",r.mostrarError("edad","required")),Q(),Y("ngIf",r.mostrarError("edad","min")),Q(),Y("ngIf",r.mostrarError("edad","max")),Q(5),Y("ngIf",r.mostrarError("dni","required")),Q(),Y("ngIf",r.mostrarError("dni","pattern")),Q(4),Y("ngForOf",r.especialidades),Q(),Y("ngIf",r.especialidades.length===0),Q(),Y("ngIf",r.mostrarError("especialidades","required")),Q(7),Y("ngIf",r.mostrarError("nuevaEspecialidad","required")),Q(5),Y("ngIf",r.mostrarError("email","required")),Q(),Y("ngIf",r.mostrarError("email","email")),Q(5),Y("ngIf",r.mostrarError("password","required")),Q(),Y("ngIf",r.mostrarError("password","minlength")),Q(5),Y("ngIf",r.mostrarError("imagenes","required")),Q(2),Y("ngIf",!r.captchaValido),Q(),Y("ngIf",r.captchaValido),Q(),Y("disabled",!r.captchaValido))},dependencies:[SA,yo,Uo,Qr,Zs,Lo,Vo,Js,Xs,Zc],styles:['@charset "UTF-8";form[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;padding:30px;border:2px solid #007bff;border-radius:15px;background-color:#e0f7fa;box-shadow:0 4px 20px #0003}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#007bff}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #007bff;border-radius:6px;font-size:16px;margin-bottom:15px;box-sizing:border-box;transition:border-color .3s,background-color .3s;background-color:#f1f1f1}input[type=text][_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus, input[type=email][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{border-color:#0056b3;outline:none;background-color:#fff}input[type=file][_ngcontent-%COMP%]{margin-bottom:10px}div[ngIf][_ngcontent-%COMP%]{color:#dc3545;font-size:.9em;margin-top:-10px;margin-bottom:10px}button[type=submit][_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:12px 15px;border:none;border-radius:6px;cursor:pointer;transition:background-color .3s,transform .2s;width:100%;font-size:1em}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:translateY(-2px)}div[_ngcontent-%COMP%]{margin-bottom:20px}']})};var vn=ph(Ed());function ZG(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function JG(t,e){t&1&&(L(0,"div"),U(1,"Solo se permiten letras."),P())}function XG(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function e6(t,e){t&1&&(L(0,"div"),U(1,"Solo se permiten letras."),P())}function t6(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function n6(t,e){t&1&&(L(0,"div"),U(1,"La edad m\xEDnima es 18 a\xF1os."),P())}function r6(t,e){t&1&&(L(0,"div"),U(1,"La edad m\xE1xima es 99 a\xF1os."),P())}function i6(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function o6(t,e){t&1&&(L(0,"div"),U(1,"El DNI debe tener 8 d\xEDgitos."),P())}function s6(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function a6(t,e){t&1&&(L(0,"div"),U(1,"Formato de email inv\xE1lido."),P())}function c6(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function u6(t,e){t&1&&(L(0,"div"),U(1,"La contrase\xF1a debe tener al menos 6 caracteres."),P())}function l6(t,e){t&1&&(L(0,"div"),U(1,"Debes subir al menos 1 imagen."),P())}function d6(t,e){if(t&1){let n=Nr();L(0,"div")(1,"re-captcha",18),Ie("resolved",function(i){xr(n);let o=Pr();return Mr(o.onCaptchaResolved(i))}),P()()}}function h6(t,e){t&1&&(L(0,"div")(1,"span"),U(2,"Captcha completado con \xE9xito"),P()())}var xg=class t{constructor(e,n,r){this.fb=e;this.authService=n;this.router=r;this.adminForm=this.fb.group({nombre:["",[ce.required,ce.pattern("^[a-zA-Z ]*$")]],apellido:["",[ce.required,ce.pattern("^[a-zA-Z ]*$")]],edad:["",[ce.required,ce.min(18),ce.max(99)]],dni:["",[ce.required,ce.pattern("^[0-9]{8,8}$")]],email:["",[ce.required,ce.email]],password:["",[ce.required,ce.minLength(6)]],imagenes:this.fb.array([],[ce.required])})}adminForm;allowedFileTypes=["image/jpeg","image/png","image/gif"];maxFileSize=2*1024*1024;captchaValido=!1;agregarImagen(e){let n=e.target,r=this.adminForm.get("imagenes");if(n.files&&n.files.length>0){let i=n.files[0];if(!this.allowedFileTypes.includes(i.type)){vn.default.fire("Tipo de archivo no v\xE1lido","Por favor, sube una imagen en formato JPEG, PNG o GIF.","error");return}if(i.size>this.maxFileSize){vn.default.fire("Tama\xF1o de archivo excedido","El tama\xF1o m\xE1ximo permitido es de 2 MB.","error");return}r.length<1?r.push(this.fb.control(i)):vn.default.fire("Error","Solo se permite subir una imagen.","error")}}uploadImage(e){return b(this,null,function*(){try{return yield this.authService.uploadImage(e)}catch(n){throw console.error("Error al subir la imagen:",n),vn.default.fire("Error al subir la imagen","Hubo un problema al subir la imagen. Por favor, intenta de nuevo.","error"),n}})}mostrarError(e,n){let r=this.adminForm.get(e);return r?r.hasError(n)&&(r.dirty||r.touched):!1}guardarAdmin(){return b(this,null,function*(){if(this.adminForm.valid&&this.captchaValido){let e=this.adminForm.get("imagenes");if(e.length!==1){vn.default.fire("Error","Debes subir exactamente 1 imagen.","error");return}let n=e.at(0).value;vn.default.fire({title:"Cargando...",text:"Por favor, espera un momento.",allowOutsideClick:!1,didOpen:()=>{vn.default.showLoading()}});try{let r=yield this.uploadImage(n),i=le(j({},this.adminForm.value),{role:"administrador",imageUrl:r});delete i.imagenes,yield this.authService.registerUser(i.email,i.password,i,"administrador"),vn.default.fire("Registro exitoso","El administrador ha sido registrado correctamente","success"),this.adminForm.reset(),this.router.navigate(["/bienvenida"])}catch{vn.default.fire("Error","Ha ocurrido un error durante el registro","error")}finally{vn.default.close()}}else vn.default.fire("Formulario inv\xE1lido","Por favor, completa todos los campos","warning")})}onCaptchaResolved(e){e?(this.captchaValido=!0,vn.default.fire("Captcha validado","Captcha verificado correctamente","success")):(this.captchaValido=!1,vn.default.fire("Captcha inv\xE1lido","Por favor, resuelve el CAPTCHA correctamente","error"))}static \u0275fac=function(n){return new(n||t)(K(Yc),K(qn),K(Ot))};static \u0275cmp=hn({type:t,selectors:[["app-registro-admin"]],decls:48,vars:18,consts:[[3,"ngSubmit","formGroup"],["for","nombre"],["id","nombre","formControlName","nombre"],[4,"ngIf"],["for","apellido"],["id","apellido","formControlName","apellido"],["for","edad"],["id","edad","type","number","formControlName","edad"],["for","dni"],["id","dni","formControlName","dni"],["for","email"],["id","email","formControlName","email"],["for","password"],["id","password","type","password","formControlName","password"],["for","imagen"],["type","file",3,"change"],[1,"captcha-container"],["type","submit",3,"disabled"],["siteKey","6LeSo3oqAAAAAIQ5hamDg0b7J9m9D7QuO2Jj0fXc",3,"resolved"]],template:function(n,r){n&1&&(L(0,"form",0),Ie("ngSubmit",function(){return r.guardarAdmin()}),L(1,"div")(2,"label",1),U(3,"Nombre:"),P(),we(4,"input",2),Ne(5,ZG,2,0,"div",3)(6,JG,2,0,"div",3),P(),L(7,"div")(8,"label",4),U(9,"Apellido:"),P(),we(10,"input",5),Ne(11,XG,2,0,"div",3)(12,e6,2,0,"div",3),P(),L(13,"div")(14,"label",6),U(15,"Edad:"),P(),we(16,"input",7),Ne(17,t6,2,0,"div",3)(18,n6,2,0,"div",3)(19,r6,2,0,"div",3),P(),L(20,"div")(21,"label",8),U(22,"DNI:"),P(),we(23,"input",9),Ne(24,i6,2,0,"div",3)(25,o6,2,0,"div",3),P(),L(26,"div")(27,"label",10),U(28,"Email:"),P(),we(29,"input",11),Ne(30,s6,2,0,"div",3)(31,a6,2,0,"div",3),P(),L(32,"div")(33,"label",12),U(34,"Contrase\xF1a:"),P(),we(35,"input",13),Ne(36,c6,2,0,"div",3)(37,u6,2,0,"div",3),P(),L(38,"div")(39,"label",14),U(40,"Sube 1 imagen:"),P(),L(41,"input",15),Ie("change",function(o){return r.agregarImagen(o)}),P(),Ne(42,l6,2,0,"div",3),P(),L(43,"div",16),Ne(44,d6,2,0,"div",3)(45,h6,3,0,"div",3),P(),L(46,"button",17),U(47,"Registrar Administrador"),P()()),n&2&&(Y("formGroup",r.adminForm),Q(5),Y("ngIf",r.mostrarError("nombre","required")),Q(),Y("ngIf",r.mostrarError("nombre","pattern")),Q(5),Y("ngIf",r.mostrarError("apellido","required")),Q(),Y("ngIf",r.mostrarError("apellido","pattern")),Q(5),Y("ngIf",r.mostrarError("edad","required")),Q(),Y("ngIf",r.mostrarError("edad","min")),Q(),Y("ngIf",r.mostrarError("edad","max")),Q(5),Y("ngIf",r.mostrarError("dni","required")),Q(),Y("ngIf",r.mostrarError("dni","pattern")),Q(5),Y("ngIf",r.mostrarError("email","required")),Q(),Y("ngIf",r.mostrarError("email","email")),Q(5),Y("ngIf",r.mostrarError("password","required")),Q(),Y("ngIf",r.mostrarError("password","minlength")),Q(5),Y("ngIf",r.mostrarError("imagenes","required")),Q(2),Y("ngIf",!r.captchaValido),Q(),Y("ngIf",r.captchaValido),Q(),Y("disabled",!r.captchaValido))},dependencies:[yo,Uo,Qr,Zs,Lo,Vo,Js,Xs,Zc],styles:['@charset "UTF-8";form[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;padding:30px;border:1px solid #007bff;border-radius:10px;background-color:#e0f7fa;box-shadow:0 4px 20px #0003}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:8px;display:block;color:#007bff}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #007bff;border-radius:6px;margin-bottom:15px;box-sizing:border-box;transition:border-color .3s,background-color .3s;background-color:#f1f1f1}input[type=text][_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus, input[type=email][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus{border-color:#0056b3;outline:none;background-color:#fff}div[ngIf][_ngcontent-%COMP%]{color:#dc3545;font-size:.9em;margin-top:-10px;margin-bottom:10px}button[type=submit][_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:12px 15px;border:none;border-radius:6px;cursor:pointer;transition:background-color .3s,transform .2s;width:100%;font-size:1em}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:translateY(-2px)}input[type=text][_ngcontent-%COMP%]:hover, input[type=number][_ngcontent-%COMP%]:hover, input[type=email][_ngcontent-%COMP%]:hover, input[type=password][_ngcontent-%COMP%]:hover{border-color:#0056b3}']})};function p6(t,e){if(t&1){let n=Nr();L(0,"button",2),Ie("click",function(){xr(n);let i=Pr();return Mr(i.cambiarTipoUsuario("administrador"))}),we(1,"img",8),L(2,"span"),U(3,"Administrador"),P()()}}function m6(t,e){t&1&&(L(0,"div")(1,"h2",9),U(2,"Registro del Especialista"),P(),we(3,"app-registro-especialista"),P())}function g6(t,e){t&1&&(L(0,"div")(1,"h2",9),U(2,"Registro del Paciente"),P(),we(3,"app-registro-paciente"),P())}function y6(t,e){t&1&&(L(0,"div")(1,"h2",9),U(2,"Registro del Administrador"),P(),we(3,"app-registro-admin"),P())}function v6(t,e){if(t&1){let n=Nr();L(0,"div",10)(1,"span"),U(2,"\xBFYa tienes una cuenta?"),P(),L(3,"a",11),Ie("click",function(){xr(n);let i=Pr();return Mr(i.goTo("/authentication/login"))}),U(4,"Iniciar sesi\xF3n"),P()()}}var Mg=class t{constructor(e,n){this.authService=e;this.router=n}tipoUsuario="paciente";esAdmin=!1;ngOnInit(){this.authService.getUser().subscribe(e=>{e&&e.role==="administrador"&&(this.esAdmin=!0)})}cambiarTipoUsuario(e){this.tipoUsuario=e}goTo(e){this.router.navigate([e])}static \u0275fac=function(n){return new(n||t)(K(qn),K(Ot))};static \u0275cmp=hn({type:t,selectors:[["app-registro"]],decls:16,vars:5,consts:[[1,"registro-titulo"],[1,"user-type-selection"],[1,"user-type-button",3,"click"],["src","logoPaciente.png","alt","Paciente"],["src","logoEspecialista.png","alt","Especialista"],["class","user-type-button",3,"click",4,"ngIf"],[4,"ngIf"],["class","text-center mt-3 cuenta-texto",4,"ngIf"],["src","logoAdministrador.png","alt","Administrador"],[1,"registro-subtitulo"],[1,"text-center","mt-3","cuenta-texto"],["id","iniciar-sesion",1,"text-decoration-none","iniciar-sesion-link",3,"click"]],template:function(n,r){n&1&&(L(0,"h2",0),U(1,"Bienvenido al Registro"),P(),L(2,"div",1)(3,"button",2),Ie("click",function(){return r.cambiarTipoUsuario("paciente")}),we(4,"img",3),L(5,"span"),U(6,"Paciente"),P()(),L(7,"button",2),Ie("click",function(){return r.cambiarTipoUsuario("especialista")}),we(8,"img",4),L(9,"span"),U(10,"Especialista"),P()(),Ne(11,p6,4,0,"button",5),P(),Ne(12,m6,4,0,"div",6)(13,g6,4,0,"div",6)(14,y6,4,0,"div",6)(15,v6,5,0,"div",7)),n&2&&(Q(11),Y("ngIf",r.esAdmin),Q(),Y("ngIf",r.tipoUsuario==="especialista"),Q(),Y("ngIf",r.tipoUsuario==="paciente"),Q(),Y("ngIf",r.tipoUsuario==="administrador"),Q(),Y("ngIf",r.tipoUsuario!="administrador"))},dependencies:[yo,Dg,Rg,xg],styles:[".registro-titulo[_ngcontent-%COMP%]{text-align:center;color:#154360;font-size:1.8rem;font-weight:700}.registro-subtitulo[_ngcontent-%COMP%]{text-align:center;color:#1e8449;font-size:1.5rem;font-weight:700;margin-top:1.5rem}.user-type-selection[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1.5rem;margin-top:2rem}.user-type-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:1rem;width:150px;height:200px;border:none;background-color:#f2f3f4;border-radius:8px;box-shadow:0 4px 8px #0000001a;cursor:pointer;transition:transform .2s ease,background-color .2s ease}.user-type-button[_ngcontent-%COMP%]:hover{background-color:#60db94;transform:scale(1.05)}img[_ngcontent-%COMP%]{width:80px;height:80px;margin-bottom:.5rem}span[_ngcontent-%COMP%]{font-weight:700;color:#071721;margin-top:.5rem}.cuenta-texto[_ngcontent-%COMP%]{font-size:.9rem;color:#154360;text-align:center;margin-top:1rem}.iniciar-sesion-link[_ngcontent-%COMP%]{color:#0b311b;font-weight:700;text-decoration:none;margin-left:.3rem}.iniciar-sesion-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.captcha-container[_ngcontent-%COMP%]{margin-top:15px}.captcha-label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-control[_ngcontent-%COMP%]{padding:10px;width:100%;border-radius:5px;border:1px solid #ddd}"]})};var p0=ph(Ed());var Ng=class t{constructor(e,n){this.authService=e;this.router=n}userMail="";userPWD="";msjError="";Login(){this.authService.login(this.userMail,this.userPWD).then(()=>{p0.default.fire({icon:"success",title:"\xA1Bienvenido!",text:"Has iniciado sesi\xF3n con \xE9xito.",timer:2e3,showConfirmButton:!1}),this.router.navigate(["/bienvenida"])}).catch(e=>{this.manejarErrores(e)})}manejarErrores(e){switch(e.code){case"auth/invalid-email":this.msjError="Email inv\xE1lido. Por favor, verifica el formato del correo.";break;case"auth/user-not-found":this.msjError="Usuario no encontrado. Por favor, revisa tus credenciales.";break;case"auth/wrong-password":this.msjError="Contrase\xF1a incorrecta. Vuelve a intentarlo.";break;case"auth/missing-password":this.msjError="Se necesita la contrase\xF1a.";break;case"auth/invalid-credential":this.msjError="Las credenciales no son v\xE1lidas.";break;default:this.msjError="Error: "+e.message;break}p0.default.fire({icon:"error",title:"Error en el inicio de sesi\xF3n",text:this.msjError,showConfirmButton:!0})}goTo(e){this.router.navigate([e])}setQuickAccess(e,n){this.userMail=e,this.userPWD=n}static \u0275fac=function(n){return new(n||t)(K(qn),K(Ot))};static \u0275cmp=hn({type:t,selectors:[["app-login"]],decls:37,vars:2,consts:[[1,"overlay","d-flex","justify-content-center","align-items-center","vh-100"],[1,"card","p-4","shadow-lg",2,"width","600px","border-radius","20px"],[1,"text-center","mb-4"],[1,"quick-access-container","text-center","mb-3"],["type","button",1,"btn","quick-access-btn",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/prog2-c4fdc.appspot.com/o/images%2Fadmin1.jpeg?alt=media&token=a57cbd55-f2e1-4757-af16-eff8bdafa8bb","alt","Admin",1,"profile-image"],["src","https://firebasestorage.googleapis.com/v0/b/prog2-c4fdc.appspot.com/o/images%2FprimerPaciente2.jpeg?alt=media&token=99602e1f-cbf5-4875-9578-4abed68d326e","alt","Paciente 1",1,"profile-image"],["src","https://firebasestorage.googleapis.com/v0/b/prog2-c4fdc.appspot.com/o/images%2FsegundoPaciente2.jpeg?alt=media&token=5810d4e8-b42d-4700-92f7-9c2b0555f6e5","alt","Paciente 2",1,"profile-image"],["src","https://firebasestorage.googleapis.com/v0/b/prog2-c4fdc.appspot.com/o/images%2FtercerPaciente2.jpeg?alt=media&token=2db42b31-2a1c-4089-9cbb-83e135bde901","alt","Paciente 3",1,"profile-image"],["src","https://firebasestorage.googleapis.com/v0/b/prog2-c4fdc.appspot.com/o/images%2Fespecialista1.jpeg?alt=media&token=bf238ea3-3895-4bce-8c26-f4d0230180ec","alt","Especialista 1",1,"profile-image"],["src","https://firebasestorage.googleapis.com/v0/b/prog2-c4fdc.appspot.com/o/images%2Fespecialista2.jpeg?alt=media&token=6f0acb41-2667-4bf3-b506-c2a4da7a2e21","alt","Especialista 2",1,"profile-image"],[3,"ngSubmit"],[1,"form-group"],["for","nombre"],["type","email","id","nombre","name","email","placeholder","Ingrese su email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","clave"],["type","password","id","clave","name","password","placeholder","Ingrese su contrase\xF1a","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-center","mb-3"],["id","olvido-contrasena",1,"text-decoration-none"],["type","submit",1,"btn","btn-warning","btn-block","rounded-pill","font-weight-bold"],[1,"text-center","mt-3"],["id","registrarse",1,"text-decoration-none",3,"click"]],template:function(n,r){n&1&&(L(0,"div",0)(1,"div",1)(2,"h1",2),U(3,"Inicio Sesi\xF3n"),P(),L(4,"div",3)(5,"button",4),Ie("click",function(){return r.setQuickAccess("celusal704@gmail.com","123456")}),we(6,"img",5),P(),L(7,"button",4),Ie("click",function(){return r.setQuickAccess("demaiojuanpablo05@gmail.com","123456")}),we(8,"img",6),P(),L(9,"button",4),Ie("click",function(){return r.setQuickAccess("whole.bovid.bmlb@flashpost.net","123456")}),we(10,"img",7),P(),L(11,"button",4),Ie("click",function(){return r.setQuickAccess("surprising.amphibian.jhgc@flashpost.net","123456")}),we(12,"img",8),P(),L(13,"button",4),Ie("click",function(){return r.setQuickAccess("demaiojuanpablo2005@gmail.com","123456")}),we(14,"img",9),P(),L(15,"button",4),Ie("click",function(){return r.setQuickAccess("integral.pig.qzgk@flashpost.net","123456")}),we(16,"img",10),P()(),L(17,"form",11),Ie("ngSubmit",function(){return r.Login()}),L(18,"div",12)(19,"label",13),U(20,"Email"),P(),L(21,"input",14),Kf("ngModelChange",function(o){return hw(r.userMail,o)||(r.userMail=o),o}),P()(),L(22,"div",12)(23,"label",15),U(24,"Contrase\xF1a"),P(),L(25,"input",16),Kf("ngModelChange",function(o){return hw(r.userPWD,o)||(r.userPWD=o),o}),P()(),L(26,"div",17)(27,"a",18),U(28,"\xBFOlvid\xF3 su contrase\xF1a?"),P()(),L(29,"button",19),U(30,"Ingresar"),P(),L(31,"div",20)(32,"div")(33,"span"),U(34,"\xBFNo tienes una cuenta?"),P(),L(35,"a",21),Ie("click",function(){return r.goTo("/authentication/registro")}),U(36,"Registrarse"),P()()()()()()),n&2&&(Q(21),Wf("ngModel",r.userMail),Q(4),Wf("ngModel",r.userPWD))},dependencies:[Uo,Qr,Lo,Vo,d0,l0,u0],styles:['@charset "UTF-8";body[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Oswald,sans-serif;background-color:#2a2a2a}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(#000000b3,#000000b3);display:flex;justify-content:center;align-items:center;z-index:-1}.card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#b7f4f9e6;border:none;box-shadow:0 4px 8px #0003;border-radius:20px;padding:40px;width:600px;height:auto;max-width:90%;min-height:600px;margin:20px auto;text-align:center}h1[_ngcontent-%COMP%]{color:#333;text-align:center;margin-bottom:25px}.form-control[_ngcontent-%COMP%]{padding:15px;background-color:#fff;border-radius:10px;border:2px solid #ddd;transition:all .3s ease;text-align:center;width:250px}.form-control[_ngcontent-%COMP%]:focus{border-color:#fc0;box-shadow:0 0 8px #ffcc0080}label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;display:block}#registrarse[_ngcontent-%COMP%], #olvido-contrasena[_ngcontent-%COMP%]{margin:5px 0;font-weight:700;color:#000;text-decoration:none}#registrarse[_ngcontent-%COMP%]:hover, #olvido-contrasena[_ngcontent-%COMP%]:hover{color:#fc0;cursor:pointer}span[_ngcontent-%COMP%]{font-weight:700}button[_ngcontent-%COMP%]{background-color:#fc0;border-radius:50px;padding:10px 20px;font-weight:700;border:none;transition:all .3s ease;box-shadow:0 4px 6px #0003;margin:10px}button[_ngcontent-%COMP%]:hover{background-color:#ffcc0083;transform:scale(1.05);box-shadow:0 6px 8px #0000004d}button[_ngcontent-%COMP%]:focus{outline:none}.quick-access-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:20px;width:100%;flex-wrap:wrap}.quick-access-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#fff;color:#333;border:2px solid #ddd;border-radius:10px;padding:8px;text-decoration:none;margin:5px;width:80px;transition:all .3s ease;font-size:.9em}.quick-access-btn[_ngcontent-%COMP%]:hover{background-color:#fc0;color:#fff}.quick-access-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:33px;border-radius:50%}']})};var w6=[{path:"registro",component:Mg},{path:"login",component:Ng}],Pg=class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=ct({type:t});static \u0275inj=at({imports:[dc.forChild(w6),dc]})};var _6=[],kg=class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=ct({type:t});static \u0275inj=at({imports:[dc.forChild(_6),dc]})};var Og=class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=ct({type:t});static \u0275inj=at({imports:[zu,kg,bP,Tg]})};var CP=class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=ct({type:t});static \u0275inj=at({imports:[zu,_P,wP,Pg,Og,Tg]})};export{pe as a,ee as b,at as c,J as d,hn as e,ct as f,xr as g,Mr as h,We as i,BQ as j,Q as k,K as l,Ne as m,Y as n,L as o,P as p,we as q,Nr as r,Ie as s,Pr as t,vV as u,XD as v,U as w,EV as x,Gf as y,IV as z,Wf as A,hw as B,Kf as C,tA as D,zQ as E,GQ as F,WQ as G,KQ as H,QQ as I,YQ as J,ZQ as K,_Y as L,SA as M,yo as N,EY as O,IY as P,zu as Q,FY as R,cZ as S,qU as T,Ot as U,xZ as V,dc as W,Qr as X,ce as Y,Lo as Z,Vo as _,u0 as $,l0 as aa,Uo as ba,Js as ca,Xs as da,gP as ea,Gte as fa,Wte as ga,Yc as ha,wP as ia,_P as ja,vJ as ka,wJ as la,hX as ma,fX as na,Ni as oa,Wee as pa,ad as qa,Wr as ra,rg as sa,ig as ta,Kee as ua,Qee as va,og as wa,Yee as xa,qn as ya,Ed as za,Sg as Aa,Mg as Ba,CP as Ca};
