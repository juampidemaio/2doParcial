import{a as j,b as le,d as wk,e as gh,f as eo,g as b}from"./chunk-RA2WU32H.js";var bd=wk((Xr,v0)=>{"use strict";(function(t,e){typeof Xr=="object"&&typeof v0<"u"?v0.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.Sweetalert2=e())})(Xr,function(){"use strict";function t(l,h,y){if(typeof l=="function"?l===h:l.has(h))return arguments.length<3?h:y;throw new TypeError("Private element is not present on this object")}function e(l,h){if(h.has(l))throw new TypeError("Cannot initialize the same private elements twice on an object")}function n(l,h){return l.get(t(l,h))}function r(l,h,y){e(l,h),h.set(l,y)}function i(l,h,y){return l.set(t(l,h),y),y}let o=100,s={},a=()=>{s.previousActiveElement instanceof HTMLElement?(s.previousActiveElement.focus(),s.previousActiveElement=null):document.body&&document.body.focus()},u=l=>new Promise(h=>{if(!l)return h();let y=window.scrollX,_=window.scrollY;s.restoreFocusTimeout=setTimeout(()=>{a(),h()},o),window.scrollTo(y,_)}),d="swal2-",m=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((l,h)=>(l[h]=d+h,l),{}),E=["success","warning","info","question","error"].reduce((l,h)=>(l[h]=d+h,l),{}),x="SweetAlert2:",F=l=>l.charAt(0).toUpperCase()+l.slice(1),N=l=>{console.warn(`${x} ${typeof l=="object"?l.join(" "):l}`)},B=l=>{console.error(`${x} ${l}`)},J=[],q=l=>{J.includes(l)||(J.push(l),N(l))},ne=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;q(`"${l}" is deprecated and will be removed in the next major release.${h?` Use "${h}" instead.`:""}`)},ye=l=>typeof l=="function"?l():l,ie=l=>l&&typeof l.toPromise=="function",D=l=>ie(l)?l.toPromise():Promise.resolve(l),I=l=>l&&Promise.resolve(l)===l,C=()=>document.body.querySelector(`.${m.container}`),S=l=>{let h=C();return h?h.querySelector(l):null},A=l=>S(`.${l}`),R=()=>A(m.popup),T=()=>A(m.icon),Wn=()=>A(m["icon-content"]),Fi=()=>A(m.title),eu=()=>A(m["html-container"]),Li=()=>A(m.image),ei=()=>A(m["progress-steps"]),Vi=()=>A(m["validation-message"]),vn=()=>S(`.${m.actions} .${m.confirm}`),Ui=()=>S(`.${m.actions} .${m.cancel}`),zt=()=>S(`.${m.actions} .${m.deny}`),Nt=()=>A(m["input-label"]),ji=()=>S(`.${m.loader}`),Kn=()=>A(m.actions),Cd=()=>A(m.footer),gr=()=>A(m["timer-progress-bar"]),tu=()=>A(m.close),Ug=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Bi=()=>{let l=R();if(!l)return[];let h=l.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),y=Array.from(h).sort((Y,ve)=>{let Be=parseInt(Y.getAttribute("tabindex")||"0"),nt=parseInt(ve.getAttribute("tabindex")||"0");return Be>nt?1:Be<nt?-1:0}),_=l.querySelectorAll(Ug),k=Array.from(_).filter(Y=>Y.getAttribute("tabindex")!=="-1");return[...new Set(y.concat(k))].filter(Y=>jt(Y))},$i=()=>wn(document.body,m.shown)&&!wn(document.body,m["toast-shown"])&&!wn(document.body,m["no-backdrop"]),Hi=()=>{let l=R();return l?wn(l,m.toast):!1},nu=()=>{let l=R();return l?l.hasAttribute("data-loading"):!1},Ut=(l,h)=>{if(l.textContent="",h){let _=new DOMParser().parseFromString(h,"text/html"),k=_.querySelector("head");k&&Array.from(k.childNodes).forEach(ve=>{l.appendChild(ve)});let Y=_.querySelector("body");Y&&Array.from(Y.childNodes).forEach(ve=>{ve instanceof HTMLVideoElement||ve instanceof HTMLAudioElement?l.appendChild(ve.cloneNode(!0)):l.appendChild(ve)})}},wn=(l,h)=>{if(!h)return!1;let y=h.split(/\s+/);for(let _=0;_<y.length;_++)if(!l.classList.contains(y[_]))return!1;return!0},Td=(l,h)=>{Array.from(l.classList).forEach(y=>{!Object.values(m).includes(y)&&!Object.values(E).includes(y)&&!Object.values(h.showClass||{}).includes(y)&&l.classList.remove(y)})},qt=(l,h,y)=>{if(Td(l,h),!h.customClass)return;let _=h.customClass[y];if(_){if(typeof _!="string"&&!_.forEach){N(`Invalid type of customClass.${y}! Expected string or iterable object, got "${typeof _}"`);return}De(l,_)}},na=(l,h)=>{if(!h)return null;switch(h){case"select":case"textarea":case"file":return l.querySelector(`.${m.popup} > .${m[h]}`);case"checkbox":return l.querySelector(`.${m.popup} > .${m.checkbox} input`);case"radio":return l.querySelector(`.${m.popup} > .${m.radio} input:checked`)||l.querySelector(`.${m.popup} > .${m.radio} input:first-child`);case"range":return l.querySelector(`.${m.popup} > .${m.range} input`);default:return l.querySelector(`.${m.popup} > .${m.input}`)}},ru=l=>{if(l.focus(),l.type!=="file"){let h=l.value;l.value="",l.value=h}},iu=(l,h,y)=>{!l||!h||(typeof h=="string"&&(h=h.split(/\s+/).filter(Boolean)),h.forEach(_=>{Array.isArray(l)?l.forEach(k=>{y?k.classList.add(_):k.classList.remove(_)}):y?l.classList.add(_):l.classList.remove(_)}))},De=(l,h)=>{iu(l,h,!0)},_n=(l,h)=>{iu(l,h,!1)},yr=(l,h)=>{let y=Array.from(l.children);for(let _=0;_<y.length;_++){let k=y[_];if(k instanceof HTMLElement&&wn(k,h))return k}},Qn=(l,h,y)=>{y===`${parseInt(y)}`&&(y=parseInt(y)),y||parseInt(y)===0?l.style.setProperty(h,typeof y=="number"?`${y}px`:y):l.style.removeProperty(h)},at=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";l&&(l.style.display=h)},gt=l=>{l&&(l.style.display="none")},yt=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";l&&new MutationObserver(()=>{vr(l,l.innerHTML,h)}).observe(l,{childList:!0,subtree:!0})},Pt=(l,h,y,_)=>{let k=l.querySelector(h);k&&k.style.setProperty(y,_)},vr=function(l,h){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";h?at(l,y):gt(l)},jt=l=>!!(l&&(l.offsetWidth||l.offsetHeight||l.getClientRects().length)),Dd=()=>!jt(vn())&&!jt(zt())&&!jt(Ui()),Sd=l=>l.scrollHeight>l.clientHeight,zi=l=>{let h=window.getComputedStyle(l),y=parseFloat(h.getPropertyValue("animation-duration")||"0"),_=parseFloat(h.getPropertyValue("transition-duration")||"0");return y>0||_>0},ra=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=gr();y&&jt(y)&&(h&&(y.style.transition="none",y.style.width="100%"),setTimeout(()=>{y.style.transition=`width ${l/1e3}s linear`,y.style.width="0%"},10))},Ad=()=>{let l=gr();if(!l)return;let h=parseInt(window.getComputedStyle(l).width);l.style.removeProperty("transition"),l.style.width="100%";let y=parseInt(window.getComputedStyle(l).width),_=h/y*100;l.style.width=`${_}%`},ou=()=>typeof window>"u"||typeof document>"u",jg=`
 <div aria-labelledby="${m.title}" aria-describedby="${m["html-container"]}" class="${m.popup}" tabindex="-1">
   <button type="button" class="${m.close}"></button>
   <ul class="${m["progress-steps"]}"></ul>
   <div class="${m.icon}"></div>
   <img class="${m.image}" />
   <h2 class="${m.title}" id="${m.title}"></h2>
   <div class="${m["html-container"]}" id="${m["html-container"]}"></div>
   <input class="${m.input}" id="${m.input}" />
   <input type="file" class="${m.file}" />
   <div class="${m.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${m.select}" id="${m.select}"></select>
   <div class="${m.radio}"></div>
   <label class="${m.checkbox}">
     <input type="checkbox" id="${m.checkbox}" />
     <span class="${m.label}"></span>
   </label>
   <textarea class="${m.textarea}" id="${m.textarea}"></textarea>
   <div class="${m["validation-message"]}" id="${m["validation-message"]}"></div>
   <div class="${m.actions}">
     <div class="${m.loader}"></div>
     <button type="button" class="${m.confirm}"></button>
     <button type="button" class="${m.deny}"></button>
     <button type="button" class="${m.cancel}"></button>
   </div>
   <div class="${m.footer}"></div>
   <div class="${m["timer-progress-bar-container"]}">
     <div class="${m["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Bg=()=>{let l=C();return l?(l.remove(),_n([document.documentElement,document.body],[m["no-backdrop"],m["toast-shown"],m["has-column"]]),!0):!1},Yn=()=>{s.currentInstance.resetValidationMessage()},Rd=()=>{let l=R(),h=yr(l,m.input),y=yr(l,m.file),_=l.querySelector(`.${m.range} input`),k=l.querySelector(`.${m.range} output`),Y=yr(l,m.select),ve=l.querySelector(`.${m.checkbox} input`),Be=yr(l,m.textarea);h.oninput=Yn,y.onchange=Yn,Y.onchange=Yn,ve.onchange=Yn,Be.oninput=Yn,_.oninput=()=>{Yn(),k.value=_.value},_.onchange=()=>{Yn(),k.value=_.value}},xd=l=>typeof l=="string"?document.querySelector(l):l,$o=l=>{let h=R();h.setAttribute("role",l.toast?"alert":"dialog"),h.setAttribute("aria-live",l.toast?"polite":"assertive"),l.toast||h.setAttribute("aria-modal","true")},su=l=>{window.getComputedStyle(l).direction==="rtl"&&De(C(),m.rtl)},au=l=>{let h=Bg();if(ou()){B("SweetAlert2 requires document to initialize");return}let y=document.createElement("div");y.className=m.container,h&&De(y,m["no-transition"]),Ut(y,jg);let _=xd(l.target);_.appendChild(y),$o(l),su(_),Rd()},Zn=(l,h)=>{l instanceof HTMLElement?h.appendChild(l):typeof l=="object"?Md(l,h):l&&Ut(h,l)},Md=(l,h)=>{l.jquery?ia(h,l):Ut(h,l.toString())},ia=(l,h)=>{if(l.textContent="",0 in h)for(let y=0;y in h;y++)l.appendChild(h[y].cloneNode(!0));else l.appendChild(h.cloneNode(!0))},Nd=(l,h)=>{let y=Kn(),_=ji();!y||!_||(!h.showConfirmButton&&!h.showDenyButton&&!h.showCancelButton?gt(y):at(y),qt(y,h,"actions"),Ho(y,_,h),Ut(_,h.loaderHtml||""),qt(_,h,"loader"))};function Ho(l,h,y){let _=vn(),k=zt(),Y=Ui();!_||!k||!Y||(St(_,"confirm",y),St(k,"deny",y),St(Y,"cancel",y),Pd(_,k,Y,y),y.reverseButtons&&(y.toast?(l.insertBefore(Y,_),l.insertBefore(k,_)):(l.insertBefore(Y,h),l.insertBefore(k,h),l.insertBefore(_,h))))}function Pd(l,h,y,_){if(!_.buttonsStyling){_n([l,h,y],m.styled);return}De([l,h,y],m.styled),_.confirmButtonColor&&(l.style.backgroundColor=_.confirmButtonColor,De(l,m["default-outline"])),_.denyButtonColor&&(h.style.backgroundColor=_.denyButtonColor,De(h,m["default-outline"])),_.cancelButtonColor&&(y.style.backgroundColor=_.cancelButtonColor,De(y,m["default-outline"]))}function St(l,h,y){let _=F(h);vr(l,y[`show${_}Button`],"inline-block"),Ut(l,y[`${h}ButtonText`]||""),l.setAttribute("aria-label",y[`${h}ButtonAriaLabel`]||""),l.className=m[h],qt(l,y,`${h}Button`)}let kd=(l,h)=>{let y=tu();y&&(Ut(y,h.closeButtonHtml||""),qt(y,h,"closeButton"),vr(y,h.showCloseButton),y.setAttribute("aria-label",h.closeButtonAriaLabel||""))},zo=(l,h)=>{let y=C();y&&(qo(y,h.backdrop),$g(y,h.position),Hg(y,h.grow),qt(y,h,"container"))};function qo(l,h){typeof h=="string"?l.style.background=h:h||De([document.documentElement,document.body],m["no-backdrop"])}function $g(l,h){h&&(h in m?De(l,m[h]):(N('The "position" parameter is not valid, defaulting to "center"'),De(l,m.center)))}function Hg(l,h){h&&De(l,m[`grow-${h}`])}var ke={innerParams:new WeakMap,domCache:new WeakMap};let zg=["input","file","range","select","radio","checkbox","textarea"],qg=(l,h)=>{let y=R();if(!y)return;let _=ke.innerParams.get(l),k=!_||h.input!==_.input;zg.forEach(Y=>{let ve=yr(y,m[Y]);ve&&(cu(Y,h.inputAttributes),ve.className=m[Y],k&&gt(ve))}),h.input&&(k&&oa(h),sa(h))},oa=l=>{if(!l.input)return;if(!Qe[l.input]){B(`Unexpected type of input! Expected ${Object.keys(Qe).join(" | ")}, got "${l.input}"`);return}let h=uu(l.input);if(!h)return;let y=Qe[l.input](h,l);at(h),l.inputAutoFocus&&setTimeout(()=>{ru(y)})},Od=l=>{for(let h=0;h<l.attributes.length;h++){let y=l.attributes[h].name;["id","type","value","style"].includes(y)||l.removeAttribute(y)}},cu=(l,h)=>{let y=R();if(!y)return;let _=na(y,l);if(_){Od(_);for(let k in h)_.setAttribute(k,h[k])}},sa=l=>{if(!l.input)return;let h=uu(l.input);h&&qt(h,l,"input")},Nn=(l,h)=>{!l.placeholder&&h.inputPlaceholder&&(l.placeholder=h.inputPlaceholder)},qi=(l,h,y)=>{if(y.inputLabel){let _=document.createElement("label"),k=m["input-label"];_.setAttribute("for",l.id),_.className=k,typeof y.customClass=="object"&&De(_,y.customClass.inputLabel),_.innerText=y.inputLabel,h.insertAdjacentElement("beforebegin",_)}},uu=l=>{let h=R();if(h)return yr(h,m[l]||m.input)},Gi=(l,h)=>{["string","number"].includes(typeof h)?l.value=`${h}`:I(h)||N(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof h}"`)},Qe={};Qe.text=Qe.email=Qe.password=Qe.number=Qe.tel=Qe.url=Qe.search=Qe.date=Qe["datetime-local"]=Qe.time=Qe.week=Qe.month=(l,h)=>(Gi(l,h.inputValue),qi(l,l,h),Nn(l,h),l.type=h.input,l),Qe.file=(l,h)=>(qi(l,l,h),Nn(l,h),l),Qe.range=(l,h)=>{let y=l.querySelector("input"),_=l.querySelector("output");return Gi(y,h.inputValue),y.type=h.input,Gi(_,h.inputValue),qi(y,l,h),l},Qe.select=(l,h)=>{if(l.textContent="",h.inputPlaceholder){let y=document.createElement("option");Ut(y,h.inputPlaceholder),y.value="",y.disabled=!0,y.selected=!0,l.appendChild(y)}return qi(l,l,h),l},Qe.radio=l=>(l.textContent="",l),Qe.checkbox=(l,h)=>{let y=na(R(),"checkbox");y.value="1",y.checked=!!h.inputValue;let _=l.querySelector("span");return Ut(_,h.inputPlaceholder||h.inputLabel),y},Qe.textarea=(l,h)=>{Gi(l,h.inputValue),Nn(l,h),qi(l,l,h);let y=_=>parseInt(window.getComputedStyle(_).marginLeft)+parseInt(window.getComputedStyle(_).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let _=parseInt(window.getComputedStyle(R()).width),k=()=>{if(!document.body.contains(l))return;let Y=l.offsetWidth+y(l);Y>_?R().style.width=`${Y}px`:Qn(R(),"width",h.width)};new MutationObserver(k).observe(l,{attributes:!0,attributeFilter:["style"]})}}),l};let Fd=(l,h)=>{let y=eu();y&&(yt(y),qt(y,h,"htmlContainer"),h.html?(Zn(h.html,y),at(y,"block")):h.text?(y.textContent=h.text,at(y,"block")):gt(y),qg(l,h))},Ld=(l,h)=>{let y=Cd();y&&(yt(y),vr(y,h.footer,"block"),h.footer&&Zn(h.footer,y),qt(y,h,"footer"))},Gg=(l,h)=>{let y=ke.innerParams.get(l),_=T();if(_){if(y&&h.icon===y.icon){wr(_,h),Go(_,h);return}if(!h.icon&&!h.iconHtml){gt(_);return}if(h.icon&&Object.keys(E).indexOf(h.icon)===-1){B(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${h.icon}"`),gt(_);return}at(_),wr(_,h),Go(_,h),De(_,h.showClass&&h.showClass.icon)}},Go=(l,h)=>{for(let[y,_]of Object.entries(E))h.icon!==y&&_n(l,_);De(l,h.icon&&E[h.icon]),du(l,h),Vd(),qt(l,h,"icon")},Vd=()=>{let l=R();if(!l)return;let h=window.getComputedStyle(l).getPropertyValue("background-color"),y=l.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let _=0;_<y.length;_++)y[_].style.backgroundColor=h},lu=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Wo=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,wr=(l,h)=>{if(!h.icon&&!h.iconHtml)return;let y=l.innerHTML,_="";h.iconHtml?_=Ud(h.iconHtml):h.icon==="success"?(_=lu,y=y.replace(/ style=".*?"/g,"")):h.icon==="error"?_=Wo:h.icon&&(_=Ud({question:"?",warning:"!",info:"i"}[h.icon])),y.trim()!==_.trim()&&Ut(l,_)},du=(l,h)=>{if(h.iconColor){l.style.color=h.iconColor,l.style.borderColor=h.iconColor;for(let y of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Pt(l,y,"background-color",h.iconColor);Pt(l,".swal2-success-ring","border-color",h.iconColor)}},Ud=l=>`<div class="${m["icon-content"]}">${l}</div>`,jd=(l,h)=>{let y=Li();if(y){if(!h.imageUrl){gt(y);return}at(y,""),y.setAttribute("src",h.imageUrl),y.setAttribute("alt",h.imageAlt||""),Qn(y,"width",h.imageWidth),Qn(y,"height",h.imageHeight),y.className=m.image,qt(y,h,"image")}},Bd=(l,h)=>{let y=C(),_=R();if(!(!y||!_)){if(h.toast){Qn(y,"width",h.width),_.style.width="100%";let k=ji();k&&_.insertBefore(k,T())}else Qn(_,"width",h.width);Qn(_,"padding",h.padding),h.color&&(_.style.color=h.color),h.background&&(_.style.background=h.background),gt(Vi()),$d(_,h)}},$d=(l,h)=>{let y=h.showClass||{};l.className=`${m.popup} ${jt(l)?y.popup:""}`,h.toast?(De([document.documentElement,document.body],m["toast-shown"]),De(l,m.toast)):De(l,m.modal),qt(l,h,"popup"),typeof h.customClass=="string"&&De(l,h.customClass),h.icon&&De(l,m[`icon-${h.icon}`])},hu=(l,h)=>{let y=ei();if(!y)return;let{progressSteps:_,currentProgressStep:k}=h;if(!_||_.length===0||k===void 0){gt(y);return}at(y),y.textContent="",k>=_.length&&N("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),_.forEach((Y,ve)=>{let Be=fu(Y);if(y.appendChild(Be),ve===k&&De(Be,m["active-progress-step"]),ve!==_.length-1){let nt=Hd(h);y.appendChild(nt)}})},fu=l=>{let h=document.createElement("li");return De(h,m["progress-step"]),Ut(h,l),h},Hd=l=>{let h=document.createElement("li");return De(h,m["progress-step-line"]),l.progressStepsDistance&&Qn(h,"width",l.progressStepsDistance),h},zd=(l,h)=>{let y=Fi();y&&(yt(y),vr(y,h.title||h.titleText,"block"),h.title&&Zn(h.title,y),h.titleText&&(y.innerText=h.titleText),qt(y,h,"title"))},qd=(l,h)=>{Bd(l,h),zo(l,h),hu(l,h),Gg(l,h),jd(l,h),zd(l,h),kd(l,h),Fd(l,h),Nd(l,h),Ld(l,h);let y=R();typeof h.didRender=="function"&&y&&h.didRender(y),s.eventEmitter.emit("didRender",y)},Wg=()=>jt(R()),pu=()=>{var l;return(l=vn())===null||l===void 0?void 0:l.click()},Gd=()=>{var l;return(l=zt())===null||l===void 0?void 0:l.click()},Kg=()=>{var l;return(l=Ui())===null||l===void 0?void 0:l.click()},cn=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Pn=l=>{l.keydownTarget&&l.keydownHandlerAdded&&(l.keydownTarget.removeEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!1)},aa=(l,h,y)=>{Pn(l),h.toast||(l.keydownHandler=_=>ca(h,_,y),l.keydownTarget=h.keydownListenerCapture?window:R(),l.keydownListenerCapture=h.keydownListenerCapture,l.keydownTarget.addEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!0)},Wi=(l,h)=>{var y;let _=Bi();if(_.length){l=l+h,l===_.length?l=0:l===-1&&(l=_.length-1),_[l].focus();return}(y=R())===null||y===void 0||y.focus()},mu=["ArrowRight","ArrowDown"],ze=["ArrowLeft","ArrowUp"],ca=(l,h,y)=>{l&&(h.isComposing||h.keyCode===229||(l.stopKeydownPropagation&&h.stopPropagation(),h.key==="Enter"?Ko(h,l):h.key==="Tab"?Qo(h):[...mu,...ze].includes(h.key)?Qg(h.key):h.key==="Escape"&&Wd(h,l,y)))},Ko=(l,h)=>{if(!ye(h.allowEnterKey))return;let y=na(R(),h.input);if(l.target&&y&&l.target instanceof HTMLElement&&l.target.outerHTML===y.outerHTML){if(["textarea","file"].includes(h.input))return;pu(),l.preventDefault()}},Qo=l=>{let h=l.target,y=Bi(),_=-1;for(let k=0;k<y.length;k++)if(h===y[k]){_=k;break}l.shiftKey?Wi(_,-1):Wi(_,1),l.stopPropagation(),l.preventDefault()},Qg=l=>{let h=Kn(),y=vn(),_=zt(),k=Ui();if(!h||!y||!_||!k)return;let Y=[y,_,k];if(document.activeElement instanceof HTMLElement&&!Y.includes(document.activeElement))return;let ve=mu.includes(l)?"nextElementSibling":"previousElementSibling",Be=document.activeElement;if(Be){for(let nt=0;nt<h.children.length;nt++){if(Be=Be[ve],!Be)return;if(Be instanceof HTMLButtonElement&&jt(Be))break}Be instanceof HTMLButtonElement&&Be.focus()}},Wd=(l,h,y)=>{ye(h.allowEscapeKey)&&(l.preventDefault(),y(cn.esc))};var Ki={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let Yg=()=>{let l=C();Array.from(document.body.children).forEach(y=>{y.contains(l)||(y.hasAttribute("aria-hidden")&&y.setAttribute("data-previous-aria-hidden",y.getAttribute("aria-hidden")||""),y.setAttribute("aria-hidden","true"))})},Kd=()=>{Array.from(document.body.children).forEach(h=>{h.hasAttribute("data-previous-aria-hidden")?(h.setAttribute("aria-hidden",h.getAttribute("data-previous-aria-hidden")||""),h.removeAttribute("data-previous-aria-hidden")):h.removeAttribute("aria-hidden")})},Qd=typeof window<"u"&&!!window.GestureEvent,Yo=()=>{if(Qd&&!wn(document.body,m.iosfix)){let l=document.body.scrollTop;document.body.style.top=`${l*-1}px`,De(document.body,m.iosfix),_r()}},_r=()=>{let l=C();if(!l)return;let h;l.ontouchstart=y=>{h=Yd(y)},l.ontouchmove=y=>{h&&(y.preventDefault(),y.stopPropagation())}},Yd=l=>{let h=l.target,y=C(),_=eu();return!y||!_||Zd(l)||Jd(l)?!1:h===y||!Sd(y)&&h instanceof HTMLElement&&h.tagName!=="INPUT"&&h.tagName!=="TEXTAREA"&&!(Sd(_)&&_.contains(h))},Zd=l=>l.touches&&l.touches.length&&l.touches[0].touchType==="stylus",Jd=l=>l.touches&&l.touches.length>1,Qi=()=>{if(wn(document.body,m.iosfix)){let l=parseInt(document.body.style.top,10);_n(document.body,m.iosfix),document.body.style.top="",document.body.scrollTop=l*-1}},Zg=()=>{let l=document.createElement("div");l.className=m["scrollbar-measure"],document.body.appendChild(l);let h=l.getBoundingClientRect().width-l.clientWidth;return document.body.removeChild(l),h},Yi=null,Jg=l=>{Yi===null&&(document.body.scrollHeight>window.innerHeight||l==="scroll")&&(Yi=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Yi+Zg()}px`)},Er=()=>{Yi!==null&&(document.body.style.paddingRight=`${Yi}px`,Yi=null)};function Xd(l,h,y,_){Hi()?Ye(l,_):(u(y).then(()=>Ye(l,_)),Pn(s)),Qd?(h.setAttribute("style","display:none !important"),h.removeAttribute("class"),h.innerHTML=""):h.remove(),$i()&&(Er(),Qi(),Kd()),Xg()}function Xg(){_n([document.documentElement,document.body],[m.shown,m["height-auto"],m["no-backdrop"],m["toast-shown"]])}function un(l){l=Zo(l);let h=Ki.swalPromiseResolve.get(this),y=ua(this);this.isAwaitingPromise?l.isDismissed||(Jn(this),h(l)):y&&h(l)}let ua=l=>{let h=R();if(!h)return!1;let y=ke.innerParams.get(l);if(!y||wn(h,y.hideClass.popup))return!1;_n(h,y.showClass.popup),De(h,y.hideClass.popup);let _=C();return _n(_,y.showClass.backdrop),De(_,y.hideClass.backdrop),eh(l,h,y),!0};function gu(l){let h=Ki.swalPromiseReject.get(this);Jn(this),h&&h(l)}let Jn=l=>{l.isAwaitingPromise&&(delete l.isAwaitingPromise,ke.innerParams.get(l)||l._destroy())},Zo=l=>typeof l>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},l),eh=(l,h,y)=>{let _=C(),k=zi(h);typeof y.willClose=="function"&&y.willClose(h),s.eventEmitter.emit("willClose",h),k?yu(l,h,_,y.returnFocus,y.didClose):Xd(l,_,y.returnFocus,y.didClose)},yu=(l,h,y,_,k)=>{s.swalCloseEventFinishedCallback=Xd.bind(null,l,y,_,k);let Y=function(ve){ve.target===h&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback,h.removeEventListener("animationend",Y),h.removeEventListener("transitionend",Y))};h.addEventListener("animationend",Y),h.addEventListener("transitionend",Y)},Ye=(l,h)=>{setTimeout(()=>{typeof h=="function"&&h.bind(l.params)(),s.eventEmitter.emit("didClose"),l._destroy&&l._destroy()})},Zi=l=>{let h=R();if(h||new mh,h=R(),!h)return;let y=ji();Hi()?gt(T()):ey(h,l),at(y),h.setAttribute("data-loading","true"),h.setAttribute("aria-busy","true"),h.focus()},ey=(l,h)=>{let y=Kn(),_=ji();!y||!_||(!h&&jt(vn())&&(h=vn()),at(y),h&&(gt(h),_.setAttribute("data-button-to-replace",h.className),y.insertBefore(_,h)),De([l,y],m.loading))},th=(l,h)=>{h.input==="select"||h.input==="radio"?Xn(l,h):["text","email","number","tel","textarea"].some(y=>y===h.input)&&(ie(h.inputValue)||I(h.inputValue))&&(Zi(vn()),oh(l,h))},nh=(l,h)=>{let y=l.getInput();if(!y)return null;switch(h.input){case"checkbox":return rh(y);case"radio":return la(y);case"file":return ih(y);default:return h.inputAutoTrim?y.value.trim():y.value}},rh=l=>l.checked?1:0,la=l=>l.checked?l.value:null,ih=l=>l.files&&l.files.length?l.getAttribute("multiple")!==null?l.files:l.files[0]:null,Xn=(l,h)=>{let y=R();if(!y)return;let _=k=>{h.input==="select"?ty(y,Xo(k),h):h.input==="radio"&&Jo(y,Xo(k),h)};ie(h.inputOptions)||I(h.inputOptions)?(Zi(vn()),D(h.inputOptions).then(k=>{l.hideLoading(),_(k)})):typeof h.inputOptions=="object"?_(h.inputOptions):B(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof h.inputOptions}`)},oh=(l,h)=>{let y=l.getInput();y&&(gt(y),D(h.inputValue).then(_=>{y.value=h.input==="number"?`${parseFloat(_)||0}`:`${_}`,at(y),y.focus(),l.hideLoading()}).catch(_=>{B(`Error in inputValue promise: ${_}`),y.value="",at(y),y.focus(),l.hideLoading()}))};function ty(l,h,y){let _=yr(l,m.select);if(!_)return;let k=(Y,ve,Be)=>{let nt=document.createElement("option");nt.value=Be,Ut(nt,ve),nt.selected=da(Be,y.inputValue),Y.appendChild(nt)};h.forEach(Y=>{let ve=Y[0],Be=Y[1];if(Array.isArray(Be)){let nt=document.createElement("optgroup");nt.label=ve,nt.disabled=!1,_.appendChild(nt),Be.forEach(ma=>k(nt,ma[1],ma[0]))}else k(_,Be,ve)}),_.focus()}function Jo(l,h,y){let _=yr(l,m.radio);if(!_)return;h.forEach(Y=>{let ve=Y[0],Be=Y[1],nt=document.createElement("input"),ma=document.createElement("label");nt.type="radio",nt.name=m.radio,nt.value=ve,da(ve,y.inputValue)&&(nt.checked=!0);let ry=document.createElement("span");Ut(ry,Be),ry.className=m.label,ma.appendChild(nt),ma.appendChild(ry),_.appendChild(ma)});let k=_.querySelectorAll("input");k.length&&k[0].focus()}let Xo=l=>{let h=[];return l instanceof Map?l.forEach((y,_)=>{let k=y;typeof k=="object"&&(k=Xo(k)),h.push([_,k])}):Object.keys(l).forEach(y=>{let _=l[y];typeof _=="object"&&(_=Xo(_)),h.push([y,_])}),h},da=(l,h)=>!!h&&h.toString()===l.toString(),ha=l=>{let h=ke.innerParams.get(l);l.disableButtons(),h.input?ah(l,"confirm"):es(l,!0)},sh=l=>{let h=ke.innerParams.get(l);l.disableButtons(),h.returnInputValueOnDeny?ah(l,"deny"):ti(l,!1)},fa=(l,h)=>{l.disableButtons(),h(cn.cancel)},ah=(l,h)=>{let y=ke.innerParams.get(l);if(!y.input){B(`The "input" parameter is needed to be set when using returnInputValueOn${F(h)}`);return}let _=l.getInput(),k=nh(l,y);y.inputValidator?ch(l,k,h):_&&!_.checkValidity()?(l.enableButtons(),l.showValidationMessage(y.validationMessage||_.validationMessage)):h==="deny"?ti(l,k):es(l,k)},ch=(l,h,y)=>{let _=ke.innerParams.get(l);l.disableInput(),Promise.resolve().then(()=>D(_.inputValidator(h,_.validationMessage))).then(Y=>{l.enableButtons(),l.enableInput(),Y?l.showValidationMessage(Y):y==="deny"?ti(l,h):es(l,h)})},ti=(l,h)=>{let y=ke.innerParams.get(l||void 0);y.showLoaderOnDeny&&Zi(zt()),y.preDeny?(l.isAwaitingPromise=!0,Promise.resolve().then(()=>D(y.preDeny(h,y.validationMessage))).then(k=>{k===!1?(l.hideLoading(),Jn(l)):l.close({isDenied:!0,value:typeof k>"u"?h:k})}).catch(k=>wu(l||void 0,k))):l.close({isDenied:!0,value:h})},vu=(l,h)=>{l.close({isConfirmed:!0,value:h})},wu=(l,h)=>{l.rejectPromise(h)},es=(l,h)=>{let y=ke.innerParams.get(l||void 0);y.showLoaderOnConfirm&&Zi(),y.preConfirm?(l.resetValidationMessage(),l.isAwaitingPromise=!0,Promise.resolve().then(()=>D(y.preConfirm(h,y.validationMessage))).then(k=>{jt(Vi())||k===!1?(l.hideLoading(),Jn(l)):vu(l,typeof k>"u"?h:k)}).catch(k=>wu(l||void 0,k))):vu(l,h)};function Ji(){let l=ke.innerParams.get(this);if(!l)return;let h=ke.domCache.get(this);gt(h.loader),Hi()?l.icon&&at(T()):uh(h),_n([h.popup,h.actions],m.loading),h.popup.removeAttribute("aria-busy"),h.popup.removeAttribute("data-loading"),h.confirmButton.disabled=!1,h.denyButton.disabled=!1,h.cancelButton.disabled=!1}let uh=l=>{let h=l.popup.getElementsByClassName(l.loader.getAttribute("data-button-to-replace"));h.length?at(h[0],"inline-block"):Dd()&&gt(l.actions)};function ts(){let l=ke.innerParams.get(this),h=ke.domCache.get(this);return h?na(h.popup,l.input):null}function _u(l,h,y){let _=ke.domCache.get(l);h.forEach(k=>{_[k].disabled=y})}function Eu(l,h){let y=R();if(!(!y||!l))if(l.type==="radio"){let _=y.querySelectorAll(`[name="${m.radio}"]`);for(let k=0;k<_.length;k++)_[k].disabled=h}else l.disabled=h}function Ir(){_u(this,["confirmButton","denyButton","cancelButton"],!1)}function Iu(){_u(this,["confirmButton","denyButton","cancelButton"],!0)}function bu(){Eu(this.getInput(),!1)}function Cu(){Eu(this.getInput(),!0)}function Tu(l){let h=ke.domCache.get(this),y=ke.innerParams.get(this);Ut(h.validationMessage,l),h.validationMessage.className=m["validation-message"],y.customClass&&y.customClass.validationMessage&&De(h.validationMessage,y.customClass.validationMessage),at(h.validationMessage);let _=this.getInput();_&&(_.setAttribute("aria-invalid","true"),_.setAttribute("aria-describedby",m["validation-message"]),ru(_),De(_,m.inputerror))}function ns(){let l=ke.domCache.get(this);l.validationMessage&&gt(l.validationMessage);let h=this.getInput();h&&(h.removeAttribute("aria-invalid"),h.removeAttribute("aria-describedby"),_n(h,m.inputerror))}let vt={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},lh=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],dh={allowEnterKey:void 0},Xi=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],c=l=>Object.prototype.hasOwnProperty.call(vt,l),f=l=>lh.indexOf(l)!==-1,g=l=>dh[l],v=l=>{c(l)||N(`Unknown parameter "${l}"`)},M=l=>{Xi.includes(l)&&N(`The parameter "${l}" is incompatible with toasts`)},O=l=>{let h=g(l);h&&ne(l,h)},z=l=>{l.backdrop===!1&&l.allowOutsideClick&&N('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let h in l)v(h),l.toast&&M(h),O(h)};function je(l){let h=R(),y=ke.innerParams.get(this);if(!h||wn(h,y.hideClass.popup)){N("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let _=At(l),k=Object.assign({},y,_);qd(this,k),ke.innerParams.set(this,k),Object.defineProperties(this,{params:{value:Object.assign({},this.params,l),writable:!1,enumerable:!0}})}let At=l=>{let h={};return Object.keys(l).forEach(y=>{f(y)?h[y]=l[y]:N(`Invalid parameter to update: ${y}`)}),h};function xe(){let l=ke.domCache.get(this),h=ke.innerParams.get(this);if(!h){Rt(this);return}l.popup&&s.swalCloseEventFinishedCallback&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback),typeof h.didDestroy=="function"&&h.didDestroy(),s.eventEmitter.emit("didDestroy"),kt(this)}let kt=l=>{Rt(l),delete l.params,delete s.keydownHandler,delete s.keydownTarget,delete s.currentInstance},Rt=l=>{l.isAwaitingPromise?(br(ke,l),l.isAwaitingPromise=!0):(br(Ki,l),br(ke,l),delete l.isAwaitingPromise,delete l.disableButtons,delete l.enableButtons,delete l.getInput,delete l.disableInput,delete l.enableInput,delete l.hideLoading,delete l.disableLoading,delete l.showValidationMessage,delete l.resetValidationMessage,delete l.close,delete l.closePopup,delete l.closeModal,delete l.closeToast,delete l.rejectPromise,delete l.update,delete l._destroy)},br=(l,h)=>{for(let y in l)l[y].delete(h)};var En=Object.freeze({__proto__:null,_destroy:xe,close:un,closeModal:un,closePopup:un,closeToast:un,disableButtons:Iu,disableInput:Cu,disableLoading:Ji,enableButtons:Ir,enableInput:bu,getInput:ts,handleAwaitingPromise:Jn,hideLoading:Ji,rejectPromise:gu,resetValidationMessage:ns,showValidationMessage:Tu,update:je});let pa=(l,h,y)=>{l.toast?Du(l,h,y):(PP(h),kP(h),OP(l,h,y))},Du=(l,h,y)=>{h.popup.onclick=()=>{l&&(NP(l)||l.timer||l.input)||y(cn.close)}},NP=l=>!!(l.showConfirmButton||l.showDenyButton||l.showCancelButton||l.showCloseButton),hh=!1,PP=l=>{l.popup.onmousedown=()=>{l.container.onmouseup=function(h){l.container.onmouseup=()=>{},h.target===l.container&&(hh=!0)}}},kP=l=>{l.container.onmousedown=h=>{h.target===l.container&&h.preventDefault(),l.popup.onmouseup=function(y){l.popup.onmouseup=()=>{},(y.target===l.popup||y.target instanceof HTMLElement&&l.popup.contains(y.target))&&(hh=!0)}}},OP=(l,h,y)=>{h.container.onclick=_=>{if(hh){hh=!1;return}_.target===h.container&&ye(l.allowOutsideClick)&&y(cn.backdrop)}},FP=l=>typeof l=="object"&&l.jquery,I0=l=>l instanceof Element||FP(l),LP=l=>{let h={};return typeof l[0]=="object"&&!I0(l[0])?Object.assign(h,l[0]):["title","html","icon"].forEach((y,_)=>{let k=l[_];typeof k=="string"||I0(k)?h[y]=k:k!==void 0&&B(`Unexpected type of ${y}! Expected "string" or "Element", got ${typeof k}`)}),h};function VP(){for(var l=arguments.length,h=new Array(l),y=0;y<l;y++)h[y]=arguments[y];return new this(...h)}function UP(l){class h extends this{_main(_,k){return super._main(_,Object.assign({},l,k))}}return h}let jP=()=>s.timeout&&s.timeout.getTimerLeft(),b0=()=>{if(s.timeout)return Ad(),s.timeout.stop()},C0=()=>{if(s.timeout){let l=s.timeout.start();return ra(l),l}},BP=()=>{let l=s.timeout;return l&&(l.running?b0():C0())},$P=l=>{if(s.timeout){let h=s.timeout.increase(l);return ra(h,!0),h}},HP=()=>!!(s.timeout&&s.timeout.isRunning()),T0=!1,ny={};function zP(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";ny[l]=this,T0||(document.body.addEventListener("click",qP),T0=!0)}let qP=l=>{for(let h=l.target;h&&h!==document;h=h.parentNode)for(let y in ny){let _=h.getAttribute(y);if(_){ny[y].fire({template:_});return}}};class GP{constructor(){this.events={}}_getHandlersByEventName(h){return typeof this.events[h]>"u"&&(this.events[h]=[]),this.events[h]}on(h,y){let _=this._getHandlersByEventName(h);_.includes(y)||_.push(y)}once(h,y){var _=this;let k=function(){_.removeListener(h,k);for(var Y=arguments.length,ve=new Array(Y),Be=0;Be<Y;Be++)ve[Be]=arguments[Be];y.apply(_,ve)};this.on(h,k)}emit(h){for(var y=arguments.length,_=new Array(y>1?y-1:0),k=1;k<y;k++)_[k-1]=arguments[k];this._getHandlersByEventName(h).forEach(Y=>{try{Y.apply(this,_)}catch(ve){console.error(ve)}})}removeListener(h,y){let _=this._getHandlersByEventName(h),k=_.indexOf(y);k>-1&&_.splice(k,1)}removeAllListeners(h){this.events[h]!==void 0&&(this.events[h].length=0)}reset(){this.events={}}}s.eventEmitter=new GP;var WP=Object.freeze({__proto__:null,argsToParams:LP,bindClickHandler:zP,clickCancel:Kg,clickConfirm:pu,clickDeny:Gd,enableLoading:Zi,fire:VP,getActions:Kn,getCancelButton:Ui,getCloseButton:tu,getConfirmButton:vn,getContainer:C,getDenyButton:zt,getFocusableElements:Bi,getFooter:Cd,getHtmlContainer:eu,getIcon:T,getIconContent:Wn,getImage:Li,getInputLabel:Nt,getLoader:ji,getPopup:R,getProgressSteps:ei,getTimerLeft:jP,getTimerProgressBar:gr,getTitle:Fi,getValidationMessage:Vi,increaseTimer:$P,isDeprecatedParameter:g,isLoading:nu,isTimerRunning:HP,isUpdatableParameter:f,isValidParameter:c,isVisible:Wg,mixin:UP,off:(l,h)=>{if(!l){s.eventEmitter.reset();return}h?s.eventEmitter.removeListener(l,h):s.eventEmitter.removeAllListeners(l)},on:(l,h)=>{s.eventEmitter.on(l,h)},once:(l,h)=>{s.eventEmitter.once(l,h)},resumeTimer:C0,showLoading:Zi,stopTimer:b0,toggleTimer:BP});class KP{constructor(h,y){this.callback=h,this.remaining=y,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(h){let y=this.running;return y&&this.stop(),this.remaining+=h,y&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let D0=["swal-title","swal-html","swal-footer"],QP=l=>{let h=typeof l.template=="string"?document.querySelector(l.template):l.template;if(!h)return{};let y=h.content;return rk(y),Object.assign(YP(y),ZP(y),JP(y),XP(y),ek(y),tk(y),nk(y,D0))},YP=l=>{let h={};return Array.from(l.querySelectorAll("swal-param")).forEach(_=>{rs(_,["name","value"]);let k=_.getAttribute("name"),Y=_.getAttribute("value");!k||!Y||(typeof vt[k]=="boolean"?h[k]=Y!=="false":typeof vt[k]=="object"?h[k]=JSON.parse(Y):h[k]=Y)}),h},ZP=l=>{let h={};return Array.from(l.querySelectorAll("swal-function-param")).forEach(_=>{let k=_.getAttribute("name"),Y=_.getAttribute("value");!k||!Y||(h[k]=new Function(`return ${Y}`)())}),h},JP=l=>{let h={};return Array.from(l.querySelectorAll("swal-button")).forEach(_=>{rs(_,["type","color","aria-label"]);let k=_.getAttribute("type");!k||!["confirm","cancel","deny"].includes(k)||(h[`${k}ButtonText`]=_.innerHTML,h[`show${F(k)}Button`]=!0,_.hasAttribute("color")&&(h[`${k}ButtonColor`]=_.getAttribute("color")),_.hasAttribute("aria-label")&&(h[`${k}ButtonAriaLabel`]=_.getAttribute("aria-label")))}),h},XP=l=>{let h={},y=l.querySelector("swal-image");return y&&(rs(y,["src","width","height","alt"]),y.hasAttribute("src")&&(h.imageUrl=y.getAttribute("src")||void 0),y.hasAttribute("width")&&(h.imageWidth=y.getAttribute("width")||void 0),y.hasAttribute("height")&&(h.imageHeight=y.getAttribute("height")||void 0),y.hasAttribute("alt")&&(h.imageAlt=y.getAttribute("alt")||void 0)),h},ek=l=>{let h={},y=l.querySelector("swal-icon");return y&&(rs(y,["type","color"]),y.hasAttribute("type")&&(h.icon=y.getAttribute("type")),y.hasAttribute("color")&&(h.iconColor=y.getAttribute("color")),h.iconHtml=y.innerHTML),h},tk=l=>{let h={},y=l.querySelector("swal-input");y&&(rs(y,["type","label","placeholder","value"]),h.input=y.getAttribute("type")||"text",y.hasAttribute("label")&&(h.inputLabel=y.getAttribute("label")),y.hasAttribute("placeholder")&&(h.inputPlaceholder=y.getAttribute("placeholder")),y.hasAttribute("value")&&(h.inputValue=y.getAttribute("value")));let _=Array.from(l.querySelectorAll("swal-input-option"));return _.length&&(h.inputOptions={},_.forEach(k=>{rs(k,["value"]);let Y=k.getAttribute("value");if(!Y)return;let ve=k.innerHTML;h.inputOptions[Y]=ve})),h},nk=(l,h)=>{let y={};for(let _ in h){let k=h[_],Y=l.querySelector(k);Y&&(rs(Y,[]),y[k.replace(/^swal-/,"")]=Y.innerHTML.trim())}return y},rk=l=>{let h=D0.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(l.children).forEach(y=>{let _=y.tagName.toLowerCase();h.includes(_)||N(`Unrecognized element <${_}>`)})},rs=(l,h)=>{Array.from(l.attributes).forEach(y=>{h.indexOf(y.name)===-1&&N([`Unrecognized attribute "${y.name}" on <${l.tagName.toLowerCase()}>.`,`${h.length?`Allowed attributes are: ${h.join(", ")}`:"To set the value, use HTML within the element."}`])})},S0=10,ik=l=>{let h=C(),y=R();typeof l.willOpen=="function"&&l.willOpen(y),s.eventEmitter.emit("willOpen",y);let k=window.getComputedStyle(document.body).overflowY;ak(h,y,l),setTimeout(()=>{ok(h,y)},S0),$i()&&(sk(h,l.scrollbarPadding,k),Yg()),!Hi()&&!s.previousActiveElement&&(s.previousActiveElement=document.activeElement),typeof l.didOpen=="function"&&setTimeout(()=>l.didOpen(y)),s.eventEmitter.emit("didOpen",y),_n(h,m["no-transition"])},fh=l=>{let h=R();if(l.target!==h)return;let y=C();h.removeEventListener("animationend",fh),h.removeEventListener("transitionend",fh),y.style.overflowY="auto"},ok=(l,h)=>{zi(h)?(l.style.overflowY="hidden",h.addEventListener("animationend",fh),h.addEventListener("transitionend",fh)):l.style.overflowY="auto"},sk=(l,h,y)=>{Yo(),h&&y!=="hidden"&&Jg(y),setTimeout(()=>{l.scrollTop=0})},ak=(l,h,y)=>{De(l,y.showClass.backdrop),y.animation?(h.style.setProperty("opacity","0","important"),at(h,"grid"),setTimeout(()=>{De(h,y.showClass.popup),h.style.removeProperty("opacity")},S0)):at(h,"grid"),De([document.documentElement,document.body],m.shown),y.heightAuto&&y.backdrop&&!y.toast&&De([document.documentElement,document.body],m["height-auto"])};var A0={email:(l,h)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid email address"),url:(l,h)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid URL")};function ck(l){l.inputValidator||(l.input==="email"&&(l.inputValidator=A0.email),l.input==="url"&&(l.inputValidator=A0.url))}function uk(l){(!l.target||typeof l.target=="string"&&!document.querySelector(l.target)||typeof l.target!="string"&&!l.target.appendChild)&&(N('Target parameter is not valid, defaulting to "body"'),l.target="body")}function lk(l){ck(l),l.showLoaderOnConfirm&&!l.preConfirm&&N(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),uk(l),typeof l.title=="string"&&(l.title=l.title.split(`
`).join("<br />")),au(l)}let Cr;var ph=new WeakMap;class dt{constructor(){if(r(this,ph,void 0),typeof window>"u")return;Cr=this;for(var h=arguments.length,y=new Array(h),_=0;_<h;_++)y[_]=arguments[_];let k=Object.freeze(this.constructor.argsToParams(y));this.params=k,this.isAwaitingPromise=!1,i(ph,this,this._main(Cr.params))}_main(h){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(z(Object.assign({},y,h)),s.currentInstance){let Y=Ki.swalPromiseResolve.get(s.currentInstance),{isAwaitingPromise:ve}=s.currentInstance;s.currentInstance._destroy(),ve||Y({isDismissed:!0}),$i()&&Kd()}s.currentInstance=Cr;let _=hk(h,y);lk(_),Object.freeze(_),s.timeout&&(s.timeout.stop(),delete s.timeout),clearTimeout(s.restoreFocusTimeout);let k=fk(Cr);return qd(Cr,_),ke.innerParams.set(Cr,_),dk(Cr,k,_)}then(h){return n(ph,this).then(h)}finally(h){return n(ph,this).finally(h)}}let dk=(l,h,y)=>new Promise((_,k)=>{let Y=ve=>{l.close({isDismissed:!0,dismiss:ve})};Ki.swalPromiseResolve.set(l,_),Ki.swalPromiseReject.set(l,k),h.confirmButton.onclick=()=>{ha(l)},h.denyButton.onclick=()=>{sh(l)},h.cancelButton.onclick=()=>{fa(l,Y)},h.closeButton.onclick=()=>{Y(cn.close)},pa(y,h,Y),aa(s,y,Y),th(l,y),ik(y),pk(s,y,Y),mk(h,y),setTimeout(()=>{h.container.scrollTop=0})}),hk=(l,h)=>{let y=QP(l),_=Object.assign({},vt,h,y,l);return _.showClass=Object.assign({},vt.showClass,_.showClass),_.hideClass=Object.assign({},vt.hideClass,_.hideClass),_.animation===!1&&(_.showClass={backdrop:"swal2-noanimation"},_.hideClass={}),_},fk=l=>{let h={popup:R(),container:C(),actions:Kn(),confirmButton:vn(),denyButton:zt(),cancelButton:Ui(),loader:ji(),closeButton:tu(),validationMessage:Vi(),progressSteps:ei()};return ke.domCache.set(l,h),h},pk=(l,h,y)=>{let _=gr();gt(_),h.timer&&(l.timeout=new KP(()=>{y("timer"),delete l.timeout},h.timer),h.timerProgressBar&&(at(_),qt(_,h,"timerProgressBar"),setTimeout(()=>{l.timeout&&l.timeout.running&&ra(h.timer)})))},mk=(l,h)=>{if(!h.toast){if(!ye(h.allowEnterKey)){ne("allowEnterKey"),vk();return}gk(l)||yk(l,h)||Wi(-1,1)}},gk=l=>{let h=l.popup.querySelectorAll("[autofocus]");for(let y of h)if(y instanceof HTMLElement&&jt(y))return y.focus(),!0;return!1},yk=(l,h)=>h.focusDeny&&jt(l.denyButton)?(l.denyButton.focus(),!0):h.focusCancel&&jt(l.cancelButton)?(l.cancelButton.focus(),!0):h.focusConfirm&&jt(l.confirmButton)?(l.confirmButton.focus(),!0):!1,vk=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let l=new Date,h=localStorage.getItem("swal-initiation");h?(l.getTime()-Date.parse(h))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let y=document.createElement("audio");y.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",y.loop=!0,document.body.appendChild(y),setTimeout(()=>{y.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${l}`)}dt.prototype.disableButtons=Iu,dt.prototype.enableButtons=Ir,dt.prototype.getInput=ts,dt.prototype.disableInput=Cu,dt.prototype.enableInput=bu,dt.prototype.hideLoading=Ji,dt.prototype.disableLoading=Ji,dt.prototype.showValidationMessage=Tu,dt.prototype.resetValidationMessage=ns,dt.prototype.close=un,dt.prototype.closePopup=un,dt.prototype.closeModal=un,dt.prototype.closeToast=un,dt.prototype.rejectPromise=gu,dt.prototype.update=je,dt.prototype._destroy=xe,Object.assign(dt,WP),Object.keys(En).forEach(l=>{dt[l]=function(){return Cr&&Cr[l]?Cr[l](...arguments):null}}),dt.DismissReason=cn,dt.version="11.14.4";let mh=dt;return mh.default=mh,mh});typeof Xr<"u"&&Xr.Sweetalert2&&(Xr.swal=Xr.sweetAlert=Xr.Swal=Xr.SweetAlert=Xr.Sweetalert2);typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});function R0(t,e){return Object.is(t,e)}var xt=null,yh=!1,vh=1,ni=Symbol("SIGNAL");function Oe(t){let e=xt;return xt=t,e}function x0(){return xt}var Au={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function sy(t){if(yh)throw new Error("");if(xt===null)return;xt.consumerOnSignalRead(t);let e=xt.nextProducerIndex++;if(Ih(xt),e<xt.producerNode.length&&xt.producerNode[e]!==t&&Su(xt)){let n=xt.producerNode[e];Eh(n,xt.producerIndexOfThis[e])}xt.producerNode[e]!==t&&(xt.producerNode[e]=t,xt.producerIndexOfThis[e]=Su(xt)?k0(t,xt,e):0),xt.producerLastReadVersion[e]=t.version}function _k(){vh++}function M0(t){if(!(Su(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===vh)){if(!t.producerMustRecompute(t)&&!cy(t)){t.dirty=!1,t.lastCleanEpoch=vh;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=vh}}function N0(t){if(t.liveConsumerNode===void 0)return;let e=yh;yh=!0;try{for(let n of t.liveConsumerNode)n.dirty||Ek(n)}finally{yh=e}}function P0(){return xt?.consumerAllowSignalWrites!==!1}function Ek(t){t.dirty=!0,N0(t),t.consumerMarkedDirty?.(t)}function _h(t){return t&&(t.nextProducerIndex=0),Oe(t)}function ay(t,e){if(Oe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Su(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Eh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function cy(t){Ih(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(M0(n),r!==n.version))return!0}return!1}function uy(t){if(Ih(t),Su(t))for(let e=0;e<t.producerNode.length;e++)Eh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function k0(t,e,n){if(O0(t),t.liveConsumerNode.length===0&&F0(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=k0(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Eh(t,e){if(O0(t),t.liveConsumerNode.length===1&&F0(t))for(let r=0;r<t.producerNode.length;r++)Eh(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ih(i),i.producerIndexOfThis[r]=e}}function Su(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ih(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function O0(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function F0(t){return t.producerNode!==void 0}function L0(t){let e=Object.create(Ik);e.computation=t;let n=()=>{if(M0(e),sy(e),e.value===wh)throw e.error;return e.value};return n[ni]=e,n}var iy=Symbol("UNSET"),oy=Symbol("COMPUTING"),wh=Symbol("ERRORED"),Ik=le(j({},Au),{value:iy,dirty:!0,error:null,equal:R0,producerMustRecompute(t){return t.value===iy||t.value===oy},producerRecomputeValue(t){if(t.value===oy)throw new Error("Detected cycle in computations.");let e=t.value;t.value=oy;let n=_h(t),r;try{r=t.computation()}catch(i){r=wh,t.error=i}finally{ay(t,n)}if(e!==iy&&e!==wh&&r!==wh&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function bk(){throw new Error}var V0=bk;function U0(){V0()}function j0(t){V0=t}var Ck=null;function B0(t){let e=Object.create(H0);e.value=t;let n=()=>(sy(e),e.value);return n[ni]=e,n}function ly(t,e){P0()||U0(),t.equal(t.value,e)||(t.value=e,Tk(t))}function $0(t,e){P0()||U0(),ly(t,e(t.value))}var H0=le(j({},Au),{equal:R0,value:void 0});function Tk(t){t.version++,_k(),N0(t),Ck?.()}function fe(t){return typeof t=="function"}function ga(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var bh=ga(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function is(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ct=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(fe(r))try{r()}catch(o){e=o instanceof bh?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{z0(o)}catch(s){e=e??[],s instanceof bh?e=[...e,...s.errors]:e.push(s)}}if(e)throw new bh(e)}}add(e){var n;if(e&&e!==this)if(this.closed)z0(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&is(n,e)}remove(e){let{_finalizers:n}=this;n&&is(n,e),e instanceof t&&e._removeParent(this)}};ct.EMPTY=(()=>{let t=new ct;return t.closed=!0,t})();var dy=ct.EMPTY;function Ch(t){return t instanceof ct||t&&"closed"in t&&fe(t.remove)&&fe(t.add)&&fe(t.unsubscribe)}function z0(t){fe(t)?t():t.unsubscribe()}var er={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ya={setTimeout(t,e,...n){let{delegate:r}=ya;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ya;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Th(t){ya.setTimeout(()=>{let{onUnhandledError:e}=er;if(e)e(t);else throw t})}function Ru(){}var q0=hy("C",void 0,void 0);function G0(t){return hy("E",void 0,t)}function W0(t){return hy("N",t,void 0)}function hy(t,e,n){return{kind:t,value:e,error:n}}var os=null;function va(t){if(er.useDeprecatedSynchronousErrorHandling){let e=!os;if(e&&(os={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=os;if(os=null,n)throw r}}else t()}function K0(t){er.useDeprecatedSynchronousErrorHandling&&os&&(os.errorThrown=!0,os.error=t)}var ss=class extends ct{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ch(e)&&e.add(this)):this.destination=Ak}static create(e,n,r){return new wa(e,n,r)}next(e){this.isStopped?py(W0(e),this):this._next(e)}error(e){this.isStopped?py(G0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?py(q0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Dk=Function.prototype.bind;function fy(t,e){return Dk.call(t,e)}var my=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Dh(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Dh(r)}else Dh(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Dh(n)}}},wa=class extends ss{constructor(e,n,r){super();let i;if(fe(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&er.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&fy(e.next,o),error:e.error&&fy(e.error,o),complete:e.complete&&fy(e.complete,o)}):i=e}this.destination=new my(i)}};function Dh(t){er.useDeprecatedSynchronousErrorHandling?K0(t):Th(t)}function Sk(t){throw t}function py(t,e){let{onStoppedNotification:n}=er;n&&ya.setTimeout(()=>n(t,e))}var Ak={closed:!0,next:Ru,error:Sk,complete:Ru};var _a=typeof Symbol=="function"&&Symbol.observable||"@@observable";function In(t){return t}function gy(...t){return yy(t)}function yy(t){return t.length===0?In:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Ce=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=xk(n)?n:new wa(n,r,i);return va(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Q0(r),new r((i,o)=>{let s=new wa({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[_a](){return this}pipe(...n){return yy(n)(this)}toPromise(n){return n=Q0(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Q0(t){var e;return(e=t??er.Promise)!==null&&e!==void 0?e:Promise}function Rk(t){return t&&fe(t.next)&&fe(t.error)&&fe(t.complete)}function xk(t){return t&&t instanceof ss||Rk(t)&&Ch(t)}function vy(t){return fe(t?.lift)}function Me(t){return e=>{if(vy(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Se(t,e,n,r,i){return new wy(t,e,n,r,i)}var wy=class extends ss{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ea(){return Me((t,e)=>{let n=null;t._refCount++;let r=Se(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ia=class extends Ce{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,vy(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ct;let n=this.getSubject();e.add(this.source.subscribe(Se(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ct.EMPTY)}return e}refCount(){return Ea()(this)}};var Y0=ga(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ht=(()=>{class t extends Ce{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Sh(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Y0}next(n){va(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){va(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){va(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?dy:(this.currentObservers=null,o.push(n),new ct(()=>{this.currentObservers=null,is(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Ce;return n.source=this,n}}return t.create=(e,n)=>new Sh(e,n),t})(),Sh=class extends ht{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:dy}};var ft=class extends ht{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var _y={now(){return(_y.delegate||Date).now()},delegate:void 0};var Ah=class extends ct{constructor(e,n){super()}schedule(e,n=0){return this}};var xu={setInterval(t,e,...n){let{delegate:r}=xu;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=xu;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ba=class extends Ah{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return xu.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&xu.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,is(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Ca=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Ca.now=_y.now;var Ta=class extends Ca{constructor(e,n=Ca.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Ey=new Ta(ba);var Rh=class extends ba{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var xh=class extends Ta{};var Iy=new xh(Rh);var bn=new Ce(t=>t.complete());function Z0(t){return t&&fe(t.schedule)}function J0(t){return t[t.length-1]}function Mh(t){return fe(J0(t))?t.pop():void 0}function to(t){return Z0(J0(t))?t.pop():void 0}function by(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function eC(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(p){try{d(r.next(p))}catch(m){s(m)}}function u(p){try{d(r.throw(p))}catch(m){s(m)}}function d(p){p.done?o(p.value):i(p.value).then(a,u)}d((r=r.apply(t,e||[])).next())})}function X0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function as(t){return this instanceof as?(this.v=t,this):new as(t)}function tC(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(E){return function(x){return Promise.resolve(x).then(E,m)}}function a(E,x){r[E]&&(i[E]=function(F){return new Promise(function(N,B){o.push([E,F,N,B])>1||u(E,F)})},x&&(i[E]=x(i[E])))}function u(E,x){try{d(r[E](x))}catch(F){w(o[0][3],F)}}function d(E){E.value instanceof as?Promise.resolve(E.value.v).then(p,m):w(o[0][2],E)}function p(E){u("next",E)}function m(E){u("throw",E)}function w(E,x){E(x),o.shift(),o.length&&u(o[0][0],o[0][1])}}function nC(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof X0=="function"?X0(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(d){o({value:d,done:a})},s)}}var Nh=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ph(t){return fe(t?.then)}function kh(t){return fe(t[_a])}function Oh(t){return Symbol.asyncIterator&&fe(t?.[Symbol.asyncIterator])}function Fh(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Mk(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Lh=Mk();function Vh(t){return fe(t?.[Lh])}function Uh(t){return tC(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield as(n.read());if(i)return yield as(void 0);yield yield as(r)}}finally{n.releaseLock()}})}function jh(t){return fe(t?.getReader)}function wt(t){if(t instanceof Ce)return t;if(t!=null){if(kh(t))return Nk(t);if(Nh(t))return Pk(t);if(Ph(t))return kk(t);if(Oh(t))return rC(t);if(Vh(t))return Ok(t);if(jh(t))return Fk(t)}throw Fh(t)}function Nk(t){return new Ce(e=>{let n=t[_a]();if(fe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Pk(t){return new Ce(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function kk(t){return new Ce(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Th)})}function Ok(t){return new Ce(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function rC(t){return new Ce(e=>{Lk(t,e).catch(n=>e.error(n))})}function Fk(t){return rC(Uh(t))}function Lk(t,e){var n,r,i,o;return eC(this,void 0,void 0,function*(){try{for(n=nC(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function ln(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function no(t,e=0){return Me((n,r)=>{n.subscribe(Se(r,i=>ln(r,t,()=>r.next(i),e),()=>ln(r,t,()=>r.complete(),e),i=>ln(r,t,()=>r.error(i),e)))})}function ro(t,e=0){return Me((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function iC(t,e){return wt(t).pipe(ro(e),no(e))}function oC(t,e){return wt(t).pipe(ro(e),no(e))}function sC(t,e){return new Ce(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function aC(t,e){return new Ce(n=>{let r;return ln(n,e,()=>{r=t[Lh](),ln(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>fe(r?.return)&&r.return()})}function Bh(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ce(n=>{ln(n,e,()=>{let r=t[Symbol.asyncIterator]();ln(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function cC(t,e){return Bh(Uh(t),e)}function uC(t,e){if(t!=null){if(kh(t))return iC(t,e);if(Nh(t))return sC(t,e);if(Ph(t))return oC(t,e);if(Oh(t))return Bh(t,e);if(Vh(t))return aC(t,e);if(jh(t))return cC(t,e)}throw Fh(t)}function Ze(t,e){return e?uC(t,e):wt(t)}function se(...t){let e=to(t);return Ze(t,e)}function Da(t,e){let n=fe(t)?t:()=>t,r=i=>i.error(n());return new Ce(e?i=>e.schedule(r,0,i):r)}function Cy(t){return!!t&&(t instanceof Ce||fe(t.lift)&&fe(t.subscribe))}var ri=ga(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function pe(t,e){return Me((n,r)=>{let i=0;n.subscribe(Se(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:Vk}=Array;function Uk(t,e){return Vk(e)?t(...e):t(e)}function $h(t){return pe(e=>Uk(t,e))}var{isArray:jk}=Array,{getPrototypeOf:Bk,prototype:$k,keys:Hk}=Object;function Hh(t){if(t.length===1){let e=t[0];if(jk(e))return{args:e,keys:null};if(zk(e)){let n=Hk(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function zk(t){return t&&typeof t=="object"&&Bk(t)===$k}function zh(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Mu(...t){let e=to(t),n=Mh(t),{args:r,keys:i}=Hh(t);if(r.length===0)return Ze([],e);let o=new Ce(qk(r,e,i?s=>zh(i,s):In));return n?o.pipe($h(n)):o}function qk(t,e,n=In){return r=>{lC(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)lC(e,()=>{let d=Ze(t[u],e),p=!1;d.subscribe(Se(r,m=>{o[u]=m,p||(p=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function lC(t,e,n){t?ln(n,t,e):e()}function dC(t,e,n,r,i,o,s,a){let u=[],d=0,p=0,m=!1,w=()=>{m&&!u.length&&!d&&e.complete()},E=F=>d<r?x(F):u.push(F),x=F=>{o&&e.next(F),d++;let N=!1;wt(n(F,p++)).subscribe(Se(e,B=>{i?.(B),o?E(B):e.next(B)},()=>{N=!0},void 0,()=>{if(N)try{for(d--;u.length&&d<r;){let B=u.shift();s?ln(e,s,()=>x(B)):x(B)}w()}catch(B){e.error(B)}}))};return t.subscribe(Se(e,E,()=>{m=!0,w()})),()=>{a?.()}}function _t(t,e,n=1/0){return fe(e)?_t((r,i)=>pe((o,s)=>e(r,o,i,s))(wt(t(r,i))),n):(typeof e=="number"&&(n=e),Me((r,i)=>dC(r,i,t,n)))}function Sa(t=1/0){return _t(In,t)}function hC(){return Sa(1)}function Aa(...t){return hC()(Ze(t,to(t)))}function qh(t){return new Ce(e=>{wt(t()).subscribe(e)})}function Ty(...t){let e=Mh(t),{args:n,keys:r}=Hh(t),i=new Ce(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,d=s;for(let p=0;p<s;p++){let m=!1;wt(n[p]).subscribe(Se(o,w=>{m||(m=!0,d--),a[p]=w},()=>u--,void 0,()=>{(!u||!m)&&(d||o.next(r?zh(r,a):a),o.complete())}))}});return e?i.pipe($h(e)):i}function Gt(t,e){return Me((n,r)=>{let i=0;n.subscribe(Se(r,o=>t.call(e,o,i++)&&r.next(o)))})}function io(t){return Me((e,n)=>{let r=null,i=!1,o;r=e.subscribe(Se(n,void 0,void 0,s=>{o=wt(t(s,io(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function fC(t,e,n,r,i){return(o,s)=>{let a=n,u=e,d=0;o.subscribe(Se(s,p=>{let m=d++;u=a?t(u,p,m):(a=!0,p),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function ii(t,e){return fe(e)?_t(t,e,1):_t(t,1)}function oo(t){return Me((e,n)=>{let r=!1;e.subscribe(Se(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function oi(t){return t<=0?()=>bn:Me((e,n)=>{let r=0;e.subscribe(Se(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Dy(t){return pe(()=>t)}function Gh(t=Gk){return Me((e,n)=>{let r=!1;e.subscribe(Se(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Gk(){return new ri}function cs(t){return Me((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Tr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Gt((i,o)=>t(i,o,r)):In,oi(1),n?oo(e):Gh(()=>new ri))}function Ra(t){return t<=0?()=>bn:Me((e,n)=>{let r=[];e.subscribe(Se(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Sy(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Gt((i,o)=>t(i,o,r)):In,Ra(1),n?oo(e):Gh(()=>new ri))}function Ay(t,e){return Me(fC(t,e,arguments.length>=2,!0))}function Ry(...t){let e=to(t);return Me((n,r)=>{(e?Aa(t,n,e):Aa(t,n)).subscribe(r)})}function dn(t,e){return Me((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(Se(r,u=>{i?.unsubscribe();let d=0,p=o++;wt(t(u,p)).subscribe(i=Se(r,m=>r.next(e?e(u,m,p,d++):m),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function xy(t){return Me((e,n)=>{wt(t).subscribe(Se(n,()=>n.complete(),Ru)),!n.closed&&e.subscribe(n)})}function Et(t,e,n){let r=fe(t)||e||n?{next:t,error:e,complete:n}:t;return r?Me((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Se(o,u=>{var d;(d=r.next)===null||d===void 0||d.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var d;a=!1,(d=r.error)===null||d===void 0||d.call(r,u),o.error(u)},()=>{var u,d;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):In}var JC="https://g.co/ng/security#xss",re=class extends Error{constructor(e,n){super(Af(e,n)),this.code=e}};function Af(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ju(t){return{toString:t}.toString()}var Wh="__parameters__";function Wk(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function XC(t,e,n){return ju(()=>{let r=Wk(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,d,p){let m=u.hasOwnProperty(Wh)?u[Wh]:Object.defineProperty(u,Wh,{value:[]})[Wh];for(;m.length<=p;)m.push(null);return(m[p]=m[p]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var kn=globalThis;function qe(t){for(let e in t)if(t[e]===qe)return e;throw Error("Could not find renamed property on target object.")}function Kk(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function en(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(en).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function pC(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var Qk=qe({__forward_ref__:qe});function Cn(t){return t.__forward_ref__=Cn,t.toString=function(){return en(this())},t}function Xt(t){return eT(t)?t():t}function eT(t){return typeof t=="function"&&t.hasOwnProperty(Qk)&&t.__forward_ref__===Cn}function X(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Xe(t){return{providers:t.providers||[],imports:t.imports||[]}}function Rf(t){return mC(t,nT)||mC(t,rT)}function tT(t){return Rf(t)!==null}function mC(t,e){return t.hasOwnProperty(e)?t[e]:null}function Yk(t){let e=t&&(t[nT]||t[rT]);return e||null}function gC(t){return t&&(t.hasOwnProperty(yC)||t.hasOwnProperty(Zk))?t[yC]:null}var nT=qe({\u0275prov:qe}),yC=qe({\u0275inj:qe}),rT=qe({ngInjectableDef:qe}),Zk=qe({ngInjectorDef:qe}),G=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=X({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function iT(t){return t&&!!t.\u0275providers}var Jk=qe({\u0275cmp:qe}),Xk=qe({\u0275dir:qe}),eO=qe({\u0275pipe:qe}),tO=qe({\u0275mod:qe}),nf=qe({\u0275fac:qe}),Pu=qe({__NG_ELEMENT_ID__:qe}),vC=qe({__NG_ENV_ID__:qe});function Fa(t){return typeof t=="string"?t:t==null?"":String(t)}function nO(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Fa(t)}function rO(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new re(-200,t)}function Ov(t,e){throw new re(-201,!1)}var _e=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(_e||{}),qy;function oT(){return qy}function hn(t){let e=qy;return qy=t,e}function sT(t,e,n){let r=Rf(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&_e.Optional)return null;if(e!==void 0)return e;Ov(t,"Injector")}var iO={},ku=iO,Gy="__NG_DI_FLAG__",rf="ngTempTokenPath",oO="ngTokenPath",sO=/\n/gm,aO="\u0275",wC="__source",ka;function cO(){return ka}function so(t){let e=ka;return ka=t,e}function uO(t,e=_e.Default){if(ka===void 0)throw new re(-203,!1);return ka===null?sT(t,void 0,e):ka.get(t,e&_e.Optional?null:void 0,e)}function W(t,e=_e.Default){return(oT()||uO)(Xt(t),e)}function $(t,e=_e.Default){return W(t,xf(e))}function xf(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Wy(t){let e=[];for(let n=0;n<t.length;n++){let r=Xt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new re(900,!1);let i,o=_e.Default;for(let s=0;s<r.length;s++){let a=r[s],u=lO(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(W(i,o))}else e.push(W(r))}return e}function aT(t,e){return t[Gy]=e,t.prototype[Gy]=e,t}function lO(t){return t[Gy]}function dO(t,e,n,r){let i=t[rf];throw e[wC]&&i.unshift(e[wC]),t.message=hO(`
`+t.message,i,n,r),t[oO]=i,t[rf]=null,t}function hO(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==aO?t.slice(2):t;let i=en(e);if(Array.isArray(e))i=e.map(en).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):en(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(sO,`
  `)}`}var Wt=aT(XC("Optional"),8);var Fv=aT(XC("SkipSelf"),4);function ds(t,e){let n=t.hasOwnProperty(nf);return n?t[nf]:null}function Lv(t,e){t.forEach(n=>Array.isArray(n)?Lv(n,e):e(n))}function cT(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function of(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function fO(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function pO(t,e,n){let r=Bu(t,e);return r>=0?t[r|1]=n:(r=~r,fO(t,r,e,n)),r}function My(t,e){let n=Bu(t,e);if(n>=0)return t[n|1]}function Bu(t,e){return mO(t,e,1)}function mO(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var La={},On=[],Va=new G(""),uT=new G("",-1),lT=new G(""),sf=class{get(e,n=ku){if(n===ku){let r=new Error(`NullInjectorError: No provider for ${en(e)}!`);throw r.name="NullInjectorError",r}return n}},dT=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(dT||{}),Ar=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ar||{}),uo=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(uo||{});function gO(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Ky(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];vO(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function yO(t){return t===3||t===4||t===6}function vO(t){return t.charCodeAt(0)===64}function Ou(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?_C(t,n,i,null,e[++r]):_C(t,n,i,null,null))}}return t}function _C(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var hT="ng-template";function wO(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&gO(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Vv(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Vv(t){return t.type===4&&t.value!==hT}function _O(t,e,n){let r=t.type===4&&!n?hT:t.value;return e===r}function EO(t,e,n){let r=4,i=t.attrs,o=i!==null?CO(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!tr(r)&&!tr(u))return!1;if(s&&tr(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!_O(t,u,n)||u===""&&e.length===1){if(tr(r))return!1;s=!0}}else if(r&8){if(i===null||!wO(t,i,u,n)){if(tr(r))return!1;s=!0}}else{let d=e[++a],p=IO(u,i,Vv(t),n);if(p===-1){if(tr(r))return!1;s=!0;continue}if(d!==""){let m;if(p>o?m="":m=i[p+1].toLowerCase(),r&2&&d!==m){if(tr(r))return!1;s=!0}}}}return tr(r)||s}function tr(t){return(t&1)===0}function IO(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return TO(e,t)}function bO(t,e,n=!1){for(let r=0;r<e.length;r++)if(EO(t,e[r],n))return!0;return!1}function CO(t){for(let e=0;e<t.length;e++){let n=t[e];if(yO(n))return e}return t.length}function TO(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function EC(t,e){return t?":not("+e.trim()+")":e}function DO(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!tr(s)&&(e+=EC(o,i),i=""),r=s,o=o||!tr(r);n++}return i!==""&&(e+=EC(o,i)),e}function SO(t){return t.map(DO).join(",")}function AO(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!tr(i))break;i=o}r++}return{attrs:e,classes:n}}function Tn(t){return ju(()=>{let e=yT(t),n=le(j({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===dT.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ar.Emulated,styles:t.styles||On,_:null,schemas:t.schemas||null,tView:null,id:""});vT(n);let r=t.dependencies;return n.directiveDefs=bC(r,!1),n.pipeDefs=bC(r,!0),n.id=MO(n),n})}function RO(t){return lo(t)||fT(t)}function xO(t){return t!==null}function et(t){return ju(()=>({type:t.type,bootstrap:t.bootstrap||On,declarations:t.declarations||On,imports:t.imports||On,exports:t.exports||On,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function IC(t,e){if(t==null)return La;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=uo.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==uo.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Ge(t){return ju(()=>{let e=yT(t);return vT(e),e})}function Uv(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function lo(t){return t[Jk]||null}function fT(t){return t[Xk]||null}function pT(t){return t[eO]||null}function mT(t){let e=lo(t)||fT(t)||pT(t);return e!==null?e.standalone:!1}function gT(t,e){let n=t[tO]||null;if(!n&&e===!0)throw new Error(`Type ${en(t)} does not have '\u0275mod' property.`);return n}function yT(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||La,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||On,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:IC(t.inputs,e),outputs:IC(t.outputs),debugInfo:null}}function vT(t){t.features?.forEach(e=>e(t))}function bC(t,e){if(!t)return null;let n=e?pT:RO;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(xO)}function MO(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Un(t){return{\u0275providers:t}}function NO(...t){return{\u0275providers:wT(!0,t),\u0275fromNgModule:!0}}function wT(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Lv(e,s=>{let a=s;Qy(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&_T(i,o),n}function _T(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];jv(i,o=>{e(o,r)})}}function Qy(t,e,n,r){if(t=Xt(t),!t)return!1;let i=null,o=gC(t),s=!o&&lo(t);if(!o&&!s){let u=t.ngModule;if(o=gC(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of u)Qy(d,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let d;try{Lv(o.imports,p=>{Qy(p,e,n,r)&&(d||=[],d.push(p))})}finally{}d!==void 0&&_T(d,e)}if(!a){let d=ds(i)||(()=>new i);e({provide:i,useFactory:d,deps:On},i),e({provide:lT,useValue:i,multi:!0},i),e({provide:Va,useValue:()=>W(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let d=t;jv(u,p=>{e(p,d)})}}else return!1;return i!==t&&t.providers!==void 0}function jv(t,e){for(let n of t)iT(n)&&(n=n.\u0275providers),Array.isArray(n)?jv(n,e):e(n)}var PO=qe({provide:String,useValue:qe});function ET(t){return t!==null&&typeof t=="object"&&PO in t}function kO(t){return!!(t&&t.useExisting)}function OO(t){return!!(t&&t.useFactory)}function Ua(t){return typeof t=="function"}function FO(t){return!!t.useClass}var Mf=new G(""),Zh={},LO={},Ny;function Bv(){return Ny===void 0&&(Ny=new sf),Ny}var tn=class{},Fu=class extends tn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Zy(e,s=>this.processProvider(s)),this.records.set(uT,xa(void 0,this)),i.has("environment")&&this.records.set(tn,xa(void 0,this));let o=this.records.get(Mf);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(lT,On,_e.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Oe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Oe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=so(this),r=hn(void 0),i;try{return e()}finally{so(n),hn(r)}}get(e,n=ku,r=_e.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(vC))return e[vC](this);r=xf(r);let i,o=so(this),s=hn(void 0);try{if(!(r&_e.SkipSelf)){let u=this.records.get(e);if(u===void 0){let d=$O(e)&&Rf(e);d&&this.injectableDefInScope(d)?u=xa(Yy(e),Zh):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&_e.Self?Bv():this.parent;return n=r&_e.Optional&&n===ku?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[rf]=a[rf]||[]).unshift(en(e)),o)throw a;return dO(a,e,"R3InjectorError",this.source)}else throw a}finally{hn(s),so(o)}}resolveInjectorInitializers(){let e=Oe(null),n=so(this),r=hn(void 0),i;try{let o=this.get(Va,On,_e.Self);for(let s of o)s()}finally{so(n),hn(r),Oe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(en(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new re(205,!1)}processProvider(e){e=Xt(e);let n=Ua(e)?e:Xt(e&&e.provide),r=UO(e);if(!Ua(e)&&e.multi===!0){let i=this.records.get(n);i||(i=xa(void 0,Zh,!0),i.factory=()=>Wy(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Oe(null);try{return n.value===Zh&&(n.value=LO,n.value=n.factory()),typeof n.value=="object"&&n.value&&BO(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Oe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Xt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Yy(t){let e=Rf(t),n=e!==null?e.factory:ds(t);if(n!==null)return n;if(t instanceof G)throw new re(204,!1);if(t instanceof Function)return VO(t);throw new re(204,!1)}function VO(t){if(t.length>0)throw new re(204,!1);let n=Yk(t);return n!==null?()=>n.factory(t):()=>new t}function UO(t){if(ET(t))return xa(void 0,t.useValue);{let e=IT(t);return xa(e,Zh)}}function IT(t,e,n){let r;if(Ua(t)){let i=Xt(t);return ds(i)||Yy(i)}else if(ET(t))r=()=>Xt(t.useValue);else if(OO(t))r=()=>t.useFactory(...Wy(t.deps||[]));else if(kO(t))r=()=>W(Xt(t.useExisting));else{let i=Xt(t&&(t.useClass||t.provide));if(jO(t))r=()=>new i(...Wy(t.deps));else return ds(i)||Yy(i)}return r}function xa(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function jO(t){return!!t.deps}function BO(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function $O(t){return typeof t=="function"||typeof t=="object"&&t instanceof G}function Zy(t,e){for(let n of t)Array.isArray(n)?Zy(n,e):n&&iT(n)?Zy(n.\u0275providers,e):e(n)}function jn(t,e){t instanceof Fu&&t.assertNotDestroyed();let n,r=so(t),i=hn(void 0);try{return e()}finally{so(r),hn(i)}}function bT(){return oT()!==void 0||cO()!=null}function HO(t){if(!bT())throw new re(-203,!1)}function zO(t){return typeof t=="function"}var ui=0,Te=1,de=2,nn=3,nr=4,ir=5,af=6,cf=7,rr=8,ja=9,Rr=10,It=11,Lu=12,CC=13,Qa=14,xr=15,Ba=16,Ma=17,$a=18,Nf=19,CT=20,ao=21,Py=22,Fn=23,Vn=25,TT=1;var hs=7,uf=8,lf=9,Ln=10,df=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(df||{});function co(t){return Array.isArray(t)&&typeof t[TT]=="object"}function li(t){return Array.isArray(t)&&t[TT]===!0}function DT(t){return(t.flags&4)!==0}function Pf(t){return t.componentOffset>-1}function $v(t){return(t.flags&1)===1}function ho(t){return!!t.template}function Jy(t){return(t[de]&512)!==0}var Xy=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function ST(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function di(){return AT}function AT(t){return t.type.prototype.ngOnChanges&&(t.setInput=GO),qO}di.ngInherit=!0;function qO(){let t=xT(this),e=t?.current;if(e){let n=t.previous;if(n===La)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function GO(t,e,n,r,i){let o=this.declaredInputs[r],s=xT(t)||WO(t,{previous:La,current:null}),a=s.current||(s.current={}),u=s.previous,d=u[o];a[o]=new Xy(d&&d.currentValue,n,u===La),ST(t,e,i,n)}var RT="__ngSimpleChanges__";function xT(t){return t[RT]||null}function WO(t,e){return t[RT]=e}var TC=null;var Dr=function(t,e,n){TC?.(t,e,n)},KO="svg",QO="math";function Mr(t){for(;Array.isArray(t);)t=t[ui];return t}function MT(t,e){return Mr(e[t])}function Bn(t,e){return Mr(e[t.index])}function NT(t,e){return t.data[e]}function Hv(t,e){return t[e]}function mo(t,e){let n=e[t];return co(n)?n:n[ui]}function zv(t){return(t[de]&128)===128}function YO(t){return li(t[nn])}function hf(t,e){return e==null?null:t[e]}function PT(t){t[Ma]=0}function kT(t){t[de]&1024||(t[de]|=1024,zv(t)&&Of(t))}function ZO(t,e){for(;t>0;)e=e[Qa],t--;return e}function kf(t){return!!(t[de]&9216||t[Fn]?.dirty)}function ev(t){t[Rr].changeDetectionScheduler?.notify(8),t[de]&64&&(t[de]|=1024),kf(t)&&Of(t)}function Of(t){t[Rr].changeDetectionScheduler?.notify(0);let e=fs(t);for(;e!==null&&!(e[de]&8192||(e[de]|=8192,!zv(e)));)e=fs(e)}function OT(t,e){if((t[de]&256)===256)throw new re(911,!1);t[ao]===null&&(t[ao]=[]),t[ao].push(e)}function JO(t,e){if(t[ao]===null)return;let n=t[ao].indexOf(e);n!==-1&&t[ao].splice(n,1)}function fs(t){let e=t[nn];return li(e)?e[nn]:e}var Ee={lFrame:qT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var FT=!1;function XO(){return Ee.lFrame.elementDepthCount}function e1(){Ee.lFrame.elementDepthCount++}function t1(){Ee.lFrame.elementDepthCount--}function LT(){return Ee.bindingsEnabled}function n1(){return Ee.skipHydrationRootTNode!==null}function r1(t){return Ee.skipHydrationRootTNode===t}function i1(){Ee.skipHydrationRootTNode=null}function Fe(){return Ee.lFrame.lView}function rn(){return Ee.lFrame.tView}function Nr(t){return Ee.lFrame.contextLView=t,t[rr]}function Pr(t){return Ee.lFrame.contextLView=null,t}function fn(){let t=VT();for(;t!==null&&t.type===64;)t=t.parent;return t}function VT(){return Ee.lFrame.currentTNode}function o1(){let t=Ee.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function $u(t,e){let n=Ee.lFrame;n.currentTNode=t,n.isParent=e}function UT(){return Ee.lFrame.isParent}function s1(){Ee.lFrame.isParent=!1}function a1(){return Ee.lFrame.contextLView}function jT(){return FT}function DC(t){FT=t}function Hu(){let t=Ee.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function c1(){return Ee.lFrame.bindingIndex}function u1(t){return Ee.lFrame.bindingIndex=t}function Ff(){return Ee.lFrame.bindingIndex++}function BT(t){let e=Ee.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function l1(){return Ee.lFrame.inI18n}function d1(t,e){let n=Ee.lFrame;n.bindingIndex=n.bindingRootIndex=t,tv(e)}function h1(){return Ee.lFrame.currentDirectiveIndex}function tv(t){Ee.lFrame.currentDirectiveIndex=t}function f1(t){let e=Ee.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function $T(t){Ee.lFrame.currentQueryIndex=t}function p1(t){let e=t[Te];return e.type===2?e.declTNode:e.type===1?t[ir]:null}function HT(t,e,n){if(n&_e.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&_e.Host);)if(i=p1(o),i===null||(o=o[Qa],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=Ee.lFrame=zT();return r.currentTNode=e,r.lView=t,!0}function qv(t){let e=zT(),n=t[Te];Ee.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function zT(){let t=Ee.lFrame,e=t===null?null:t.child;return e===null?qT(t):e}function qT(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function GT(){let t=Ee.lFrame;return Ee.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var WT=GT;function Gv(){let t=GT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function m1(t){return(Ee.lFrame.contextLView=ZO(t,Ee.lFrame.contextLView))[rr]}function ws(){return Ee.lFrame.selectedIndex}function ps(t){Ee.lFrame.selectedIndex=t}function Lf(){let t=Ee.lFrame;return NT(t.tView,t.selectedIndex)}function g1(){return Ee.lFrame.currentNamespace}var KT=!0;function Wv(){return KT}function Kv(t){KT=t}function y1(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=AT(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Qv(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:p}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),p!=null&&(t.destroyHooks??=[]).push(n,p)}}function Jh(t,e,n){QT(t,e,3,n)}function Xh(t,e,n,r){(t[de]&3)===n&&QT(t,e,n,r)}function ky(t,e){let n=t[de];(n&3)===e&&(n&=16383,n+=1,t[de]=n)}function QT(t,e,n,r){let i=r!==void 0?t[Ma]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Ma]+=65536),(a<o||o==-1)&&(v1(t,n,e,u),t[Ma]=(t[Ma]&4294901760)+u+2),u++}function SC(t,e){Dr(4,t,e);let n=Oe(null);try{e.call(t)}finally{Oe(n),Dr(5,t,e)}}function v1(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[de]>>14<t[Ma]>>16&&(t[de]&3)===e&&(t[de]+=16384,SC(a,o)):SC(a,o)}var Oa=-1,ms=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function w1(t){return t instanceof ms}function _1(t){return(t.flags&8)!==0}function E1(t){return(t.flags&16)!==0}var Oy={},nv=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=xf(r);let i=this.injector.get(e,Oy,r);return i!==Oy||n===Oy?i:this.parentInjector.get(e,n,r)}};function YT(t){return t!==Oa}function ff(t){return t&32767}function I1(t){return t>>16}function pf(t,e){let n=I1(t),r=e;for(;n>0;)r=r[Qa],n--;return r}var rv=!0;function mf(t){let e=rv;return rv=t,e}var b1=256,ZT=b1-1,JT=5,C1=0,Sr={};function T1(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Pu)&&(r=n[Pu]),r==null&&(r=n[Pu]=C1++);let i=r&ZT,o=1<<i;e.data[t+(i>>JT)]|=o}function gf(t,e){let n=XT(t,e);if(n!==-1)return n;let r=e[Te];r.firstCreatePass&&(t.injectorIndex=e.length,Fy(r.data,t),Fy(e,null),Fy(r.blueprint,null));let i=Yv(t,e),o=t.injectorIndex;if(YT(i)){let s=ff(i),a=pf(i,e),u=a[Te].data;for(let d=0;d<8;d++)e[o+d]=a[s+d]|u[s+d]}return e[o+8]=i,o}function Fy(t,e){t.push(0,0,0,0,0,0,0,0,e)}function XT(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Yv(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=iD(i),r===null)return Oa;if(n++,i=i[Qa],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Oa}function iv(t,e,n){T1(t,e,n)}function eD(t,e,n){if(n&_e.Optional||t!==void 0)return t;Ov(e,"NodeInjector")}function tD(t,e,n,r){if(n&_e.Optional&&r===void 0&&(r=null),!(n&(_e.Self|_e.Host))){let i=t[ja],o=hn(void 0);try{return i?i.get(e,r,n&_e.Optional):sT(e,r,n&_e.Optional)}finally{hn(o)}}return eD(r,e,n)}function nD(t,e,n,r=_e.Default,i){if(t!==null){if(e[de]&2048&&!(r&_e.Self)){let s=x1(t,e,n,r,Sr);if(s!==Sr)return s}let o=rD(t,e,n,r,Sr);if(o!==Sr)return o}return tD(e,n,r,i)}function rD(t,e,n,r,i){let o=A1(n);if(typeof o=="function"){if(!HT(e,t,r))return r&_e.Host?eD(i,n,r):tD(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&_e.Optional))Ov(n);else return s}finally{WT()}}else if(typeof o=="number"){let s=null,a=XT(t,e),u=Oa,d=r&_e.Host?e[xr][ir]:null;for((a===-1||r&_e.SkipSelf)&&(u=a===-1?Yv(t,e):e[a+8],u===Oa||!RC(r,!1)?a=-1:(s=e[Te],a=ff(u),e=pf(u,e)));a!==-1;){let p=e[Te];if(AC(o,a,p.data)){let m=D1(a,e,n,s,r,d);if(m!==Sr)return m}u=e[a+8],u!==Oa&&RC(r,e[Te].data[a+8]===d)&&AC(o,a,e)?(s=p,a=ff(u),e=pf(u,e)):a=-1}}return i}function D1(t,e,n,r,i,o){let s=e[Te],a=s.data[t+8],u=r==null?Pf(a)&&rv:r!=s&&(a.type&3)!==0,d=i&_e.Host&&o===a,p=S1(a,s,n,u,d);return p!==null?Ha(e,s,p,a):Sr}function S1(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,d=t.directiveEnd,p=o>>20,m=r?a:a+p,w=i?a+p:d;for(let E=m;E<w;E++){let x=s[E];if(E<u&&n===x||E>=u&&x.type===n)return E}if(i){let E=s[u];if(E&&ho(E)&&E.type===n)return u}return null}function Ha(t,e,n,r){let i=t[n],o=e.data;if(w1(i)){let s=i;s.resolving&&rO(nO(o[n]));let a=mf(s.canSeeViewProviders);s.resolving=!0;let u,d=s.injectImpl?hn(s.injectImpl):null,p=HT(t,r,_e.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&y1(n,o[n],e)}finally{d!==null&&hn(d),mf(a),s.resolving=!1,WT()}}return i}function A1(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Pu)?t[Pu]:void 0;return typeof e=="number"?e>=0?e&ZT:R1:e}function AC(t,e,n){let r=1<<t;return!!(n[e+(t>>JT)]&r)}function RC(t,e){return!(t&_e.Self)&&!(t&_e.Host&&e)}var ls=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return nD(this._tNode,this._lView,e,xf(r),n)}};function R1(){return new ls(fn(),Fe())}function hi(t){return ju(()=>{let e=t.prototype.constructor,n=e[nf]||ov(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[nf]||ov(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ov(t){return eT(t)?()=>{let e=ov(Xt(t));return e&&e()}:ds(t)}function x1(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[de]&2048&&!(s[de]&512);){let a=rD(o,s,n,r|_e.Self,Sr);if(a!==Sr)return a;let u=o.parent;if(!u){let d=s[CT];if(d){let p=d.get(n,Sr,r);if(p!==Sr)return p}u=iD(s),s=s[Qa]}o=u}return i}function iD(t){let e=t[Te],n=e.type;return n===2?e.declTNode:n===1?t[ir]:null}function xC(t,e=null,n=null,r){let i=oD(t,e,n,r);return i.resolveInjectorInitializers(),i}function oD(t,e=null,n=null,r,i=new Set){let o=[n||On,NO(t)];return r=r||(typeof t=="object"?void 0:en(t)),new Fu(o,e||Bv(),r||null,i)}var Bt=class t{static{this.THROW_IF_NOT_FOUND=ku}static{this.NULL=new sf}static create(e,n){if(Array.isArray(e))return xC({name:""},n,e,"");{let r=e.name??"";return xC({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=X({token:t,providedIn:"any",factory:()=>W(uT)})}static{this.__NG_ELEMENT_ID__=-1}};var M1=new G("");M1.__NG_ELEMENT_ID__=t=>{let e=fn();if(e===null)throw new re(204,!1);if(e.type&2)return e.value;if(t&_e.Optional)return null;throw new re(204,!1)};var N1="ngOriginalError";function Ly(t){return t[N1]}var sD=!0,Zv=(()=>{class t{static{this.__NG_ELEMENT_ID__=P1}static{this.__NG_ENV_ID__=n=>n}}return t})(),sv=class extends Zv{constructor(e){super(),this._lView=e}onDestroy(e){return OT(this._lView,e),()=>JO(this._lView,e)}};function P1(){return new sv(Fe())}var go=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ft(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=X({token:t,providedIn:"root",factory:()=>new t})}}return t})();var av=class extends ht{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,bT()&&(this.destroyRef=$(Zv,{optional:!0})??void 0,this.pendingTasks=$(go,{optional:!0})??void 0)}emit(e){let n=Oe(null);try{super.next(e)}finally{Oe(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ct&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},rt=av;function yf(...t){}function aD(t){let e,n;function r(){t=yf;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function MC(t){return queueMicrotask(()=>t()),()=>{t=yf}}var Jv="isAngularZone",vf=Jv+"_ID",k1=0,be=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new rt(!1),this.onMicrotaskEmpty=new rt(!1),this.onStable=new rt(!1),this.onError=new rt(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=sD}=e;if(typeof Zone>"u")throw new re(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,L1(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Jv)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new re(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new re(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,O1,yf,yf);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},O1={};function Xv(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function F1(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){aD(()=>{t.callbackScheduled=!1,cv(t),t.isCheckStableRunning=!0,Xv(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),cv(t)}function L1(t){let e=()=>{F1(t)},n=k1++;t._inner=t._inner.fork({name:"angular",properties:{[Jv]:!0,[vf]:n,[vf+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(V1(u))return r.invokeTask(o,s,a,u);try{return NC(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),PC(t)}},onInvoke:(r,i,o,s,a,u,d)=>{try{return NC(t),r.invoke(o,s,a,u,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!U1(u)&&e(),PC(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,cv(t),Xv(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function cv(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function NC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function PC(t){t._nesting--,Xv(t)}var uv=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new rt,this.onMicrotaskEmpty=new rt,this.onStable=new rt,this.onError=new rt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function V1(t){return cD(t,"__ignore_ng_zone__")}function U1(t){return cD(t,"__scheduler_tick__")}function cD(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var si=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Ly(e);for(;n&&Ly(n);)n=Ly(n);return n||null}},j1=new G("",{providedIn:"root",factory:()=>{let t=$(be),e=$(si);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function B1(){return Vf(fn(),Fe())}function Vf(t,e){return new Dn(Bn(t,e))}var Dn=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=B1}}return t})();function uD(t){return(t.flags&128)===128}var lD=new Map,$1=0;function H1(){return $1++}function z1(t){lD.set(t[Nf],t)}function lv(t){lD.delete(t[Nf])}var kC="__ngContext__";function gs(t,e){co(e)?(t[kC]=e[Nf],z1(e)):t[kC]=e}function dD(t){return fD(t[Lu])}function hD(t){return fD(t[nr])}function fD(t){for(;t!==null&&!li(t);)t=t[nr];return t}var dv;function pD(t){dv=t}function q1(){if(dv!==void 0)return dv;if(typeof document<"u")return document;throw new re(210,!1)}var Uf=new G("",{providedIn:"root",factory:()=>G1}),G1="ng",ew=new G(""),pn=new G("",{providedIn:"platform",factory:()=>"unknown"});var QQ=new G(""),tw=new G("",{providedIn:"root",factory:()=>q1().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var W1="h",K1="b";var Q1=()=>null;function nw(t,e,n=!1){return Q1(t,e,n)}var mD=!1,Y1=new G("",{providedIn:"root",factory:()=>mD});var wf=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${JC})`}};function jf(t){return t instanceof wf?t.changingThisBreaksApplicationSecurity:t}function gD(t,e){let n=Z1(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${JC})`)}return n===e}function Z1(t){return t instanceof wf&&t.getTypeName()||null}var J1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function yD(t){return t=String(t),t.match(J1)?t:"unsafe:"+t}var rw=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(rw||{});function YQ(t){let e=X1();return e?e.sanitize(rw.URL,t)||"":gD(t,"URL")?jf(t):yD(Fa(t))}function X1(){let t=Fe();return t&&t[Rr].sanitizer}function vD(t){return t instanceof Function?t():t}function eF(t){return(t??$(Bt)).get(pn)==="browser"}var ai=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ai||{}),tF;function iw(t,e){return tF(t,e)}function Na(t,e,n,r,i){if(r!=null){let o,s=!1;li(r)?o=r:co(r)&&(s=!0,r=r[ui]);let a=Mr(r);t===0&&n!==null?i==null?bD(e,n,a):_f(e,n,a,i||null,!0):t===1&&n!==null?_f(e,n,a,i||null,!0):t===2?gF(e,a,s):t===3&&e.destroyNode(a),o!=null&&vF(e,t,o,n,i)}}function nF(t,e){return t.createText(e)}function rF(t,e,n){t.setValue(e,n)}function wD(t,e,n){return t.createElement(e,n)}function iF(t,e){_D(t,e),e[ui]=null,e[ir]=null}function oF(t,e,n,r,i,o){r[ui]=i,r[ir]=e,Bf(t,r,n,1,i,o)}function _D(t,e){e[Rr].changeDetectionScheduler?.notify(9),Bf(t,e,e[It],2,null,null)}function sF(t){let e=t[Lu];if(!e)return Vy(t[Te],t);for(;e;){let n=null;if(co(e))n=e[Lu];else{let r=e[Ln];r&&(n=r)}if(!n){for(;e&&!e[nr]&&e!==t;)co(e)&&Vy(e[Te],e),e=e[nn];e===null&&(e=t),co(e)&&Vy(e[Te],e),n=e&&e[nr]}e=n}}function aF(t,e,n,r){let i=Ln+r,o=n.length;r>0&&(n[i-1][nr]=e),r<o-Ln?(e[nr]=n[i],cT(n,Ln+r,e)):(n.push(e),e[nr]=null),e[nn]=n;let s=e[Ba];s!==null&&n!==s&&ED(s,e);let a=e[$a];a!==null&&a.insertView(t),ev(e),e[de]|=128}function ED(t,e){let n=t[lf],r=e[nn];if(co(r))t[de]|=df.HasTransplantedViews;else{let i=r[nn][xr];e[xr]!==i&&(t[de]|=df.HasTransplantedViews)}n===null?t[lf]=[e]:n.push(e)}function ow(t,e){let n=t[lf],r=n.indexOf(e);n.splice(r,1)}function hv(t,e){if(t.length<=Ln)return;let n=Ln+e,r=t[n];if(r){let i=r[Ba];i!==null&&i!==t&&ow(i,r),e>0&&(t[n-1][nr]=r[nr]);let o=of(t,Ln+e);iF(r[Te],r);let s=o[$a];s!==null&&s.detachView(o[Te]),r[nn]=null,r[nr]=null,r[de]&=-129}return r}function ID(t,e){if(!(e[de]&256)){let n=e[It];n.destroyNode&&Bf(t,e,n,3,null,null),sF(e)}}function Vy(t,e){if(e[de]&256)return;let n=Oe(null);try{e[de]&=-129,e[de]|=256,e[Fn]&&uy(e[Fn]),uF(t,e),cF(t,e),e[Te].type===1&&e[It].destroy();let r=e[Ba];if(r!==null&&li(e[nn])){r!==e[nn]&&ow(r,e);let i=e[$a];i!==null&&i.detachView(t)}lv(e)}finally{Oe(n)}}function cF(t,e){let n=t.cleanup,r=e[cf];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[cf]=null);let i=e[ao];if(i!==null){e[ao]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function uF(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ms)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Dr(4,a,u);try{u.call(a)}finally{Dr(5,a,u)}}else{Dr(4,i,o);try{o.call(i)}finally{Dr(5,i,o)}}}}}function lF(t,e,n){return dF(t,e.parent,n)}function dF(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[ui];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Ar.None||o===Ar.Emulated)return null}return Bn(r,n)}}function _f(t,e,n,r,i){t.insertBefore(e,n,r,i)}function bD(t,e,n){t.appendChild(e,n)}function OC(t,e,n,r,i){r!==null?_f(t,e,n,r,i):bD(t,e,n)}function CD(t,e){return t.parentNode(e)}function hF(t,e){return t.nextSibling(e)}function fF(t,e,n){return mF(t,e,n)}function pF(t,e,n){return t.type&40?Bn(t,n):null}var mF=pF,FC;function sw(t,e,n,r){let i=lF(t,r,e),o=e[It],s=r.parent||e[ir],a=fF(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)OC(o,i,n[u],a,!1);else OC(o,i,n,a,!1);FC!==void 0&&FC(o,r,e,n,i)}function Nu(t,e){if(e!==null){let n=e.type;if(n&3)return Bn(e,t);if(n&4)return fv(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Nu(t,r);{let i=t[e.index];return li(i)?fv(-1,i):Mr(i)}}else{if(n&128)return Nu(t,e.next);if(n&32)return iw(e,t)()||Mr(t[e.index]);{let r=TD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=fs(t[xr]);return Nu(i,r)}else return Nu(t,e.next)}}}return null}function TD(t,e){if(e!==null){let r=t[xr][ir],i=e.projection;return r.projection[i]}return null}function fv(t,e){let n=Ln+t+1;if(n<e.length){let r=e[n],i=r[Te].firstChild;if(i!==null)return Nu(r,i)}return e[hs]}function gF(t,e,n){t.removeChild(null,e,n)}function aw(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&gs(Mr(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)aw(t,e,n.child,r,i,o,!1),Na(e,t,i,a,o);else if(u&32){let d=iw(n,r),p;for(;p=d();)Na(e,t,i,p,o);Na(e,t,i,a,o)}else u&16?yF(t,e,r,n,i,o):Na(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Bf(t,e,n,r,i,o){aw(n,r,t.firstChild,e,i,o,!1)}function yF(t,e,n,r,i,o){let s=n[xr],u=s[ir].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let p=u[d];Na(e,t,i,p,o)}else{let d=u,p=s[nn];uD(r)&&(d.flags|=128),aw(t,e,d,p,i,o,!0)}}function vF(t,e,n,r,i){let o=n[hs],s=Mr(n);o!==s&&Na(e,t,r,o,i);for(let a=Ln;a<n.length;a++){let u=n[a];Bf(u[Te],u,t,e,r,o)}}function wF(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:ai.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ai.Important),t.setStyle(n,r,i,o))}}function _F(t,e,n){t.setAttribute(e,"style",n)}function DD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function SD(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Ky(t,e,r),i!==null&&DD(t,e,i),o!==null&&_F(t,e,o)}var or={};function K(t=1){AD(rn(),Fe(),ws()+t,!1)}function AD(t,e,n,r){if(!r)if((e[de]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Jh(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Xh(e,o,0,n)}ps(n)}function Z(t,e=_e.Default){let n=Fe();if(n===null)return W(t,e);let r=fn();return nD(r,n,Xt(t),e)}function RD(){let t="invalid";throw new Error(t)}function xD(t,e,n,r,i,o){let s=Oe(null);try{let a=null;i&uo.SignalBased&&(a=e[r][ni]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&uo.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):ST(e,a,r,o)}finally{Oe(s)}}function EF(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ps(~i);else{let o=i,s=n[++r],a=n[++r];d1(s,o);let u=e[o];a(2,u)}}}finally{ps(-1)}}function $f(t,e,n,r,i,o,s,a,u,d,p){let m=e.blueprint.slice();return m[ui]=i,m[de]=r|4|128|8|64,(d!==null||t&&t[de]&2048)&&(m[de]|=2048),PT(m),m[nn]=m[Qa]=t,m[rr]=n,m[Rr]=s||t&&t[Rr],m[It]=a||t&&t[It],m[ja]=u||t&&t[ja]||null,m[ir]=o,m[Nf]=H1(),m[af]=p,m[CT]=d,m[xr]=e.type==2?t[xr]:m,m}function Hf(t,e,n,r,i){let o=t.data[e];if(o===null)o=IF(t,e,n,r,i),l1()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=o1();o.injectorIndex=s===null?-1:s.injectorIndex}return $u(o,!0),o}function IF(t,e,n,r,i){let o=VT(),s=UT(),a=s?o:o&&o.parent,u=t.data[e]=SF(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function MD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ND(t,e,n,r,i){let o=ws(),s=r&2;try{ps(-1),s&&e.length>Vn&&AD(t,e,Vn,!1),Dr(s?2:0,i),n(r,i)}finally{ps(o),Dr(s?3:1,i)}}function PD(t,e,n){if(DT(e)){let r=Oe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{Oe(r)}}}function kD(t,e,n){LT()&&(PF(t,e,n,Bn(n,e)),(n.flags&64)===64&&UD(t,e,n))}function OD(t,e,n=Bn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function FD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=cw(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function cw(t,e,n,r,i,o,s,a,u,d,p){let m=Vn+r,w=m+i,E=bF(m,w),x=typeof d=="function"?d():d;return E[Te]={type:t,blueprint:E,template:n,queries:null,viewQuery:a,declTNode:e,data:E.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:w,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:x,incompleteFirstPass:!1,ssrId:p}}function bF(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:or);return n}function CF(t,e,n,r){let o=r.get(Y1,mD)||n===Ar.ShadowDom,s=t.selectRootElement(e,o);return TF(s),s}function TF(t){DF(t)}var DF=()=>null;function SF(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return n1()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function LC(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=uo.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let d=o;if(i!==null){if(!i.hasOwnProperty(o))continue;d=i[o]}t===0?VC(r,n,d,a,u):VC(r,n,d,a)}return r}function VC(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function AF(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,d=null;for(let p=r;p<i;p++){let m=o[p],w=n?n.get(m):null,E=w?w.inputs:null,x=w?w.outputs:null;u=LC(0,m.inputs,p,u,E),d=LC(1,m.outputs,p,d,x);let F=u!==null&&s!==null&&!Vv(e)?zF(u,p,s):null;a.push(F)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=d}function RF(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function uw(t,e,n,r,i,o,s,a){let u=Bn(e,n),d=e.inputs,p;!a&&d!=null&&(p=d[r])?(lw(t,n,p,r,i),Pf(e)&&xF(n,e.index)):e.type&3?(r=RF(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function xF(t,e){let n=mo(e,t);n[de]&16||(n[de]|=64)}function LD(t,e,n,r){if(LT()){let i=r===null?null:{"":-1},o=OF(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&VD(t,e,n,s,i,a),i&&FF(n,r,i)}n.mergedAttrs=Ou(n.mergedAttrs,n.attrs)}function VD(t,e,n,r,i,o){for(let d=0;d<r.length;d++)iv(gf(n,e),t,r[d].type);VF(n,t.data.length,r.length);for(let d=0;d<r.length;d++){let p=r[d];p.providersResolver&&p.providersResolver(p)}let s=!1,a=!1,u=MD(t,e,r.length,null);for(let d=0;d<r.length;d++){let p=r[d];n.mergedAttrs=Ou(n.mergedAttrs,p.hostAttrs),UF(t,n,e,u,p),LF(u,p,i),p.contentQueries!==null&&(n.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(n.flags|=64);let m=p.type.prototype;!s&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(m.ngOnChanges||m.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}AF(t,n,o)}function MF(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;NF(s)!=a&&s.push(a),s.push(n,r,o)}}function NF(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function PF(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Pf(n)&&jF(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||gf(n,e),gs(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],d=Ha(e,t,a,n);if(gs(d,e),s!==null&&HF(e,a-i,d,u,n,s),ho(u)){let p=mo(n.index,e);p[rr]=Ha(e,t,a,n)}}}function UD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=h1();try{ps(o);for(let a=r;a<i;a++){let u=t.data[a],d=e[a];tv(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&kF(u,d)}}finally{ps(-1),tv(s)}}function kF(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function OF(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(bO(e,s.selectors,!1))if(r||(r=[]),ho(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;pv(t,e,u)}else r.unshift(s),pv(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function pv(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function FF(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new re(-301,!1);r.push(e[i],o)}}}function LF(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ho(e)&&(n[""]=t)}}function VF(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function UF(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=ds(i.type,!0)),s=new ms(o,ho(i),Z);t.blueprint[r]=s,n[r]=s,MF(t,e,r,MD(t,n,i.hostVars,or),i)}function jF(t,e,n){let r=Bn(e,t),i=FD(n),o=t[Rr].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=zf(t,$f(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function BF(t,e,n,r,i,o){let s=Bn(t,e);$F(e[It],s,o,t.value,n,r,i)}function $F(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Fa(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function HF(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],d=s[a++],p=s[a++],m=s[a++];xD(r,n,u,d,p,m)}}function zF(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function jD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function BD(t,e){let n=t.contentQueries;if(n!==null){let r=Oe(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];$T(o),a.contentQueries(2,e[s],s)}}}finally{Oe(r)}}}function zf(t,e){return t[Lu]?t[CC][nr]=e:t[Lu]=e,t[CC]=e,e}function mv(t,e,n){$T(0);let r=Oe(null);try{e(t,n)}finally{Oe(r)}}function qF(t){return t[cf]??=[]}function GF(t){return t.cleanup??=[]}function $D(t,e){let n=t[ja],r=n?n.get(si,null):null;r&&r.handleError(e)}function lw(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],d=e[s],p=t.data[s];xD(p,d,r,a,u,i)}}function HD(t,e,n){let r=MT(e,t);rF(t[It],r,n)}function WF(t,e){let n=mo(e,t),r=n[Te];KF(r,n);let i=n[ui];i!==null&&n[af]===null&&(n[af]=nw(i,n[ja])),dw(r,n,n[rr])}function KF(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function dw(t,e,n){qv(e);try{let r=t.viewQuery;r!==null&&mv(1,r,n);let i=t.template;i!==null&&ND(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[$a]?.finishViewCreation(t),t.staticContentQueries&&BD(t,e),t.staticViewQueries&&mv(2,t.viewQuery,n);let o=t.components;o!==null&&QF(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[de]&=-5,Gv()}}function QF(t,e){for(let n=0;n<e.length;n++)WF(t,e[n])}function YF(t,e,n,r){let i=Oe(null);try{let o=e.tView,a=t[de]&4096?4096:16,u=$f(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=t[e.index];u[Ba]=d;let p=t[$a];return p!==null&&(u[$a]=p.createEmbeddedView(o)),dw(o,u,n),u}finally{Oe(i)}}function UC(t,e){return!e||e.firstChild===null||uD(t)}function ZF(t,e,n,r=!0){let i=e[Te];if(aF(i,e,t,n),r){let s=fv(n,t),a=e[It],u=CD(a,t[hs]);u!==null&&oF(i,t[ir],a,e,u,s)}let o=e[af];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Ef(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Mr(o)),li(o)&&JF(o,r);let s=n.type;if(s&8)Ef(t,e,n.child,r);else if(s&32){let a=iw(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=TD(e,n);if(Array.isArray(a))r.push(...a);else{let u=fs(e[xr]);Ef(u[Te],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function JF(t,e){for(let n=Ln;n<t.length;n++){let r=t[n],i=r[Te].firstChild;i!==null&&Ef(r[Te],r,i,e)}t[hs]!==t[ui]&&e.push(t[hs])}var zD=[];function XF(t){return t[Fn]??eL(t)}function eL(t){let e=zD.pop()??Object.create(nL);return e.lView=t,e}function tL(t){t.lView[Fn]!==t&&(t.lView=null,zD.push(t))}var nL=le(j({},Au),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Of(t.lView)},consumerOnSignalRead(){this.lView[Fn]=this}});function rL(t){let e=t[Fn]??Object.create(iL);return e.lView=t,e}var iL=le(j({},Au),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=fs(t.lView);for(;e&&!qD(e[Te]);)e=fs(e);e&&kT(e)},consumerOnSignalRead(){this.lView[Fn]=this}});function qD(t){return t.type!==2}var oL=100;function GD(t,e=!0,n=0){let r=t[Rr],i=r.rendererFactory,o=!1;o||i.begin?.();try{sL(t,n)}catch(s){throw e&&$D(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function sL(t,e){let n=jT();try{DC(!0),gv(t,e);let r=0;for(;kf(t);){if(r===oL)throw new re(103,!1);r++,gv(t,1)}}finally{DC(n)}}function aL(t,e,n,r){let i=e[de];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Rr].inlineEffectRunner?.flush(),qv(e);let a=!0,u=null,d=null;o||(qD(t)?(d=XF(e),u=_h(d)):x0()===null?(a=!1,d=rL(e),u=_h(d)):e[Fn]&&(uy(e[Fn]),e[Fn]=null));try{PT(e),u1(t.bindingStartIndex),n!==null&&ND(t,e,n,2,r);let p=(i&3)===3;if(!o)if(p){let E=t.preOrderCheckHooks;E!==null&&Jh(e,E,null)}else{let E=t.preOrderHooks;E!==null&&Xh(e,E,0,null),ky(e,0)}if(s||cL(e),WD(e,0),t.contentQueries!==null&&BD(t,e),!o)if(p){let E=t.contentCheckHooks;E!==null&&Jh(e,E)}else{let E=t.contentHooks;E!==null&&Xh(e,E,1),ky(e,1)}EF(t,e);let m=t.components;m!==null&&QD(e,m,0);let w=t.viewQuery;if(w!==null&&mv(2,w,r),!o)if(p){let E=t.viewCheckHooks;E!==null&&Jh(e,E)}else{let E=t.viewHooks;E!==null&&Xh(e,E,2),ky(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Py]){for(let E of e[Py])E();e[Py]=null}o||(e[de]&=-73)}catch(p){throw o||Of(e),p}finally{d!==null&&(ay(d,u),a&&tL(d)),Gv()}}function WD(t,e){for(let n=dD(t);n!==null;n=hD(n))for(let r=Ln;r<n.length;r++){let i=n[r];KD(i,e)}}function cL(t){for(let e=dD(t);e!==null;e=hD(e)){if(!(e[de]&df.HasTransplantedViews))continue;let n=e[lf];for(let r=0;r<n.length;r++){let i=n[r];kT(i)}}}function uL(t,e,n){let r=mo(e,t);KD(r,n)}function KD(t,e){zv(t)&&gv(t,e)}function gv(t,e){let r=t[Te],i=t[de],o=t[Fn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&cy(o)),s||=!1,o&&(o.dirty=!1),t[de]&=-9217,s)aL(r,t,r.template,t[rr]);else if(i&8192){WD(t,1);let a=r.components;a!==null&&QD(t,a,1)}}function QD(t,e,n){for(let r=0;r<e.length;r++)uL(t,e[r],n)}function hw(t,e){let n=jT()?64:1088;for(t[Rr].changeDetectionScheduler?.notify(e);t;){t[de]|=n;let r=fs(t);if(Jy(t)&&!r)return t;t=r}return null}var ys=class{get rootNodes(){let e=this._lView,n=e[Te];return Ef(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[rr]}set context(e){this._lView[rr]=e}get destroyed(){return(this._lView[de]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[nn];if(li(e)){let n=e[uf],r=n?n.indexOf(this):-1;r>-1&&(hv(e,r),of(n,r))}this._attachedToViewContainer=!1}ID(this._lView[Te],this._lView)}onDestroy(e){OT(this._lView,e)}markForCheck(){hw(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[de]&=-129}reattach(){ev(this._lView),this._lView[de]|=128}detectChanges(){this._lView[de]|=1024,GD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Jy(this._lView),n=this._lView[Ba];n!==null&&!e&&ow(n,this._lView),_D(this._lView[Te],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new re(902,!1);this._appRef=e;let n=Jy(this._lView),r=this._lView[Ba];r!==null&&!n&&ED(r,this._lView),ev(this._lView)}},qf=(()=>{class t{static{this.__NG_ELEMENT_ID__=hL}}return t})(),lL=qf,dL=class extends lL{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=YF(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ys(i)}};function hL(){return fL(fn(),Fe())}function fL(t,e){return t.type&4?new dL(e,t,Vf(t,e)):null}var JQ=new RegExp(`^(\\d+)*(${K1}|${W1})*(.*)`);var pL=()=>null;function jC(t,e){return pL(t,e)}var za=class{},Gf=new G("",{providedIn:"root",factory:()=>!1});var YD=new G(""),ZD=new G(""),yv=class{},If=class{};function mL(t){let e=Error(`No component factory found for ${en(t)}.`);return e[gL]=t,e}var gL="ngComponent";var vv=class{resolveComponentFactory(e){throw mL(e)}},qa=class{static{this.NULL=new vv}},Ga=class{},sr=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>yL()}}return t})();function yL(){let t=Fe(),e=fn(),n=mo(e.index,t);return(co(n)?n:t)[It]}var vL=(()=>{class t{static{this.\u0275prov=X({token:t,providedIn:"root",factory:()=>null})}}return t})();function wv(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=pC(i,a);else if(o==2){let u=a,d=e[++s];r=pC(r,u+": "+d+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var bf=class extends qa{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=lo(e);return new Wa(n,this.ngModule)}};function BC(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:uo.None;e?n.push({propName:s,templateName:r,isSignal:(a&uo.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function wL(t){let e=t.toLowerCase();return e==="svg"?KO:e==="math"?QO:null}var Wa=class extends If{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=BC(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return BC(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=SO(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Oe(null);try{i=i||this.ngModule;let s=i instanceof tn?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new nv(e,s):e,u=a.get(Ga,null);if(u===null)throw new re(407,!1);let d=a.get(vL,null),p=a.get(za,null),m={rendererFactory:u,sanitizer:d,inlineEffectRunner:null,changeDetectionScheduler:p},w=u.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",x=r?CF(w,r,this.componentDef.encapsulation,a):wD(w,E,wL(E)),F=512;this.componentDef.signals?F|=4096:this.componentDef.onPush||(F|=16);let N=null;x!==null&&(N=nw(x,a,!0));let B=cw(0,null,null,1,0,null,null,null,null,null,null),J=$f(null,B,null,F,null,null,m,w,a,null,N);qv(J);let q,ne,ye=null;try{let ie=this.componentDef,D,I=null;ie.findHostDirectiveDefs?(D=[],I=new Map,ie.findHostDirectiveDefs(ie,D,I),D.push(ie)):D=[ie];let C=_L(J,x);ye=EL(C,x,ie,D,J,m,w),ne=NT(B,Vn),x&&CL(w,ie,x,r),n!==void 0&&TL(ne,this.ngContentSelectors,n),q=bL(ye,ie,D,I,J,[DL]),dw(B,J,null)}catch(ie){throw ye!==null&&lv(ye),lv(J),ie}finally{Gv()}return new _v(this.componentType,q,Vf(ne,J),J,ne)}finally{Oe(o)}}},_v=class extends yv{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ys(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;lw(o[Te],o,i,e,n),this.previousInputValues.set(e,n);let s=mo(this._tNode.index,o);hw(s,1)}}get injector(){return new ls(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function _L(t,e){let n=t[Te],r=Vn;return t[r]=e,Hf(n,r,2,"#host",null)}function EL(t,e,n,r,i,o,s){let a=i[Te];IL(r,t,e,s);let u=null;e!==null&&(u=nw(e,i[ja]));let d=o.rendererFactory.createRenderer(e,n),p=16;n.signals?p=4096:n.onPush&&(p=64);let m=$f(i,FD(n),null,p,i[t.index],t,o,d,null,null,u);return a.firstCreatePass&&pv(a,t,r.length-1),zf(i,m),i[t.index]=m}function IL(t,e,n,r){for(let i of t)e.mergedAttrs=Ou(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(wv(e,e.mergedAttrs,!0),n!==null&&SD(r,n,e))}function bL(t,e,n,r,i,o){let s=fn(),a=i[Te],u=Bn(s,i);VD(a,i,s,n,null,r);for(let p=0;p<n.length;p++){let m=s.directiveStart+p,w=Ha(i,a,m,s);gs(w,i)}UD(a,i,s),u&&gs(u,i);let d=Ha(i,a,s.directiveStart+s.componentOffset,s);if(t[rr]=i[rr]=d,o!==null)for(let p of o)p(d,e);return PD(a,s,i),d}function CL(t,e,n,r){if(r)Ky(t,n,["ng-version","18.2.9"]);else{let{attrs:i,classes:o}=AO(e.selectors[0]);i&&Ky(t,n,i),o&&o.length>0&&DD(t,n,o.join(" "))}}function TL(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function DL(){let t=fn();Qv(Fe()[Te],t)}var Ya=(()=>{class t{static{this.__NG_ELEMENT_ID__=SL}}return t})();function SL(){let t=fn();return RL(t,Fe())}var AL=Ya,JD=class extends AL{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Vf(this._hostTNode,this._hostLView)}get injector(){return new ls(this._hostTNode,this._hostLView)}get parentInjector(){let e=Yv(this._hostTNode,this._hostLView);if(YT(e)){let n=pf(e,this._hostLView),r=ff(e),i=n[Te].data[r+8];return new ls(i,n)}else return new ls(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=$C(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ln}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=jC(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,UC(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!zO(e),a;if(s)a=n;else{let x=n||{};a=x.index,r=x.injector,i=x.projectableNodes,o=x.environmentInjector||x.ngModuleRef}let u=s?e:new Wa(lo(e)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let F=(s?d:this.parentInjector).get(tn,null);F&&(o=F)}let p=lo(u.componentType??{}),m=jC(this._lContainer,p?.id??null),w=m?.firstChild??null,E=u.create(d,i,w,o);return this.insertImpl(E.hostView,a,UC(this._hostTNode,m)),E}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(YO(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[nn],d=new JD(u,u[ir],u[nn]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return ZF(s,i,o,r),e.attachToViewContainerRef(),cT(Uy(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=$C(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=hv(this._lContainer,n);r&&(of(Uy(this._lContainer),n),ID(r[Te],r))}detach(e){let n=this._adjustIndex(e,-1),r=hv(this._lContainer,n);return r&&of(Uy(this._lContainer),n)!=null?new ys(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function $C(t){return t[uf]}function Uy(t){return t[uf]||(t[uf]=[])}function RL(t,e){let n,r=e[t.index];return li(r)?n=r:(n=jD(r,e,null,t),e[t.index]=n,zf(e,n)),ML(n,e,t,r),new JD(n,t,e)}function xL(t,e){let n=t[It],r=n.createComment(""),i=Bn(e,t),o=CD(n,i);return _f(n,o,r,hF(n,i),!1),r}var ML=kL,NL=()=>!1;function PL(t,e,n){return NL(t,e,n)}function kL(t,e,n,r){if(t[hs])return;let i;n.type&8?i=Mr(r):i=xL(e,n),t[hs]=i}var HC=new Set;function _s(t){HC.has(t)||(HC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function OL(t){return typeof t=="function"&&t[ni]!==void 0}function Za(t,e){_s("NgSignals");let n=B0(t),r=n[ni];return e?.equal&&(r.equal=e.equal),n.set=i=>ly(r,i),n.update=i=>$0(r,i),n.asReadonly=FL.bind(n),n}function FL(){let t=this[ni];if(t.readonlyFn===void 0){let e=()=>this();e[ni]=t,t.readonlyFn=e}return t.readonlyFn}function XD(t){return OL(t)&&typeof t.set=="function"}function LL(t){return Object.getPrototypeOf(t.prototype).constructor}function mn(t){let e=LL(t.type),n=!0,r=[t];for(;e;){let i;if(ho(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new re(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Kh(t.inputs),s.inputTransforms=Kh(t.inputTransforms),s.declaredInputs=Kh(t.declaredInputs),s.outputs=Kh(t.outputs);let a=i.hostBindings;a&&$L(t,a);let u=i.viewQuery,d=i.contentQueries;if(u&&jL(t,u),d&&BL(t,d),VL(t,i),Kk(t.outputs,i.outputs),ho(i)&&i.data.animation){let p=t.data;p.animation=(p.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===mn&&(n=!1)}}e=Object.getPrototypeOf(e)}UL(r)}function VL(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function UL(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ou(i.hostAttrs,n=Ou(n,i.hostAttrs))}}function Kh(t){return t===La?{}:t===On?[]:t}function jL(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function BL(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function $L(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var fo=class{},Vu=class{};var Ev=class extends fo{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new bf(this);let o=gT(e);this._bootstrapComponents=vD(o.bootstrap),this._r3Injector=oD(e,n,[{provide:fo,useValue:this},{provide:qa,useValue:this.componentFactoryResolver},...r],en(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Iv=class extends Vu{constructor(e){super(),this.moduleType=e}create(e){return new Ev(this.moduleType,e,[])}};var Cf=class extends fo{constructor(e){super(),this.componentFactoryResolver=new bf(this),this.instance=null;let n=new Fu([...e.providers,{provide:fo,useValue:this},{provide:qa,useValue:this.componentFactoryResolver}],e.parent||Bv(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Wf(t,e,n=null){return new Cf({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function eS(t){return zL(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function HL(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function zL(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function fw(t,e,n){return t[e]=n}function qL(t,e){return t[e]}function po(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function tS(t,e,n,r){let i=po(t,e,n);return po(t,e+1,r)||i}function GL(t){return(t.flags&32)===32}function WL(t,e,n,r,i,o,s,a,u){let d=e.consts,p=Hf(e,t,4,s||null,a||null);LD(e,n,p,hf(d,u)),Qv(e,p);let m=p.tView=cw(2,p,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,p),m.queries=e.queries.embeddedTView(p)),p}function KL(t,e,n,r,i,o,s,a,u,d){let p=n+Vn,m=e.firstCreatePass?WL(p,e,t,r,i,o,s,a,u):e.data[p];$u(m,!1);let w=QL(e,t,m,n);Wv()&&sw(e,t,w,m),gs(w,t);let E=jD(w,t,w,m);return t[p]=E,zf(t,E),PL(E,m,t),$v(m)&&kD(e,t,m),u!=null&&OD(t,m,d),m}function Ne(t,e,n,r,i,o,s,a){let u=Fe(),d=rn(),p=hf(d.consts,o);return KL(u,d,t,e,n,r,i,p,s,a),Ne}var QL=YL;function YL(t,e,n,r){return Kv(!0),e[It].createComment("")}var Pa=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Pa||{}),nS=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=X({token:t,providedIn:"root",factory:()=>new t})}}return t})(),bv=class t{constructor(){this.ngZone=$(be),this.scheduler=$(za),this.errorHandler=$(si,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Pa.EarlyRead,Pa.Write,Pa.MixedReadWrite,Pa.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=X({token:t,providedIn:"root",factory:()=>new t})}},Cv=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function pw(t,e){!e?.injector&&HO(pw);let n=e?.injector??$(Bt);return eF(n)?(_s("NgAfterNextRender"),JL(t,n,e,!0)):XL}function ZL(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function JL(t,e,n,r){let i=e.get(nS);i.impl??=e.get(bv);let o=n?.phase??Pa.MixedReadWrite,s=n?.manualCleanup!==!0?e.get(Zv):null,a=new Cv(i.impl,ZL(t,o),r,s);return i.impl.register(a),a}var XL={destroy(){}};function zu(t,e,n,r){let i=Fe(),o=Ff();if(po(i,o,e)){let s=rn(),a=Lf();BF(a,i,t,e,n,r)}return zu}function rS(t,e,n,r){return po(t,Ff(),n)?e+Fa(n)+r:or}function eV(t,e,n,r,i,o){let s=c1(),a=tS(t,s,n,i);return BT(2),a?e+Fa(n)+r+Fa(i)+o:or}function Qh(t,e){return t<<17|e<<2}function vs(t){return t>>17&32767}function tV(t){return(t&2)==2}function nV(t,e){return t&131071|e<<17}function Tv(t){return t|2}function Ka(t){return(t&131068)>>2}function jy(t,e){return t&-131069|e<<2}function rV(t){return(t&1)===1}function Dv(t){return t|1}function iV(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=vs(s),u=Ka(s);t[r]=n;let d=!1,p;if(Array.isArray(n)){let m=n;p=m[1],(p===null||Bu(m,p)>0)&&(d=!0)}else p=n;if(i)if(u!==0){let w=vs(t[a+1]);t[r+1]=Qh(w,a),w!==0&&(t[w+1]=jy(t[w+1],r)),t[a+1]=nV(t[a+1],r)}else t[r+1]=Qh(a,0),a!==0&&(t[a+1]=jy(t[a+1],r)),a=r;else t[r+1]=Qh(u,0),a===0?a=r:t[u+1]=jy(t[u+1],r),u=r;d&&(t[r+1]=Tv(t[r+1])),zC(t,p,r,!0),zC(t,p,r,!1),oV(e,p,t,r,o),s=Qh(a,u),o?e.classBindings=s:e.styleBindings=s}function oV(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Bu(o,e)>=0&&(n[r+1]=Dv(n[r+1]))}function zC(t,e,n,r){let i=t[n+1],o=e===null,s=r?vs(i):Ka(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],d=t[s+1];sV(u,e)&&(a=!0,t[s+1]=r?Dv(d):Tv(d)),s=r?vs(d):Ka(d)}a&&(t[n+1]=r?Tv(i):Dv(i))}function sV(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Bu(t,e)>=0:!1}function Q(t,e,n){let r=Fe(),i=Ff();if(po(r,i,e)){let o=rn(),s=Lf();uw(o,s,r,t,e,r[It],n,!1)}return Q}function qC(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";lw(t,n,o[s],s,r)}function Kf(t,e){return aV(t,e,null,!0),Kf}function aV(t,e,n,r){let i=Fe(),o=rn(),s=BT(2);if(o.firstUpdatePass&&uV(o,t,s,r),e!==or&&po(i,s,e)){let a=o.data[ws()];pV(o,a,i,i[It],t,i[s+1]=mV(e,n),r,s)}}function cV(t,e){return e>=t.expandoStartIndex}function uV(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[ws()],s=cV(t,n);gV(o,r)&&e===null&&!s&&(e=!1),e=lV(i,o,e,r),iV(i,o,e,n,s,r)}}function lV(t,e,n,r){let i=f1(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=By(null,t,e,n,r),n=Uu(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=By(i,t,e,n,r),o===null){let u=dV(t,e,r);u!==void 0&&Array.isArray(u)&&(u=By(null,t,e,u[1],r),u=Uu(u,e.attrs,r),hV(t,e,r,u))}else o=fV(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function dV(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ka(r)!==0)return t[vs(r)]}function hV(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[vs(i)]=r}function fV(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Uu(r,s,n)}return Uu(r,e.attrs,n)}function By(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Uu(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Uu(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),pO(t,s,n?!0:e[++o]))}return t===void 0?null:t}function pV(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,d=u[a+1],p=rV(d)?GC(u,e,n,i,Ka(d),s):void 0;if(!Tf(p)){Tf(o)||tV(d)&&(o=GC(u,null,n,i,a,s));let m=MT(ws(),n);wF(r,s,m,i,o)}}function GC(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],d=Array.isArray(u),p=d?u[1]:u,m=p===null,w=n[i+1];w===or&&(w=m?On:void 0);let E=m?My(w,r):p===r?w:void 0;if(d&&!Tf(E)&&(E=My(u,r)),Tf(E)&&(a=E,s))return a;let x=t[i+1];i=s?vs(x):Ka(x)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=My(u,r))}return a}function Tf(t){return t!==void 0}function mV(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=en(jf(t)))),t}function gV(t,e){return(t.flags&(e?8:16))!==0}function yV(t,e,n,r,i,o){let s=e.consts,a=hf(s,i),u=Hf(e,t,2,r,a);return LD(e,n,u,hf(s,o)),u.attrs!==null&&wv(u,u.attrs,!1),u.mergedAttrs!==null&&wv(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function L(t,e,n,r){let i=Fe(),o=rn(),s=Vn+t,a=i[It],u=o.firstCreatePass?yV(s,o,i,e,n,r):o.data[s],d=vV(o,i,u,a,e,t);i[s]=d;let p=$v(u);return $u(u,!0),SD(a,d,u),!GL(u)&&Wv()&&sw(o,i,d,u),XO()===0&&gs(d,i),e1(),p&&(kD(o,i,u),PD(o,u,i)),r!==null&&OD(i,u),L}function P(){let t=fn();UT()?s1():(t=t.parent,$u(t,!1));let e=t;r1(e)&&i1(),t1();let n=rn();return n.firstCreatePass&&(Qv(n,t),DT(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&_1(e)&&qC(n,e,Fe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&E1(e)&&qC(n,e,Fe(),e.stylesWithoutHost,!1),P}function we(t,e,n,r){return L(t,e,n,r),P(),we}var vV=(t,e,n,r,i,o)=>(Kv(!0),wD(r,i,g1()));function kr(){return Fe()}var us=void 0;function wV(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var _V=["en",[["a","p"],["AM","PM"],us],[["AM","PM"],us,us],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],us,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],us,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",us,"{1} 'at' {0}",us],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",wV],$y={};function $n(t){let e=EV(t),n=WC(e);if(n)return n;let r=e.split("-")[0];if(n=WC(r),n)return n;if(r==="en")return _V;throw new re(701,!1)}function WC(t){return t in $y||($y[t]=kn.ng&&kn.ng.common&&kn.ng.common.locales&&kn.ng.common.locales[t]),$y[t]}var pt=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(pt||{});function EV(t){return t.toLowerCase().replace(/_/g,"-")}var Df="en-US";var IV=Df;function bV(t){typeof t=="string"&&(IV=t.toLowerCase().replace(/_/g,"-"))}var CV=(t,e,n)=>{};function Ie(t,e,n,r){let i=Fe(),o=rn(),s=fn();return iS(o,i,i[It],s,t,e,r),Ie}function TV(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[cf],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function iS(t,e,n,r,i,o,s){let a=$v(r),d=t.firstCreatePass&&GF(t),p=e[rr],m=qF(e),w=!0;if(r.type&3||s){let F=Bn(r,e),N=s?s(F):F,B=m.length,J=s?ne=>s(Mr(ne[r.index])):r.index,q=null;if(!s&&a&&(q=TV(t,e,i,r.index)),q!==null){let ne=q.__ngLastListenerFn__||q;ne.__ngNextListenerFn__=o,q.__ngLastListenerFn__=o,w=!1}else{o=QC(r,e,p,o),CV(F,i,o);let ne=n.listen(N,i,o);m.push(o,ne),d&&d.push(i,J,B,B+1)}}else o=QC(r,e,p,o);let E=r.outputs,x;if(w&&E!==null&&(x=E[i])){let F=x.length;if(F)for(let N=0;N<F;N+=2){let B=x[N],J=x[N+1],ye=e[B][J].subscribe(o),ie=m.length;m.push(o,ye),d&&d.push(i,r.index,ie,-(ie+1))}}}function KC(t,e,n,r){let i=Oe(null);try{return Dr(6,e,n),n(r)!==!1}catch(o){return $D(t,o),!1}finally{Dr(7,e,n),Oe(i)}}function QC(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?mo(t.index,e):e;hw(s,5);let a=KC(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)a=KC(e,n,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function Or(t=1){return m1(t)}function DV(t,e,n){return oS(t,"",e,"",n),DV}function oS(t,e,n,r,i){let o=Fe(),s=rS(o,e,n,r);if(s!==or){let a=rn(),u=Lf();uw(a,u,o,t,s,o[It],i,!1)}return oS}function SV(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function eY(t){let e=a1();return Hv(e,Vn+t)}function U(t,e=""){let n=Fe(),r=rn(),i=t+Vn,o=r.firstCreatePass?Hf(r,i,1,e,null):r.data[i],s=AV(r,n,o,e,t);n[i]=s,Wv()&&sw(r,n,s,o),$u(o,!1)}var AV=(t,e,n,r,i)=>(Kv(!0),nF(e[It],r));function RV(t){return Qf("",t,""),RV}function Qf(t,e,n){let r=Fe(),i=rS(r,t,e,n);return i!==or&&HD(r,ws(),i),Qf}function xV(t,e,n,r,i){let o=Fe(),s=eV(o,t,e,n,r,i);return s!==or&&HD(o,ws(),s),xV}function Yf(t,e,n){XD(e)&&(e=e());let r=Fe(),i=Ff();if(po(r,i,e)){let o=rn(),s=Lf();uw(o,s,r,t,e,r[It],n,!1)}return Yf}function mw(t,e){let n=XD(t);return n&&t.set(e),n}function Zf(t,e){let n=Fe(),r=rn(),i=fn();return iS(r,n,n[It],i,t,e),Zf}function MV(t,e,n){let r=rn();if(r.firstCreatePass){let i=ho(t);Sv(n,r.data,r.blueprint,i,!0),Sv(e,r.data,r.blueprint,i,!1)}}function Sv(t,e,n,r,i){if(t=Xt(t),Array.isArray(t))for(let o=0;o<t.length;o++)Sv(t[o],e,n,r,i);else{let o=rn(),s=Fe(),a=fn(),u=Ua(t)?t:Xt(t.provide),d=IT(t),p=a.providerIndexes&1048575,m=a.directiveStart,w=a.providerIndexes>>20;if(Ua(t)||!t.multi){let E=new ms(d,i,Z),x=zy(u,e,i?p:p+w,m);x===-1?(iv(gf(a,s),o,u),Hy(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(E),s.push(E)):(n[x]=E,s[x]=E)}else{let E=zy(u,e,p+w,m),x=zy(u,e,p,p+w),F=E>=0&&n[E],N=x>=0&&n[x];if(i&&!N||!i&&!F){iv(gf(a,s),o,u);let B=kV(i?PV:NV,n.length,i,r,d);!i&&N&&(n[x].providerFactory=B),Hy(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(B),s.push(B)}else{let B=sS(n[i?x:E],d,!i&&r);Hy(o,t,E>-1?E:x,B)}!i&&r&&N&&n[x].componentProviders++}}}function Hy(t,e,n,r){let i=Ua(e),o=FO(e);if(i||o){let u=(o?Xt(e.useClass):e).prototype.ngOnDestroy;if(u){let d=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let p=d.indexOf(n);p===-1?d.push(n,[r,u]):d[p+1].push(r,u)}else d.push(n,u)}}}function sS(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function zy(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function NV(t,e,n,r){return Av(this.multi,[])}function PV(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ha(n,n[Te],this.providerFactory.index,r);o=a.slice(0,s),Av(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Av(i,o);return o}function Av(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function kV(t,e,n,r,i){let o=new ms(t,n,Z);return o.multi=[],o.index=e,o.componentProviders=0,sS(o,i,r&&!n),o}function ar(t,e=[]){return n=>{n.providersResolver=(r,i)=>MV(r,i?i(t):t,e)}}var OV=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=wT(!1,n.type),i=r.length>0?Wf([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=X({token:t,providedIn:"environment",factory:()=>new t(W(tn))})}}return t})();function aS(t){_s("NgStandalone"),t.getStandaloneInjector=e=>e.get(OV).getOrCreateStandaloneInjector(t)}function tY(t,e,n){let r=Hu()+t,i=Fe();return i[r]===or?fw(i,r,n?e.call(n):e()):qL(i,r)}function nY(t,e,n,r){return uS(Fe(),Hu(),t,e,n,r)}function rY(t,e,n,r,i){return lS(Fe(),Hu(),t,e,n,r,i)}function cS(t,e){let n=t[e];return n===or?void 0:n}function uS(t,e,n,r,i,o){let s=e+n;return po(t,s,i)?fw(t,s+1,o?r.call(o,i):r(i)):cS(t,s+1)}function lS(t,e,n,r,i,o,s){let a=e+n;return tS(t,a,i,o)?fw(t,a+2,s?r.call(s,i,o):r(i,o)):cS(t,a+2)}function iY(t,e){let n=rn(),r,i=t+Vn;n.firstCreatePass?(r=FV(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=ds(r.type,!0)),s,a=hn(Z);try{let u=mf(!1),d=o();return mf(u),SV(n,Fe(),i,d),d}finally{hn(a)}}function FV(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function oY(t,e,n){let r=t+Vn,i=Fe(),o=Hv(i,r);return dS(i,r)?uS(i,Hu(),e,o.transform,n,o):o.transform(n)}function sY(t,e,n,r){let i=t+Vn,o=Fe(),s=Hv(o,i);return dS(o,i)?lS(o,Hu(),e,s.transform,n,r,s):s.transform(n,r)}function dS(t,e){return t[Te].data[e].pure}var ci=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},hS=new ci("18.2.9");var Jf=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var gw=new G(""),qu=new G(""),Xf=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,yw||(LV(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(n)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n()},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static{this.\u0275fac=function(r){return new(r||t)(W(be),W(ep),W(qu))}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac})}}return t})(),ep=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return yw?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function LV(t){yw=t}var yw;function Es(t){return!!t&&typeof t.then=="function"}function fS(t){return!!t&&typeof t.subscribe=="function"}var tp=new G(""),pS=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=$(tp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(Es(o))n.push(o);else if(fS(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Gu=new G("");function VV(){j0(()=>{throw new re(600,!1)})}function UV(t){return t.isBoundToModule}var jV=10;function BV(t,e,n){try{let r=n();return Es(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var fi=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=$(j1),this.afterRenderManager=$(nS),this.zonelessEnabled=$(Gf),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new ht,this.afterTick=new ht,this.componentTypes=[],this.components=[],this.isStable=$(go).hasPendingTasks.pipe(pe(n=>!n)),this._injector=$(tn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof If;if(!this._injector.get(pS).done){let w=!i&&mT(n),E=!1;throw new re(405,E)}let s;i?s=n:s=this._injector.get(qa).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=UV(s)?void 0:this._injector.get(fo),u=r||s.selector,d=s.create(Bt.NULL,[],u,a),p=d.location.nativeElement,m=d.injector.get(gw,null);return m?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),ef(this.components,d),m?.unregisterApplication(p)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new re(101,!1);let n=Oe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Oe(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(Ga,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<jV;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)$V(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>kf(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;ef(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Gu,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ef(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new re(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function ef(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function $V(t,e,n,r){if(!n&&!kf(t))return;GD(t,e,n&&!r?0:1)}var Rv=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},np=(()=>{class t{compileModuleSync(n){return new Iv(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=gT(n),o=vD(i.declarations).reduce((s,a)=>{let u=lo(a);return u&&s.push(new Wa(u)),s},[]);return new Rv(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var HV=(()=>{class t{constructor(){this.zone=$(be),this.changeDetectionScheduler=$(za),this.applicationRef=$(fi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),zV=new G("",{factory:()=>!1});function mS({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new be(le(j({},gS()),{scheduleInRootZone:n})),[{provide:be,useFactory:t},{provide:Va,multi:!0,useFactory:()=>{let r=$(HV,{optional:!0});return()=>r.initialize()}},{provide:Va,multi:!0,useFactory:()=>{let r=$(qV);return()=>{r.initialize()}}},e===!0?{provide:YD,useValue:!0}:[],{provide:ZD,useValue:n??sD}]}function aY(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=mS({ngZoneFactory:()=>{let i=gS(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&_s("NgZone_CoalesceEvent"),new be(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Un([{provide:zV,useValue:!0},{provide:Gf,useValue:!1},r])}function gS(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var qV=(()=>{class t{constructor(){this.subscription=new ct,this.initialized=!1,this.zone=$(be),this.pendingTasks=$(go)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{be.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var GV=(()=>{class t{constructor(){this.appRef=$(fi),this.taskService=$(go),this.ngZone=$(be),this.zonelessEnabled=$(Gf),this.disableScheduling=$(YD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new ct,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(vf):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&($(ZD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof uv||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?MC:aD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(vf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,MC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function WV(){return typeof $localize<"u"&&$localize.locale||Df}var rp=new G("",{providedIn:"root",factory:()=>$(rp,_e.Optional|_e.SkipSelf)||WV()});var xv=new G("");function Yh(t){return!t.moduleRef}function KV(t){let e=Yh(t)?t.r3Injector:t.moduleRef.injector,n=e.get(be);return n.run(()=>{Yh(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(si,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Yh(t)){let o=()=>e.destroy(),s=t.platformInjector.get(xv);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(xv);s.add(o),t.moduleRef.onDestroy(()=>{ef(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return BV(r,n,()=>{let o=e.get(pS);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(rp,Df);if(bV(s||Df),Yh(t)){let a=e.get(fi);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return QV(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function QV(t,e){let n=t.injector.get(fi);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new re(-403,!1);e.push(t)}var tf=null;function YV(t=[],e){return Bt.create({name:e,providers:[{provide:Mf,useValue:"platform"},{provide:xv,useValue:new Set([()=>tf=null])},...t]})}function ZV(t=[]){if(tf)return tf;let e=YV(t);return tf=e,VV(),JV(e),e}function JV(t){t.get(ew,null)?.forEach(n=>n())}var Is=(()=>{class t{static{this.__NG_ELEMENT_ID__=XV}}return t})();function XV(t){return e2(fn(),Fe(),(t&16)===16)}function e2(t,e,n){if(Pf(t)&&!n){let r=mo(t.index,e);return new ys(r,r)}else if(t.type&175){let r=e[xr];return new ys(r,e)}return null}var Mv=class{constructor(){}supports(e){return eS(e)}create(e){return new Nv(e)}},t2=(t,e)=>e,Nv=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||t2}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<YC(r,i,o)?n:r,a=YC(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let d=a-i,p=u-i;if(d!=p){for(let w=0;w<d;w++){let E=w<o.length?o[w]:o[w]=0,x=E+w;p<=x&&x<d&&(o[w]=E+1)}let m=s.previousIndex;o[m]=p-d}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!eS(e))throw new re(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,HL(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Pv(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Sf),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Sf),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Pv=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},kv=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Sf=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new kv,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function YC(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function ZC(){return new vw([new Mv])}var vw=(()=>{class t{static{this.\u0275prov=X({token:t,providedIn:"root",factory:ZC})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||ZC()),deps:[[t,new Fv,new Wt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new re(901,!1)}}return t})();var yS=(()=>{class t{constructor(n){}static{this.\u0275fac=function(r){return new(r||t)(W(fi))}}static{this.\u0275mod=et({type:t})}static{this.\u0275inj=Xe({})}}return t})();function vS(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=ZV(r),o=[mS({}),{provide:za,useExisting:GV},...n||[]],s=new Cf({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return KV({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function Wu(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Ja(t,e){_s("NgSignals");let n=L0(t);return e?.equal&&(n[ni].equal=e.equal),n}function Fr(t){let e=Oe(null);try{return t()}finally{Oe(e)}}function wS(t){let e=lo(t);if(!e)return null;let n=new Wa(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var DS=null;function Lr(){return DS}function SS(t){DS??=t}var hp=class{};var Kt=new G(""),Sw=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:()=>$(o2),providedIn:"platform"})}}return t})(),AS=new G(""),o2=(()=>{class t extends Sw{constructor(){super(),this._doc=$(Kt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Lr().getBaseHref(this._doc)}onPopState(n){let r=Lr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Lr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function Aw(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function _S(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function mi(t){return t&&t[0]!=="?"?"?"+t:t}var bs=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:()=>$(Rw),providedIn:"root"})}}return t})(),RS=new G(""),Rw=(()=>{class t extends bs{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??$(Kt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Aw(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+mi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+mi(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+mi(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(W(Sw),W(RS,8))}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),xS=(()=>{class t extends bs{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Aw(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+mi(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+mi(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(W(Sw),W(RS,8))}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac})}}return t})(),ec=(()=>{class t{constructor(n){this._subject=new rt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=c2(_S(ES(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+mi(r))}normalize(n){return t.stripTrailingSlash(a2(this._basePath,ES(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+mi(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+mi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=mi}static{this.joinWithSlash=Aw}static{this.stripTrailingSlash=_S}static{this.\u0275fac=function(r){return new(r||t)(W(bs))}}static{this.\u0275prov=X({token:t,factory:()=>s2(),providedIn:"root"})}}return t})();function s2(){return new ec(W(bs))}function a2(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function ES(t){return t.replace(/\/index.html$/,"")}function c2(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var on=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(on||{}),We=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(We||{}),Sn=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Sn||{}),yo={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function u2(t){return $n(t)[pt.LocaleId]}function l2(t,e,n){let r=$n(t),i=[r[pt.DayPeriodsFormat],r[pt.DayPeriodsStandalone]],o=Hn(i,e);return Hn(o,n)}function d2(t,e,n){let r=$n(t),i=[r[pt.DaysFormat],r[pt.DaysStandalone]],o=Hn(i,e);return Hn(o,n)}function h2(t,e,n){let r=$n(t),i=[r[pt.MonthsFormat],r[pt.MonthsStandalone]],o=Hn(i,e);return Hn(o,n)}function f2(t,e){let r=$n(t)[pt.Eras];return Hn(r,e)}function ip(t,e){let n=$n(t);return Hn(n[pt.DateFormat],e)}function op(t,e){let n=$n(t);return Hn(n[pt.TimeFormat],e)}function sp(t,e){let r=$n(t)[pt.DateTimeFormat];return Hn(r,e)}function pp(t,e){let n=$n(t),r=n[pt.NumberSymbols][e];if(typeof r>"u"){if(e===yo.CurrencyDecimal)return n[pt.NumberSymbols][yo.Decimal];if(e===yo.CurrencyGroup)return n[pt.NumberSymbols][yo.Group]}return r}function MS(t){if(!t[pt.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[pt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function p2(t){let e=$n(t);return MS(e),(e[pt.ExtraData][2]||[]).map(r=>typeof r=="string"?ww(r):[ww(r[0]),ww(r[1])])}function m2(t,e,n){let r=$n(t);MS(r);let i=[r[pt.ExtraData][0],r[pt.ExtraData][1]],o=Hn(i,e)||[];return Hn(o,n)||[]}function Hn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function ww(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var g2=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ap={},y2=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,gi=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(gi||{}),Ue=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Ue||{}),Ve=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Ve||{});function v2(t,e,n,r){let i=S2(t);e=pi(n,e)||e;let s=[],a;for(;e;)if(a=y2.exec(e),a){s=s.concat(a.slice(1));let p=s.pop();if(!p)break;e=p}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=PS(r,u),i=D2(i,r,!0));let d="";return s.forEach(p=>{let m=C2(p);d+=m?m(i,n,u):p==="''"?"'":p.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),d}function fp(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function pi(t,e){let n=u2(t);if(ap[n]??={},ap[n][e])return ap[n][e];let r="";switch(e){case"shortDate":r=ip(t,Sn.Short);break;case"mediumDate":r=ip(t,Sn.Medium);break;case"longDate":r=ip(t,Sn.Long);break;case"fullDate":r=ip(t,Sn.Full);break;case"shortTime":r=op(t,Sn.Short);break;case"mediumTime":r=op(t,Sn.Medium);break;case"longTime":r=op(t,Sn.Long);break;case"fullTime":r=op(t,Sn.Full);break;case"short":let i=pi(t,"shortTime"),o=pi(t,"shortDate");r=cp(sp(t,Sn.Short),[i,o]);break;case"medium":let s=pi(t,"mediumTime"),a=pi(t,"mediumDate");r=cp(sp(t,Sn.Medium),[s,a]);break;case"long":let u=pi(t,"longTime"),d=pi(t,"longDate");r=cp(sp(t,Sn.Long),[u,d]);break;case"full":let p=pi(t,"fullTime"),m=pi(t,"fullDate");r=cp(sp(t,Sn.Full),[p,m]);break}return r&&(ap[n][e]=r),r}function cp(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function cr(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function w2(t,e){return cr(t,3).substring(0,e)}function bt(t,e,n=0,r=!1,i=!1){return function(o,s){let a=_2(t,o);if((n>0||a>-n)&&(a+=n),t===Ue.Hours)a===0&&n===-12&&(a=12);else if(t===Ue.FractionalSeconds)return w2(a,e);let u=pp(s,yo.MinusSign);return cr(a,e,u,r,i)}}function _2(t,e){switch(t){case Ue.FullYear:return e.getFullYear();case Ue.Month:return e.getMonth();case Ue.Date:return e.getDate();case Ue.Hours:return e.getHours();case Ue.Minutes:return e.getMinutes();case Ue.Seconds:return e.getSeconds();case Ue.FractionalSeconds:return e.getMilliseconds();case Ue.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Ke(t,e,n=on.Format,r=!1){return function(i,o){return E2(i,o,t,e,n,r)}}function E2(t,e,n,r,i,o){switch(n){case Ve.Months:return h2(e,i,r)[t.getMonth()];case Ve.Days:return d2(e,i,r)[t.getDay()];case Ve.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let d=p2(e),p=m2(e,i,r),m=d.findIndex(w=>{if(Array.isArray(w)){let[E,x]=w,F=s>=E.hours&&a>=E.minutes,N=s<x.hours||s===x.hours&&a<x.minutes;if(E.hours<x.hours){if(F&&N)return!0}else if(F||N)return!0}else if(w.hours===s&&w.minutes===a)return!0;return!1});if(m!==-1)return p[m]}return l2(e,i,r)[s<12?0:1];case Ve.Eras:return f2(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function up(t){return function(e,n,r){let i=-1*r,o=pp(n,yo.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case gi.Short:return(i>=0?"+":"")+cr(s,2,o)+cr(Math.abs(i%60),2,o);case gi.ShortGMT:return"GMT"+(i>=0?"+":"")+cr(s,1,o);case gi.Long:return"GMT"+(i>=0?"+":"")+cr(s,2,o)+":"+cr(Math.abs(i%60),2,o);case gi.Extended:return r===0?"Z":(i>=0?"+":"")+cr(s,2,o)+":"+cr(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var I2=0,dp=4;function b2(t){let e=fp(t,I2,1).getDay();return fp(t,0,1+(e<=dp?dp:dp+7)-e)}function NS(t){let e=t.getDay(),n=e===0?-3:dp-e;return fp(t.getFullYear(),t.getMonth(),t.getDate()+n)}function _w(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=NS(n),s=b2(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return cr(i,t,pp(r,yo.MinusSign))}}function lp(t,e=!1){return function(n,r){let o=NS(n).getFullYear();return cr(o,t,pp(r,yo.MinusSign),e)}}var Ew={};function C2(t){if(Ew[t])return Ew[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ke(Ve.Eras,We.Abbreviated);break;case"GGGG":e=Ke(Ve.Eras,We.Wide);break;case"GGGGG":e=Ke(Ve.Eras,We.Narrow);break;case"y":e=bt(Ue.FullYear,1,0,!1,!0);break;case"yy":e=bt(Ue.FullYear,2,0,!0,!0);break;case"yyy":e=bt(Ue.FullYear,3,0,!1,!0);break;case"yyyy":e=bt(Ue.FullYear,4,0,!1,!0);break;case"Y":e=lp(1);break;case"YY":e=lp(2,!0);break;case"YYY":e=lp(3);break;case"YYYY":e=lp(4);break;case"M":case"L":e=bt(Ue.Month,1,1);break;case"MM":case"LL":e=bt(Ue.Month,2,1);break;case"MMM":e=Ke(Ve.Months,We.Abbreviated);break;case"MMMM":e=Ke(Ve.Months,We.Wide);break;case"MMMMM":e=Ke(Ve.Months,We.Narrow);break;case"LLL":e=Ke(Ve.Months,We.Abbreviated,on.Standalone);break;case"LLLL":e=Ke(Ve.Months,We.Wide,on.Standalone);break;case"LLLLL":e=Ke(Ve.Months,We.Narrow,on.Standalone);break;case"w":e=_w(1);break;case"ww":e=_w(2);break;case"W":e=_w(1,!0);break;case"d":e=bt(Ue.Date,1);break;case"dd":e=bt(Ue.Date,2);break;case"c":case"cc":e=bt(Ue.Day,1);break;case"ccc":e=Ke(Ve.Days,We.Abbreviated,on.Standalone);break;case"cccc":e=Ke(Ve.Days,We.Wide,on.Standalone);break;case"ccccc":e=Ke(Ve.Days,We.Narrow,on.Standalone);break;case"cccccc":e=Ke(Ve.Days,We.Short,on.Standalone);break;case"E":case"EE":case"EEE":e=Ke(Ve.Days,We.Abbreviated);break;case"EEEE":e=Ke(Ve.Days,We.Wide);break;case"EEEEE":e=Ke(Ve.Days,We.Narrow);break;case"EEEEEE":e=Ke(Ve.Days,We.Short);break;case"a":case"aa":case"aaa":e=Ke(Ve.DayPeriods,We.Abbreviated);break;case"aaaa":e=Ke(Ve.DayPeriods,We.Wide);break;case"aaaaa":e=Ke(Ve.DayPeriods,We.Narrow);break;case"b":case"bb":case"bbb":e=Ke(Ve.DayPeriods,We.Abbreviated,on.Standalone,!0);break;case"bbbb":e=Ke(Ve.DayPeriods,We.Wide,on.Standalone,!0);break;case"bbbbb":e=Ke(Ve.DayPeriods,We.Narrow,on.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ke(Ve.DayPeriods,We.Abbreviated,on.Format,!0);break;case"BBBB":e=Ke(Ve.DayPeriods,We.Wide,on.Format,!0);break;case"BBBBB":e=Ke(Ve.DayPeriods,We.Narrow,on.Format,!0);break;case"h":e=bt(Ue.Hours,1,-12);break;case"hh":e=bt(Ue.Hours,2,-12);break;case"H":e=bt(Ue.Hours,1);break;case"HH":e=bt(Ue.Hours,2);break;case"m":e=bt(Ue.Minutes,1);break;case"mm":e=bt(Ue.Minutes,2);break;case"s":e=bt(Ue.Seconds,1);break;case"ss":e=bt(Ue.Seconds,2);break;case"S":e=bt(Ue.FractionalSeconds,1);break;case"SS":e=bt(Ue.FractionalSeconds,2);break;case"SSS":e=bt(Ue.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=up(gi.Short);break;case"ZZZZZ":e=up(gi.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=up(gi.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=up(gi.Long);break;default:return null}return Ew[t]=e,e}function PS(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function T2(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function D2(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=PS(e,i);return T2(t,r*(o-i))}function S2(t){if(IS(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return fp(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(g2))return A2(r)}let e=new Date(t);if(!IS(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function A2(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),d=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,d),e}function IS(t){return t instanceof Date&&!isNaN(t.valueOf())}function mp(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Iw=/\s+/,bS=[],xY=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=bS,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(Iw):bS}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Iw):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Iw).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(Z(Dn),Z(sr))}}static{this.\u0275dir=Ge({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var bw=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},kS=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new bw(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),CS(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);CS(o,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(Z(Ya),Z(qf),Z(vw))}}static{this.\u0275dir=Ge({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function CS(t,e){t.context.$implicit=e.item}var vo=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Cw,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){TS("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){TS("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(Z(Ya),Z(qf))}}static{this.\u0275dir=Ge({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),Cw=class{constructor(){this.$implicit=null,this.ngIf=null}};function TS(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${en(e)}'.`)}function OS(t,e){return new re(2100,!1)}var R2=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,MY=(()=>{class t{transform(n){if(n==null)return null;if(typeof n!="string")throw OS(t,n);return n.replace(R2,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275pipe=Uv({name:"titlecase",type:t,pure:!0,standalone:!0})}}return t})();var x2="mediumDate",M2=new G(""),N2=new G(""),NY=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??x2,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return v2(n,s,o||this.locale,a)}catch(s){throw OS(t,s.message)}}static{this.\u0275fac=function(r){return new(r||t)(Z(rp,16),Z(M2,24),Z(N2,24))}}static{this.\u0275pipe=Uv({name:"date",type:t,pure:!0,standalone:!0})}}return t})();var tc=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=et({type:t})}static{this.\u0275inj=Xe({})}}return t})(),xw="browser",P2="server";function Mw(t){return t===xw}function gp(t){return t===P2}var FS=(()=>{class t{static{this.\u0275prov=X({token:t,providedIn:"root",factory:()=>Mw($(pn))?new Tw($(Kt),window):new Dw})}}return t})(),Tw=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=k2(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function k2(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Dw=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Xa=class{};var Yu=class{},vp=class{},yi=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Pw=class{encodeKey(e){return LS(e)}encodeValue(e){return LS(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function O2(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(a),n.set(s,u)}),n}var F2=/%(\d[a-f0-9])/gi,L2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function LS(t){return encodeURIComponent(t).replace(F2,(e,n)=>L2[n]??e)}function yp(t){return`${t}`}var _o=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Pw,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=O2(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(yp):[yp(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(yp(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(yp(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var kw=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function V2(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function VS(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function US(t){return typeof Blob<"u"&&t instanceof Blob}function jS(t){return typeof FormData<"u"&&t instanceof FormData}function U2(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Qu=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(V2(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new yi,this.context??=new kw,!this.params)this.params=new _o,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||VS(this.body)||US(this.body)||jS(this.body)||U2(this.body)?this.body:this.body instanceof _o?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||jS(this.body)?null:US(this.body)?this.body.type||null:VS(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof _o?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,d=e.headers||this.headers,p=e.params||this.params,m=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((w,E)=>w.set(E,e.setHeaders[E]),d)),e.setParams&&(p=Object.keys(e.setParams).reduce((w,E)=>w.set(E,e.setParams[E]),p)),new t(n,r,s,{params:p,headers:d,context:m,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},Eo=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Eo||{}),Zu=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new yi,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},wp=class t extends Zu{constructor(e={}){super(e),this.type=Eo.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ju=class t extends Zu{constructor(e={}){super(e),this.type=Eo.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},wo=class extends Zu{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},zS=200,j2=204;function Nw(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var B2=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Qu)o=n;else{let u;i.headers instanceof yi?u=i.headers:u=new yi(i.headers);let d;i.params&&(i.params instanceof _o?d=i.params:d=new _o({fromObject:i.params})),o=new Qu(n,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:d,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=se(o).pipe(ii(u=>this.handler.handle(u)));if(n instanceof Qu||i.observe==="events")return s;let a=s.pipe(Gt(u=>u instanceof Ju));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(pe(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(pe(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(pe(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(pe(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new _o().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Nw(i,r))}post(n,r,i={}){return this.request("POST",n,Nw(i,r))}put(n,r,i={}){return this.request("PUT",n,Nw(i,r))}static{this.\u0275fac=function(r){return new(r||t)(W(Yu))}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac})}}return t})(),$2=/^\)\]\}',?\n/,H2="X-Request-URL";function BS(t){if(t.url)return t.url;let e=H2.toLocaleLowerCase();return t.headers.get(e)}var z2=(()=>{class t{constructor(){this.fetchImpl=$(Ow,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n)),this.ngZone=$(be)}handle(n){return new Ce(r=>{let i=new AbortController;return this.doRequest(n,i.signal,r).then(Fw,o=>r.error(new wo({error:o}))),()=>i.abort()})}doRequest(n,r,i){return b(this,null,function*(){let o=this.createRequestInit(n),s;try{let E=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,j({signal:r},o)));q2(E),i.next({type:Eo.Sent}),s=yield E}catch(E){i.error(new wo({error:E,status:E.status??0,statusText:E.statusText,url:n.urlWithParams,headers:E.headers}));return}let a=new yi(s.headers),u=s.statusText,d=BS(s)??n.urlWithParams,p=s.status,m=null;if(n.reportProgress&&i.next(new wp({headers:a,status:p,statusText:u,url:d})),s.body){let E=s.headers.get("content-length"),x=[],F=s.body.getReader(),N=0,B,J,q=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>b(this,null,function*(){for(;;){let{done:ye,value:ie}=yield F.read();if(ye)break;if(x.push(ie),N+=ie.length,n.reportProgress){J=n.responseType==="text"?(J??"")+(B??=new TextDecoder).decode(ie,{stream:!0}):void 0;let D=()=>i.next({type:Eo.DownloadProgress,total:E?+E:void 0,loaded:N,partialText:J});q?q.run(D):D()}}}));let ne=this.concatChunks(x,N);try{let ye=s.headers.get("Content-Type")??"";m=this.parseBody(n,ne,ye)}catch(ye){i.error(new wo({error:ye,headers:new yi(s.headers),status:s.status,statusText:s.statusText,url:BS(s)??n.urlWithParams}));return}}p===0&&(p=m?zS:0),p>=200&&p<300?(i.next(new Ju({body:m,headers:a,status:p,statusText:u,url:d})),i.complete()):i.error(new wo({error:m,headers:a,status:p,statusText:u,url:d}))})}parseBody(n,r,i){switch(n.responseType){case"json":let o=new TextDecoder().decode(r).replace($2,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},i=n.withCredentials?"include":void 0;if(n.headers.forEach((o,s)=>r[o]=s.join(",")),n.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let o=n.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:i}}concatChunks(n,r){let i=new Uint8Array(r),o=0;for(let s of n)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac})}}return t})(),Ow=class{};function Fw(){}function q2(t){t.then(Fw,Fw)}function G2(t,e){return e(t)}function W2(t,e,n){return(r,i)=>jn(n,()=>e(r,o=>t(o,i)))}var qS=new G(""),K2=new G(""),Q2=new G("",{providedIn:"root",factory:()=>!0});var $S=(()=>{class t extends Yu{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=$(go),this.contributeToStability=$(Q2)}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(qS),...this.injector.get(K2,[])]));this.chain=r.reduceRight((i,o)=>W2(i,o,this.injector),G2)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(cs(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||t)(W(vp),W(tn))}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac})}}return t})();var Y2=/^\)\]\}',?\n/;function Z2(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var HS=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new re(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ze(r.\u0275loadImpl()):se(null)).pipe(dn(()=>new Ce(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((F,N)=>s.setRequestHeader(F,N.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let F=n.detectContentTypeHeader();F!==null&&s.setRequestHeader("Content-Type",F)}if(n.responseType){let F=n.responseType.toLowerCase();s.responseType=F!=="json"?F:"text"}let a=n.serializeBody(),u=null,d=()=>{if(u!==null)return u;let F=s.statusText||"OK",N=new yi(s.getAllResponseHeaders()),B=Z2(s)||n.url;return u=new wp({headers:N,status:s.status,statusText:F,url:B}),u},p=()=>{let{headers:F,status:N,statusText:B,url:J}=d(),q=null;N!==j2&&(q=typeof s.response>"u"?s.responseText:s.response),N===0&&(N=q?zS:0);let ne=N>=200&&N<300;if(n.responseType==="json"&&typeof q=="string"){let ye=q;q=q.replace(Y2,"");try{q=q!==""?JSON.parse(q):null}catch(ie){q=ye,ne&&(ne=!1,q={error:ie,text:q})}}ne?(o.next(new Ju({body:q,headers:F,status:N,statusText:B,url:J||void 0})),o.complete()):o.error(new wo({error:q,headers:F,status:N,statusText:B,url:J||void 0}))},m=F=>{let{url:N}=d(),B=new wo({error:F,status:s.status||0,statusText:s.statusText||"Unknown Error",url:N||void 0});o.error(B)},w=!1,E=F=>{w||(o.next(d()),w=!0);let N={type:Eo.DownloadProgress,loaded:F.loaded};F.lengthComputable&&(N.total=F.total),n.responseType==="text"&&s.responseText&&(N.partialText=s.responseText),o.next(N)},x=F=>{let N={type:Eo.UploadProgress,loaded:F.loaded};F.lengthComputable&&(N.total=F.total),o.next(N)};return s.addEventListener("load",p),s.addEventListener("error",m),s.addEventListener("timeout",m),s.addEventListener("abort",m),n.reportProgress&&(s.addEventListener("progress",E),a!==null&&s.upload&&s.upload.addEventListener("progress",x)),s.send(a),o.next({type:Eo.Sent}),()=>{s.removeEventListener("error",m),s.removeEventListener("abort",m),s.removeEventListener("load",p),s.removeEventListener("timeout",m),n.reportProgress&&(s.removeEventListener("progress",E),a!==null&&s.upload&&s.upload.removeEventListener("progress",x)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||t)(W(Xa))}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac})}}return t})(),GS=new G(""),J2="XSRF-TOKEN",X2=new G("",{providedIn:"root",factory:()=>J2}),eU="X-XSRF-TOKEN",tU=new G("",{providedIn:"root",factory:()=>eU}),_p=class{},nU=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=mp(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||t)(W(Kt),W(pn),W(X2))}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac})}}return t})();function rU(t,e){let n=t.url.toLowerCase();if(!$(GS)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=$(_p).getToken(),i=$(tU);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function GY(...t){let e=[B2,HS,$S,{provide:Yu,useExisting:$S},{provide:vp,useFactory:()=>$(z2,{optional:!0})??$(HS)},{provide:qS,useValue:rU,multi:!0},{provide:GS,useValue:!0},{provide:_p,useClass:nU}];for(let n of t)e.push(...n.\u0275providers);return Un(e)}var Uw=class extends hp{constructor(){super(...arguments),this.supportsDOMEvents=!0}},jw=class t extends Uw{static makeCurrent(){SS(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=iU();return n==null?null:oU(n)}resetBaseElement(){Xu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return mp(document.cookie,e)}},Xu=null;function iU(){return Xu=Xu||document.querySelector("base"),Xu?Xu.getAttribute("href"):null}function oU(t){return new URL(t,document.baseURI).pathname}var Bw=class{addToWindow(e){kn.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new re(5103,!1);return o},kn.getAllAngularTestabilities=()=>e.getAllTestabilities(),kn.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=kn.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};kn.frameworkStabilizers||(kn.frameworkStabilizers=[]),kn.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?Lr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},sU=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac})}}return t})(),$w=new G(""),YS=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new re(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(W($w),W(be))}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac})}}return t})(),Ep=class{constructor(e){this._doc=e}},Lw="ng-app-id",ZS=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=gp(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Lw}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Lw),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Lw,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(W(Kt),W(Uf),W(tw,8),W(pn))}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac})}}return t})(),Vw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},zw=/%COMP%/g,JS="%COMP%",aU=`_nghost-${JS}`,cU=`_ngcontent-${JS}`,uU=!0,lU=new G("",{providedIn:"root",factory:()=>uU});function dU(t){return cU.replace(zw,t)}function hU(t){return aU.replace(zw,t)}function XS(t,e){return e.map(n=>n.replace(zw,t))}var WS=(()=>{class t{constructor(n,r,i,o,s,a,u,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=gp(a),this.defaultRenderer=new el(n,s,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ar.ShadowDom&&(r=le(j({},r),{encapsulation:Ar.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Ip?i.applyToHost(n):i instanceof tl&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case Ar.Emulated:o=new Ip(u,d,r,this.appId,p,s,a,m);break;case Ar.ShadowDom:return new Hw(u,d,n,r,s,a,this.nonce,m);default:o=new tl(u,d,r,p,s,a,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(W(YS),W(ZS),W(Uf),W(lU),W(Kt),W(pn),W(be),W(tw))}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac})}}return t})(),el=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Vw[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(KS(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(KS(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new re(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Vw[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Vw[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ai.DashCase|ai.Important)?e.style.setProperty(n,r,i&ai.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ai.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Lr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function KS(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Hw=class extends el{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=XS(i.id,i.styles);for(let p of d){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=p,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},tl=class extends el{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?XS(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ip=class extends tl{constructor(e,n,r,i,o,s,a,u){let d=i+"-"+r.id;super(e,n,r,o,s,a,u,d),this.contentAttr=dU(d),this.hostAttr=hU(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},fU=(()=>{class t extends Ep{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(W(Kt))}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac})}}return t})(),QS=["alt","control","meta","shift"],pU={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mU={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},gU=(()=>{class t extends Ep{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Lr().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),QS.forEach(d=>{let p=r.indexOf(d);p>-1&&(r.splice(p,1),s+=d+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=pU[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),QS.forEach(s=>{if(s!==i){let a=mU[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(W(Kt))}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac})}}return t})();function pZ(t,e){return vS(j({rootComponent:t},yU(e)))}function yU(t){return{appProviders:[...eA,...t?.providers??[]],platformProviders:EU}}function vU(){jw.makeCurrent()}function wU(){return new si}function _U(){return pD(document),document}var EU=[{provide:pn,useValue:xw},{provide:ew,useValue:vU,multi:!0},{provide:Kt,useFactory:_U,deps:[]}];var IU=new G(""),bU=[{provide:qu,useClass:Bw,deps:[]},{provide:gw,useClass:Xf,deps:[be,ep,qu]},{provide:Xf,useClass:Xf,deps:[be,ep,qu]}],eA=[{provide:Mf,useValue:"root"},{provide:si,useFactory:wU,deps:[]},{provide:$w,useClass:fU,multi:!0,deps:[Kt,be,pn]},{provide:$w,useClass:gU,multi:!0,deps:[Kt]},WS,ZS,YS,{provide:Ga,useExisting:WS},{provide:Xa,useClass:sU,deps:[]},[]],mZ=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Uf,useValue:n.appId}]}}static{this.\u0275fac=function(r){return new(r||t)(W(IU,12))}}static{this.\u0275mod=et({type:t})}static{this.\u0275inj=Xe({providers:[...eA,...bU],imports:[tc,yS]})}}return t})();var tA=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(W(Kt))}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ge="primary",yl=Symbol("RouteTitle"),Qw=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ac(t){return new Qw(t)}function TU(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function DU(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Vr(t[n],e[n]))return!1;return!0}function Vr(t,e){let n=t?Yw(t):void 0,r=e?Yw(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!hA(t[i],e[i]))return!1;return!0}function Yw(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function hA(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function fA(t){return t.length>0?t[t.length-1]:null}function bo(t){return Cy(t)?t:Es(t)?Ze(Promise.resolve(t)):se(t)}var SU={exact:mA,subset:gA},pA={exact:AU,subset:RU,ignored:()=>!0};function nA(t,e,n){return SU[n.paths](t.root,e.root,n.matrixParams)&&pA[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function AU(t,e){return Vr(t,e)}function mA(t,e,n){if(!Ts(t.segments,e.segments)||!Tp(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!mA(t.children[r],e.children[r],n))return!1;return!0}function RU(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>hA(t[n],e[n]))}function gA(t,e,n){return yA(t,e,e.segments,n)}function yA(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Ts(i,n)||e.hasChildren()||!Tp(i,n,r))}else if(t.segments.length===n.length){if(!Ts(t.segments,n)||!Tp(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!gA(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Ts(t.segments,i)||!Tp(t.segments,i,r)||!t.children[ge]?!1:yA(t.children[ge],e,o,r)}}function Tp(t,e,n){return e.every((r,i)=>pA[n](t[i].parameters,r.parameters))}var wi=class{constructor(e=new $e([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ac(this.queryParams),this._queryParamMap}toString(){return NU.serialize(this)}},$e=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Dp(this)}},Cs=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ac(this.parameters),this._parameterMap}toString(){return wA(this)}};function xU(t,e){return Ts(t,e)&&t.every((n,r)=>Vr(n.parameters,e[r].parameters))}function Ts(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function MU(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ge&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ge&&(n=n.concat(e(i,r)))}),n}var vl=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:()=>new cc,providedIn:"root"})}}return t})(),cc=class{parse(e){let n=new Jw(e);return new wi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${nl(e.root,!0)}`,r=OU(e.queryParams),i=typeof e.fragment=="string"?`#${PU(e.fragment)}`:"";return`${n}${r}${i}`}},NU=new cc;function Dp(t){return t.segments.map(e=>wA(e)).join("/")}function nl(t,e){if(!t.hasChildren())return Dp(t);if(e){let n=t.children[ge]?nl(t.children[ge],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ge&&r.push(`${i}:${nl(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=MU(t,(r,i)=>i===ge?[nl(t.children[ge],!1)]:[`${i}:${nl(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ge]!=null?`${Dp(t)}/${n[0]}`:`${Dp(t)}/(${n.join("//")})`}}function vA(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bp(t){return vA(t).replace(/%3B/gi,";")}function PU(t){return encodeURI(t)}function Zw(t){return vA(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Sp(t){return decodeURIComponent(t)}function rA(t){return Sp(t.replace(/\+/g,"%20"))}function wA(t){return`${Zw(t.path)}${kU(t.parameters)}`}function kU(t){return Object.entries(t).map(([e,n])=>`;${Zw(e)}=${Zw(n)}`).join("")}function OU(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${bp(n)}=${bp(i)}`).join("&"):`${bp(n)}=${bp(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var FU=/^[^\/()?;#]+/;function qw(t){let e=t.match(FU);return e?e[0]:""}var LU=/^[^\/()?;=#]+/;function VU(t){let e=t.match(LU);return e?e[0]:""}var UU=/^[^=?&#]+/;function jU(t){let e=t.match(UU);return e?e[0]:""}var BU=/^[^&#]+/;function $U(t){let e=t.match(BU);return e?e[0]:""}var Jw=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new $e([],{}):new $e([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ge]=new $e(e,n)),r}parseSegment(){let e=qw(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new re(4009,!1);return this.capture(e),new Cs(Sp(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=VU(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=qw(this.remaining);i&&(r=i,this.capture(r))}e[Sp(n)]=Sp(r)}parseQueryParam(e){let n=jU(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=$U(this.remaining);s&&(r=s,this.capture(r))}let i=rA(n),o=rA(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=qw(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new re(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ge);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[ge]:new $e([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new re(4011,!1)}};function _A(t){return t.segments.length>0?new $e([],{[ge]:t}):t}function EA(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=EA(i);if(r===ge&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new $e(t.segments,e);return HU(n)}function HU(t){if(t.numberOfChildren===1&&t.children[ge]){let e=t.children[ge];return new $e(t.segments.concat(e.segments),e.children)}return t}function cl(t){return t instanceof wi}function zU(t,e,n=null,r=null){let i=IA(t);return bA(i,e,n,r)}function IA(t){let e;function n(o){let s={};for(let u of o.children){let d=n(u);s[u.outlet]=d}let a=new $e(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=_A(r);return e??i}function bA(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Gw(i,i,i,n,r);let o=qU(e);if(o.toRoot())return Gw(i,i,new $e([],{}),n,r);let s=GU(o,i,t),a=s.processChildren?ol(s.segmentGroup,s.index,o.commands):TA(s.segmentGroup,s.index,o.commands);return Gw(i,s.segmentGroup,a,n,r)}function Ap(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ul(t){return typeof t=="object"&&t!=null&&t.outlets}function Gw(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,d])=>{o[u]=Array.isArray(d)?d.map(p=>`${p}`):`${d}`});let s;t===e?s=n:s=CA(t,e,n);let a=_A(EA(s));return new wi(a,o,i)}function CA(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=CA(o,e,n)}),new $e(t.segments,r)}var Rp=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ap(r[0]))throw new re(4003,!1);let i=r.find(ul);if(i&&i!==fA(r))throw new re(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function qU(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Rp(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,d])=>{a[u]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Rp(n,e,r)}var ic=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function GU(t,e,n){if(t.isAbsolute)return new ic(e,!0,0);if(!n)return new ic(e,!1,NaN);if(n.parent===null)return new ic(n,!0,0);let r=Ap(t.commands[0])?0:1,i=n.segments.length-1+r;return WU(n,i,t.numberOfDoubleDots)}function WU(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new re(4005,!1);i=r.segments.length}return new ic(r,!1,i-o)}function KU(t){return ul(t[0])?t[0].outlets:{[ge]:t}}function TA(t,e,n){if(t??=new $e([],{}),t.segments.length===0&&t.hasChildren())return ol(t,e,n);let r=QU(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new $e(t.segments.slice(0,r.pathIndex),{});return o.children[ge]=new $e(t.segments.slice(r.pathIndex),t.children),ol(o,0,i)}else return r.match&&i.length===0?new $e(t.segments,{}):r.match&&!t.hasChildren()?Xw(t,e,n):r.match?ol(t,0,i):Xw(t,e,n)}function ol(t,e,n){if(n.length===0)return new $e(t.segments,{});{let r=KU(n),i={};if(Object.keys(r).some(o=>o!==ge)&&t.children[ge]&&t.numberOfChildren===1&&t.children[ge].segments.length===0){let o=ol(t.children[ge],e,n);return new $e(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=TA(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new $e(t.segments,i)}}function QU(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(ul(a))break;let u=`${a}`,d=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&d&&typeof d=="object"&&d.outlets===void 0){if(!oA(u,d,s))return o;r+=2}else{if(!oA(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Xw(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(ul(o)){let u=YU(o.outlets);return new $e(r,u)}if(i===0&&Ap(n[0])){let u=t.segments[e];r.push(new Cs(u.path,iA(n[0]))),i++;continue}let s=ul(o)?o.outlets[ge]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Ap(a)?(r.push(new Cs(s,iA(a))),i+=2):(r.push(new Cs(s,{})),i++)}return new $e(r,{})}function YU(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Xw(new $e([],{}),0,r))}),e}function iA(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function oA(t,e,n){return t==n.path&&Vr(e,n.parameters)}var sl="imperative",Ft=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ft||{}),zn=class{constructor(e,n){this.id=e,this.url=n}},uc=class extends zn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ft.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},_i=class extends zn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ft.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Rn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Rn||{}),xp=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(xp||{}),vi=class extends zn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ft.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Io=class extends zn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ft.NavigationSkipped}},ll=class extends zn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ft.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Mp=class extends zn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ft.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},e_=class extends zn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ft.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},t_=class extends zn{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Ft.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},n_=class extends zn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ft.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},r_=class extends zn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ft.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},i_=class{constructor(e){this.route=e,this.type=Ft.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},o_=class{constructor(e){this.route=e,this.type=Ft.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},s_=class{constructor(e){this.snapshot=e,this.type=Ft.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},a_=class{constructor(e){this.snapshot=e,this.type=Ft.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},c_=class{constructor(e){this.snapshot=e,this.type=Ft.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},u_=class{constructor(e){this.snapshot=e,this.type=Ft.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Np=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Ft.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},dl=class{},lc=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function ZU(t,e){return t.providers&&!t._injector&&(t._injector=Wf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function ur(t){return t.outlet||ge}function JU(t,e){let n=t.filter(r=>ur(r)===e);return n.push(...t.filter(r=>ur(r)!==e)),n}function wl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var l_=class{get injector(){return wl(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new _l(this.rootInjector),this.attachRef=null}},_l=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new l_(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(W(tn))}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Pp=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=d_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=d_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=h_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return h_(e,this._root).map(n=>n.value)}};function d_(t,e){if(t===e.value)return e;for(let n of e.children){let r=d_(t,n);if(r)return r}return null}function h_(t,e){if(t===e.value)return[e];for(let n of e.children){let r=h_(t,n);if(r.length)return r.unshift(e),r}return[]}var An=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function rc(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var kp=class extends Pp{constructor(e,n){super(e),this.snapshot=n,E_(this,e)}toString(){return this.snapshot.toString()}};function DA(t){let e=XU(t),n=new ft([new Cs("",{})]),r=new ft({}),i=new ft({}),o=new ft({}),s=new ft(""),a=new Ds(n,r,o,s,i,ge,t,e.root);return a.snapshot=e.root,new kp(new An(a,[]),e)}function XU(t){let e={},n={},r={},i="",o=new oc([],e,r,i,n,ge,t,null,{});return new Fp("",new An(o,[]))}var Ds=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(pe(d=>d[yl]))??se(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(pe(e=>ac(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(pe(e=>ac(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Op(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:j(j({},e.params),t.params),data:j(j({},e.data),t.data),resolve:j(j(j(j({},t.data),e.data),i?.data),t._resolvedData)}:r={params:j({},t.params),data:j({},t.data),resolve:j(j({},t.data),t._resolvedData??{})},i&&AA(i)&&(r.resolve[yl]=i.title),r}var oc=class{get title(){return this.data?.[yl]}constructor(e,n,r,i,o,s,a,u,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ac(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ac(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Fp=class extends Pp{constructor(e,n){super(n),this.url=e,E_(this,n)}toString(){return SA(this._root)}};function E_(t,e){e.value._routerState=t,e.children.forEach(n=>E_(t,n))}function SA(t){let e=t.children.length>0?` { ${t.children.map(SA).join(", ")} } `:"";return`${t.value}${e}`}function Ww(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Vr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Vr(e.params,n.params)||t.paramsSubject.next(n.params),DU(e.url,n.url)||t.urlSubject.next(n.url),Vr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function f_(t,e){let n=Vr(t.params,e.params)&&xU(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||f_(t.parent,e.parent))}function AA(t){return typeof t.title=="string"||t.title===null}var ej=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ge,this.activateEvents=new rt,this.deactivateEvents=new rt,this.attachEvents=new rt,this.detachEvents=new rt,this.parentContexts=$(_l),this.location=$(Ya),this.changeDetector=$(Is),this.inputBinder=$(jp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new re(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new re(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new re(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new re(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new p_(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ge({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[di]})}}return t})(),p_=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ds?this.route:e===_l?this.childContexts:this.parent.get(e,n)}},jp=new G(""),sA=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Mu([r.queryParams,r.params,r.data]).pipe(dn(([o,s,a],u)=>(a=j(j(j({},o),s),a),u===0?se(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=wS(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac})}}return t})();function tj(t,e,n){let r=hl(t,e._root,n?n._root:void 0);return new kp(r,e)}function hl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=nj(t,e,n);return new An(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>hl(t,a)),s}}let r=rj(e.value),i=e.children.map(o=>hl(t,o));return new An(r,i)}}function nj(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return hl(t,r,i);return hl(t,r)})}function rj(t){return new Ds(new ft(t.url),new ft(t.params),new ft(t.queryParams),new ft(t.fragment),new ft(t.data),t.outlet,t.component,t)}var fl=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},RA="ngNavigationCancelingError";function Lp(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=cl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=xA(!1,Rn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function xA(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[RA]=!0,n.cancellationCode=e,n}function ij(t){return MA(t)&&cl(t.url)}function MA(t){return!!t&&t[RA]}var oj=(t,e,n,r)=>pe(i=>(new m_(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),m_=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Ww(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=rc(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=rc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=rc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=rc(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new u_(o.value.snapshot))}),e.children.length&&this.forwardEvent(new a_(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Ww(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Ww(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Vp=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},sc=class{constructor(e,n){this.component=e,this.route=n}};function sj(t,e,n){let r=t._root,i=e?e._root:null;return rl(r,i,n,[r.value])}function aj(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function hc(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!tT(t)?t:e.get(t):r}function rl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=rc(e);return t.children.forEach(s=>{cj(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>al(a,n.getContext(s),i)),i}function cj(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=uj(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Vp(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?rl(t,e,a?a.children:null,r,i):rl(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new sc(a.outlet.component,s))}else s&&al(e,a,i),i.canActivateChecks.push(new Vp(r)),o.component?rl(t,null,a?a.children:null,r,i):rl(t,null,n,r,i);return i}function uj(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ts(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ts(t.url,e.url)||!Vr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!f_(t,e)||!Vr(t.queryParams,e.queryParams);case"paramsChange":default:return!f_(t,e)}}function al(t,e,n){let r=rc(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?al(s,e.children.getContext(o),n):al(s,null,n):al(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new sc(e.outlet.component,i)):n.canDeactivateChecks.push(new sc(null,i)):n.canDeactivateChecks.push(new sc(null,i))}function El(t){return typeof t=="function"}function lj(t){return typeof t=="boolean"}function dj(t){return t&&El(t.canLoad)}function hj(t){return t&&El(t.canActivate)}function fj(t){return t&&El(t.canActivateChild)}function pj(t){return t&&El(t.canDeactivate)}function mj(t){return t&&El(t.canMatch)}function NA(t){return t instanceof ri||t?.name==="EmptyError"}var Cp=Symbol("INITIAL_VALUE");function dc(){return dn(t=>Mu(t.map(e=>e.pipe(oi(1),Ry(Cp)))).pipe(pe(e=>{for(let n of e)if(n!==!0){if(n===Cp)return Cp;if(n===!1||gj(n))return n}return!0}),Gt(e=>e!==Cp),oi(1)))}function gj(t){return cl(t)||t instanceof fl}function yj(t,e){return _t(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?se(le(j({},n),{guardsResult:!0})):vj(s,r,i,t).pipe(_t(a=>a&&lj(a)?wj(r,o,t,e):se(a)),pe(a=>le(j({},n),{guardsResult:a})))})}function vj(t,e,n,r){return Ze(t).pipe(_t(i=>Cj(i.component,i.route,n,e,r)),Tr(i=>i!==!0,!0))}function wj(t,e,n,r){return Ze(e).pipe(ii(i=>Aa(Ej(i.route.parent,r),_j(i.route,r),bj(t,i.path,n),Ij(t,i.route,n))),Tr(i=>i!==!0,!0))}function _j(t,e){return t!==null&&e&&e(new c_(t)),se(!0)}function Ej(t,e){return t!==null&&e&&e(new s_(t)),se(!0)}function Ij(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return se(!0);let i=r.map(o=>qh(()=>{let s=wl(e)??n,a=hc(o,s),u=hj(a)?a.canActivate(e,t):jn(s,()=>a(e,t));return bo(u).pipe(Tr())}));return se(i).pipe(dc())}function bj(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>aj(s)).filter(s=>s!==null).map(s=>qh(()=>{let a=s.guards.map(u=>{let d=wl(s.node)??n,p=hc(u,d),m=fj(p)?p.canActivateChild(r,t):jn(d,()=>p(r,t));return bo(m).pipe(Tr())});return se(a).pipe(dc())}));return se(o).pipe(dc())}function Cj(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return se(!0);let s=o.map(a=>{let u=wl(e)??i,d=hc(a,u),p=pj(d)?d.canDeactivate(t,e,n,r):jn(u,()=>d(t,e,n,r));return bo(p).pipe(Tr())});return se(s).pipe(dc())}function Tj(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return se(!0);let o=i.map(s=>{let a=hc(s,t),u=dj(a)?a.canLoad(e,n):jn(t,()=>a(e,n));return bo(u)});return se(o).pipe(dc(),PA(r))}function PA(t){return gy(Et(e=>{if(typeof e!="boolean")throw Lp(t,e)}),pe(e=>e===!0))}function Dj(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return se(!0);let o=i.map(s=>{let a=hc(s,t),u=mj(a)?a.canMatch(e,n):jn(t,()=>a(e,n));return bo(u)});return se(o).pipe(dc(),PA(r))}var pl=class{constructor(e){this.segmentGroup=e||null}},ml=class extends Error{constructor(e){super(),this.urlTree=e}};function nc(t){return Da(new pl(t))}function Sj(t){return Da(new re(4e3,!1))}function Aj(t){return Da(xA(!1,Rn.GuardRejected))}var g_=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return se(r);if(i.numberOfChildren>1||!i.children[ge])return Sj(`${e.redirectTo}`);i=i.children[ge]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:d,routeConfig:p,url:m,outlet:w,params:E,data:x,title:F}=i,N=jn(o,()=>a({params:E,data:x,queryParams:u,fragment:d,routeConfig:p,url:m,outlet:w,title:F}));if(N instanceof wi)throw new ml(N);n=N}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new ml(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new wi(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new $e(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new re(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},y_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Rj(t,e,n,r,i){let o=kA(t,e,n);return o.matched?(r=ZU(e,r),Dj(r,e,n,i).pipe(pe(s=>s===!0?o:j({},y_)))):se(o)}function kA(t,e,n){if(e.path==="**")return xj(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?j({},y_):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||TU)(n,t,e);if(!i)return j({},y_);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?j(j({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function xj(t){return{matched:!0,parameters:t.length>0?fA(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function aA(t,e,n,r){return n.length>0&&Pj(t,n,r)?{segmentGroup:new $e(e,Nj(r,new $e(n,t.children))),slicedSegments:[]}:n.length===0&&kj(t,n,r)?{segmentGroup:new $e(t.segments,Mj(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new $e(t.segments,t.children),slicedSegments:n}}function Mj(t,e,n,r){let i={};for(let o of n)if(Bp(t,e,o)&&!r[ur(o)]){let s=new $e([],{});i[ur(o)]=s}return j(j({},r),i)}function Nj(t,e){let n={};n[ge]=e;for(let r of t)if(r.path===""&&ur(r)!==ge){let i=new $e([],{});n[ur(r)]=i}return n}function Pj(t,e,n){return n.some(r=>Bp(t,e,r)&&ur(r)!==ge)}function kj(t,e,n){return n.some(r=>Bp(t,e,r))}function Bp(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Oj(t,e,n){return e.length===0&&!t.children[n]}var v_=class{};function Fj(t,e,n,r,i,o,s="emptyOnly"){return new w_(t,e,n,r,i,s,o).recognize()}var Lj=31,w_=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new g_(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new re(4002,`'${e.segmentGroup}'`)}recognize(){let e=aA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(pe(({children:n,rootSnapshot:r})=>{let i=new An(r,n),o=new Fp("",i),s=zU(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new oc([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ge,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ge,n).pipe(pe(r=>({children:r,rootSnapshot:n})),io(r=>{if(r instanceof ml)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof pl?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(pe(s=>s instanceof An?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ze(o).pipe(ii(s=>{let a=r.children[s],u=JU(n,s);return this.processSegmentGroup(e,u,a,s,i)}),Ay((s,a)=>(s.push(...a),s)),oo(null),Sy(),_t(s=>{if(s===null)return nc(r);let a=OA(s);return Vj(a),se(a)}))}processSegment(e,n,r,i,o,s,a){return Ze(n).pipe(ii(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(io(d=>{if(d instanceof pl)return se(null);throw d}))),Tr(u=>!!u),io(u=>{if(NA(u))return Oj(r,i,o)?se(new v_):nc(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return ur(r)!==s&&(s===ge||!Bp(i,o,r))?nc(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):nc(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:d,consumedSegments:p,positionalParamSegments:m,remainingSegments:w}=kA(n,i,o);if(!u)return nc(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Lj&&(this.allowRedirects=!1));let E=new oc(o,d,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,cA(i),ur(i),i.component??i._loadedComponent??null,i,uA(i)),x=Op(E,a,this.paramsInheritanceStrategy);E.params=Object.freeze(x.params),E.data=Object.freeze(x.data);let F=this.applyRedirects.applyRedirectCommands(p,i.redirectTo,m,E,e);return this.applyRedirects.lineralizeSegments(i,F).pipe(_t(N=>this.processSegment(e,r,n,N.concat(w),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=Rj(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(dn(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(dn(({routes:d})=>{let p=r._loadedInjector??e,{parameters:m,consumedSegments:w,remainingSegments:E}=u,x=new oc(w,m,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,cA(r),ur(r),r.component??r._loadedComponent??null,r,uA(r)),F=Op(x,s,this.paramsInheritanceStrategy);x.params=Object.freeze(F.params),x.data=Object.freeze(F.data);let{segmentGroup:N,slicedSegments:B}=aA(n,w,E,d);if(B.length===0&&N.hasChildren())return this.processChildren(p,d,N,x).pipe(pe(q=>new An(x,q)));if(d.length===0&&B.length===0)return se(new An(x,[]));let J=ur(r)===o;return this.processSegment(p,d,N,B,J?ge:o,!0,x).pipe(pe(q=>new An(x,q instanceof An?[q]:[])))}))):nc(n)))}getChildConfig(e,n,r){return n.children?se({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?se({routes:n._loadedRoutes,injector:n._loadedInjector}):Tj(e,n,r,this.urlSerializer).pipe(_t(i=>i?this.configLoader.loadChildren(e,n).pipe(Et(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Aj(n))):se({routes:[],injector:e})}};function Vj(t){t.sort((e,n)=>e.value.outlet===ge?-1:n.value.outlet===ge?1:e.value.outlet.localeCompare(n.value.outlet))}function Uj(t){let e=t.value.routeConfig;return e&&e.path===""}function OA(t){let e=[],n=new Set;for(let r of t){if(!Uj(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=OA(r.children);e.push(new An(r.value,i))}return e.filter(r=>!n.has(r))}function cA(t){return t.data||{}}function uA(t){return t.resolve||{}}function jj(t,e,n,r,i,o){return _t(s=>Fj(t,e,n,r,s.extractedUrl,i,o).pipe(pe(({state:a,tree:u})=>le(j({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function Bj(t,e){return _t(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return se(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let d of FA(u))s.add(d);let a=0;return Ze(s).pipe(ii(u=>o.has(u)?$j(u,r,t,e):(u.data=Op(u,u.parent,t).resolve,se(void 0))),Et(()=>a++),Ra(1),_t(u=>a===s.size?se(n):bn))})}function FA(t){let e=t.children.map(n=>FA(n)).flat();return[t,...e]}function $j(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!AA(i)&&(o[yl]=i.title),Hj(o,t,e,r).pipe(pe(s=>(t._resolvedData=s,t.data=Op(t,t.parent,n).resolve,null)))}function Hj(t,e,n,r){let i=Yw(t);if(i.length===0)return se({});let o={};return Ze(i).pipe(_t(s=>zj(t[s],e,n,r).pipe(Tr(),Et(a=>{if(a instanceof fl)throw Lp(new cc,a);o[s]=a}))),Ra(1),Dy(o),io(s=>NA(s)?bn:Da(s)))}function zj(t,e,n,r){let i=wl(e)??r,o=hc(t,i),s=o.resolve?o.resolve(e,n):jn(i,()=>o(e,n));return bo(s)}function Kw(t){return dn(e=>{let n=t(e);return n?Ze(n).pipe(pe(()=>e)):se(e)})}var LA=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ge);return r}getResolvedTitleForRoute(n){return n.data[yl]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:()=>$(qj),providedIn:"root"})}}return t})(),qj=(()=>{class t extends LA{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(W(tA))}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Il=new G("",{providedIn:"root",factory:()=>({})}),Gj=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Tn({type:t,selectors:[["ng-component"]],standalone:!0,features:[aS],decls:1,vars:0,template:function(r,i){r&1&&we(0,"router-outlet")},dependencies:[ej],encapsulation:2})}}return t})();function I_(t){let e=t.children&&t.children.map(I_),n=e?le(j({},t),{children:e}):j({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ge&&(n.component=Gj),n}var gl=new G(""),b_=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=$(np)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return se(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=bo(n.loadComponent()).pipe(pe(VA),Et(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),cs(()=>{this.componentLoaders.delete(n)})),i=new Ia(r,()=>new ht).pipe(Ea());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return se({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Wj(r,this.compiler,n,this.onLoadEndListener).pipe(cs(()=>{this.childrenLoaders.delete(r)})),s=new Ia(o,()=>new ht).pipe(Ea());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Wj(t,e,n,r){return bo(t.loadChildren()).pipe(pe(VA),_t(i=>i instanceof Vu||Array.isArray(i)?se(i):Ze(e.compileModuleAsync(i))),pe(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(gl,[],{optional:!0,self:!0}).flat()),{routes:s.map(I_),injector:o}}))}function Kj(t){return t&&typeof t=="object"&&"default"in t}function VA(t){return Kj(t)?t.default:t}var C_=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:()=>$(Qj),providedIn:"root"})}}return t})(),Qj=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),UA=new G(""),jA=new G("");function Yj(t,e,n){let r=t.get(jA),i=t.get(Kt);return t.get(be).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(d=>setTimeout(d));let o,s=new Promise(d=>{o=d}),a=i.startViewTransition(()=>(o(),Zj(t))),{onViewTransitionCreated:u}=r;return u&&jn(t,()=>u({transition:a,from:e,to:n})),s})}function Zj(t){return new Promise(e=>{pw({read:()=>setTimeout(e)},{injector:t})})}var Jj=new G(""),T_=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ht,this.transitionAbortSubject=new ht,this.configLoader=$(b_),this.environmentInjector=$(tn),this.urlSerializer=$(vl),this.rootContexts=$(_l),this.location=$(ec),this.inputBindingEnabled=$(jp,{optional:!0})!==null,this.titleStrategy=$(LA),this.options=$(Il,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=$(C_),this.createViewTransition=$(UA,{optional:!0}),this.navigationErrorHandler=$(Jj,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>se(void 0),this.rootComponentType=null;let n=i=>this.events.next(new i_(i)),r=i=>this.events.next(new o_(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(le(j(j({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new ft({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:sl,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Gt(o=>o.id!==0),pe(o=>le(j({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),dn(o=>{let s=!1,a=!1;return se(o).pipe(dn(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Rn.SupersededByNewNavigation),bn;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?le(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!d&&p!=="reload"){let m="";return this.events.next(new Io(u.id,this.urlSerializer.serialize(u.rawUrl),m,xp.IgnoredSameUrlNavigation)),u.resolve(!1),bn}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return se(u).pipe(dn(m=>{let w=this.transitions?.getValue();return this.events.next(new uc(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),w!==this.transitions?.getValue()?bn:Promise.resolve(m)}),jj(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Et(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=le(j({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let w=new Mp(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(w)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:m,extractedUrl:w,source:E,restoredState:x,extras:F}=u,N=new uc(m,this.urlSerializer.serialize(w),E,x);this.events.next(N);let B=DA(this.rootComponentType).snapshot;return this.currentTransition=o=le(j({},u),{targetSnapshot:B,urlAfterRedirects:w,extras:le(j({},F),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=w,se(o)}else{let m="";return this.events.next(new Io(u.id,this.urlSerializer.serialize(u.extractedUrl),m,xp.IgnoredByUrlHandlingStrategy)),u.resolve(!1),bn}}),Et(u=>{let d=new e_(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),pe(u=>(this.currentTransition=o=le(j({},u),{guards:sj(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),yj(this.environmentInjector,u=>this.events.next(u)),Et(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Lp(this.urlSerializer,u.guardsResult);let d=new t_(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),Gt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Rn.GuardRejected),!1)),Kw(u=>{if(u.guards.canActivateChecks.length)return se(u).pipe(Et(d=>{let p=new n_(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),dn(d=>{let p=!1;return se(d).pipe(Bj(this.paramsInheritanceStrategy,this.environmentInjector),Et({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(d,"",Rn.NoDataFromResolver)}}))}),Et(d=>{let p=new r_(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}))}),Kw(u=>{let d=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(Et(w=>{p.component=w}),pe(()=>{})));for(let w of p.children)m.push(...d(w));return m};return Mu(d(u.targetSnapshot.root)).pipe(oo(null),oi(1))}),Kw(()=>this.afterPreactivation()),dn(()=>{let{currentSnapshot:u,targetSnapshot:d}=o,p=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return p?Ze(p).pipe(pe(()=>o)):se(o)}),pe(u=>{let d=tj(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=le(j({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),Et(()=>{this.events.next(new dl)}),oj(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),oi(1),Et({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new _i(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),xy(this.transitionAbortSubject.pipe(Et(u=>{throw u}))),cs(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Rn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),io(u=>{if(a=!0,MA(u))this.events.next(new vi(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),ij(u)?this.events.next(new lc(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let d=new ll(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let p=jn(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(p instanceof fl){let{message:m,cancellationCode:w}=Lp(this.urlSerializer,p);this.events.next(new vi(o.id,this.urlSerializer.serialize(o.extractedUrl),m,w)),this.events.next(new lc(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(d);let m=n.errorHandler(u);o.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(p)}}return bn}))}))}cancelNavigationTransition(n,r,i){let o=new vi(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Xj(t){return t!==sl}var eB=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:()=>$(tB),providedIn:"root"})}}return t})(),__=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},tB=(()=>{class t extends __{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=hi(t)))(i||t)}})()}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),BA=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:()=>$(nB),providedIn:"root"})}}return t})(),nB=(()=>{class t extends BA{constructor(){super(...arguments),this.location=$(ec),this.urlSerializer=$(vl),this.options=$(Il,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=$(C_),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new wi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=DA(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof uc)this.stateMemento=this.createStateMemento();else if(n instanceof Io)this.rawUrlTree=r.initialUrl;else if(n instanceof Mp){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof dl?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof vi&&(n.code===Rn.GuardRejected||n.code===Rn.NoDataFromResolver)?this.restoreHistory(r):n instanceof ll?this.restoreHistory(r,!0):n instanceof _i&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof wi?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=j(j({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=j(j({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=hi(t)))(i||t)}})()}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),il=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(il||{});function $A(t,e){t.events.pipe(Gt(n=>n instanceof _i||n instanceof vi||n instanceof ll||n instanceof Io),pe(n=>n instanceof _i||n instanceof Io?il.COMPLETE:(n instanceof vi?n.code===Rn.Redirect||n.code===Rn.SupersededByNewNavigation:!1)?il.REDIRECTING:il.FAILED),Gt(n=>n!==il.REDIRECTING),oi(1)).subscribe(()=>{e()})}function rB(t){throw t}var iB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},oB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ot=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=$(Jf),this.stateManager=$(BA),this.options=$(Il,{optional:!0})||{},this.pendingTasks=$(go),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=$(T_),this.urlSerializer=$(vl),this.location=$(ec),this.urlHandlingStrategy=$(C_),this._events=new ht,this.errorHandler=this.options.errorHandler||rB,this.navigated=!1,this.routeReuseStrategy=$(eB),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=$(gl,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!$(jp,{optional:!0}),this.eventsSubscription=new ct,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof vi&&r.code!==Rn.Redirect&&r.code!==Rn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof _i)this.navigated=!0;else if(r instanceof lc){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=j({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Xj(i.source)},s);this.scheduleNavigation(a,sl,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}aB(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),sl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=j({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(I_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,d=u?this.currentUrlTree.fragment:s,p=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":p=j(j({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let w=i?i.snapshot:this.routerState.snapshot.root;m=IA(w)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),m=this.currentUrlTree.root}return bA(m,n,p,d??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=cl(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,sl,null,r)}navigate(n,r={skipLocationChange:!1}){return sB(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=j({},iB):r===!1?i=j({},oB):i=r,cl(n))return nA(this.currentUrlTree,n,i);let o=this.parseUrl(n);return nA(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,d;s?(a=s.resolve,u=s.reject,d=s.promise):d=new Promise((m,w)=>{a=m,u=w});let p=this.pendingTasks.add();return $A(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function sB(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new re(4008,!1)}function aB(t){return!(t instanceof dl)&&!(t instanceof lc)}var Up=class{};var cB=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Gt(n=>n instanceof _i),ii(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Wf(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ze(i).pipe(Sa())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=se(null);let o=i.pipe(_t(s=>s===null?se(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Ze([o,s]).pipe(Sa())}else return o})}static{this.\u0275fac=function(r){return new(r||t)(W(Ot),W(np),W(tn),W(Up),W(b_))}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),HA=new G(""),uB=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof uc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof _i?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Io&&n.code===xp.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Np&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Np(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){RD()}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac})}}return t})();function LZ(t,...e){return Un([{provide:gl,multi:!0,useValue:t},[],{provide:Ds,useFactory:zA,deps:[Ot]},{provide:Gu,multi:!0,useFactory:qA},e.map(n=>n.\u0275providers)])}function zA(t){return t.routerState.root}function bl(t,e){return{\u0275kind:t,\u0275providers:e}}function qA(){let t=$(Bt);return e=>{let n=t.get(fi);if(e!==n.components[0])return;let r=t.get(Ot),i=t.get(GA);t.get(D_)===1&&r.initialNavigation(),t.get(WA,null,_e.Optional)?.setUpPreloading(),t.get(HA,null,_e.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var GA=new G("",{factory:()=>new ht}),D_=new G("",{providedIn:"root",factory:()=>1});function lB(){return bl(2,[{provide:D_,useValue:0},{provide:tp,multi:!0,deps:[Bt],useFactory:e=>{let n=e.get(AS,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Ot),o=e.get(GA);$A(i,()=>{r(!0)}),e.get(T_).afterPreactivation=()=>(r(!0),o.closed?se(void 0):o),i.initialNavigation()}))}}])}function dB(){return bl(3,[{provide:tp,multi:!0,useFactory:()=>{let e=$(Ot);return()=>{e.setUpLocationChangeListener()}}},{provide:D_,useValue:2}])}var WA=new G("");function hB(t){return bl(0,[{provide:WA,useExisting:cB},{provide:Up,useExisting:t}])}function fB(){return bl(8,[sA,{provide:jp,useExisting:sA}])}function pB(t){let e=[{provide:UA,useValue:Yj},{provide:jA,useValue:j({skipNextTransition:!!t?.skipInitialTransition},t)}];return bl(9,e)}var lA=new G("ROUTER_FORROOT_GUARD"),mB=[ec,{provide:vl,useClass:cc},Ot,_l,{provide:Ds,useFactory:zA,deps:[Ot]},b_,[]],fc=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[mB,[],{provide:gl,multi:!0,useValue:n},{provide:lA,useFactory:wB,deps:[[Ot,new Wt,new Fv]]},{provide:Il,useValue:r||{}},r?.useHash?yB():vB(),gB(),r?.preloadingStrategy?hB(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?_B(r):[],r?.bindToComponentInputs?fB().\u0275providers:[],r?.enableViewTransitions?pB().\u0275providers:[],EB()]}}static forChild(n){return{ngModule:t,providers:[{provide:gl,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)(W(lA,8))}}static{this.\u0275mod=et({type:t})}static{this.\u0275inj=Xe({})}}return t})();function gB(){return{provide:HA,useFactory:()=>{let t=$(FS),e=$(be),n=$(Il),r=$(T_),i=$(vl);return n.scrollOffset&&t.setOffset(n.scrollOffset),new uB(i,r,t,e,n)}}}function yB(){return{provide:bs,useClass:xS}}function vB(){return{provide:bs,useClass:Rw}}function wB(t){return"guarded"}function _B(t){return[t.initialNavigation==="disabled"?dB().\u0275providers:[],t.initialNavigation==="enabledBlocking"?lB().\u0275providers:[]]}var dA=new G("");function EB(){return[{provide:dA,useFactory:qA},{provide:Gu,multi:!0,useExisting:dA}]}var QA=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},IB=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},YA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,p=o>>2,m=(o&3)<<4|a>>4,w=(a&15)<<2|d>>6,E=d&63;u||(E=64,s||(w=64)),r.push(n[p],n[m],n[w],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):IB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let d=i<t.length?n[t.charAt(i)]:64;++i;let m=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||d==null||m==null)throw new A_;let w=o<<2|a>>4;if(r.push(w),d!==64){let E=a<<4&240|d>>2;if(r.push(E),m!==64){let x=d<<6&192|m;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},A_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},bB=function(t){let e=QA(t);return YA.encodeByteArray(e,!0)},Tl=function(t){return bB(t).replace(/\./g,"")},x_=function(t){try{return YA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function CB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var TB=()=>CB().__FIREBASE_DEFAULTS__,DB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},SB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&x_(t[1]);return e&&JSON.parse(e)},Hp=()=>{try{return TB()||DB()||SB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},M_=t=>{var e,n;return(n=(e=Hp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},zp=t=>{let e=M_(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},N_=()=>{var t;return(t=Hp())===null||t===void 0?void 0:t.config},P_=t=>{var e;return(e=Hp())===null||e===void 0?void 0:e[`_${t}`]};var $p=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function qp(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Tl(JSON.stringify(n)),Tl(JSON.stringify(s)),""].join(".")}function Lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function AB(){var t;let e=(t=Hp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XA(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function eR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tR(){let t=Lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function nR(){return!AB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k_(){try{return typeof indexedDB=="object"}catch{return!1}}function rR(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var RB="FirebaseError",sn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=RB,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ei.prototype.create)}},Ei=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?xB(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new sn(i,a,r)}};function xB(t,e){return t.replace(MB,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var MB=/\{\$([^}]+)}/g;function iR(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ss(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(KA(o)&&KA(s)){if(!Ss(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function KA(t){return t!==null&&typeof t=="object"}function Dl(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pc(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function mc(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function oR(t,e){let n=new R_(t,e);return n.subscribe.bind(n)}var R_=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");NB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=S_),i.error===void 0&&(i.error=S_),i.complete===void 0&&(i.complete=S_);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function NB(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function S_(){}var UZ=4*60*60*1e3;function Je(t){return t&&t._delegate?t._delegate:t}var gn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var As="[DEFAULT]";var O_=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new $p;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kB(e))try{this.getOrInitializeService({instanceIdentifier:As})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=As){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return b(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=As){return this.instances.has(e)}getOptions(e=As){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=As){return this.component?this.component.multipleInstances?e:As:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function PB(t){return t===As?void 0:t}function kB(t){return t.instantiationMode==="EAGER"}var Gp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new O_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var OB=[],Ae=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Ae||{}),FB={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},LB=Ae.INFO,VB={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},UB=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=VB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Co=class{constructor(e){this.name=e,this._logLevel=LB,this._logHandler=UB,this._userLogHandler=null,OB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}};var jB=(t,e)=>e.some(n=>t instanceof n),sR,aR;function BB(){return sR||(sR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $B(){return aR||(aR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var cR=new WeakMap,L_=new WeakMap,uR=new WeakMap,F_=new WeakMap,U_=new WeakMap;function HB(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Ur(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&cR.set(n,t)}).catch(()=>{}),U_.set(e,t),e}function zB(t){if(L_.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});L_.set(t,e)}var V_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return L_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||uR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ur(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lR(t){V_=t(V_)}function qB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Wp(this),e,...n);return uR.set(r,e.sort?e.sort():[e]),Ur(r)}:$B().includes(t)?function(...e){return t.apply(Wp(this),e),Ur(cR.get(this))}:function(...e){return Ur(t.apply(Wp(this),e))}}function GB(t){return typeof t=="function"?qB(t):(t instanceof IDBTransaction&&zB(t),jB(t,BB())?new Proxy(t,V_):t)}function Ur(t){if(t instanceof IDBRequest)return HB(t);if(F_.has(t))return F_.get(t);let e=GB(t);return e!==t&&(F_.set(t,e),U_.set(e,t)),e}var Wp=t=>U_.get(t);function hR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Ur(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Ur(s.result),u.oldVersion,u.newVersion,Ur(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}var WB=["get","getKey","getAll","getAllKeys","count"],KB=["put","add","delete","clear"],j_=new Map;function dR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(j_.get(e))return j_.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=KB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||WB.includes(n)))return;let o=function(s,...a){return b(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),d=u.store;return r&&(d=d.index(a.shift())),(yield Promise.all([d[n](...a),i&&u.done]))[0]})};return j_.set(e,o),o}lR(t=>le(j({},t),{get:(e,n,r)=>dR(e,n)||t.get(e,n,r),has:(e,n)=>!!dR(e,n)||t.has(e,n)}));var $_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QB(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function QB(t){let e=t.getComponent();return e?.type==="VERSION"}var H_="@firebase/app",fR="0.10.13";var Ii=new Co("@firebase/app"),YB="@firebase/app-compat",ZB="@firebase/analytics-compat",JB="@firebase/analytics",XB="@firebase/app-check-compat",e$="@firebase/app-check",t$="@firebase/auth",n$="@firebase/auth-compat",r$="@firebase/database",i$="@firebase/data-connect",o$="@firebase/database-compat",s$="@firebase/functions",a$="@firebase/functions-compat",c$="@firebase/installations",u$="@firebase/installations-compat",l$="@firebase/messaging",d$="@firebase/messaging-compat",h$="@firebase/performance",f$="@firebase/performance-compat",p$="@firebase/remote-config",m$="@firebase/remote-config-compat",g$="@firebase/storage",y$="@firebase/storage-compat",v$="@firebase/firestore",w$="@firebase/vertexai-preview",_$="@firebase/firestore-compat",E$="firebase",I$="10.14.1";var z_="[DEFAULT]",b$={[H_]:"fire-core",[YB]:"fire-core-compat",[JB]:"fire-analytics",[ZB]:"fire-analytics-compat",[e$]:"fire-app-check",[XB]:"fire-app-check-compat",[t$]:"fire-auth",[n$]:"fire-auth-compat",[r$]:"fire-rtdb",[i$]:"fire-data-connect",[o$]:"fire-rtdb-compat",[s$]:"fire-fn",[a$]:"fire-fn-compat",[c$]:"fire-iid",[u$]:"fire-iid-compat",[l$]:"fire-fcm",[d$]:"fire-fcm-compat",[h$]:"fire-perf",[f$]:"fire-perf-compat",[p$]:"fire-rc",[m$]:"fire-rc-compat",[g$]:"fire-gcs",[y$]:"fire-gcs-compat",[v$]:"fire-fst",[_$]:"fire-fst-compat",[w$]:"fire-vertex","fire-js":"fire-js",[E$]:"fire-js-all"};var Sl=new Map,C$=new Map,q_=new Map;function pR(t,e){try{t.container.addComponent(e)}catch(n){Ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function jr(t){let e=t.name;if(q_.has(e))return Ii.debug(`There were multiple attempts to register component ${e}.`),!1;q_.set(e,t);for(let n of Sl.values())pR(n,t);for(let n of C$.values())pR(n,t);return!0}function Rs(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function lr(t){return t.settings!==void 0}var T$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},To=new Ei("app","Firebase",T$);var G_=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw To.create("app-deleted",{appName:this._name})}};var Br=I$;function Q_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:z_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw To.create("bad-app-name",{appName:String(i)});if(n||(n=N_()),!n)throw To.create("no-options");let o=Sl.get(i);if(o){if(Ss(n,o.options)&&Ss(r,o.config))return o;throw To.create("duplicate-app",{appName:i})}let s=new Gp(i);for(let u of q_.values())s.addComponent(u);let a=new G_(n,r,s);return Sl.set(i,a),a}function Do(t=z_){let e=Sl.get(t);if(!e&&t===z_&&N_())return Q_();if(!e)throw To.create("no-app",{appName:t});return e}function Kp(){return Array.from(Sl.values())}function it(t,e,n){var r;let i=(r=b$[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ii.warn(a.join(" "));return}jr(new gn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var D$="firebase-heartbeat-database",S$=1,Al="firebase-heartbeat-store",B_=null;function vR(){return B_||(B_=hR(D$,S$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Al)}catch(n){console.warn(n)}}}}).catch(t=>{throw To.create("idb-open",{originalErrorMessage:t.message})})),B_}function A$(t){return b(this,null,function*(){try{let n=(yield vR()).transaction(Al),r=yield n.objectStore(Al).get(wR(t));return yield n.done,r}catch(e){if(e instanceof sn)Ii.warn(e.message);else{let n=To.create("idb-get",{originalErrorMessage:e?.message});Ii.warn(n.message)}}})}function mR(t,e){return b(this,null,function*(){try{let r=(yield vR()).transaction(Al,"readwrite");yield r.objectStore(Al).put(e,wR(t)),yield r.done}catch(n){if(n instanceof sn)Ii.warn(n.message);else{let r=To.create("idb-set",{originalErrorMessage:n?.message});Ii.warn(r.message)}}})}function wR(t){return`${t.name}!${t.options.appId}`}var R$=1024,x$=30*24*60*60*1e3,W_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new K_(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return b(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=gR();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=x$}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ii.warn(r)}})}getHeartbeatsHeader(){return b(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=gR(),{heartbeatsToSend:r,unsentEntries:i}=M$(this._heartbeatsCache.heartbeats),o=Tl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ii.warn(n),""}})}};function gR(){return new Date().toISOString().substring(0,10)}function M$(t,e=R$){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),yR(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var K_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return b(this,null,function*(){return k_()?rR().then(()=>!0).catch(()=>!1):!1})}read(){return b(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield A$(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return b(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return mR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return b(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return mR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function yR(t){return Tl(JSON.stringify({version:2,heartbeats:t})).length}function N$(t){jr(new gn("platform-logger",e=>new $_(e),"PRIVATE")),jr(new gn("heartbeat",e=>new W_(e),"PRIVATE")),it(H_,fR,t),it(H_,fR,"esm2017"),it("fire-js","")}N$("");var P$="firebase",k$="10.14.1";it(P$,k$,"app");var So=new ci("ANGULARFIRE2_VERSION");function Rl(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var yc=(t,e)=>{let n=e?[e]:Kp(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ms=class{constructor(){return yc(O$)}},O$="app-check";function gc(){}var Qp=class{zone;delegate;constructor(e,n=Iy){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Y_=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",gc,{},gc,gc)),n.pipe(Et({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ns=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Qp(Zone.current)),this.insideAngular=n.run(()=>new Qp(Zone.current,Ey)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(W(be))};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Yp(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function F$(t){return Yp().ngZone.runOutsideAngular(()=>t())}function xs(t){return Yp().ngZone.run(()=>t())}function L$(t){return V$(Yp())(t)}function V$(t){return function(n){return n=n.lift(new Y_(t.ngZone)),n.pipe(ro(t.outsideAngular),no(t.insideAngular))}}var U$=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),xs(()=>t.apply(void 0,r))},ot=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=xs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",gc,{},gc,gc))),r[o]=U$(r[o],n));let i=F$(()=>t.apply(this,r));if(!e)if(i instanceof Ce){let o=Yp();return i.pipe(ro(o.outsideAngular),no(o.insideAngular))}else return xs(()=>i);return i instanceof Ce?i.pipe(L$):i instanceof Promise?xs(()=>new Promise((o,s)=>i.then(a=>xs(()=>o(a)),a=>xs(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:xs(()=>i)};var bi=class{constructor(e){return e}},Ps=class{constructor(){return Kp()}};function j$(t){return t&&t.length===1?t[0]:new bi(Do())}var Z_=new G("angularfire2._apps"),B$={provide:bi,useFactory:j$,deps:[[new Wt,Z_]]},$$={provide:Ps,deps:[[new Wt,Z_]]};function H$(t){return(e,n)=>{let r=n.get(pn);it("angularfire",So.full,"core"),it("angularfire",So.full,"app"),it("angular",hS.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new bi(i)}}function TJ(t,...e){return Un([B$,$$,{provide:Z_,useFactory:H$(t),multi:!0,deps:[be,Bt,Ns,...e]}])}var DJ=ot(Q_,!0);function FR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var LR=FR,VR=new Ei("auth","Firebase",FR());var nm=new Co("@firebase/auth");function z$(t,...e){nm.logLevel<=Ae.WARN&&nm.warn(`Auth (${Br}): ${t}`,...e)}function Jp(t,...e){nm.logLevel<=Ae.ERROR&&nm.error(`Auth (${Br}): ${t}`,...e)}function Hr(t,...e){throw _E(t,...e)}function ks(t,...e){return _E(t,...e)}function UR(t,e,n){let r=Object.assign(Object.assign({},LR()),{[e]:n});return new Ei("auth","Firebase",r).create(e,{appName:t.name})}function Di(t){return UR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _E(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return VR.create(t,...e)}function ae(t,e,...n){if(!t)throw _E(e,...n)}function Ci(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Jp(e),new Error(e)}function Ro(t,e){t||Ci(e)}function tE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function q$(){return _R()==="http:"||_R()==="https:"}function _R(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function G$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(q$()||XA()||"connection"in navigator)?navigator.onLine:!0}function W$(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Os=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ro(n>e,"Short delay should be less than long delay!"),this.isMobile=ZA()||eR()}get(){return G$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function EE(t,e){Ro(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var rm=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var K$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Q$=new Os(3e4,6e4);function Si(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ai(o,s,a,u){return b(this,arguments,function*(t,e,n,r,i={}){return jR(t,i,()=>b(this,null,function*(){let d={},p={};r&&(e==="GET"?p=r:d={body:JSON.stringify(r)});let m=Dl(Object.assign({key:t.config.apiKey},p)).slice(1),w=yield t._getAdditionalHeaders();w["Content-Type"]="application/json",t.languageCode&&(w["X-Firebase-Locale"]=t.languageCode);let E=Object.assign({method:e,headers:w},d);return JA()||(E.referrerPolicy="no-referrer"),rm.fetch()(BR(t,t.config.apiHost,n,m),E)}))})}function jR(t,e,n){return b(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},K$),e);try{let i=new nE(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Zp(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,d]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zp(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Zp(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Zp(t,"user-disabled",s);let p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw UR(t,p,d);Hr(t,p)}}catch(i){if(i instanceof sn)throw i;Hr(t,"network-request-failed",{message:String(i)})}})}function Ll(o,s,a,u){return b(this,arguments,function*(t,e,n,r,i={}){let d=yield Ai(t,e,n,r,i);return"mfaPendingCredential"in d&&Hr(t,"multi-factor-auth-required",{_serverResponse:d}),d})}function BR(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?EE(t.config,i):`${t.config.apiScheme}://${i}`}function Y$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var nE=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ks(this.auth,"network-request-failed")),Q$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Zp(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ks(t,e,r);return i.customData._tokenResponse=n,i}function ER(t){return t!==void 0&&t.enterprise!==void 0}var rE=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Y$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function Z$(t,e){return b(this,null,function*(){return Ai(t,"GET","/v2/recaptchaConfig",Si(t,e))})}function J$(t,e){return b(this,null,function*(){return Ai(t,"POST","/v1/accounts:delete",e)})}function $R(t,e){return b(this,null,function*(){return Ai(t,"POST","/v1/accounts:lookup",e)})}function xl(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function IE(t,e=!1){return b(this,null,function*(){let n=Je(t),r=yield n.getIdToken(e),i=bE(r);ae(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:xl(J_(i.auth_time)),issuedAtTime:xl(J_(i.iat)),expirationTime:xl(J_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function J_(t){return Number(t)*1e3}function bE(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Jp("JWT malformed, contained fewer than 3 sections"),null;try{let i=x_(n);return i?JSON.parse(i):(Jp("Failed to decode base64 JWT payload"),null)}catch(i){return Jp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function IR(t){let e=bE(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Nl(t,e,n=!1){return b(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof sn&&X$(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function X$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var iE=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>b(this,null,function*(){yield this.iteration()}),n)}iteration(){return b(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Pl=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xl(this.lastLoginAt),this.creationTime=xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function im(t){return b(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Nl(t,$R(n,{idToken:r}));ae(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?HR(o.providerUserInfo):[],a=eH(t.providerData,s),u=t.isAnonymous,d=!(t.email&&o.passwordHash)&&!a?.length,p=u?d:!1,m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Pl(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(t,m)})}function CE(t){return b(this,null,function*(){let e=Je(t);yield im(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function eH(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function HR(t){return t.map(e=>{var{providerId:n}=e,r=by(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function tH(t,e){return b(this,null,function*(){let n=yield jR(t,{},()=>b(this,null,function*(){let r=Dl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=BR(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",rm.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function nH(t,e){return b(this,null,function*(){return Ai(t,"POST","/v2/accounts:revokeToken",Si(t,e))})}var Ml=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):IR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ae(e.length!==0,"internal-error");let n=IR(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return b(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return b(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield tH(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(ae(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ae(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ae(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Ci("not implemented")}};function Ao(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var vc=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=by(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Pl(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return b(this,null,function*(){let n=yield Nl(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return IE(this,e)}reload(){return CE(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return b(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield im(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return b(this,null,function*(){if(lr(this.auth.app))return Promise.reject(Di(this.auth));let e=yield this.getIdToken();return yield Nl(this,J$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,d,p;let m=(r=n.displayName)!==null&&r!==void 0?r:void 0,w=(i=n.email)!==null&&i!==void 0?i:void 0,E=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,x=(s=n.photoURL)!==null&&s!==void 0?s:void 0,F=(a=n.tenantId)!==null&&a!==void 0?a:void 0,N=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,B=(d=n.createdAt)!==null&&d!==void 0?d:void 0,J=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:q,emailVerified:ne,isAnonymous:ye,providerData:ie,stsTokenManager:D}=n;ae(q&&D,e,"internal-error");let I=Ml.fromJSON(this.name,D);ae(typeof q=="string",e,"internal-error"),Ao(m,e.name),Ao(w,e.name),ae(typeof ne=="boolean",e,"internal-error"),ae(typeof ye=="boolean",e,"internal-error"),Ao(E,e.name),Ao(x,e.name),Ao(F,e.name),Ao(N,e.name),Ao(B,e.name),Ao(J,e.name);let C=new t({uid:q,auth:e,email:w,emailVerified:ne,displayName:m,isAnonymous:ye,photoURL:x,phoneNumber:E,tenantId:F,stsTokenManager:I,createdAt:B,lastLoginAt:J});return ie&&Array.isArray(ie)&&(C.providerData=ie.map(S=>Object.assign({},S))),N&&(C._redirectEventId=N),C}static _fromIdTokenResponse(e,n,r=!1){return b(this,null,function*(){let i=new Ml;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield im(o),o})}static _fromGetAccountInfoResponse(e,n,r){return b(this,null,function*(){let i=n.users[0];ae(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?HR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Ml;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Pl(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,d),u})}};var bR=new Map;function Ti(t){Ro(t instanceof Function,"Expected a class definition");let e=bR.get(t);return e?(Ro(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,bR.set(t,e),e)}var rH=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return b(this,null,function*(){return!0})}_set(n,r){return b(this,null,function*(){this.storage[n]=r})}_get(n){return b(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return b(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),oE=rH;function Xp(t,e,n){return`firebase:${t}:${e}:${n}`}var om=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Xp(this.userKey,i.apiKey,o),this.fullPersistenceKey=Xp("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return b(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?vc._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return b(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return b(this,null,function*(){if(!n.length)return new t(Ti(oE),e,r);let i=(yield Promise.all(n.map(d=>b(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),o=i[0]||Ti(oE),s=Xp(r,e.config.apiKey,e.name),a=null;for(let d of n)try{let p=yield d._get(s);if(p){let m=vc._fromJSON(e,p);d!==o&&(a=m),o=d;break}}catch{}let u=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(d=>b(this,null,function*(){if(d!==o)try{yield d._remove(s)}catch{}}))),new t(o,e,r))})}};function CR(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(WR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QR(e))return"Blackberry";if(YR(e))return"Webos";if(qR(e))return"Safari";if((e.includes("chrome/")||GR(e))&&!e.includes("edge/"))return"Chrome";if(KR(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function zR(t=Lt()){return/firefox\//i.test(t)}function qR(t=Lt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GR(t=Lt()){return/crios\//i.test(t)}function WR(t=Lt()){return/iemobile/i.test(t)}function KR(t=Lt()){return/android/i.test(t)}function QR(t=Lt()){return/blackberry/i.test(t)}function YR(t=Lt()){return/webos/i.test(t)}function TE(t=Lt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function iH(t=Lt()){var e;return TE(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function oH(){return tR()&&document.documentMode===10}function ZR(t=Lt()){return TE(t)||KR(t)||YR(t)||QR(t)||/windows phone/i.test(t)||WR(t)}function JR(t,e=[]){let n;switch(t){case"Browser":n=CR(Lt());break;case"Worker":n=`${CR(Lt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Br}/${r}`}var sE=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return b(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function sH(n){return b(this,arguments,function*(t,e={}){return Ai(t,"GET","/v2/passwordPolicy",Si(t,e))})}var aH=6,aE=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:aH,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var cE=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sm(this),this.idTokenSubscription=new sm(this),this.beforeStateQueue=new sE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ti(n)),this._initializationPromise=this.queue(()=>b(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield om.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return b(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return b(this,null,function*(){try{let n=yield $R(this,{idToken:e}),r=yield vc._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return b(this,null,function*(){var n;if(lr(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return b(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return b(this,null,function*(){try{yield im(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=W$()}_delete(){return b(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return b(this,null,function*(){if(lr(this.app))return Promise.reject(Di(this));let n=e?Je(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return b(this,null,function*(){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>b(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return b(this,null,function*(){return lr(this.app)?Promise.reject(Di(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return lr(this.app)?Promise.reject(Di(this)):this.queue(()=>b(this,null,function*(){yield this.assertedPersistence.setPersistence(Ti(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return b(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return b(this,null,function*(){let e=yield sH(this),n=new aE(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ei("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return b(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield nH(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return b(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return b(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Ti(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=yield om.create(this,[Ti(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return b(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>b(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return b(this,null,function*(){if(e===this.currentUser)return this.queue(()=>b(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return b(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return b(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return b(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&z$(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Ls(t){return Je(t)}var sm=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=oR(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var fm={loadJS(){return b(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cH(t){fm=t}function XR(t){return fm.loadJS(t)}function uH(){return fm.recaptchaEnterpriseScript}function lH(){return fm.gapiScript}function ex(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var dH="recaptcha-enterprise",hH="NO_RECAPTCHA",uE=class{constructor(e){this.type=dH,this.auth=Ls(e)}verify(e="verify",n=!1){return b(this,null,function*(){function r(o){return b(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>b(this,null,function*(){Z$(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let d=new rE(u);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,s(d.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;ER(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(d=>{s(d)}).catch(()=>{s(hH)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&ER(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=uH();u.length!==0&&(u+=a),XR(u).then(()=>{i(a,o,s)}).catch(d=>{s(d)})}}).catch(a=>{s(a)})})})}};function TR(t,e,n,r=!1){return b(this,null,function*(){let i=new uE(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function lE(t,e,n,r){return b(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield TR(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>b(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield TR(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function DE(t,e){let n=Rs(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Ss(o,e??{}))return i;Hr(i,"already-initialized")}return n.initialize({options:e})}function fH(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ti);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function SE(t,e,n){let r=Ls(t);ae(r._canInitEmulator,r,"emulator-config-failed"),ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=tx(e),{host:s,port:a}=pH(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||mH()}function tx(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function pH(t){let e=tx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:DR(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:DR(s)}}}function DR(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function mH(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var kl=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ci("not implemented")}_getIdTokenResponse(e){return Ci("not implemented")}_linkToIdToken(e,n){return Ci("not implemented")}_getReauthenticationResolver(e){return Ci("not implemented")}};function gH(t,e){return b(this,null,function*(){return Ai(t,"POST","/v1/accounts:signUp",e)})}function yH(t,e){return b(this,null,function*(){return Ll(t,"POST","/v1/accounts:signInWithPassword",Si(t,e))})}function vH(t,e){return b(this,null,function*(){return Ai(t,"POST","/v1/accounts:sendOobCode",Si(t,e))})}function wH(t,e){return b(this,null,function*(){return vH(t,e)})}function _H(t,e){return b(this,null,function*(){return Ll(t,"POST","/v1/accounts:signInWithEmailLink",Si(t,e))})}function EH(t,e){return b(this,null,function*(){return Ll(t,"POST","/v1/accounts:signInWithEmailLink",Si(t,e))})}var Ol=class t extends kl{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return b(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lE(e,n,"signInWithPassword",yH);case"emailLink":return _H(e,{email:this._email,oobCode:this._password});default:Hr(e,"internal-error")}})}_linkToIdToken(e,n){return b(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lE(e,r,"signUpPassword",gH);case"emailLink":return EH(e,{idToken:n,email:this._email,oobCode:this._password});default:Hr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function X_(t,e){return b(this,null,function*(){return Ll(t,"POST","/v1/accounts:signInWithIdp",Si(t,e))})}function IH(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bH(t){let e=pc(mc(t)).link,n=e?pc(mc(e)).deep_link_id:null,r=pc(mc(t)).deep_link_id;return(r?pc(mc(r)).link:null)||r||n||e||t}var am=class t{constructor(e){var n,r,i,o,s,a;let u=pc(mc(e)),d=(n=u.apiKey)!==null&&n!==void 0?n:null,p=(r=u.oobCode)!==null&&r!==void 0?r:null,m=IH((i=u.mode)!==null&&i!==void 0?i:null);ae(d&&p&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=p,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=bH(e);try{return new t(n)}catch{return null}}};var nx=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Ol._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=am.parseLink(r);return ae(i,"argument-error"),Ol._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),cm=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var dE=class extends cm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function CH(t,e){return b(this,null,function*(){return Ll(t,"POST","/v1/accounts:signUp",Si(t,e))})}var wc=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return b(this,null,function*(){let o=yield vc._fromIdTokenResponse(e,r,i),s=SR(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return b(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=SR(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function SR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var hE=class t extends sn{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function rx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?hE._fromErrorAndOperation(t,o,e,r):o})}function TH(t,e,n=!1){return b(this,null,function*(){let r=yield Nl(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return wc._forOperation(t,"link",r)})}function DH(t,e,n=!1){return b(this,null,function*(){let{auth:r}=t;if(lr(r.app))return Promise.reject(Di(r));let i="reauthenticate";try{let o=yield Nl(t,rx(r,i,e,t),n);ae(o.idToken,r,"internal-error");let s=bE(o.idToken);ae(s,r,"internal-error");let{sub:a}=s;return ae(t.uid===a,r,"user-mismatch"),wc._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Hr(r,"user-mismatch"),o}})}function ix(t,e,n=!1){return b(this,null,function*(){if(lr(t.app))return Promise.reject(Di(t));let r="signIn",i=yield rx(t,r,e),o=yield wc._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function AE(t,e){return b(this,null,function*(){return ix(Ls(t),e)})}function SH(t,e,n){var r;ae(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),ae(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ae(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ae(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function ox(t){return b(this,null,function*(){let e=Ls(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function RE(t,e,n){return b(this,null,function*(){if(lr(t.app))return Promise.reject(Di(t));let r=Ls(t),s=yield lE(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",CH).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&ox(t),u}),a=yield wc._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function xE(t,e,n){return lr(t.app)?Promise.reject(Di(t)):AE(Je(t),nx.credential(e,n)).catch(r=>b(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&ox(t),r}))}function ME(t,e){return b(this,null,function*(){let n=Je(t),i={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&SH(n.auth,i,e);let{email:o}=yield wH(n.auth,i);o!==t.email&&(yield t.reload())})}function NE(t,e,n,r){return Je(t).onIdTokenChanged(e,n,r)}function PE(t,e,n){return Je(t).beforeAuthStateChanged(e,n)}function kE(t){return Je(t).signOut()}var um="__sak";var lm=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(um,"1"),this.storage.removeItem(um),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var AH=1e3,RH=10,xH=(()=>{class t extends lm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ZR(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,d)=>{this.notifyListeners(a,d)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);oH()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,RH):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},AH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return b(this,null,function*(){yield eo(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return b(this,null,function*(){let r=yield eo(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return b(this,null,function*(){yield eo(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),sx=xH;var MH=(()=>{class t extends lm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),OE=MH;function NH(t){return Promise.all(t.map(e=>b(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var PH=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return b(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(p=>b(this,null,function*(){return p(r.origin,s)})),d=yield NH(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:d})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function ax(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var fE=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return b(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let d=ax("",20);i.port1.start();let p=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(m){let w=m;if(w.data.eventId===d)switch(w.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(w.data.response);break;default:clearTimeout(p),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function $r(){return window}function kH(t){$r().location.href=t}function cx(){return typeof $r().WorkerGlobalScope<"u"&&typeof $r().importScripts=="function"}function OH(){return b(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function FH(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function LH(){return cx()?self:null}var ux="firebaseLocalStorageDb",VH=1,dm="firebaseLocalStorage",lx="fbase_key",Fs=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function pm(t,e){return t.transaction([dm],e?"readwrite":"readonly").objectStore(dm)}function UH(){let t=indexedDB.deleteDatabase(ux);return new Fs(t).toPromise()}function pE(){let t=indexedDB.open(ux,VH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(dm,{keyPath:lx})}catch(i){n(i)}}),t.addEventListener("success",()=>b(this,null,function*(){let r=t.result;r.objectStoreNames.contains(dm)?e(r):(r.close(),yield UH(),e(yield pE()))}))})}function AR(t,e,n){return b(this,null,function*(){let r=pm(t,!0).put({[lx]:e,value:n});return new Fs(r).toPromise()})}function jH(t,e){return b(this,null,function*(){let n=pm(t,!1).get(e),r=yield new Fs(n).toPromise();return r===void 0?null:r.value})}function RR(t,e){let n=pm(t,!0).delete(e);return new Fs(n).toPromise()}var BH=800,$H=3,HH=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return b(this,null,function*(){return this.db?this.db:(this.db=yield pE(),this.db)})}_withRetries(n){return b(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>$H)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return b(this,null,function*(){return cx()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return b(this,null,function*(){this.receiver=PH._getInstance(LH()),this.receiver._subscribe("keyChanged",(n,r)=>b(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>b(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return b(this,null,function*(){var n,r;if(this.activeServiceWorker=yield OH(),!this.activeServiceWorker)return;this.sender=new fE(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return b(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||FH()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return b(this,null,function*(){try{if(!indexedDB)return!1;let n=yield pE();return yield AR(n,um,"1"),yield RR(n,um),!0}catch{}return!1})}_withPendingWrite(n){return b(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(i=>AR(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return b(this,null,function*(){let r=yield this._withRetries(i=>jH(i,n));return this.localCache[n]=r,r})}_remove(n){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(r=>RR(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return b(this,null,function*(){let n=yield this._withRetries(o=>{let s=pm(o,!1).getAll();return new Fs(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>b(this,null,function*(){return this._poll()}),BH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),dx=HH;var kJ=ex("rcb"),OJ=new Os(3e4,6e4);function zH(t,e){return e?Ti(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Fl=class extends kl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return X_(e,this._buildIdpRequest())}_linkToIdToken(e,n){return X_(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return X_(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function qH(t){return ix(t.auth,new Fl(t),t.bypassAuthState)}function GH(t){let{auth:e,user:n}=t;return ae(n,e,"internal-error"),DH(n,new Fl(t),t.bypassAuthState)}function WH(t){return b(this,null,function*(){let{auth:e,user:n}=t;return ae(n,e,"internal-error"),TH(n,new Fl(t),t.bypassAuthState)})}var mE=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>b(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return b(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(d){this.reject(d)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qH;case"linkViaPopup":case"linkViaRedirect":return WH;case"reauthViaPopup":case"reauthViaRedirect":return GH;default:Hr(this.auth,"internal-error")}}resolve(e){Ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var FJ=new Os(2e3,1e4);var KH="pendingRedirect",em=new Map,gE=class t extends mE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return b(this,null,function*(){let e=em.get(this.auth._key());if(!e){try{let r=(yield QH(this.resolver,this.auth))?yield eo(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}em.set(this.auth._key(),e)}return this.bypassAuthState||em.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return b(this,null,function*(){if(e.type==="signInViaRedirect")return eo(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,eo(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return b(this,null,function*(){})}cleanUp(){}};function QH(t,e){return b(this,null,function*(){let n=JH(e),r=ZH(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function YH(t,e){em.set(t._key(),e)}function ZH(t){return Ti(t._redirectPersistence)}function JH(t){return Xp(KH,t.config.apiKey,t.name)}function XH(t,e,n=!1){return b(this,null,function*(){if(lr(t.app))return Promise.reject(Di(t));let r=Ls(t),i=zH(r,e),s=yield new gE(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var e4=10*60*1e3,yE=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!t4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!hx(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ks(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=e4&&this.cachedEventUids.clear(),this.cachedEventUids.has(xR(e))}saveEventToCache(e){this.cachedEventUids.add(xR(e)),this.lastProcessedEventTime=Date.now()}};function xR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function hx({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function t4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hx(t);default:return!1}}function n4(n){return b(this,arguments,function*(t,e={}){return Ai(t,"GET","/v1/projects",e)})}var r4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i4=/^https?/;function o4(t){return b(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield n4(t);for(let n of e)try{if(s4(n))return}catch{}Hr(t,"unauthorized-domain")})}function s4(t){let e=tE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!i4.test(n))return!1;if(r4.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var a4=new Os(3e4,6e4);function MR(){let t=$r().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function c4(t){return new Promise((e,n)=>{var r,i,o;function s(){MR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{MR(),n(ks(t,"network-request-failed"))},timeout:a4.get()})}if(!((i=(r=$r().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=$r().gapi)===null||o===void 0)&&o.load)s();else{let a=ex("iframefcb");return $r()[a]=()=>{gapi.load?s():n(ks(t,"network-request-failed"))},XR(`${lH()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw tm=null,e})}var tm=null;function u4(t){return tm=tm||c4(t),tm}var l4=new Os(5e3,15e3),d4="__/auth/iframe",h4="emulator/auth/iframe",f4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},p4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function m4(t){let e=t.config;ae(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?EE(e,h4):`https://${t.config.authDomain}/${d4}`,r={apiKey:e.apiKey,appName:t.name,v:Br},i=p4.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Dl(r).slice(1)}`}function g4(t){return b(this,null,function*(){let e=yield u4(t),n=$r().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:m4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:f4,dontclear:!0},r=>new Promise((i,o)=>b(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=ks(t,"network-request-failed"),a=$r().setTimeout(()=>{o(s)},l4.get());function u(){$r().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var y4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},v4=500,w4=600,_4="_blank",E4="http://localhost",hm=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function I4(t,e,n,r=v4,i=w4){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},y4),{width:r.toString(),height:i.toString(),top:o,left:s}),d=Lt().toLowerCase();n&&(a=GR(d)?_4:n),zR(d)&&(e=e||E4,u.scrollbars="yes");let p=Object.entries(u).reduce((w,[E,x])=>`${w}${E}=${x},`,"");if(iH(d)&&a!=="_self")return b4(e||"",a),new hm(null);let m=window.open(e||"",a,p);ae(m,t,"popup-blocked");try{m.focus()}catch{}return new hm(m)}function b4(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var C4="__/auth/handler",T4="emulator/auth/handler",D4=encodeURIComponent("fac");function NR(t,e,n,r,i,o){return b(this,null,function*(){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Br,eventId:i};if(e instanceof cm){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",iR(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[p,m]of Object.entries(o||{}))s[p]=m}if(e instanceof dE){let p=e.getScopes().filter(m=>m!=="");p.length>0&&(s.scopes=p.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let p of Object.keys(a))a[p]===void 0&&delete a[p];let u=yield t._getAppCheckToken(),d=u?`#${D4}=${encodeURIComponent(u)}`:"";return`${S4(t)}?${Dl(a).slice(1)}${d}`})}function S4({config:t}){return t.emulator?EE(t,T4):`https://${t.authDomain}/${C4}`}var eE="webStorageSupport",vE=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=OE,this._completeRedirectFn=XH,this._overrideRedirectResult=YH}_openPopup(e,n,r,i){return b(this,null,function*(){var o;Ro((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield NR(e,n,r,tE(),i);return I4(e,s,ax())})}_openRedirect(e,n,r,i){return b(this,null,function*(){yield this._originValidation(e);let o=yield NR(e,n,r,tE(),i);return kH(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ro(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return b(this,null,function*(){let n=yield g4(e),r=new yE(e);return n.register("authEvent",i=>(ae(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(eE,{type:eE},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[eE];s!==void 0&&n(!!s),Hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=o4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ZR()||qR()||TE()}},fx=vE;var PR="@firebase/auth",kR="1.7.9";var wE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return b(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function A4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function R4(t){jr(new gn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ae(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JR(t)},d=new cE(r,i,o,u);return fH(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),jr(new gn("auth-internal",e=>{let n=Ls(e.getProvider("auth").getImmediate());return(r=>new wE(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),it(PR,kR,A4(t)),it(PR,kR,"esm2017")}var x4=5*60,M4=P_("authIdTokenMaxAge")||x4,OR=null,N4=t=>e=>b(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>M4)return;let i=n?.token;OR!==i&&(OR=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function FE(t=Do()){let e=Rs(t,"auth");if(e.isInitialized())return e.getImmediate();let n=DE(t,{popupRedirectResolver:fx,persistence:[dx,sx,OE]}),r=P_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=N4(o.toString());PE(n,s,()=>s(n.currentUser)),NE(n,a=>s(a))}}let i=M_("auth");return i&&SE(n,`http://${i}`),n}function P4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}cH({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=ks("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",P4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});R4("Browser");var px="auth",Vs=class{constructor(e){return e}},Vl=class{constructor(){return yc(px)}};var LE=new G("angularfire2.auth-instances");function Iz(t,e){let n=Rl(px,t,e);return n&&new Vs(n)}function bz(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Vs(r)}}var Cz={provide:Vl,deps:[[new Wt,LE]]},Tz={provide:Vs,useFactory:Iz,deps:[[new Wt,LE],bi]};function wX(t,...e){return it("angularfire",So.full,"auth"),Un([Tz,Cz,{provide:LE,useFactory:bz(t),multi:!0,deps:[be,Bt,Ns,Ps,[new Wt,Ms],...e]}])}var mx=ot(RE,!0);var _X=ot(FE,!0);var gx=ot(ME,!0);var yx=ot(xE,!0);var vx=ot(kE,!0);var wx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_x={};var xo,VE;(function(){var t;function e(D,I){function C(){}C.prototype=I.prototype,D.D=I.prototype,D.prototype=new C,D.prototype.constructor=D,D.C=function(S,A,R){for(var T=Array(arguments.length-2),Wn=2;Wn<arguments.length;Wn++)T[Wn-2]=arguments[Wn];return I.prototype[A].apply(S,T)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,I,C){C||(C=0);var S=Array(16);if(typeof I=="string")for(var A=0;16>A;++A)S[A]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(A=0;16>A;++A)S[A]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=D.g[0],C=D.g[1],A=D.g[2];var R=D.g[3],T=I+(R^C&(A^R))+S[0]+3614090360&4294967295;I=C+(T<<7&4294967295|T>>>25),T=R+(A^I&(C^A))+S[1]+3905402710&4294967295,R=I+(T<<12&4294967295|T>>>20),T=A+(C^R&(I^C))+S[2]+606105819&4294967295,A=R+(T<<17&4294967295|T>>>15),T=C+(I^A&(R^I))+S[3]+3250441966&4294967295,C=A+(T<<22&4294967295|T>>>10),T=I+(R^C&(A^R))+S[4]+4118548399&4294967295,I=C+(T<<7&4294967295|T>>>25),T=R+(A^I&(C^A))+S[5]+1200080426&4294967295,R=I+(T<<12&4294967295|T>>>20),T=A+(C^R&(I^C))+S[6]+2821735955&4294967295,A=R+(T<<17&4294967295|T>>>15),T=C+(I^A&(R^I))+S[7]+4249261313&4294967295,C=A+(T<<22&4294967295|T>>>10),T=I+(R^C&(A^R))+S[8]+1770035416&4294967295,I=C+(T<<7&4294967295|T>>>25),T=R+(A^I&(C^A))+S[9]+2336552879&4294967295,R=I+(T<<12&4294967295|T>>>20),T=A+(C^R&(I^C))+S[10]+4294925233&4294967295,A=R+(T<<17&4294967295|T>>>15),T=C+(I^A&(R^I))+S[11]+2304563134&4294967295,C=A+(T<<22&4294967295|T>>>10),T=I+(R^C&(A^R))+S[12]+1804603682&4294967295,I=C+(T<<7&4294967295|T>>>25),T=R+(A^I&(C^A))+S[13]+4254626195&4294967295,R=I+(T<<12&4294967295|T>>>20),T=A+(C^R&(I^C))+S[14]+2792965006&4294967295,A=R+(T<<17&4294967295|T>>>15),T=C+(I^A&(R^I))+S[15]+1236535329&4294967295,C=A+(T<<22&4294967295|T>>>10),T=I+(A^R&(C^A))+S[1]+4129170786&4294967295,I=C+(T<<5&4294967295|T>>>27),T=R+(C^A&(I^C))+S[6]+3225465664&4294967295,R=I+(T<<9&4294967295|T>>>23),T=A+(I^C&(R^I))+S[11]+643717713&4294967295,A=R+(T<<14&4294967295|T>>>18),T=C+(R^I&(A^R))+S[0]+3921069994&4294967295,C=A+(T<<20&4294967295|T>>>12),T=I+(A^R&(C^A))+S[5]+3593408605&4294967295,I=C+(T<<5&4294967295|T>>>27),T=R+(C^A&(I^C))+S[10]+38016083&4294967295,R=I+(T<<9&4294967295|T>>>23),T=A+(I^C&(R^I))+S[15]+3634488961&4294967295,A=R+(T<<14&4294967295|T>>>18),T=C+(R^I&(A^R))+S[4]+3889429448&4294967295,C=A+(T<<20&4294967295|T>>>12),T=I+(A^R&(C^A))+S[9]+568446438&4294967295,I=C+(T<<5&4294967295|T>>>27),T=R+(C^A&(I^C))+S[14]+3275163606&4294967295,R=I+(T<<9&4294967295|T>>>23),T=A+(I^C&(R^I))+S[3]+4107603335&4294967295,A=R+(T<<14&4294967295|T>>>18),T=C+(R^I&(A^R))+S[8]+1163531501&4294967295,C=A+(T<<20&4294967295|T>>>12),T=I+(A^R&(C^A))+S[13]+2850285829&4294967295,I=C+(T<<5&4294967295|T>>>27),T=R+(C^A&(I^C))+S[2]+4243563512&4294967295,R=I+(T<<9&4294967295|T>>>23),T=A+(I^C&(R^I))+S[7]+1735328473&4294967295,A=R+(T<<14&4294967295|T>>>18),T=C+(R^I&(A^R))+S[12]+2368359562&4294967295,C=A+(T<<20&4294967295|T>>>12),T=I+(C^A^R)+S[5]+4294588738&4294967295,I=C+(T<<4&4294967295|T>>>28),T=R+(I^C^A)+S[8]+2272392833&4294967295,R=I+(T<<11&4294967295|T>>>21),T=A+(R^I^C)+S[11]+1839030562&4294967295,A=R+(T<<16&4294967295|T>>>16),T=C+(A^R^I)+S[14]+4259657740&4294967295,C=A+(T<<23&4294967295|T>>>9),T=I+(C^A^R)+S[1]+2763975236&4294967295,I=C+(T<<4&4294967295|T>>>28),T=R+(I^C^A)+S[4]+1272893353&4294967295,R=I+(T<<11&4294967295|T>>>21),T=A+(R^I^C)+S[7]+4139469664&4294967295,A=R+(T<<16&4294967295|T>>>16),T=C+(A^R^I)+S[10]+3200236656&4294967295,C=A+(T<<23&4294967295|T>>>9),T=I+(C^A^R)+S[13]+681279174&4294967295,I=C+(T<<4&4294967295|T>>>28),T=R+(I^C^A)+S[0]+3936430074&4294967295,R=I+(T<<11&4294967295|T>>>21),T=A+(R^I^C)+S[3]+3572445317&4294967295,A=R+(T<<16&4294967295|T>>>16),T=C+(A^R^I)+S[6]+76029189&4294967295,C=A+(T<<23&4294967295|T>>>9),T=I+(C^A^R)+S[9]+3654602809&4294967295,I=C+(T<<4&4294967295|T>>>28),T=R+(I^C^A)+S[12]+3873151461&4294967295,R=I+(T<<11&4294967295|T>>>21),T=A+(R^I^C)+S[15]+530742520&4294967295,A=R+(T<<16&4294967295|T>>>16),T=C+(A^R^I)+S[2]+3299628645&4294967295,C=A+(T<<23&4294967295|T>>>9),T=I+(A^(C|~R))+S[0]+4096336452&4294967295,I=C+(T<<6&4294967295|T>>>26),T=R+(C^(I|~A))+S[7]+1126891415&4294967295,R=I+(T<<10&4294967295|T>>>22),T=A+(I^(R|~C))+S[14]+2878612391&4294967295,A=R+(T<<15&4294967295|T>>>17),T=C+(R^(A|~I))+S[5]+4237533241&4294967295,C=A+(T<<21&4294967295|T>>>11),T=I+(A^(C|~R))+S[12]+1700485571&4294967295,I=C+(T<<6&4294967295|T>>>26),T=R+(C^(I|~A))+S[3]+2399980690&4294967295,R=I+(T<<10&4294967295|T>>>22),T=A+(I^(R|~C))+S[10]+4293915773&4294967295,A=R+(T<<15&4294967295|T>>>17),T=C+(R^(A|~I))+S[1]+2240044497&4294967295,C=A+(T<<21&4294967295|T>>>11),T=I+(A^(C|~R))+S[8]+1873313359&4294967295,I=C+(T<<6&4294967295|T>>>26),T=R+(C^(I|~A))+S[15]+4264355552&4294967295,R=I+(T<<10&4294967295|T>>>22),T=A+(I^(R|~C))+S[6]+2734768916&4294967295,A=R+(T<<15&4294967295|T>>>17),T=C+(R^(A|~I))+S[13]+1309151649&4294967295,C=A+(T<<21&4294967295|T>>>11),T=I+(A^(C|~R))+S[4]+4149444226&4294967295,I=C+(T<<6&4294967295|T>>>26),T=R+(C^(I|~A))+S[11]+3174756917&4294967295,R=I+(T<<10&4294967295|T>>>22),T=A+(I^(R|~C))+S[2]+718787259&4294967295,A=R+(T<<15&4294967295|T>>>17),T=C+(R^(A|~I))+S[9]+3951481745&4294967295,D.g[0]=D.g[0]+I&4294967295,D.g[1]=D.g[1]+(A+(T<<21&4294967295|T>>>11))&4294967295,D.g[2]=D.g[2]+A&4294967295,D.g[3]=D.g[3]+R&4294967295}r.prototype.u=function(D,I){I===void 0&&(I=D.length);for(var C=I-this.blockSize,S=this.B,A=this.h,R=0;R<I;){if(A==0)for(;R<=C;)i(this,D,R),R+=this.blockSize;if(typeof D=="string"){for(;R<I;)if(S[A++]=D.charCodeAt(R++),A==this.blockSize){i(this,S),A=0;break}}else for(;R<I;)if(S[A++]=D[R++],A==this.blockSize){i(this,S),A=0;break}}this.h=A,this.o+=I},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var I=1;I<D.length-8;++I)D[I]=0;var C=8*this.o;for(I=D.length-8;I<D.length;++I)D[I]=C&255,C/=256;for(this.u(D),D=Array(16),I=C=0;4>I;++I)for(var S=0;32>S;S+=8)D[C++]=this.g[I]>>>S&255;return D};function o(D,I){var C=a;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=I(D)}function s(D,I){this.h=I;for(var C=[],S=!0,A=D.length-1;0<=A;A--){var R=D[A]|0;S&&R==I||(C[A]=R,S=!1)}this.g=C}var a={};function u(D){return-128<=D&&128>D?o(D,function(I){return new s([I|0],0>I?-1:0)}):new s([D|0],0>D?-1:0)}function d(D){if(isNaN(D)||!isFinite(D))return m;if(0>D)return N(d(-D));for(var I=[],C=1,S=0;D>=C;S++)I[S]=D/C|0,C*=4294967296;return new s(I,0)}function p(D,I){if(D.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(D.charAt(0)=="-")return N(p(D.substring(1),I));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=d(Math.pow(I,8)),S=m,A=0;A<D.length;A+=8){var R=Math.min(8,D.length-A),T=parseInt(D.substring(A,A+R),I);8>R?(R=d(Math.pow(I,R)),S=S.j(R).add(d(T))):(S=S.j(C),S=S.add(d(T)))}return S}var m=u(0),w=u(1),E=u(16777216);t=s.prototype,t.m=function(){if(F(this))return-N(this).m();for(var D=0,I=1,C=0;C<this.g.length;C++){var S=this.i(C);D+=(0<=S?S:4294967296+S)*I,I*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(x(this))return"0";if(F(this))return"-"+N(this).toString(D);for(var I=d(Math.pow(D,6)),C=this,S="";;){var A=ne(C,I).g;C=B(C,A.j(I));var R=((0<C.g.length?C.g[0]:C.h)>>>0).toString(D);if(C=A,x(C))return R+S;for(;6>R.length;)R="0"+R;S=R+S}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function x(D){if(D.h!=0)return!1;for(var I=0;I<D.g.length;I++)if(D.g[I]!=0)return!1;return!0}function F(D){return D.h==-1}t.l=function(D){return D=B(this,D),F(D)?-1:x(D)?0:1};function N(D){for(var I=D.g.length,C=[],S=0;S<I;S++)C[S]=~D.g[S];return new s(C,~D.h).add(w)}t.abs=function(){return F(this)?N(this):this},t.add=function(D){for(var I=Math.max(this.g.length,D.g.length),C=[],S=0,A=0;A<=I;A++){var R=S+(this.i(A)&65535)+(D.i(A)&65535),T=(R>>>16)+(this.i(A)>>>16)+(D.i(A)>>>16);S=T>>>16,R&=65535,T&=65535,C[A]=T<<16|R}return new s(C,C[C.length-1]&-2147483648?-1:0)};function B(D,I){return D.add(N(I))}t.j=function(D){if(x(this)||x(D))return m;if(F(this))return F(D)?N(this).j(N(D)):N(N(this).j(D));if(F(D))return N(this.j(N(D)));if(0>this.l(E)&&0>D.l(E))return d(this.m()*D.m());for(var I=this.g.length+D.g.length,C=[],S=0;S<2*I;S++)C[S]=0;for(S=0;S<this.g.length;S++)for(var A=0;A<D.g.length;A++){var R=this.i(S)>>>16,T=this.i(S)&65535,Wn=D.i(A)>>>16,Fi=D.i(A)&65535;C[2*S+2*A]+=T*Fi,J(C,2*S+2*A),C[2*S+2*A+1]+=R*Fi,J(C,2*S+2*A+1),C[2*S+2*A+1]+=T*Wn,J(C,2*S+2*A+1),C[2*S+2*A+2]+=R*Wn,J(C,2*S+2*A+2)}for(S=0;S<I;S++)C[S]=C[2*S+1]<<16|C[2*S];for(S=I;S<2*I;S++)C[S]=0;return new s(C,0)};function J(D,I){for(;(D[I]&65535)!=D[I];)D[I+1]+=D[I]>>>16,D[I]&=65535,I++}function q(D,I){this.g=D,this.h=I}function ne(D,I){if(x(I))throw Error("division by zero");if(x(D))return new q(m,m);if(F(D))return I=ne(N(D),I),new q(N(I.g),N(I.h));if(F(I))return I=ne(D,N(I)),new q(N(I.g),I.h);if(30<D.g.length){if(F(D)||F(I))throw Error("slowDivide_ only works with positive integers.");for(var C=w,S=I;0>=S.l(D);)C=ye(C),S=ye(S);var A=ie(C,1),R=ie(S,1);for(S=ie(S,2),C=ie(C,2);!x(S);){var T=R.add(S);0>=T.l(D)&&(A=A.add(C),R=T),S=ie(S,1),C=ie(C,1)}return I=B(D,A.j(I)),new q(A,I)}for(A=m;0<=D.l(I);){for(C=Math.max(1,Math.floor(D.m()/I.m())),S=Math.ceil(Math.log(C)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),R=d(C),T=R.j(I);F(T)||0<T.l(D);)C-=S,R=d(C),T=R.j(I);x(R)&&(R=w),A=A.add(R),D=B(D,T)}return new q(A,D)}t.A=function(D){return ne(this,D).h},t.and=function(D){for(var I=Math.max(this.g.length,D.g.length),C=[],S=0;S<I;S++)C[S]=this.i(S)&D.i(S);return new s(C,this.h&D.h)},t.or=function(D){for(var I=Math.max(this.g.length,D.g.length),C=[],S=0;S<I;S++)C[S]=this.i(S)|D.i(S);return new s(C,this.h|D.h)},t.xor=function(D){for(var I=Math.max(this.g.length,D.g.length),C=[],S=0;S<I;S++)C[S]=this.i(S)^D.i(S);return new s(C,this.h^D.h)};function ye(D){for(var I=D.g.length+1,C=[],S=0;S<I;S++)C[S]=D.i(S)<<1|D.i(S-1)>>>31;return new s(C,D.h)}function ie(D,I){var C=I>>5;I%=32;for(var S=D.g.length-C,A=[],R=0;R<S;R++)A[R]=0<I?D.i(R+C)>>>I|D.i(R+C+1)<<32-I:D.i(R+C);return new s(A,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,VE=_x.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=p,xo=_x.Integer=s}).apply(typeof wx<"u"?wx:typeof self<"u"?self:typeof window<"u"?window:{});var mm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ri={};var UE,Sz,_c,jE,Ul,gm,BE,$E,HE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,f,g){return c==Array.prototype||c==Object.prototype||(c[f]=g.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof mm=="object"&&mm];for(var f=0;f<c.length;++f){var g=c[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(c,f){if(f)e:{var g=r;c=c.split(".");for(var v=0;v<c.length-1;v++){var M=c[v];if(!(M in g))break e;g=g[M]}c=c[c.length-1],v=g[c],f=f(v),f!=v&&f!=null&&e(g,c,{configurable:!0,writable:!0,value:f})}}function o(c,f){c instanceof String&&(c+="");var g=0,v=!1,M={next:function(){if(!v&&g<c.length){var O=g++;return{value:f(O,c[O]),done:!1}}return v=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(c){return c||function(){return o(this,function(f,g){return g})}});var s=s||{},a=this||self;function u(c){var f=typeof c;return f=f!="object"?f:c?Array.isArray(c)?"array":f:"null",f=="array"||f=="object"&&typeof c.length=="number"}function d(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function p(c,f,g){return c.call.apply(c.bind,arguments)}function m(c,f,g){if(!c)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,v),c.apply(f,M)}}return function(){return c.apply(f,arguments)}}function w(c,f,g){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,w.apply(null,arguments)}function E(c,f){var g=Array.prototype.slice.call(arguments,1);return function(){var v=g.slice();return v.push.apply(v,arguments),c.apply(this,v)}}function x(c,f){function g(){}g.prototype=f.prototype,c.aa=f.prototype,c.prototype=new g,c.prototype.constructor=c,c.Qb=function(v,M,O){for(var z=Array(arguments.length-2),je=2;je<arguments.length;je++)z[je-2]=arguments[je];return f.prototype[M].apply(v,z)}}function F(c){let f=c.length;if(0<f){let g=Array(f);for(let v=0;v<f;v++)g[v]=c[v];return g}return[]}function N(c,f){for(let g=1;g<arguments.length;g++){let v=arguments[g];if(u(v)){let M=c.length||0,O=v.length||0;c.length=M+O;for(let z=0;z<O;z++)c[M+z]=v[z]}else c.push(v)}}class B{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function J(c){return/^[\s\xa0]*$/.test(c)}function q(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ne(c){return ne[" "](c),c}ne[" "]=function(){};var ye=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function ie(c,f,g){for(let v in c)f.call(g,c[v],v,c)}function D(c,f){for(let g in c)f.call(void 0,c[g],g,c)}function I(c){let f={};for(let g in c)f[g]=c[g];return f}let C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(c,f){let g,v;for(let M=1;M<arguments.length;M++){v=arguments[M];for(g in v)c[g]=v[g];for(let O=0;O<C.length;O++)g=C[O],Object.prototype.hasOwnProperty.call(v,g)&&(c[g]=v[g])}}function A(c){var f=1;c=c.split(":");let g=[];for(;0<f&&c.length;)g.push(c.shift()),f--;return c.length&&g.push(c.join(":")),g}function R(c){a.setTimeout(()=>{throw c},0)}function T(){var c=Vi;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class Wn{constructor(){this.h=this.g=null}add(f,g){let v=Fi.get();v.set(f,g),this.h?this.h.next=v:this.g=v,this.h=v}}var Fi=new B(()=>new eu,c=>c.reset());class eu{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Li,ei=!1,Vi=new Wn,vn=()=>{let c=a.Promise.resolve(void 0);Li=()=>{c.then(Ui)}};var Ui=()=>{for(var c;c=T();){try{c.h.call(c.g)}catch(g){R(g)}var f=Fi;f.j(c),100>f.h&&(f.h++,c.next=f.g,f.g=c)}ei=!1};function zt(){this.s=this.s,this.C=this.C}zt.prototype.s=!1,zt.prototype.ma=function(){this.s||(this.s=!0,this.N())},zt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Nt(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}Nt.prototype.h=function(){this.defaultPrevented=!0};var ji=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return c}();function Kn(c,f){if(Nt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var g=this.type=c.type,v=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget){if(ye){e:{try{ne(f.nodeName);var M=!0;break e}catch{}M=!1}M||(f=null)}}else g=="mouseover"?f=c.fromElement:g=="mouseout"&&(f=c.toElement);this.relatedTarget=f,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Cd[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Kn.aa.h.call(this)}}x(Kn,Nt);var Cd={2:"touch",3:"pen",4:"mouse"};Kn.prototype.h=function(){Kn.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var gr="closure_listenable_"+(1e6*Math.random()|0),tu=0;function Ug(c,f,g,v,M){this.listener=c,this.proxy=null,this.src=f,this.type=g,this.capture=!!v,this.ha=M,this.key=++tu,this.da=this.fa=!1}function Bi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function $i(c){this.src=c,this.g={},this.h=0}$i.prototype.add=function(c,f,g,v,M){var O=c.toString();c=this.g[O],c||(c=this.g[O]=[],this.h++);var z=nu(c,f,v,M);return-1<z?(f=c[z],g||(f.fa=!1)):(f=new Ug(f,this.src,O,!!v,M),f.fa=g,c.push(f)),f};function Hi(c,f){var g=f.type;if(g in c.g){var v=c.g[g],M=Array.prototype.indexOf.call(v,f,void 0),O;(O=0<=M)&&Array.prototype.splice.call(v,M,1),O&&(Bi(f),c.g[g].length==0&&(delete c.g[g],c.h--))}}function nu(c,f,g,v){for(var M=0;M<c.length;++M){var O=c[M];if(!O.da&&O.listener==f&&O.capture==!!g&&O.ha==v)return M}return-1}var Ut="closure_lm_"+(1e6*Math.random()|0),wn={};function Td(c,f,g,v,M){if(v&&v.once)return ru(c,f,g,v,M);if(Array.isArray(f)){for(var O=0;O<f.length;O++)Td(c,f[O],g,v,M);return null}return g=gt(g),c&&c[gr]?c.K(f,g,d(v)?!!v.capture:!!v,M):qt(c,f,g,!1,v,M)}function qt(c,f,g,v,M,O){if(!f)throw Error("Invalid event type");var z=d(M)?!!M.capture:!!M,je=Qn(c);if(je||(c[Ut]=je=new $i(c)),g=je.add(f,g,v,z,O),g.proxy)return g;if(v=na(),g.proxy=v,v.src=c,v.listener=g,c.addEventListener)ji||(M=z),M===void 0&&(M=!1),c.addEventListener(f.toString(),v,M);else if(c.attachEvent)c.attachEvent(_n(f.toString()),v);else if(c.addListener&&c.removeListener)c.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return g}function na(){function c(g){return f.call(c.src,c.listener,g)}let f=yr;return c}function ru(c,f,g,v,M){if(Array.isArray(f)){for(var O=0;O<f.length;O++)ru(c,f[O],g,v,M);return null}return g=gt(g),c&&c[gr]?c.L(f,g,d(v)?!!v.capture:!!v,M):qt(c,f,g,!0,v,M)}function iu(c,f,g,v,M){if(Array.isArray(f))for(var O=0;O<f.length;O++)iu(c,f[O],g,v,M);else v=d(v)?!!v.capture:!!v,g=gt(g),c&&c[gr]?(c=c.i,f=String(f).toString(),f in c.g&&(O=c.g[f],g=nu(O,g,v,M),-1<g&&(Bi(O[g]),Array.prototype.splice.call(O,g,1),O.length==0&&(delete c.g[f],c.h--)))):c&&(c=Qn(c))&&(f=c.g[f.toString()],c=-1,f&&(c=nu(f,g,v,M)),(g=-1<c?f[c]:null)&&De(g))}function De(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[gr])Hi(f.i,c);else{var g=c.type,v=c.proxy;f.removeEventListener?f.removeEventListener(g,v,c.capture):f.detachEvent?f.detachEvent(_n(g),v):f.addListener&&f.removeListener&&f.removeListener(v),(g=Qn(f))?(Hi(g,c),g.h==0&&(g.src=null,f[Ut]=null)):Bi(c)}}}function _n(c){return c in wn?wn[c]:wn[c]="on"+c}function yr(c,f){if(c.da)c=!0;else{f=new Kn(f,this);var g=c.listener,v=c.ha||c.src;c.fa&&De(c),c=g.call(v,f)}return c}function Qn(c){return c=c[Ut],c instanceof $i?c:null}var at="__closure_events_fn_"+(1e9*Math.random()>>>0);function gt(c){return typeof c=="function"?c:(c[at]||(c[at]=function(f){return c.handleEvent(f)}),c[at])}function yt(){zt.call(this),this.i=new $i(this),this.M=this,this.F=null}x(yt,zt),yt.prototype[gr]=!0,yt.prototype.removeEventListener=function(c,f,g,v){iu(this,c,f,g,v)};function Pt(c,f){var g,v=c.F;if(v)for(g=[];v;v=v.F)g.push(v);if(c=c.M,v=f.type||f,typeof f=="string")f=new Nt(f,c);else if(f instanceof Nt)f.target=f.target||c;else{var M=f;f=new Nt(v,c),S(f,M)}if(M=!0,g)for(var O=g.length-1;0<=O;O--){var z=f.g=g[O];M=vr(z,v,!0,f)&&M}if(z=f.g=c,M=vr(z,v,!0,f)&&M,M=vr(z,v,!1,f)&&M,g)for(O=0;O<g.length;O++)z=f.g=g[O],M=vr(z,v,!1,f)&&M}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var c=this.i,f;for(f in c.g){for(var g=c.g[f],v=0;v<g.length;v++)Bi(g[v]);delete c.g[f],c.h--}}this.F=null},yt.prototype.K=function(c,f,g,v){return this.i.add(String(c),f,!1,g,v)},yt.prototype.L=function(c,f,g,v){return this.i.add(String(c),f,!0,g,v)};function vr(c,f,g,v){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();for(var M=!0,O=0;O<f.length;++O){var z=f[O];if(z&&!z.da&&z.capture==g){var je=z.listener,At=z.ha||z.src;z.fa&&Hi(c.i,z),M=je.call(At,v)!==!1&&M}}return M&&!v.defaultPrevented}function jt(c,f,g){if(typeof c=="function")g&&(c=w(c,g));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(c,f||0)}function Dd(c){c.g=jt(()=>{c.g=null,c.i&&(c.i=!1,Dd(c))},c.l);let f=c.h;c.h=null,c.m.apply(null,f)}class Sd extends zt{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Dd(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zi(c){zt.call(this),this.h=c,this.g={}}x(zi,zt);var ra=[];function Ad(c){ie(c.g,function(f,g){this.g.hasOwnProperty(g)&&De(f)},c),c.g={}}zi.prototype.N=function(){zi.aa.N.call(this),Ad(this)},zi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ou=a.JSON.stringify,jg=a.JSON.parse,Bg=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Yn(){}Yn.prototype.h=null;function Rd(c){return c.h||(c.h=c.i())}function xd(){}var $o={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function su(){Nt.call(this,"d")}x(su,Nt);function au(){Nt.call(this,"c")}x(au,Nt);var Zn={},Md=null;function ia(){return Md=Md||new yt}Zn.La="serverreachability";function Nd(c){Nt.call(this,Zn.La,c)}x(Nd,Nt);function Ho(c){let f=ia();Pt(f,new Nd(f))}Zn.STAT_EVENT="statevent";function Pd(c,f){Nt.call(this,Zn.STAT_EVENT,c),this.stat=f}x(Pd,Nt);function St(c){let f=ia();Pt(f,new Pd(f,c))}Zn.Ma="timingevent";function kd(c,f){Nt.call(this,Zn.Ma,c),this.size=f}x(kd,Nt);function zo(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},f)}function qo(){this.g=!0}qo.prototype.xa=function(){this.g=!1};function $g(c,f,g,v,M,O){c.info(function(){if(c.g)if(O)for(var z="",je=O.split("&"),At=0;At<je.length;At++){var xe=je[At].split("=");if(1<xe.length){var kt=xe[0];xe=xe[1];var Rt=kt.split("_");z=2<=Rt.length&&Rt[1]=="type"?z+(kt+"="+xe+"&"):z+(kt+"=redacted&")}}else z=null;else z=O;return"XMLHTTP REQ ("+v+") [attempt "+M+"]: "+f+`
`+g+`
`+z})}function Hg(c,f,g,v,M,O,z){c.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+M+"]: "+f+`
`+g+`
`+O+" "+z})}function ke(c,f,g,v){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+qg(c,g)+(v?" "+v:"")})}function zg(c,f){c.info(function(){return"TIMEOUT: "+f})}qo.prototype.info=function(){};function qg(c,f){if(!c.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(c=0;c<g.length;c++)if(Array.isArray(g[c])){var v=g[c];if(!(2>v.length)){var M=v[1];if(Array.isArray(M)&&!(1>M.length)){var O=M[0];if(O!="noop"&&O!="stop"&&O!="close")for(var z=1;z<M.length;z++)M[z]=""}}}}return ou(g)}catch{return f}}var oa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Od={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},cu;function sa(){}x(sa,Yn),sa.prototype.g=function(){return new XMLHttpRequest},sa.prototype.i=function(){return{}},cu=new sa;function Nn(c,f,g,v){this.j=c,this.i=f,this.l=g,this.R=v||1,this.U=new zi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qi}function qi(){this.i=null,this.g="",this.h=!1}var uu={},Gi={};function Qe(c,f,g){c.L=1,c.v=ca(Pn(f)),c.m=g,c.P=!0,Fd(c,null)}function Fd(c,f){c.F=Date.now(),Go(c),c.A=Pn(c.v);var g=c.A,v=c.R;Array.isArray(v)||(v=[String(v)]),Jd(g.i,"t",v),c.C=0,g=c.j.J,c.h=new qi,c.g=Cu(c.j,g?f:null,!c.m),0<c.O&&(c.M=new Sd(w(c.Y,c,c.g),c.O)),f=c.U,g=c.g,v=c.ca;var M="readystatechange";Array.isArray(M)||(M&&(ra[0]=M.toString()),M=ra);for(var O=0;O<M.length;O++){var z=Td(g,M[O],v||f.handleEvent,!1,f.h||f);if(!z)break;f.g[z.key]=z}f=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,f)):(c.u="GET",c.g.ea(c.A,c.u,null,f)),Ho(),$g(c.i,c.u,c.A,c.l,c.R,c.m)}Nn.prototype.ca=function(c){c=c.target;let f=this.M;f&&Xn(c)==3?f.j():this.Y(c)},Nn.prototype.Y=function(c){try{if(c==this.g)e:{let Rt=Xn(this.g);var f=this.g.Ba();let br=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||oh(this.g)))){this.J||Rt!=4||f==7||(f==8||0>=br?Ho(3):Ho(2)),lu(this);var g=this.g.Z();this.X=g;t:if(Ld(this)){var v=oh(this.g);c="";var M=v.length,O=Xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wr(this),Wo(this);var z="";break t}this.h.i=new a.TextDecoder}for(f=0;f<M;f++)this.h.h=!0,c+=this.h.i.decode(v[f],{stream:!(O&&f==M-1)});v.length=0,this.h.g+=c,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=g==200,Hg(this.i,this.u,this.A,this.l,this.R,Rt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var je,At=this.g;if((je=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(je)){var xe=je;break t}}xe=null}if(g=xe)ke(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,du(this,g);else{this.o=!1,this.s=3,St(12),wr(this),Wo(this);break e}}if(this.P){g=!0;let En;for(;!this.J&&this.C<z.length;)if(En=Gg(this,z),En==Gi){Rt==4&&(this.s=4,St(14),g=!1),ke(this.i,this.l,null,"[Incomplete Response]");break}else if(En==uu){this.s=4,St(15),ke(this.i,this.l,z,"[Invalid Chunk]"),g=!1;break}else ke(this.i,this.l,En,null),du(this,En);if(Ld(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||z.length!=0||this.h.h||(this.s=1,St(16),g=!1),this.o=this.o&&g,!g)ke(this.i,this.l,z,"[Invalid Chunked Response]"),wr(this),Wo(this);else if(0<z.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),Ji(kt),kt.M=!0,St(11))}}else ke(this.i,this.l,z,null),du(this,z);Rt==4&&wr(this),this.o&&!this.J&&(Rt==4?_u(this.j,this):(this.o=!1,Go(this)))}else ty(this.g),g==400&&0<z.indexOf("Unknown SID")?(this.s=3,St(12)):(this.s=0,St(13)),wr(this),Wo(this)}}}catch{}finally{}};function Ld(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Gg(c,f){var g=c.C,v=f.indexOf(`
`,g);return v==-1?Gi:(g=Number(f.substring(g,v)),isNaN(g)?uu:(v+=1,v+g>f.length?Gi:(f=f.slice(v,v+g),c.C=v+g,f)))}Nn.prototype.cancel=function(){this.J=!0,wr(this)};function Go(c){c.S=Date.now()+c.I,Vd(c,c.I)}function Vd(c,f){if(c.B!=null)throw Error("WatchDog timer not null");c.B=zo(w(c.ba,c),f)}function lu(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Nn.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(zg(this.i,this.A),this.L!=2&&(Ho(),St(17)),wr(this),this.s=2,Wo(this)):Vd(this,this.S-c)};function Wo(c){c.j.G==0||c.J||_u(c.j,c)}function wr(c){lu(c);var f=c.M;f&&typeof f.ma=="function"&&f.ma(),c.M=null,Ad(c.U),c.g&&(f=c.g,c.g=null,f.abort(),f.ma())}function du(c,f){try{var g=c.j;if(g.G!=0&&(g.g==c||hu(g.h,c))){if(!c.K&&hu(g.h,c)&&g.G==3){try{var v=g.Da.g.parse(f)}catch{v=null}if(Array.isArray(v)&&v.length==3){var M=v;if(M[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<c.F)ts(g),ha(g);else break e;es(g),St(18)}}else g.za=M[1],0<g.za-g.T&&37500>M[2]&&g.F&&g.v==0&&!g.C&&(g.C=zo(w(g.Za,g),6e3));if(1>=$d(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Ir(g,11)}else if((c.K||g.g==c)&&ts(g),!J(f))for(M=g.Da.g.parse(f),f=0;f<M.length;f++){let xe=M[f];if(g.T=xe[0],xe=xe[1],g.G==2)if(xe[0]=="c"){g.K=xe[1],g.ia=xe[2];let kt=xe[3];kt!=null&&(g.la=kt,g.j.info("VER="+g.la));let Rt=xe[4];Rt!=null&&(g.Aa=Rt,g.j.info("SVER="+g.Aa));let br=xe[5];br!=null&&typeof br=="number"&&0<br&&(v=1.5*br,g.L=v,g.j.info("backChannelRequestTimeoutMs_="+v)),v=g;let En=c.g;if(En){let pa=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pa){var O=v.h;O.g||pa.indexOf("spdy")==-1&&pa.indexOf("quic")==-1&&pa.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(fu(O,O.h),O.h=null))}if(v.D){let Du=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;Du&&(v.ya=Du,ze(v.I,v.D,Du))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-c.F,g.j.info("Handshake RTT: "+g.R+"ms")),v=g;var z=c;if(v.qa=bu(v,v.J?v.ia:null,v.W),z.K){Hd(v.h,z);var je=z,At=v.L;At&&(je.I=At),je.B&&(lu(je),Go(je)),v.g=z}else wu(v);0<g.i.length&&fa(g)}else xe[0]!="stop"&&xe[0]!="close"||Ir(g,7);else g.G==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?Ir(g,7):da(g):xe[0]!="noop"&&g.l&&g.l.ta(xe),g.v=0)}}Ho(4)}catch{}}var Ud=class{constructor(c,f){this.g=c,this.map=f}};function jd(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Bd(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function $d(c){return c.h?1:c.g?c.g.size:0}function hu(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function fu(c,f){c.g?c.g.add(f):c.h=f}function Hd(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}jd.prototype.cancel=function(){if(this.i=zd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function zd(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let f=c.i;for(let g of c.g.values())f=f.concat(g.D);return f}return F(c.i)}function qd(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var f=[],g=c.length,v=0;v<g;v++)f.push(c[v]);return f}f=[],g=0;for(v in c)f[g++]=c[v];return f}function Wg(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var f=[];c=c.length;for(var g=0;g<c;g++)f.push(g);return f}f=[],g=0;for(let v in c)f[g++]=v;return f}}}function pu(c,f){if(c.forEach&&typeof c.forEach=="function")c.forEach(f,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,f,void 0);else for(var g=Wg(c),v=qd(c),M=v.length,O=0;O<M;O++)f.call(void 0,v[O],g&&g[O],c)}var Gd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kg(c,f){if(c){c=c.split("&");for(var g=0;g<c.length;g++){var v=c[g].indexOf("="),M=null;if(0<=v){var O=c[g].substring(0,v);M=c[g].substring(v+1)}else O=c[g];f(O,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function cn(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof cn){this.h=c.h,aa(this,c.j),this.o=c.o,this.g=c.g,Wi(this,c.s),this.l=c.l;var f=c.i,g=new Yo;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),mu(this,g),this.m=c.m}else c&&(f=String(c).match(Gd))?(this.h=!1,aa(this,f[1]||"",!0),this.o=Ko(f[2]||""),this.g=Ko(f[3]||"",!0),Wi(this,f[4]),this.l=Ko(f[5]||"",!0),mu(this,f[6]||"",!0),this.m=Ko(f[7]||"")):(this.h=!1,this.i=new Yo(null,this.h))}cn.prototype.toString=function(){var c=[],f=this.j;f&&c.push(Qo(f,Wd,!0),":");var g=this.g;return(g||f=="file")&&(c.push("//"),(f=this.o)&&c.push(Qo(f,Wd,!0),"@"),c.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&c.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(Qo(g,g.charAt(0)=="/"?Yg:Ki,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",Qo(g,Qd)),c.join("")};function Pn(c){return new cn(c)}function aa(c,f,g){c.j=g?Ko(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function Wi(c,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);c.s=f}else c.s=null}function mu(c,f,g){f instanceof Yo?(c.i=f,Zg(c.i,c.h)):(g||(f=Qo(f,Kd)),c.i=new Yo(f,c.h))}function ze(c,f,g){c.i.set(f,g)}function ca(c){return ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ko(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Qo(c,f,g){return typeof c=="string"?(c=encodeURI(c).replace(f,Qg),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Qg(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Wd=/[#\/\?@]/g,Ki=/[#\?:]/g,Yg=/[#\?]/g,Kd=/[#\?@]/g,Qd=/#/g;function Yo(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function _r(c){c.g||(c.g=new Map,c.h=0,c.i&&Kg(c.i,function(f,g){c.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=Yo.prototype,t.add=function(c,f){_r(this),this.i=null,c=Qi(this,c);var g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(f),this.h+=1,this};function Yd(c,f){_r(c),f=Qi(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function Zd(c,f){return _r(c),f=Qi(c,f),c.g.has(f)}t.forEach=function(c,f){_r(this),this.g.forEach(function(g,v){g.forEach(function(M){c.call(f,M,v,this)},this)},this)},t.na=function(){_r(this);let c=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let v=0;v<f.length;v++){let M=c[v];for(let O=0;O<M.length;O++)g.push(f[v])}return g},t.V=function(c){_r(this);let f=[];if(typeof c=="string")Zd(this,c)&&(f=f.concat(this.g.get(Qi(this,c))));else{c=Array.from(this.g.values());for(let g=0;g<c.length;g++)f=f.concat(c[g])}return f},t.set=function(c,f){return _r(this),this.i=null,c=Qi(this,c),Zd(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},t.get=function(c,f){return c?(c=this.V(c),0<c.length?String(c[0]):f):f};function Jd(c,f,g){Yd(c,f),0<g.length&&(c.i=null,c.g.set(Qi(c,f),F(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var v=f[g];let O=encodeURIComponent(String(v)),z=this.V(v);for(v=0;v<z.length;v++){var M=O;z[v]!==""&&(M+="="+encodeURIComponent(String(z[v]))),c.push(M)}}return this.i=c.join("&")};function Qi(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function Zg(c,f){f&&!c.j&&(_r(c),c.i=null,c.g.forEach(function(g,v){var M=v.toLowerCase();v!=M&&(Yd(this,v),Jd(this,M,g))},c)),c.j=f}function Yi(c,f){let g=new qo;if(a.Image){let v=new Image;v.onload=E(Er,g,"TestLoadImage: loaded",!0,f,v),v.onerror=E(Er,g,"TestLoadImage: error",!1,f,v),v.onabort=E(Er,g,"TestLoadImage: abort",!1,f,v),v.ontimeout=E(Er,g,"TestLoadImage: timeout",!1,f,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=c}else f(!1)}function Jg(c,f){let g=new qo,v=new AbortController,M=setTimeout(()=>{v.abort(),Er(g,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:v.signal}).then(O=>{clearTimeout(M),O.ok?Er(g,"TestPingServer: ok",!0,f):Er(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(M),Er(g,"TestPingServer: error",!1,f)})}function Er(c,f,g,v,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),v(g)}catch{}}function Xd(){this.g=new Bg}function Xg(c,f,g){let v=g||"";try{pu(c,function(M,O){let z=M;d(M)&&(z=ou(M)),f.push(v+O+"="+encodeURIComponent(z))})}catch(M){throw f.push(v+"type="+encodeURIComponent("_badmap")),M}}function un(c){this.l=c.Ub||null,this.j=c.eb||!1}x(un,Yn),un.prototype.g=function(){return new ua(this.l,this.j)},un.prototype.i=function(c){return function(){return c}}({});function ua(c,f){yt.call(this),this.D=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(ua,yt),t=ua.prototype,t.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=f,this.readyState=1,Zo(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(f.body=c),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jn(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Zo(this)),this.g&&(this.readyState=3,Zo(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function gu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?Jn(this):Zo(this),this.readyState==3&&gu(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Jn(this))},t.Qa=function(c){this.g&&(this.response=c,Jn(this))},t.ga=function(){this.g&&Jn(this)};function Jn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Zo(c)}t.setRequestHeader=function(c,f){this.u.append(c,f)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=f.next();return c.join(`\r
`)};function Zo(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ua.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function eh(c){let f="";return ie(c,function(g,v){f+=v,f+=":",f+=g,f+=`\r
`}),f}function yu(c,f,g){e:{for(v in g){var v=!1;break e}v=!0}v||(g=eh(g),typeof c=="string"?g!=null&&encodeURIComponent(String(g)):ze(c,f,g))}function Ye(c){yt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Ye,yt);var Zi=/^https?$/i,ey=["POST","PUT"];t=Ye.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,f,g,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():cu.g(),this.v=this.o?Rd(this.o):Rd(cu),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(O){th(this,O);return}if(c=g||"",g=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var M in v)g.set(M,v[M]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let O of v.keys())g.set(O,v.get(O));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(g.keys()).find(O=>O.toLowerCase()=="content-type"),M=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ey,f,void 0))||v||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[O,z]of g)this.g.setRequestHeader(O,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ih(this),this.u=!0,this.g.send(c),this.u=!1}catch(O){th(this,O)}};function th(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.m=5,nh(c),la(c)}function nh(c){c.A||(c.A=!0,Pt(c,"complete"),Pt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Pt(this,"complete"),Pt(this,"abort"),la(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),la(this,!0)),Ye.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?rh(this):this.bb())},t.bb=function(){rh(this)};function rh(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Xn(c)!=4||c.Z()!=2)){if(c.u&&Xn(c)==4)jt(c.Ea,0,c);else if(Pt(c,"readystatechange"),Xn(c)==4){c.h=!1;try{let z=c.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var v;if(v=z===0){var M=String(c.D).match(Gd)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),v=!Zi.test(M?M.toLowerCase():"")}g=v}if(g)Pt(c,"complete"),Pt(c,"success");else{c.m=6;try{var O=2<Xn(c)?c.g.statusText:""}catch{O=""}c.l=O+" ["+c.Z()+"]",nh(c)}}finally{la(c)}}}}function la(c,f){if(c.g){ih(c);let g=c.g,v=c.v[0]?()=>{}:null;c.g=null,c.v=null,f||Pt(c,"ready");try{g.onreadystatechange=v}catch{}}}function ih(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Xn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Xn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),jg(f)}};function oh(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ty(c){let f={};c=(c.g&&2<=Xn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<c.length;v++){if(J(c[v]))continue;var g=A(c[v]);let M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();let O=f[M]||[];f[M]=O,O.push(g)}D(f,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jo(c,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||f}function Xo(c){this.Aa=0,this.i=[],this.j=new qo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jo("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jo("baseRetryDelayMs",5e3,c),this.cb=Jo("retryDelaySeedMs",1e4,c),this.Wa=Jo("forwardChannelMaxRetries",2,c),this.wa=Jo("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new jd(c&&c.concurrentRequestLimit),this.Da=new Xd,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Xo.prototype,t.la=8,t.G=1,t.connect=function(c,f,g,v){St(0),this.W=c,this.H=f||{},g&&v!==void 0&&(this.H.OSID=g,this.H.OAID=v),this.F=this.X,this.I=bu(this,null,this.W),fa(this)};function da(c){if(sh(c),c.G==3){var f=c.U++,g=Pn(c.I);if(ze(g,"SID",c.K),ze(g,"RID",f),ze(g,"TYPE","terminate"),ti(c,g),f=new Nn(c,c.j,f),f.L=2,f.v=ca(Pn(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=f.v,g=!0),g||(f.g=Cu(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Go(f)}Iu(c)}function ha(c){c.g&&(Ji(c),c.g.cancel(),c.g=null)}function sh(c){ha(c),c.u&&(a.clearTimeout(c.u),c.u=null),ts(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function fa(c){if(!Bd(c.h)&&!c.s){c.s=!0;var f=c.Ga;Li||vn(),ei||(Li(),ei=!0),Vi.add(f,c),c.B=0}}function ah(c,f){return $d(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=f.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=zo(w(c.Ga,c,f),Eu(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let M=new Nn(this,this.j,c),O=this.o;if(this.S&&(O?(O=I(O),S(O,this.S)):O=this.S),this.m!==null||this.O||(M.H=O,O=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var v=this.i[g];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(f+=v,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=vu(this,M,f),g=Pn(this.I),ze(g,"RID",c),ze(g,"CVER",22),this.D&&ze(g,"X-HTTP-Session-Id",this.D),ti(this,g),O&&(this.O?f="headers="+encodeURIComponent(String(eh(O)))+"&"+f:this.m&&yu(g,this.m,O)),fu(this.h,M),this.Ua&&ze(g,"TYPE","init"),this.P?(ze(g,"$req",f),ze(g,"SID","null"),M.T=!0,Qe(M,g,null)):Qe(M,g,f),this.G=2}}else this.G==3&&(c?ch(this,c):this.i.length==0||Bd(this.h)||ch(this))};function ch(c,f){var g;f?g=f.l:g=c.U++;let v=Pn(c.I);ze(v,"SID",c.K),ze(v,"RID",g),ze(v,"AID",c.T),ti(c,v),c.m&&c.o&&yu(v,c.m,c.o),g=new Nn(c,c.j,g,c.B+1),c.m===null&&(g.H=c.o),f&&(c.i=f.D.concat(c.i)),f=vu(c,g,1e3),g.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),fu(c.h,g),Qe(g,v,f)}function ti(c,f){c.H&&ie(c.H,function(g,v){ze(f,v,g)}),c.l&&pu({},function(g,v){ze(f,v,g)})}function vu(c,f,g){g=Math.min(c.i.length,g);var v=c.l?w(c.l.Na,c.l,c):null;e:{var M=c.i;let O=-1;for(;;){let z=["count="+g];O==-1?0<g?(O=M[0].g,z.push("ofs="+O)):O=0:z.push("ofs="+O);let je=!0;for(let At=0;At<g;At++){let xe=M[At].g,kt=M[At].map;if(xe-=O,0>xe)O=Math.max(0,M[At].g-100),je=!1;else try{Xg(kt,z,"req"+xe+"_")}catch{v&&v(kt)}}if(je){v=z.join("&");break e}}}return c=c.i.splice(0,g),f.D=c,v}function wu(c){if(!c.g&&!c.u){c.Y=1;var f=c.Fa;Li||vn(),ei||(Li(),ei=!0),Vi.add(f,c),c.v=0}}function es(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=zo(w(c.Fa,c),Eu(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,uh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=zo(w(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,St(10),ha(this),uh(this))};function Ji(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function uh(c){c.g=new Nn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var f=Pn(c.qa);ze(f,"RID","rpc"),ze(f,"SID",c.K),ze(f,"AID",c.T),ze(f,"CI",c.F?"0":"1"),!c.F&&c.ja&&ze(f,"TO",c.ja),ze(f,"TYPE","xmlhttp"),ti(c,f),c.m&&c.o&&yu(f,c.m,c.o),c.L&&(c.g.I=c.L);var g=c.g;c=c.ia,g.L=1,g.v=ca(Pn(f)),g.m=null,g.P=!0,Fd(g,c)}t.Za=function(){this.C!=null&&(this.C=null,ha(this),es(this),St(19))};function ts(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function _u(c,f){var g=null;if(c.g==f){ts(c),Ji(c),c.g=null;var v=2}else if(hu(c.h,f))g=f.D,Hd(c.h,f),v=1;else return;if(c.G!=0){if(f.o)if(v==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var M=c.B;v=ia(),Pt(v,new kd(v,g)),fa(c)}else wu(c);else if(M=f.s,M==3||M==0&&0<f.X||!(v==1&&ah(c,f)||v==2&&es(c)))switch(g&&0<g.length&&(f=c.h,f.i=f.i.concat(g)),M){case 1:Ir(c,5);break;case 4:Ir(c,10);break;case 3:Ir(c,6);break;default:Ir(c,2)}}}function Eu(c,f){let g=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(g*=2),g*f}function Ir(c,f){if(c.j.info("Error code "+f),f==2){var g=w(c.fb,c),v=c.Xa;let M=!v;v=new cn(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||aa(v,"https"),ca(v),M?Yi(v.toString(),g):Jg(v.toString(),g)}else St(2);c.G=0,c.l&&c.l.sa(f),Iu(c),sh(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function Iu(c){if(c.G=0,c.ka=[],c.l){let f=zd(c.h);(f.length!=0||c.i.length!=0)&&(N(c.ka,f),N(c.ka,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.ra()}}function bu(c,f,g){var v=g instanceof cn?Pn(g):new cn(g);if(v.g!="")f&&(v.g=f+"."+v.g),Wi(v,v.s);else{var M=a.location;v=M.protocol,f=f?f+"."+M.hostname:M.hostname,M=+M.port;var O=new cn(null);v&&aa(O,v),f&&(O.g=f),M&&Wi(O,M),g&&(O.l=g),v=O}return g=c.D,f=c.ya,g&&f&&ze(v,g,f),ze(v,"VER",c.la),ti(c,v),v}function Cu(c,f,g){if(f&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Ca&&!c.pa?new Ye(new un({eb:g})):new Ye(c.pa),f.Ha(c.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}t=Tu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ns(){}ns.prototype.g=function(c,f){return new vt(c,f)};function vt(c,f){yt.call(this),this.g=new Xo(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(c?c["X-WebChannel-Client-Profile"]=f.va:c={"X-WebChannel-Client-Profile":f.va}),this.g.S=c,(c=f&&f.Sb)&&!J(c)&&(this.g.m=c),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!J(f)&&(this.g.D=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new Xi(this)}x(vt,yt),vt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vt.prototype.close=function(){da(this.g)},vt.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.u&&(g={},g.__data__=ou(c),c=g);f.i.push(new Ud(f.Ya++,c)),f.G==3&&fa(f)},vt.prototype.N=function(){this.g.l=null,delete this.j,da(this.g),delete this.g,vt.aa.N.call(this)};function lh(c){su.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(let g in f){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}x(lh,su);function dh(){au.call(this),this.status=1}x(dh,au);function Xi(c){this.g=c}x(Xi,Tu),Xi.prototype.ua=function(){Pt(this.g,"a")},Xi.prototype.ta=function(c){Pt(this.g,new lh(c))},Xi.prototype.sa=function(c){Pt(this.g,new dh)},Xi.prototype.ra=function(){Pt(this.g,"b")},ns.prototype.createWebChannel=ns.prototype.g,vt.prototype.send=vt.prototype.o,vt.prototype.open=vt.prototype.m,vt.prototype.close=vt.prototype.close,HE=Ri.createWebChannelTransport=function(){return new ns},$E=Ri.getStatEventTarget=function(){return ia()},BE=Ri.Event=Zn,gm=Ri.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},oa.NO_ERROR=0,oa.TIMEOUT=8,oa.HTTP_ERROR=6,Ul=Ri.ErrorCode=oa,Od.COMPLETE="complete",jE=Ri.EventType=Od,xd.EventType=$o,$o.OPEN="a",$o.CLOSE="b",$o.ERROR="c",$o.MESSAGE="d",yt.prototype.listen=yt.prototype.K,_c=Ri.WebChannel=xd,Sz=Ri.FetchXmlHttpFactory=un,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,UE=Ri.XhrIo=Ye}).apply(typeof mm<"u"?mm:typeof self<"u"?self:typeof window<"u"?window:{});var Ex="@firebase/firestore";var Vt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");var Bc="10.14.0";var $s=new Co("@firebase/firestore");function jl(){return $s.logLevel}function te(t,...e){if($s.logLevel<=Ae.DEBUG){let n=e.map(Db);$s.debug(`Firestore (${Bc}): ${t}`,...n)}}function xi(t,...e){if($s.logLevel<=Ae.ERROR){let n=e.map(Db);$s.error(`Firestore (${Bc}): ${t}`,...n)}}function Sc(t,...e){if($s.logLevel<=Ae.WARN){let n=e.map(Db);$s.warn(`Firestore (${Bc}): ${t}`,...n)}}function Db(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ue(t="Unexpected state"){let e=`FIRESTORE (${Bc}) INTERNAL ASSERTION FAILED: `+t;throw xi(e),new Error(e)}function He(t,e){t||ue()}function he(t,e){return t}var V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ee=class extends sn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var dr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Em=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},KE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vt.UNAUTHENTICATED))}shutdown(){}},QE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},YE=class{constructor(e){this.t=e,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new dr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new dr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>b(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new dr)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string"),new Em(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string"),new Vt(e)}},ZE=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},JE=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ZE(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},XE=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},eI=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){He(this.o===void 0);let r=o=>{o.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,te("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string"),this.R=n.token,new XE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Az(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Im=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=Az(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function Le(t,e){return t<e?-1:t>e?1:0}function Ac(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var $t=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ee(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ee(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ee(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var me=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new $t(0,0))}static max(){return new t(new $t(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var bm=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ue(),r===void 0?r=e.length-n:r>e.length-n&&ue(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},st=class t extends bm{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new ee(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},Rz=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Mn=class t extends bm{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return Rz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new ee(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new ee(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ee(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ee(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var oe=class t{constructor(e){this.path=e}static fromPath(e){return new t(st.fromString(e))}static fromName(e){return new t(st.fromString(e).popFirst(5))}static empty(){return new t(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new st(e.slice()))}};var tI=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};tI.UNKNOWN_ID=-1;function xz(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=me.fromTimestamp(r===1e9?new $t(n+1,0):new $t(n,r));return new Hs(i,oe.empty(),e)}function Mz(t){return new Hs(t.readTime,t.key,-1)}var Hs=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(me.min(),oe.empty(),-1)}static max(){return new t(me.max(),oe.empty(),-1)}};function Nz(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}var Pz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",nI=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function id(t){return b(this,null,function*(){if(t.code!==V.FAILED_PRECONDITION||t.message!==Pz)throw t;te("LocalStore","Unexpectedly lost primary lease")})}var H=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let d=u;n(e[d]).next(p=>{s[d]=p,++a,a===o&&r(s)},p=>i(p))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function kz(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function od(t){return t.name==="IndexedDbTransactionError"}var tM=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function tg(t){return t==null}function Gl(t){return t===0&&1/t==-1/0}function Oz(t){return typeof t=="number"&&Number.isInteger(t)&&!Gl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Fz=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],PX=[...Fz,"documentOverlays"],Lz=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Vz=Lz,Uz=[...Vz,"indexConfiguration","indexState","indexEntries"];var kX=[...Uz,"globals"];function Ix(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ys(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nM(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ut=class t{constructor(e,n){this.comparator=e,this.root=n||qr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cc(this.root,e,this.comparator,!0)}},Cc=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},qr=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ue();let e=this.left.check();if(e!==this.right.check())throw ue();return e+(this.isRed()?0:1)}};qr.EMPTY=null,qr.RED=!0,qr.BLACK=!1;qr.EMPTY=new class{constructor(){this.size=0}get key(){throw ue()}get value(){throw ue()}get color(){throw ue()}get left(){throw ue()}get right(){throw ue()}copy(e,n,r,i,o){return this}insert(e,n,r){return new qr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Yt=class t{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Cm(this.data.getIterator())}getIteratorFrom(e){return new Cm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Cm=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var qn=class t{constructor(e){this.fields=e,e.sort(Mn.comparator)}static empty(){return new t([])}unionWith(e){let n=new Yt(Mn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ac(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Tm=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Zt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Tm("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Zt.EMPTY_BYTE_STRING=new Zt("");var jz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mi(t){if(He(!!t),typeof t=="string"){let e=0,n=jz.exec(t);if(He(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tt(t.seconds),nanos:tt(t.nanos)}}function tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Po(t){return typeof t=="string"?Zt.fromBase64String(t):Zt.fromUint8Array(t)}function Sb(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ab(t){let e=t.mapValue.fields.__previous_value__;return Sb(e)?Ab(e):e}function Wl(t){let e=Mi(t.mapValue.fields.__local_write_time__.timestampValue);return new $t(e.seconds,e.nanos)}var rI=class{constructor(e,n,r,i,o,s,a,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=d}},Dm=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var ym={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function zs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Sb(t)?4:iM(t)?9007199254740991:rM(t)?10:11:ue()}function Kr(t,e){if(t===e)return!0;let n=zs(t);if(n!==zs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wl(t).isEqual(Wl(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Mi(i.timestampValue),a=Mi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Po(i.bytesValue).isEqual(Po(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return tt(i.geoPointValue.latitude)===tt(o.geoPointValue.latitude)&&tt(i.geoPointValue.longitude)===tt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return tt(i.integerValue)===tt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=tt(i.doubleValue),a=tt(o.doubleValue);return s===a?Gl(s)===Gl(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Ac(t.arrayValue.values||[],e.arrayValue.values||[],Kr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Ix(s)!==Ix(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Kr(s[u],a[u])))return!1;return!0}(t,e);default:return ue()}}function Kl(t,e){return(t.values||[]).find(n=>Kr(n,e))!==void 0}function Rc(t,e){if(t===e)return 0;let n=zs(t),r=zs(e);if(n!==r)return Le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=tt(o.integerValue||o.doubleValue),u=tt(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return bx(t.timestampValue,e.timestampValue);case 4:return bx(Wl(t),Wl(e));case 5:return Le(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Po(o),u=Po(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let d=0;d<a.length&&d<u.length;d++){let p=Le(a[d],u[d]);if(p!==0)return p}return Le(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Le(tt(o.latitude),tt(s.latitude));return a!==0?a:Le(tt(o.longitude),tt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Cx(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,d,p;let m=o.fields||{},w=s.fields||{},E=(a=m.value)===null||a===void 0?void 0:a.arrayValue,x=(u=w.value)===null||u===void 0?void 0:u.arrayValue,F=Le(((d=E?.values)===null||d===void 0?void 0:d.length)||0,((p=x?.values)===null||p===void 0?void 0:p.length)||0);return F!==0?F:Cx(E,x)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===ym.mapValue&&s===ym.mapValue)return 0;if(o===ym.mapValue)return 1;if(s===ym.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),d=s.fields||{},p=Object.keys(d);u.sort(),p.sort();for(let m=0;m<u.length&&m<p.length;++m){let w=Le(u[m],p[m]);if(w!==0)return w;let E=Rc(a[u[m]],d[p[m]]);if(E!==0)return E}return Le(u.length,p.length)}(t.mapValue,e.mapValue);default:throw ue()}}function bx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);let n=Mi(t),r=Mi(e),i=Le(n.seconds,r.seconds);return i!==0?i:Le(n.nanos,r.nanos)}function Cx(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Rc(n[i],r[i]);if(o)return o}return Le(n.length,r.length)}function xc(t){return iI(t)}function iI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Mi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Po(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=iI(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${iI(n.fields[s])}`;return i+"}"}(t.mapValue):ue()}function Tx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function oI(t){return!!t&&"integerValue"in t}function Rb(t){return!!t&&"arrayValue"in t}function Dx(t){return!!t&&"nullValue"in t}function Sx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wm(t){return!!t&&"mapValue"in t}function rM(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function $l(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ys(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=$l(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$l(t.arrayValue.values[n]);return e}return Object.assign({},t)}function iM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var xn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$l(n)}setAll(e){let n=Mn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=$l(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());wm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Kr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];wm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ys(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t($l(this.value))}};function oM(t){let e=[];return Ys(t.fields,(n,r)=>{let i=new Mn([n]);if(wm(r)){let o=oM(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new qn(e)}var hr=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,me.min(),me.min(),me.min(),xn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,me.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,me.min(),me.min(),xn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,me.min(),me.min(),xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Mc=class{constructor(e,n){this.position=e,this.inclusive=n}};function Ax(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=oe.comparator(oe.fromName(s.referenceValue),n.key):r=Rc(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Rx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Kr(t.position[n],e.position[n]))return!1;return!0}var Nc=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Bz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Sm=class{},Dt=class t extends Sm{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new aI(e,n,r):n==="array-contains"?new lI(e,r):n==="in"?new dI(e,r):n==="not-in"?new hI(e,r):n==="array-contains-any"?new fI(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cI(e,r):new uI(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Rc(n,this.value)):n!==null&&zs(this.value)===zs(n)&&this.matchesComparison(Rc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},fr=class t extends Sm{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return sM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function sM(t){return t.op==="and"}function aM(t){return $z(t)&&sM(t)}function $z(t){for(let e of t.filters)if(e instanceof fr)return!1;return!0}function sI(t){if(t instanceof Dt)return t.field.canonicalString()+t.op.toString()+xc(t.value);if(aM(t))return t.filters.map(e=>sI(e)).join(",");{let e=t.filters.map(n=>sI(n)).join(",");return`${t.op}(${e})`}}function cM(t,e){return t instanceof Dt?function(r,i){return i instanceof Dt&&r.op===i.op&&r.field.isEqual(i.field)&&Kr(r.value,i.value)}(t,e):t instanceof fr?function(r,i){return i instanceof fr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&cM(s,i.filters[a]),!0):!1}(t,e):void ue()}function uM(t){return t instanceof Dt?function(n){return`${n.field.canonicalString()} ${n.op} ${xc(n.value)}`}(t):t instanceof fr?function(n){return n.op.toString()+" {"+n.getFilters().map(uM).join(" ,")+"}"}(t):"Filter"}var aI=class extends Dt{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){let n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}},cI=class extends Dt{constructor(e,n){super(e,"in",n),this.keys=lM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},uI=class extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=lM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function lM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}var lI=class extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Rb(n)&&Kl(n.arrayValue,this.value)}},dI=class extends Dt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Kl(this.value.arrayValue,n)}},hI=class extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Kl(this.value.arrayValue,n)}},fI=class extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Rb(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Kl(this.value.arrayValue,r))}};var pI=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function xx(t,e=null,n=[],r=[],i=null,o=null,s=null){return new pI(t,e,n,r,i,o,s)}function xb(t){let e=he(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>sI(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),tg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>xc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>xc(r)).join(",")),e.ue=n}return e.ue}function Mb(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Bz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!cM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Rx(t.startAt,e.startAt)&&Rx(t.endAt,e.endAt)}function mI(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var qs=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function Hz(t,e,n,r,i,o,s,a){return new qs(t,e,n,r,i,o,s,a)}function Nb(t){return new qs(t)}function Mx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dM(t){return t.collectionGroup!==null}function Hl(t){let e=he(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Yt(Mn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Nc(o,r))}),n.has(Mn.keyField().canonicalString())||e.ce.push(new Nc(Mn.keyField(),r))}return e.ce}function Gr(t){let e=he(t);return e.le||(e.le=zz(e,Hl(t))),e.le}function zz(t,e){if(t.limitType==="F")return xx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Nc(i.field,o)});let n=t.endAt?new Mc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Mc(t.startAt.position,t.startAt.inclusive):null;return xx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function gI(t,e){let n=t.filters.concat([e]);return new qs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function yI(t,e,n){return new qs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ng(t,e){return Mb(Gr(t),Gr(e))&&t.limitType===e.limitType}function hM(t){return`${xb(Gr(t))}|lt:${t.limitType}`}function Ec(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>uM(i)).join(", ")}]`),tg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>xc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>xc(i)).join(",")),`Target(${r})`}(Gr(t))}; limitType=${t.limitType})`}function rg(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):oe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Hl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let d=Ax(s,a,u);return s.inclusive?d<=0:d<0}(r.startAt,Hl(r),i)||r.endAt&&!function(s,a,u){let d=Ax(s,a,u);return s.inclusive?d>=0:d>0}(r.endAt,Hl(r),i))}(t,e)}function qz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function fM(t){return(e,n)=>{let r=!1;for(let i of Hl(t)){let o=Gz(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Gz(t,e,n){let r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),d=a.data.field(o);return u!==null&&d!==null?Rc(u,d):ue()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ue()}}var ko=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ys(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return nM(this.inner)}size(){return this.innerSize}};var Wz=new ut(oe.comparator);function Ni(){return Wz}var pM=new ut(oe.comparator);function Bl(...t){let e=pM;for(let n of t)e=e.insert(n.key,n);return e}function mM(t){let e=pM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Us(){return zl()}function gM(){return zl()}function zl(){return new ko(t=>t.toString(),(t,e)=>t.isEqual(e))}var Kz=new ut(oe.comparator),Qz=new Yt(oe.comparator);function Re(...t){let e=Qz;for(let n of t)e=e.add(n);return e}var Yz=new Yt(Le);function Zz(){return Yz}function Pb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gl(e)?"-0":e}}function yM(t){return{integerValue:""+t}}function Jz(t,e){return Oz(e)?yM(e):Pb(t,e)}var Pc=class{constructor(){this._=void 0}};function Xz(t,e,n){return t instanceof kc?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Sb(o)&&(o=Ab(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Gs?wM(t,e):t instanceof Ws?_M(t,e):function(i,o){let s=vM(i,o),a=Nx(s)+Nx(i.Pe);return oI(s)&&oI(i.Pe)?yM(a):Pb(i.serializer,a)}(t,e)}function eq(t,e,n){return t instanceof Gs?wM(t,e):t instanceof Ws?_M(t,e):n}function vM(t,e){return t instanceof Oc?function(r){return oI(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var kc=class extends Pc{},Gs=class extends Pc{constructor(e){super(),this.elements=e}};function wM(t,e){let n=EM(e);for(let r of t.elements)n.some(i=>Kr(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ws=class extends Pc{constructor(e){super(),this.elements=e}};function _M(t,e){let n=EM(e);for(let r of t.elements)n=n.filter(i=>!Kr(i,r));return{arrayValue:{values:n}}}var Oc=class extends Pc{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function Nx(t){return tt(t.integerValue||t.doubleValue)}function EM(t){return Rb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function tq(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Gs&&i instanceof Gs||r instanceof Ws&&i instanceof Ws?Ac(r.elements,i.elements,Kr):r instanceof Oc&&i instanceof Oc?Kr(r.Pe,i.Pe):r instanceof kc&&i instanceof kc}(t.transform,e.transform)}var vI=class{constructor(e,n){this.version=e,this.transformResults=n}},Mo=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function _m(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Fc=class{};function IM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Am(t.key,Mo.none()):new Ks(t.key,t.data,Mo.none());{let n=t.data,r=xn.empty(),i=new Yt(Mn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Qr(t.key,r,new qn(i.toArray()),Mo.none())}}function nq(t,e,n){t instanceof Ks?function(i,o,s){let a=i.value.clone(),u=kx(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Qr?function(i,o,s){if(!_m(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=kx(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(bM(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ql(t,e,n,r){return t instanceof Ks?function(o,s,a,u){if(!_m(o.precondition,s))return a;let d=o.value.clone(),p=Ox(o.fieldTransforms,u,s);return d.setAll(p),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Qr?function(o,s,a,u){if(!_m(o.precondition,s))return a;let d=Ox(o.fieldTransforms,u,s),p=s.data;return p.setAll(bM(o)),p.setAll(d),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(o,s,a){return _m(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function rq(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=vM(r.transform,i||null);o!=null&&(n===null&&(n=xn.empty()),n.set(r.field,o))}return n||null}function Px(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ac(r,i,(o,s)=>tq(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ks=class extends Fc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Qr=class extends Fc{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function bM(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function kx(t,e,n){let r=new Map;He(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,eq(s,a,n[i]))}return r}function Ox(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,Xz(o,s,e))}return r}var Am=class extends Fc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},wI=class extends Fc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var _I=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&nq(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ql(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ql(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=gM();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=IM(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Re())}isEqual(e){return this.batchId===e.batchId&&Ac(this.mutations,e.mutations,(n,r)=>Px(n,r))&&Ac(this.baseMutations,e.baseMutations,(n,r)=>Px(n,r))}},EI=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){He(e.mutations.length===r.length);let i=function(){return Kz}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var II=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var bI=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ct,Pe;function iq(t){switch(t){default:return ue();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}function CM(t){if(t===void 0)return xi("GRPC error has no .code"),V.UNKNOWN;switch(t){case Ct.OK:return V.OK;case Ct.CANCELLED:return V.CANCELLED;case Ct.UNKNOWN:return V.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return V.INTERNAL;case Ct.UNAVAILABLE:return V.UNAVAILABLE;case Ct.UNAUTHENTICATED:return V.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case Ct.NOT_FOUND:return V.NOT_FOUND;case Ct.ALREADY_EXISTS:return V.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return V.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case Ct.ABORTED:return V.ABORTED;case Ct.OUT_OF_RANGE:return V.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return V.UNIMPLEMENTED;case Ct.DATA_LOSS:return V.DATA_LOSS;default:return ue()}}(Pe=Ct||(Ct={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";var Fx=null;function oq(){return new TextEncoder}var sq=new xo([4294967295,4294967295],0);function Lx(t){let e=oq().encode(t),n=new VE;return n.update(e),new Uint8Array(n.digest())}function Vx(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new xo([n,r],0),new xo([i,o],0)]}var CI=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new js(`Invalid padding: ${n}`);if(r<0)throw new js(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new js(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new js(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=xo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(xo.fromNumber(r)));return i.compare(sq)===1&&(i=new xo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=Lx(e),[r,i]=Vx(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=Lx(e),[r,i]=Vx(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},js=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Rm=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Ql.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(me.min(),i,new ut(Le),Ni(),Re())}},Ql=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,Re(),Re(),Re())}};var Tc=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},xm=class{constructor(e,n){this.targetId=e,this.me=n}},Mm=class{constructor(e,n,r=Zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Nm=class{constructor(){this.fe=0,this.ge=jx(),this.pe=Zt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Re(),n=Re(),r=Re();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ue()}}),new Ql(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=jx()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,He(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},TI=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ni(),this.qe=Ux(),this.Qe=new ut(Le)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ue()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(mI(o))if(r===0){let s=new oe(o.path);this.Ue(n,s,hr.newNoDocument(s,me.min()))}else He(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);let d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}Fx?.et(function(p,m,w,E,x){var F,N,B,J,q,ne;let ye={localCacheCount:p,existenceFilterCount:m.count,databaseId:w.database,projectId:w.projectId},ie=m.unchangedNames;return ie&&(ye.bloomFilter={applied:x===0,hashCount:(F=ie?.hashCount)!==null&&F!==void 0?F:0,bitmapLength:(J=(B=(N=ie?.bits)===null||N===void 0?void 0:N.bitmap)===null||B===void 0?void 0:B.length)!==null&&J!==void 0?J:0,padding:(ne=(q=ie?.bits)===null||q===void 0?void 0:q.padding)!==null&&ne!==void 0?ne:0,mightContain:D=>{var I;return(I=E?.mightContain(D))!==null&&I!==void 0&&I}}),ye}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Po(r).toUint8Array()}catch(u){if(u instanceof Tm)return Sc("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new CI(s,i,o)}catch(u){return Sc(u instanceof js?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&mI(a.target)){let u=new oe(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,hr.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=Re();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let d=this.Je(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new Rm(e,n,this.Qe,this.ke,r);return this.ke=Ni(),this.qe=Ux(),this.Qe=new ut(Le),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Nm,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Yt(Le),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Nm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function Ux(){return new ut(oe.comparator)}function jx(){return new ut(oe.comparator)}var aq={asc:"ASCENDING",desc:"DESCENDING"},cq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uq={and:"AND",or:"OR"},DI=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function SI(t,e){return t.useProto3Json||tg(e)?e:{value:e}}function Pm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function lq(t,e){return Pm(t,e.toTimestamp())}function Wr(t){return He(!!t),me.fromTimestamp(function(n){let r=Mi(n);return new $t(r.seconds,r.nanos)}(t))}function kb(t,e){return AI(t,e).canonicalString()}function AI(t,e){let n=function(i){return new st(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function DM(t){let e=st.fromString(t);return He(MM(e)),e}function RI(t,e){return kb(t.databaseId,e.path)}function zE(t,e){let n=DM(e);if(n.get(1)!==t.databaseId.projectId)throw new ee(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ee(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(AM(n))}function SM(t,e){return kb(t.databaseId,e)}function dq(t){let e=DM(t);return e.length===4?st.emptyPath():AM(e)}function xI(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function AM(t){return He(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Bx(t,e,n){return{name:RI(t,e),fields:n.value.mapValue.fields}}function hq(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(d,p){return d.useProto3Json?(He(p===void 0||typeof p=="string"),Zt.fromBase64String(p||"")):(He(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Zt.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(d){let p=d.code===void 0?V.UNKNOWN:CM(d.code);return new ee(p,d.message||"")}(s);n=new Mm(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=zE(t,r.document.name),o=Wr(r.document.updateTime),s=r.document.createTime?Wr(r.document.createTime):me.min(),a=new xn({mapValue:{fields:r.document.fields}}),u=hr.newFoundDocument(i,o,s,a),d=r.targetIds||[],p=r.removedTargetIds||[];n=new Tc(d,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=zE(t,r.document),o=r.readTime?Wr(r.readTime):me.min(),s=hr.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Tc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=zE(t,r.document),o=r.removedTargetIds||[];n=new Tc([],o,i,null)}else{if(!("filter"in e))return ue();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new bI(i,o),a=r.targetId;n=new xm(a,s)}}return n}function fq(t,e){let n;if(e instanceof Ks)n={update:Bx(t,e.key,e.value)};else if(e instanceof Am)n={delete:RI(t,e.key)};else if(e instanceof Qr)n={update:Bx(t,e.key,e.data),updateMask:Iq(e.fieldMask)};else{if(!(e instanceof wI))return ue();n={verify:RI(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof kc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Gs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ws)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Oc)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ue()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:lq(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ue()}(t,e.precondition)),n}function pq(t,e){return t&&t.length>0?(He(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Wr(i.updateTime):Wr(o);return s.isEqual(me.min())&&(s=Wr(o)),new vI(s,i.transformResults||[])}(n,e))):[]}function mq(t,e){return{documents:[SM(t,e.path)]}}function gq(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=SM(t,i);let o=function(d){if(d.length!==0)return xM(fr.create(d,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(d){if(d.length!==0)return d.map(p=>function(w){return{field:Ic(w.field),direction:wq(w.dir)}}(p))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=SI(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:i}}function yq(t){let e=dq(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){He(r===1);let p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=function(m){let w=RM(m);return w instanceof fr&&aM(w)?w.getFilters():[w]}(n.where));let s=[];n.orderBy&&(s=function(m){return m.map(w=>function(x){return new Nc(bc(x.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(w))}(n.orderBy));let a=null;n.limit&&(a=function(m){let w;return w=typeof m=="object"?m.value:m,tg(w)?null:w}(n.limit));let u=null;n.startAt&&(u=function(m){let w=!!m.before,E=m.values||[];return new Mc(E,w)}(n.startAt));let d=null;return n.endAt&&(d=function(m){let w=!m.before,E=m.values||[];return new Mc(E,w)}(n.endAt)),Hz(e,i,s,o,a,"F",u,d)}function vq(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function RM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=bc(n.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=bc(n.unaryFilter.field);return Dt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=bc(n.unaryFilter.field);return Dt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=bc(n.unaryFilter.field);return Dt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ue()}}(t):t.fieldFilter!==void 0?function(n){return Dt.create(bc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ue()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fr.create(n.compositeFilter.filters.map(r=>RM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ue()}}(n.compositeFilter.op))}(t):ue()}function wq(t){return aq[t]}function _q(t){return cq[t]}function Eq(t){return uq[t]}function Ic(t){return{fieldPath:t.canonicalString()}}function bc(t){return Mn.fromServerFormat(t.fieldPath)}function xM(t){return t instanceof Dt?function(n){if(n.op==="=="){if(Sx(n.value))return{unaryFilter:{field:Ic(n.field),op:"IS_NAN"}};if(Dx(n.value))return{unaryFilter:{field:Ic(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Sx(n.value))return{unaryFilter:{field:Ic(n.field),op:"IS_NOT_NAN"}};if(Dx(n.value))return{unaryFilter:{field:Ic(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ic(n.field),op:_q(n.op),value:n.value}}}(t):t instanceof fr?function(n){let r=n.getFilters().map(i=>xM(i));return r.length===1?r[0]:{compositeFilter:{op:Eq(n.op),filters:r}}}(t):ue()}function Iq(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function MM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Yl=class t{constructor(e,n,r,i,o=me.min(),s=me.min(),a=Zt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var MI=class{constructor(e){this.ct=e}};function bq(t){let e=yq({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yI(e,e.limit,"L"):e}var km=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(tt(e.integerValue));else if("doubleValue"in e){let r=tt(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Gl(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Mi(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Po(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?iM(e)?this.dt(n,Number.MAX_SAFE_INTEGER):rM(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ue()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(tt(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),oe.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};km.vt=new km;var NI=class{constructor(){this.un=new PI}addToCollectionParentIndex(e,n){return this.un.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(Hs.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(Hs.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}},PI=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Yt(st.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Yt(st.comparator)).toArray()}};var FX=new Uint8Array(0);var zr=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};zr.DEFAULT_COLLECTION_PERCENTILE=10,zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zr.DEFAULT=new zr(41943040,zr.DEFAULT_COLLECTION_PERCENTILE,zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zr.DISABLED=new zr(-1,0,0);var Zl=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var kI=class{constructor(){this.changes=new ko(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var OI=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var FI=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ql(r.mutation,i,qn.empty(),$t.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Re()){let i=Us();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Bl();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Us();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Re()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Ni(),s=zl(),a=function(){return zl()}();return n.forEach((u,d)=>{let p=r.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof Qr)?o=o.insert(d.key,d):p!==void 0?(s.set(d.key,p.mutation.getFieldMask()),ql(p.mutation,d,p.mutation.getFieldMask(),$t.now())):s.set(d.key,qn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((d,p)=>s.set(d,p)),n.forEach((d,p)=>{var m;return a.set(d,new OI(p,(m=s.get(d))!==null&&m!==void 0?m:null))}),a))}recalculateAndSaveOverlays(e,n){let r=zl(),i=new ut((s,a)=>s-a),o=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let d=n.get(u);if(d===null)return;let p=r.get(u)||qn.empty();p=a.applyToLocalView(d,p),r.set(u,p);let m=(i.get(a.batchId)||Re()).add(u);i=i.insert(a.batchId,m)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),d=u.key,p=u.value,m=gM();p.forEach(w=>{if(!o.has(w)){let E=IM(n.get(w),r.get(w));E!==null&&m.set(w,E),o=o.add(w)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,m))}return H.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return oe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):H.resolve(Us()),a=-1,u=o;return s.next(d=>H.forEach(d,(p,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),o.get(p)?H.resolve():this.remoteDocumentCache.getEntry(e,p).next(w=>{u=u.insert(p,w)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,u,d,Re())).next(p=>({batchId:a,changes:mM(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let i=Bl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Bl();return this.indexManager.getCollectionParents(e,o).next(a=>H.forEach(a,u=>{let d=function(m,w){return new qs(w,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(p=>{p.forEach((m,w)=>{s=s.insert(m,w)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,d)=>{let p=d.getKey();s.get(p)===null&&(s=s.insert(p,hr.newInvalidDocument(p)))});let a=Bl();return s.forEach((u,d)=>{let p=o.get(u);p!==void 0&&ql(p.mutation,d,qn.empty(),$t.now()),rg(n,d)&&(a=a.insert(u,d))}),a})}};var LI=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return H.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Wr(i.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:bq(i.bundledQuery),readTime:Wr(i.readTime)}}(n)),H.resolve()}};var VI=class{constructor(){this.overlays=new ut(oe.comparator),this.Ir=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Us();return H.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),H.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){let i=Us(),o=n.length+1,s=new oe(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ut((d,p)=>d-p),s=this.overlays.getIterator();for(;s.hasNext();){let d=s.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let p=o.get(d.largestBatchId);p===null&&(p=Us(),o=o.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}let a=Us(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,p)=>a.set(d,p)),!(a.size()>=i)););return H.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new II(n,r));let o=this.Ir.get(n);o===void 0&&(o=Re(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var UI=class{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}};var Jl=class{constructor(){this.Tr=new Yt(Tt.Er),this.dr=new Yt(Tt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Tt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Tt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new oe(new st([])),r=new Tt(n,e),i=new Tt(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new oe(new st([])),r=new Tt(n,e),i=new Tt(n,e+1),o=Re();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Tt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Tt=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return oe.comparator(e.key,n.key)||Le(e.wr,n.wr)}static Ar(e,n){return Le(e.wr,n.wr)||oe.comparator(e.key,n.key)}};var jI=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Yt(Tt.Er)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new _I(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new Tt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(s)}lookupMutationBatch(e,n){return H.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return H.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Tt(n,0),i=new Tt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),H.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Yt(Le);return n.forEach(i=>{let o=new Tt(i,0),s=new Tt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),H.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;oe.isDocumentKey(o)||(o=o.child(""));let s=new Tt(new oe(o),0),a=new Yt(Le);return this.br.forEachWhile(u=>{let d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(u.wr)),!0)},s),H.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){He(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return H.forEach(n.mutations,i=>{let o=new Tt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Tt(n,0),i=this.br.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var BI=class{constructor(e){this.Mr=e,this.docs=function(){return new ut(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():hr.newInvalidDocument(n))}getEntries(e,n){let r=Ni();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():hr.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ni(),s=n.path,a=new oe(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:d,value:{document:p}}=u.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||Nz(Mz(p),r)<=0||(i.has(p.key)||rg(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return H.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ue()}Or(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $I(this)}getSize(e){return H.resolve(this.size)}},$I=class extends kI{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var HI=class{constructor(e){this.persistence=e,this.Nr=new ko(n=>xb(n),Mb),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Jl,this.targetCount=0,this.kr=Zl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),H.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Zl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Kn(n),H.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),H.waitFor(o).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),H.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),H.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.Br.containsKey(n))}};var zI=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new tM(0),this.Kr=!1,this.Kr=!0,this.$r=new UI,this.referenceDelegate=e(this),this.Ur=new HI(this),this.indexManager=new NI,this.remoteDocumentCache=function(i){return new BI(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new MI(n),this.Gr=new LI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new jI(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);let i=new qI(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return H.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},qI=class extends nI{constructor(e){super(),this.currentSequenceNumber=e}},GI=class t{constructor(e){this.persistence=e,this.Jr=new Jl,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw ue()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),H.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Xr,r=>{let i=oe.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,me.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return H.or([()=>H.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var WI=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Re(),i=Re();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var KI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var QI=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return nR()?8:kz(Lt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new KI;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(jl()<=Ae.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",Ec(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),H.resolve()):(jl()<=Ae.DEBUG&&te("QueryEngine","Query:",Ec(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(jl()<=Ae.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",Ec(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gr(n))):H.resolve())}Yi(e,n){if(Mx(n))return H.resolve(null);let r=Gr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=yI(n,null,"F"),r=Gr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Re(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let d=this.ts(n,a);return this.ns(n,d,s,u.readTime)?this.Yi(e,yI(n,null,"F")):this.rs(e,d,n,u)}))})))}Zi(e,n,r,i){return Mx(n)||i.isEqual(me.min())?H.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?H.resolve(null):(jl()<=Ae.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ec(n)),this.rs(e,s,n,xz(i,-1)).next(a=>a))})}ts(e,n){let r=new Yt(fM(e));return n.forEach((i,o)=>{rg(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return jl()<=Ae.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Ec(n)),this.Ji.getDocumentsMatchingQuery(e,n,Hs.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var YI=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new ut(Le),this._s=new ko(o=>xb(o),Mb),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function Cq(t,e,n,r){return new YI(t,e,n,r)}function NM(t,e){return b(this,null,function*(){let n=he(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=Re();for(let d of i){s.push(d.batchId);for(let p of d.mutations)u=u.add(p.key)}for(let d of o){a.push(d.batchId);for(let p of d.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next(d=>({hs:d,removedBatchIds:s,addedBatchIds:a}))})})})}function Tq(t,e){let n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,d,p){let m=d.batch,w=m.keys(),E=H.resolve();return w.forEach(x=>{E=E.next(()=>p.getEntry(u,x)).next(F=>{let N=d.docVersions.get(x);He(N!==null),F.version.compareTo(N)<0&&(m.applyToRemoteDocument(F,d),F.isValidDocument()&&(F.setReadTime(d.commitVersion),p.addEntry(F)))})}),E.next(()=>a.mutationQueue.removeMutationBatch(u,m))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Re();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(u=u.add(a.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function PM(t){let e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Dq(t,e){let n=he(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((p,m)=>{let w=i.get(m);if(!w)return;a.push(n.Ur.removeMatchingKeys(o,p.removedDocuments,m).next(()=>n.Ur.addMatchingKeys(o,p.addedDocuments,m)));let E=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?E=E.withResumeToken(Zt.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):p.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(p.resumeToken,r)),i=i.insert(m,E),function(F,N,B){return F.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=3e8?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(w,E,p)&&a.push(n.Ur.updateTargetData(o,E))});let u=Ni(),d=Re();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))}),a.push(Sq(o,s,e.documentUpdates).next(p=>{u=p.Ps,d=p.Is})),!r.isEqual(me.min())){let p=n.Ur.getLastRemoteSnapshotVersion(o).next(m=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(p)}return H.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,d)).next(()=>u)}).then(o=>(n.os=i,o))}function Sq(t,e,n){let r=Re(),i=Re();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Ni();return n.forEach((a,u)=>{let d=o.get(a);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(me.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function Aq(t,e){let n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Rq(t,e){let n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,H.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Yl(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function ZI(t,e,n){return b(this,null,function*(){let r=he(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!od(s))throw s;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function $x(t,e,n){let r=he(t),i=me.min(),o=Re();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,d,p){let m=he(u),w=m._s.get(p);return w!==void 0?H.resolve(m.os.get(w)):m.Ur.getTargetData(d,p)}(r,s,Gr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:me.min(),n?o:Re())).next(a=>(xq(r,qz(e),a),{documents:a,Ts:o})))}function xq(t,e,n){let r=t.us.get(e)||me.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var Om=class{constructor(){this.activeTargetIds=Zz()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var JI=class{constructor(){this.so=new Om,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Om,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var XI=class{_o(e){}shutdown(){}};var Fm=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var vm=null;function qE(){return vm===null?vm=function(){return 268435456+Math.round(2147483648*Math.random())}():vm++,"0x"+vm.toString(16)}var Mq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var eb=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Qt="WebChannelConnection",tb=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=qE(),u=this.xo(n,r.toUriEncodedString());te("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,o,s),this.No(n,u,d,i).then(p=>(te("RestConnection",`Received RPC '${n}' ${a}: `,p),p),p=>{throw Sc("RestConnection",`RPC '${n}' ${a} failed with error: `,p,"url: ",u,"request:",i),p})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=Mq[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=qE();return new Promise((s,a)=>{let u=new UE;u.setWithCredentials(!0),u.listenOnce(jE.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ul.NO_ERROR:let p=u.getResponseJson();te(Qt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),s(p);break;case Ul.TIMEOUT:te(Qt,`RPC '${e}' ${o} timed out`),a(new ee(V.DEADLINE_EXCEEDED,"Request time out"));break;case Ul.HTTP_ERROR:let m=u.getStatus();if(te(Qt,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let w=u.getResponseJson();Array.isArray(w)&&(w=w[0]);let E=w?.error;if(E&&E.status&&E.message){let x=function(N){let B=N.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(B)>=0?B:V.UNKNOWN}(E.status);a(new ee(x,E.message))}else a(new ee(V.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ee(V.UNAVAILABLE,"Connection failed."));break;default:ue()}}finally{te(Qt,`RPC '${e}' ${o} completed.`)}});let d=JSON.stringify(i);te(Qt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",d,r,15)})}Bo(e,n,r){let i=qE(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=HE(),a=$E(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let p=o.join("");te(Qt,`Creating RPC '${e}' stream ${i}: ${p}`,u);let m=s.createWebChannel(p,u),w=!1,E=!1,x=new eb({Io:N=>{E?te(Qt,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(w||(te(Qt,`Opening RPC '${e}' stream ${i} transport.`),m.open(),w=!0),te(Qt,`RPC '${e}' stream ${i} sending:`,N),m.send(N))},To:()=>m.close()}),F=(N,B,J)=>{N.listen(B,q=>{try{J(q)}catch(ne){setTimeout(()=>{throw ne},0)}})};return F(m,_c.EventType.OPEN,()=>{E||(te(Qt,`RPC '${e}' stream ${i} transport opened.`),x.yo())}),F(m,_c.EventType.CLOSE,()=>{E||(E=!0,te(Qt,`RPC '${e}' stream ${i} transport closed`),x.So())}),F(m,_c.EventType.ERROR,N=>{E||(E=!0,Sc(Qt,`RPC '${e}' stream ${i} transport errored:`,N),x.So(new ee(V.UNAVAILABLE,"The operation could not be completed")))}),F(m,_c.EventType.MESSAGE,N=>{var B;if(!E){let J=N.data[0];He(!!J);let q=J,ne=q.error||((B=q[0])===null||B===void 0?void 0:B.error);if(ne){te(Qt,`RPC '${e}' stream ${i} received error:`,ne);let ye=ne.status,ie=function(C){let S=Ct[C];if(S!==void 0)return CM(S)}(ye),D=ne.message;ie===void 0&&(ie=V.INTERNAL,D="Unknown error status: "+ye+" with message "+ne.message),E=!0,x.So(new ee(ie,D)),m.close()}else te(Qt,`RPC '${e}' stream ${i} received:`,J),x.bo(J)}}),F(a,BE.STAT_EVENT,N=>{N.stat===gm.PROXY?te(Qt,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===gm.NOPROXY&&te(Qt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.wo()},0),x}};function GE(){return typeof document<"u"?document:null}function ig(t){return new DI(t,!0)}var Lm=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Vm=class{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Lm(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return b(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return b(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return b(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(xi(n.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new ee(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>b(this,null,function*(){this.state=0,this.start()}))}I_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},nb=class extends Vm{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=hq(this.serializer,e),r=function(o){if(!("targetChange"in o))return me.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?me.min():s.readTime?Wr(s.readTime):me.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=xI(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=mI(u)?{documents:mq(o,u)}:{query:gq(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=TM(o,s.resumeToken);let d=SI(o,s.expectedCount);d!==null&&(a.expectedCount=d)}else if(s.snapshotVersion.compareTo(me.min())>0){a.readTime=Pm(o,s.snapshotVersion.toTimestamp());let d=SI(o,s.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);let r=vq(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=xI(this.serializer),n.removeTarget=e,this.a_(n)}},rb=class extends Vm{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return He(!!e.streamToken),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){He(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=pq(e.writeResults,e.commitTime),r=Wr(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=xI(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>fq(this.serializer,r))};this.a_(n)}};var ib=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ee(V.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,AI(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ee(V.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,AI(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ee(V.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},ob=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(xi(n),this.D_=!1):te("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var sb=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>b(this,null,function*(){Zs(this)&&(te("RemoteStore","Restarting streams for network reachability change."),yield function(u){return b(this,null,function*(){let d=he(u);d.L_.add(4),yield sd(d),d.q_.set("Unknown"),d.L_.delete(4),yield og(d)})}(this))}))}),this.q_=new ob(r,i)}};function og(t){return b(this,null,function*(){if(Zs(t))for(let e of t.B_)yield e(!0)})}function sd(t){return b(this,null,function*(){for(let e of t.B_)yield e(!1)})}function kM(t,e){let n=he(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Vb(n)?Lb(n):$c(n).r_()&&Fb(n,e))}function Ob(t,e){let n=he(t),r=$c(n);n.N_.delete(e),r.r_()&&OM(n,e),n.N_.size===0&&(r.r_()?r.o_():Zs(n)&&n.q_.set("Unknown"))}function Fb(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$c(t).A_(e)}function OM(t,e){t.Q_.xe(e),$c(t).R_(e)}function Lb(t){t.Q_=new TI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),$c(t).start(),t.q_.v_()}function Vb(t){return Zs(t)&&!$c(t).n_()&&t.N_.size>0}function Zs(t){return he(t).L_.size===0}function FM(t){t.Q_=void 0}function Nq(t){return b(this,null,function*(){t.q_.set("Online")})}function Pq(t){return b(this,null,function*(){t.N_.forEach((e,n)=>{Fb(t,e)})})}function kq(t,e){return b(this,null,function*(){FM(t),Vb(t)?(t.q_.M_(e),Lb(t)):t.q_.set("Unknown")})}function Oq(t,e,n){return b(this,null,function*(){if(t.q_.set("Online"),e instanceof Mm&&e.state===2&&e.cause)try{yield function(i,o){return b(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Um(t,r)}else if(e instanceof Tc?t.Q_.Ke(e):e instanceof xm?t.Q_.He(e):t.Q_.We(e),!n.isEqual(me.min()))try{let r=yield PM(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){let p=o.N_.get(d);p&&o.N_.set(d,p.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,d)=>{let p=o.N_.get(u);if(!p)return;o.N_.set(u,p.withResumeToken(Zt.EMPTY_BYTE_STRING,p.snapshotVersion)),OM(o,u);let m=new Yl(p.target,u,d,p.sequenceNumber);Fb(o,m)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){te("RemoteStore","Failed to raise snapshot:",r),yield Um(t,r)}})}function Um(t,e,n){return b(this,null,function*(){if(!od(e))throw e;t.L_.add(1),yield sd(t),t.q_.set("Offline"),n||(n=()=>PM(t.localStore)),t.asyncQueue.enqueueRetryable(()=>b(this,null,function*(){te("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield og(t)}))})}function LM(t,e){return e().catch(n=>Um(t,n,e))}function sg(t){return b(this,null,function*(){let e=he(t),n=Oo(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Fq(e);)try{let i=yield Aq(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,Lq(e,i)}catch(i){yield Um(e,i)}VM(e)&&UM(e)})}function Fq(t){return Zs(t)&&t.O_.length<10}function Lq(t,e){t.O_.push(e);let n=Oo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function VM(t){return Zs(t)&&!Oo(t).n_()&&t.O_.length>0}function UM(t){Oo(t).start()}function Vq(t){return b(this,null,function*(){Oo(t).p_()})}function Uq(t){return b(this,null,function*(){let e=Oo(t);for(let n of t.O_)e.m_(n.mutations)})}function jq(t,e,n){return b(this,null,function*(){let r=t.O_.shift(),i=EI.from(r,e,n);yield LM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield sg(t)})}function Bq(t,e){return b(this,null,function*(){e&&Oo(t).V_&&(yield function(r,i){return b(this,null,function*(){if(function(s){return iq(s)&&s!==V.ABORTED}(i.code)){let o=r.O_.shift();Oo(r).s_(),yield LM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield sg(r)}})}(t,e)),VM(t)&&UM(t)})}function Hx(t,e){return b(this,null,function*(){let n=he(t);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");let r=Zs(n);n.L_.add(3),yield sd(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield og(n)})}function $q(t,e){return b(this,null,function*(){let n=he(t);e?(n.L_.delete(2),yield og(n)):e||(n.L_.add(2),yield sd(n),n.q_.set("Unknown"))})}function $c(t){return t.K_||(t.K_=function(n,r,i){let o=he(n);return o.w_(),new nb(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Nq.bind(null,t),Ro:Pq.bind(null,t),mo:kq.bind(null,t),d_:Oq.bind(null,t)}),t.B_.push(e=>b(this,null,function*(){e?(t.K_.s_(),Vb(t)?Lb(t):t.q_.set("Unknown")):(yield t.K_.stop(),FM(t))}))),t.K_}function Oo(t){return t.U_||(t.U_=function(n,r,i){let o=he(n);return o.w_(),new rb(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Vq.bind(null,t),mo:Bq.bind(null,t),f_:Uq.bind(null,t),g_:jq.bind(null,t)}),t.B_.push(e=>b(this,null,function*(){e?(t.U_.s_(),yield sg(t)):(yield t.U_.stop(),t.O_.length>0&&(te("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var ab=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Ub(t,e){if(xi("AsyncQueue",`${e}: ${t}`),od(t))return new ee(V.UNAVAILABLE,`${e}: ${t}`);throw t}var jm=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=Bl(),this.sortedSet=new ut(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Bm=class{constructor(){this.W_=new ut(oe.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ue():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Lc=class t{constructor(e,n,r,i,o,s,a,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,jm.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ng(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var cb=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},ub=class{constructor(){this.queries=zx(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=he(n),o=i.queries;i.queries=zx(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new ee(V.ABORTED,"Firestore shutting down"))}};function zx(){return new ko(t=>hM(t),ng)}function jM(t,e){return b(this,null,function*(){let n=he(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new cb,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=Ub(s,`Initialization of query '${Ec(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&jb(n)})}function BM(t,e){return b(this,null,function*(){let n=he(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function Hq(t,e){let n=he(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&jb(n)}function zq(t,e,n){let r=he(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function jb(t){t.Y_.forEach(e=>{e.next()})}var lb,qx;(qx=lb||(lb={})).ea="default",qx.Cache="cache";var $m=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Lc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Lc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==lb.Cache}};var Hm=class{constructor(e){this.key=e}},zm=class{constructor(e){this.key=e}},db=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Re(),this.mutatedKeys=Re(),this.Aa=fM(e),this.Ra=new jm(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Bm,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,m)=>{let w=i.get(p),E=rg(this.query,m)?m:null,x=!!w&&this.mutatedKeys.has(w.key),F=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations),N=!1;w&&E?w.data.isEqual(E.data)?x!==F&&(r.track({type:3,doc:E}),N=!0):this.ga(w,E)||(r.track({type:2,doc:E}),N=!0,(u&&this.Aa(E,u)>0||d&&this.Aa(E,d)<0)&&(a=!0)):!w&&E?(r.track({type:0,doc:E}),N=!0):w&&!E&&(r.track({type:1,doc:w}),N=!0,(u||d)&&(a=!0)),N&&(E?(s=s.add(E),o=F?o.add(p):o.delete(p)):(s=s.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let p=this.query.limitType==="F"?s.last():s.first();s=s.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((p,m)=>function(E,x){let F=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue()}};return F(E)-F(x)}(p.type,m.type)||this.Aa(p.doc,m.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,d=u!==this.Ea;return this.Ea=u,s.length!==0||d?{snapshot:new Lc(this.query,e.Ra,o,s,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Bm,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Re(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new zm(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Hm(r))}),n}ba(e){this.Ta=e.Ts,this.da=Re();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Lc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},hb=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},fb=class{constructor(e){this.key=e,this.va=!1}},pb=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new ko(a=>hM(a),ng),this.Ma=new Map,this.xa=new Set,this.Oa=new ut(oe.comparator),this.Na=new Map,this.La=new Jl,this.Ba={},this.ka=new Map,this.qa=Zl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function qq(t,e,n=!0){return b(this,null,function*(){let r=WM(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield $M(r,e,n,!0),i})}function Gq(t,e){return b(this,null,function*(){let n=WM(t);yield $M(n,e,!0,!1)})}function $M(t,e,n,r){return b(this,null,function*(){let i=yield Rq(t.localStore,Gr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield Wq(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&kM(t.remoteStore,i),a})}function Wq(t,e,n,r,i){return b(this,null,function*(){t.Ka=(m,w,E)=>function(F,N,B,J){return b(this,null,function*(){let q=N.view.ma(B);q.ns&&(q=yield $x(F.localStore,N.query,!1).then(({documents:D})=>N.view.ma(D,q)));let ne=J&&J.targetChanges.get(N.targetId),ye=J&&J.targetMismatches.get(N.targetId)!=null,ie=N.view.applyChanges(q,F.isPrimaryClient,ne,ye);return Wx(F,N.targetId,ie.wa),ie.snapshot})}(t,m,w,E);let o=yield $x(t.localStore,e,!0),s=new db(e,o.Ts),a=s.ma(o.documents),u=Ql.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=s.applyChanges(a,t.isPrimaryClient,u);Wx(t,n,d.wa);let p=new hb(e,n,s);return t.Fa.set(e,p),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot})}function Kq(t,e,n){return b(this,null,function*(){let r=he(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!ng(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield ZI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ob(r.remoteStore,i.targetId),mb(r,i.targetId)}).catch(id))):(mb(r,i.targetId),yield ZI(r.localStore,i.targetId,!0))})}function Qq(t,e){return b(this,null,function*(){let n=he(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ob(n.remoteStore,r.targetId))})}function Yq(t,e,n){return b(this,null,function*(){let r=r3(t);try{let i=yield function(s,a){let u=he(s),d=$t.now(),p=a.reduce((E,x)=>E.add(x.key),Re()),m,w;return u.persistence.runTransaction("Locally write mutations","readwrite",E=>{let x=Ni(),F=Re();return u.cs.getEntries(E,p).next(N=>{x=N,x.forEach((B,J)=>{J.isValidDocument()||(F=F.add(B))})}).next(()=>u.localDocuments.getOverlayedDocuments(E,x)).next(N=>{m=N;let B=[];for(let J of a){let q=rq(J,m.get(J.key).overlayedDocument);q!=null&&B.push(new Qr(J.key,q,oM(q.value.mapValue),Mo.exists(!0)))}return u.mutationQueue.addMutationBatch(E,d,B,a)}).next(N=>{w=N;let B=N.applyToLocalDocumentSet(m,F);return u.documentOverlayCache.saveOverlays(E,N.batchId,B)})}).then(()=>({batchId:w.batchId,changes:mM(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let d=s.Ba[s.currentUser.toKey()];d||(d=new ut(Le)),d=d.insert(a,u),s.Ba[s.currentUser.toKey()]=d}(r,i.batchId,n),yield ad(r,i.changes),yield sg(r.remoteStore)}catch(i){let o=Ub(i,"Failed to persist write");n.reject(o)}})}function HM(t,e){return b(this,null,function*(){let n=he(t);try{let r=yield Dq(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(He(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?He(s.va):i.removedDocuments.size>0&&(He(s.va),s.va=!1))}),yield ad(n,r,e)}catch(r){yield id(r)}})}function Gx(t,e,n){let r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=he(s);u.onlineState=a;let d=!1;u.queries.forEach((p,m)=>{for(let w of m.j_)w.Z_(a)&&(d=!0)}),d&&jb(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Zq(t,e,n){return b(this,null,function*(){let r=he(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new ut(oe.comparator);s=s.insert(o,hr.newNoDocument(o,me.min()));let a=Re().add(o),u=new Rm(me.min(),new Map,new ut(Le),s,a);yield HM(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),Bb(r)}else yield ZI(r.localStore,e,!1).then(()=>mb(r,e,n)).catch(id)})}function Jq(t,e){return b(this,null,function*(){let n=he(t),r=e.batch.batchId;try{let i=yield Tq(n.localStore,e);qM(n,r,null),zM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ad(n,i)}catch(i){yield id(i)}})}function Xq(t,e,n){return b(this,null,function*(){let r=he(t);try{let i=yield function(s,a){let u=he(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return u.mutationQueue.lookupMutationBatch(d,a).next(m=>(He(m!==null),p=m.keys(),u.mutationQueue.removeMutationBatch(d,m))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,p,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>u.localDocuments.getDocuments(d,p))})}(r.localStore,e);qM(r,e,n),zM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield ad(r,i)}catch(i){yield id(i)}})}function zM(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function qM(t,e,n){let r=he(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function mb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||GM(t,r)})}function GM(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(Ob(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Bb(t))}function Wx(t,e,n){for(let r of n)r instanceof Hm?(t.La.addReference(r.key,e),e3(t,r)):r instanceof zm?(te("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||GM(t,r.key)):ue()}function e3(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(te("SyncEngine","New document in limbo: "+n),t.xa.add(r),Bb(t))}function Bb(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new oe(st.fromString(e)),r=t.qa.next();t.Na.set(r,new fb(n)),t.Oa=t.Oa.insert(n,r),kM(t.remoteStore,new Yl(Gr(Nb(n.path)),r,"TargetPurposeLimboResolution",tM.oe))}}function ad(t,e,n){return b(this,null,function*(){let r=he(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(d=>{var p;if((d||n)&&r.isPrimaryClient){let m=d?!d.fromCache:(p=n?.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(d){i.push(d);let m=WI.Wi(u.targetId,d);o.push(m)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,d){return b(this,null,function*(){let p=he(u);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>H.forEach(d,w=>H.forEach(w.$i,E=>p.persistence.referenceDelegate.addReference(m,w.targetId,E)).next(()=>H.forEach(w.Ui,E=>p.persistence.referenceDelegate.removeReference(m,w.targetId,E)))))}catch(m){if(!od(m))throw m;te("LocalStore","Failed to update sequence numbers: "+m)}for(let m of d){let w=m.targetId;if(!m.fromCache){let E=p.os.get(w),x=E.snapshotVersion,F=E.withLastLimboFreeSnapshotVersion(x);p.os=p.os.insert(w,F)}}})}(r.localStore,o))})}function t3(t,e){return b(this,null,function*(){let n=he(t);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());let r=yield NM(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new ee(V.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ad(n,r.hs)}})}function n3(t,e){let n=he(t),r=n.Na.get(e);if(r&&r.va)return Re().add(r.key);{let i=Re(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function WM(t){let e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=HM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=n3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Zq.bind(null,e),e.Ca.d_=Hq.bind(null,e.eventManager),e.Ca.$a=zq.bind(null,e.eventManager),e}function r3(t){let e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Jq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Xq.bind(null,e),e}var Kx=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return b(this,null,function*(){this.serializer=ig(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return Cq(this.persistence,new QI,n.initialUser,this.serializer)}Ga(n){return new zI(GI.Zr,this.serializer)}Wa(n){return new JI}terminate(){return b(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var i3=(()=>{class t{initialize(n,r){return b(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Gx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=t3.bind(null,this.syncEngine),yield $q(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new ub}()}createDatastore(n){let r=ig(n.databaseInfo.databaseId),i=function(s){return new tb(s)}(n.databaseInfo);return function(s,a,u,d){return new ib(s,a,u,d)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new sb(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>Gx(this.syncEngine,r,0),function(){return Fm.D()?new Fm:new XI}())}createSyncEngine(n,r){return function(o,s,a,u,d,p,m){let w=new pb(o,s,a,u,d,p);return m&&(w.Qa=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return b(this,null,function*(){var n,r;yield function(o){return b(this,null,function*(){let s=he(o);te("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield sd(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var qm=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):xi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var gb=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Vt.UNAUTHENTICATED,this.clientId=Im.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>b(this,null,function*(){te("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(te("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>b(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Ub(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function WE(t,e){return b(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>b(this,null,function*(){r.isEqual(i)||(yield NM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function Qx(t,e){return b(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield o3(t);te("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Hx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Hx(e.remoteStore,i)),t._onlineComponents=e})}function o3(t){return b(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{yield WE(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===V.FAILED_PRECONDITION||i.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Sc("Error using user provided cache. Falling back to memory cache: "+n),yield WE(t,new Kx)}}else te("FirestoreClient","Using default OfflineComponentProvider"),yield WE(t,new Kx);return t._offlineComponents})}function KM(t){return b(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),yield Qx(t,t._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),yield Qx(t,new i3))),t._onlineComponents})}function s3(t){return KM(t).then(e=>e.syncEngine)}function QM(t){return b(this,null,function*(){let e=yield KM(t),n=e.eventManager;return n.onListen=qq.bind(null,e.syncEngine),n.onUnlisten=Kq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Gq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Qq.bind(null,e.syncEngine),n})}function a3(t,e,n={}){let r=new dr;return t.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return function(o,s,a,u,d){let p=new qm({next:w=>{p.Za(),s.enqueueAndForget(()=>BM(o,m));let E=w.docs.has(a);!E&&w.fromCache?d.reject(new ee(V.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&w.fromCache&&u&&u.source==="server"?d.reject(new ee(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(w)},error:w=>d.reject(w)}),m=new $m(Nb(a.path),p,{includeMetadataChanges:!0,_a:!0});return jM(o,m)}(yield QM(t),t.asyncQueue,e,n,r)})),r.promise}function c3(t,e,n={}){let r=new dr;return t.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return function(o,s,a,u,d){let p=new qm({next:w=>{p.Za(),s.enqueueAndForget(()=>BM(o,m)),w.fromCache&&u.source==="server"?d.reject(new ee(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(w)},error:w=>d.reject(w)}),m=new $m(a,p,{includeMetadataChanges:!0,_a:!0});return jM(o,m)}(yield QM(t),t.asyncQueue,e,n,r)})),r.promise}function YM(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var Yx=new Map;function ZM(t,e,n){if(!n)throw new ee(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function u3(t,e,n,r){if(e===!0&&r===!0)throw new ee(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Zx(t){if(!oe.isDocumentKey(t))throw new ee(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Jx(t){if(oe.isDocumentKey(t))throw new ee(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ag(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ue()}function Pi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ee(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=ag(t);throw new ee(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Gm=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ee(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ee(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}u3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ee(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ee(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ee(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Vc=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ee(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ee(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gm(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new KE;switch(r.type){case"firstParty":return new JE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ee(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return b(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=Yx.get(n);r&&(te("ComponentProvider","Removing Datastore"),Yx.delete(n),r.terminate())}(this),Promise.resolve()}};function JM(t,e,n,r={}){var i;let o=(t=Pi(t,Vc))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Sc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Vt.MOCK_USER;else{a=qp(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new ee(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Vt(d)}t._authCredentials=new QE(new Em(a,u))}}var Uc=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},an=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new No(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},No=class t extends Uc{constructor(e,n,r){super(e,n,Nb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new an(this.firestore,null,new oe(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function XM(t,e,...n){if(t=Je(t),ZM("collection","path",e),t instanceof Vc){let r=st.fromString(e,...n);return Jx(r),new No(t,null,r)}{if(!(t instanceof an||t instanceof No))throw new ee(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(st.fromString(e,...n));return Jx(r),new No(t.firestore,null,r)}}function eN(t,e,...n){if(t=Je(t),arguments.length===1&&(e=Im.newId()),ZM("doc","path",e),t instanceof Vc){let r=st.fromString(e,...n);return Zx(r),new an(t,null,new oe(r))}{if(!(t instanceof an||t instanceof No))throw new ee(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(st.fromString(e,...n));return Zx(r),new an(t.firestore,t instanceof No?t.converter:null,new oe(r))}}var Wm=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Lm(this,"async_queue_retry"),this.Vu=()=>{let r=GE();r&&te("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=GE();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=GE();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new dr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return b(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!od(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw xi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=ab.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ue()}verifyOperationInProgress(){}wu(){return b(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};var Qs=class extends Vc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Wm,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return b(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Wm(e),this._firestoreClient=void 0,yield e}})}};function tN(t,e){let n=typeof t=="object"?t:Do(),r=typeof t=="string"?t:e||"(default)",i=Rs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=zp("firestore");o&&JM(i,...o)}return i}function $b(t){if(t._terminated)throw new ee(V.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||l3(t),t._firestoreClient}function l3(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,d,p){return new rI(a,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,YM(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new gb(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var Xl=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Zt.fromBase64String(e))}catch(n){throw new ee(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var jc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ee(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var ed=class{constructor(e){this._methodName=e}};var td=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ee(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ee(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}};var nd=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var d3=/^__.*__$/,yb=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Qr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ks(e,this.data,n,this.fieldTransforms)}},Km=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Qr(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function nN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue()}}var vb=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ym(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(nN(this.Cu)&&d3.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},wb=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ig(e)}Qu(e,n,r,i=!1){return new vb({Cu:e,methodName:n,qu:r,path:Mn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Hb(t){let e=t._freezeSettings(),n=ig(t._databaseId);return new wb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function h3(t,e,n,r,i,o={}){let s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);zb("Data must be an object, but it was:",s,r);let a=rN(r,s),u,d;if(o.merge)u=new qn(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){let p=[];for(let m of o.mergeFields){let w=_b(e,m,n);if(!s.contains(w))throw new ee(V.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);oN(p,w)||p.push(w)}u=new qn(p),d=s.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,d=s.fieldTransforms;return new yb(new xn(a),u,d)}var Qm=class t extends ed{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function f3(t,e,n,r){let i=t.Qu(1,e,n);zb("Data must be an object, but it was:",i,r);let o=[],s=xn.empty();Ys(r,(u,d)=>{let p=qb(e,u,n);d=Je(d);let m=i.Nu(p);if(d instanceof Qm)o.push(p);else{let w=cd(d,m);w!=null&&(o.push(p),s.set(p,w))}});let a=new qn(o);return new Km(s,a,i.fieldTransforms)}function p3(t,e,n,r,i,o){let s=t.Qu(1,e,n),a=[_b(e,r,n)],u=[i];if(o.length%2!=0)throw new ee(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)a.push(_b(e,o[w])),u.push(o[w+1]);let d=[],p=xn.empty();for(let w=a.length-1;w>=0;--w)if(!oN(d,a[w])){let E=a[w],x=u[w];x=Je(x);let F=s.Nu(E);if(x instanceof Qm)d.push(E);else{let N=cd(x,F);N!=null&&(d.push(E),p.set(E,N))}}let m=new qn(d);return new Km(p,m,s.fieldTransforms)}function m3(t,e,n,r=!1){return cd(n,t.Qu(r?4:3,e))}function cd(t,e){if(iN(t=Je(t)))return zb("Unsupported field value:",e,t),rN(t,e);if(t instanceof ed)return function(r,i){if(!nN(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=cd(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Je(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Jz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=$t.fromDate(r);return{timestampValue:Pm(i.serializer,o)}}if(r instanceof $t){let o=new $t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Pm(i.serializer,o)}}if(r instanceof td)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xl)return{bytesValue:TM(i.serializer,r._byteString)};if(r instanceof an){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:kb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof nd)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return Pb(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${ag(r)}`)}(t,e)}function rN(t,e){let n={};return nM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ys(t,(r,i)=>{let o=cd(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function iN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $t||t instanceof td||t instanceof Xl||t instanceof an||t instanceof ed||t instanceof nd)}function zb(t,e,n){if(!iN(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=ag(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function _b(t,e,n){if((e=Je(e))instanceof jc)return e._internalPath;if(typeof e=="string")return qb(t,e);throw Ym("Field path arguments must be of type string or ",t,!1,void 0,n)}var g3=new RegExp("[~\\*/\\[\\]]");function qb(t,e,n){if(e.search(g3)>=0)throw Ym(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new jc(...e.split("."))._internalPath}catch{throw Ym(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ym(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new ee(V.INVALID_ARGUMENT,a+t+u)}function oN(t,e){return t.some(n=>n.isEqual(e))}var Zm=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Eb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Gb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Eb=class extends Zm{data(){return super.data()}};function Gb(t,e){return typeof e=="string"?qb(t,e):e instanceof jc?e._internalPath:e._delegate._internalPath}function y3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ee(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var rd=class{},Ib=class extends rd{};function sN(t,e,...n){let r=[];e instanceof rd&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof bb).length,a=o.filter(u=>u instanceof Jm).length;if(s>1||s>0&&a>0)throw new ee(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Jm=class t extends Ib{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return cN(e._query,n),new Uc(e.firestore,e.converter,gI(e._query,n))}_parse(e){let n=Hb(e.firestore);return function(o,s,a,u,d,p,m){let w;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new ee(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){eM(m,p);let E=[];for(let x of m)E.push(Xx(u,o,x));w={arrayValue:{values:E}}}else w=Xx(u,o,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||eM(m,p),w=m3(a,s,m,p==="in"||p==="not-in");return Dt.create(d,p,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function aN(t,e,n){let r=e,i=Gb("where",t);return Jm._create(i,r,n)}var bb=class t extends rd{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:fr.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)cN(s,u),s=gI(s,u)}(e._query,n),new Uc(e.firestore,e.converter,gI(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function Xx(t,e,n){if(typeof(n=Je(n))=="string"){if(n==="")throw new ee(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dM(e)&&n.indexOf("/")!==-1)throw new ee(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(st.fromString(n));if(!oe.isDocumentKey(r))throw new ee(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Tx(t,new oe(r))}if(n instanceof an)return Tx(t,n._key);throw new ee(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ag(n)}.`)}function eM(t,e){if(!Array.isArray(t)||t.length===0)throw new ee(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cN(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ee(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ee(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Cb=class{convertValue(e,n="none"){switch(zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Po(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ue()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ys(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>tt(s.doubleValue));return new nd(o)}convertGeoPoint(e){return new td(tt(e.latitude),tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Ab(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wl(e));default:return null}}convertTimestamp(e){let n=Mi(e);return new $t(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=st.fromString(e);He(MM(r));let i=new Dm(r.get(1),r.get(3)),o=new oe(r.popFirst(5));return i.isEqual(n)||xi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function v3(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Bs=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Xm=class extends Zm{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Dc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Gb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Dc=class extends Xm{data(e={}){return super.data(e)}},Tb=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Bs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Dc(this._firestore,this._userDataWriter,r.key,r,new Bs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ee(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Dc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Bs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Dc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Bs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,p=-1;return a.type!==0&&(d=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),p=s.indexOf(a.doc.key)),{type:w3(a.type),doc:u,oldIndex:d,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function w3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue()}}function uN(t){t=Pi(t,an);let e=Pi(t.firestore,Qs);return a3($b(e),t._key).then(n=>_3(e,t,n))}var eg=class extends Cb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xl(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new an(this.firestore,null,n)}};function lN(t){t=Pi(t,Uc);let e=Pi(t.firestore,Qs),n=$b(e),r=new eg(e);return y3(t._query),c3(n,t._query).then(i=>new Tb(e,r,t,i))}function dN(t,e,n){t=Pi(t,an);let r=Pi(t.firestore,Qs),i=v3(t.converter,e,n);return fN(r,[h3(Hb(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Mo.none())])}function hN(t,e,n,...r){t=Pi(t,an);let i=Pi(t.firestore,Qs),o=Hb(i),s;return s=typeof(e=Je(e))=="string"||e instanceof jc?p3(o,"updateDoc",t._key,e,n,r):f3(o,"updateDoc",t._key,e),fN(i,[s.toMutation(t._key,Mo.exists(!0))])}function fN(t,e){return function(r,i){let o=new dr;return r.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return Yq(yield s3(r),i,o)})),o.promise}($b(t),e)}function _3(t,e,n){let r=n.docs.get(e._key),i=new eg(t);return new Xm(t,i,e._key,r,new Bs(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Bc=i})(Br),jr(new gn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Qs(new YE(r.getProvider("auth-internal")),new eI(r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ee(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dm(d.options.projectId,p)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),it(Ex,"4.7.3",e),it(Ex,"4.7.3","esm2017")})();var ki=class{constructor(e){return e}},pN="firestore",Wb=class{constructor(){return yc(pN)}};var Kb=new G("angularfire2.firestore-instances");function E3(t,e){let n=Rl(pN,t,e);return n&&new ki(n)}function I3(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ki(r)}}var b3={provide:Wb,deps:[[new Wt,Kb]]},C3={provide:ki,useFactory:E3,deps:[[new Wt,Kb],bi]};function ete(t,...e){return it("angularfire",So.full,"fst"),Un([C3,b3,{provide:Kb,useFactory:I3(t),multi:!0,deps:[be,Bt,Ns,Ps,[new Wt,Vl],[new Wt,Ms],...e]}])}var Hc=ot(XM,!0);var Yr=ot(eN,!0);var cg=ot(uN,!0);var ud=ot(lN,!0);var tte=ot(tN,!0);var nte=ot(sN,!0);var ug=ot(dN,!0);var zc=ot(hN,!0);var rte=ot(aN,!0);var IN="firebasestorage.googleapis.com",bN="storageBucket",T3=2*60*1e3,D3=10*60*1e3;var lt=class t extends sn{constructor(e,n,r=0){super(Qb(e),`Firebase Storage: ${n} (${Qb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Qb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},mt=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(mt||{});function Qb(t){return"storage/"+t}function t0(){let t="An unknown error occurred, please check the error payload for server response.";return new lt(mt.UNKNOWN,t)}function S3(t){return new lt(mt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function A3(t){return new lt(mt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function R3(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new lt(mt.UNAUTHENTICATED,t)}function x3(){return new lt(mt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function M3(t){return new lt(mt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function N3(){return new lt(mt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function P3(){return new lt(mt.CANCELED,"User canceled the upload/download.")}function k3(t){return new lt(mt.INVALID_URL,"Invalid URL '"+t+"'.")}function O3(t){return new lt(mt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function F3(){return new lt(mt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+bN+"' property when initializing the app?")}function L3(){return new lt(mt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function V3(){return new lt(mt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function U3(t){return new lt(mt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Yb(t){return new lt(mt.INVALID_ARGUMENT,t)}function CN(){return new lt(mt.APP_DELETED,"The Firebase app was deleted.")}function j3(t){return new lt(mt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function dd(t,e){return new lt(mt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ld(t){throw new lt(mt.INTERNAL_ERROR,"Internal error: "+t)}var pr=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw O3(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(ne){ne.path.charAt(ne.path.length-1)==="/"&&(ne.path_=ne.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),u={bucket:1,path:3};function d(ne){ne.path_=decodeURIComponent(ne.path)}let p="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",E=new RegExp(`^https?://${m}/${p}/b/${i}/o${w}`,"i"),x={bucket:1,path:3},F=n===IN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",B=new RegExp(`^https?://${F}/${i}/${N}`,"i"),q=[{regex:a,indices:u,postModify:o},{regex:E,indices:x,postModify:d},{regex:B,indices:{bucket:1,path:2},postModify:d}];for(let ne=0;ne<q.length;ne++){let ye=q[ne],ie=ye.regex.exec(e);if(ie){let D=ie[ye.indices.bucket],I=ie[ye.indices.path];I||(I=""),r=new t(D,I),ye.postModify(r);break}}if(r==null)throw k3(e);return r}},Zb=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function B3(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function u(){return a===2}let d=!1;function p(...N){d||(d=!0,e.apply(null,N))}function m(N){i=setTimeout(()=>{i=null,t(E,u())},N)}function w(){o&&clearTimeout(o)}function E(N,...B){if(d){w();return}if(N){w(),p.call(null,N,...B);return}if(u()||s){w(),p.call(null,N,...B);return}r<64&&(r*=2);let q;a===1?(a=2,q=0):q=(r+Math.random())*1e3,m(q)}let x=!1;function F(N){x||(x=!0,w(),!d&&(i!==null?(N||(a=2),clearTimeout(i),m(0)):N||(a=1)))}return m(0),o=setTimeout(()=>{s=!0,F(!0)},n),F}function $3(t){t(!1)}function H3(t){return t!==void 0}function z3(t){return typeof t=="object"&&!Array.isArray(t)}function n0(t){return typeof t=="string"||t instanceof String}function gN(t){return r0()&&t instanceof Blob}function r0(){return typeof Blob<"u"}function yN(t,e,n,r){if(r<e)throw Yb(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Yb(`Invalid value for '${t}'. Expected ${n} or less.`)}function i0(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function TN(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Gc=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Gc||{});function q3(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}var Jb=class{constructor(e,n,r,i,o,s,a,u,d,p,m,w=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=p,this.connectionFactory_=m,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,x)=>{this.resolve_=E,this.reject_=x,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new qc(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let u=a.loaded,d=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===Gc.NO_ERROR,u=o.getStatus();if(!a||q3(u,this.additionalRetryCodes_)&&this.retry){let p=o.getErrorCode()===Gc.ABORT;r(!1,new qc(!1,null,p));return}let d=this.successCodes_.indexOf(u)!==-1;r(!0,new qc(d,o))})},n=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let u=this.callback_(a,a.getResponse());H3(u)?o(u):o()}catch(u){s(u)}else if(a!==null){let u=t0();u.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,u)):s(u)}else if(i.canceled){let u=this.appDelete_?CN():P3();s(u)}else{let u=N3();s(u)}};this.canceled_?n(!1,new qc(!1,null,!0)):this.backoffId_=B3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&$3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},qc=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function G3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function W3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function K3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Q3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Y3(t,e,n,r,i,o,s=!0){let a=TN(t.urlParams),u=t.url+a,d=Object.assign({},t.headers);return K3(d,e),G3(d,n),W3(d,o),Q3(d,r),new Jb(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}function Z3(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function J3(...t){let e=Z3();if(e!==void 0){let n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(r0())return new Blob(t);throw new lt(mt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function X3(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function e5(t){if(typeof atob>"u")throw U3("base-64");return atob(t)}var Zr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},hd=class{constructor(e,n){this.data=e,this.contentType=n||null}};function t5(t,e){switch(t){case Zr.RAW:return new hd(DN(e));case Zr.BASE64:case Zr.BASE64URL:return new hd(SN(t,e));case Zr.DATA_URL:return new hd(r5(e),i5(e))}throw t0()}function DN(t){let e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function n5(t){let e;try{e=decodeURIComponent(t)}catch{throw dd(Zr.DATA_URL,"Malformed data URL.")}return DN(e)}function SN(t,e){switch(t){case Zr.BASE64:{let i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw dd(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Zr.BASE64URL:{let i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw dd(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=e5(e)}catch(i){throw i.message.includes("polyfill")?i:dd(t,"Invalid character found")}let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}var dg=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw dd(Zr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=n[1]||null;r!=null&&(this.base64=o5(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function r5(t){let e=new dg(t);return e.base64?SN(Zr.BASE64,e.rest):n5(e.rest)}function i5(t){return new dg(t).contentType}function o5(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var hg=class t{constructor(e,n){let r=0,i="";gN(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(gN(this.data_)){let r=this.data_,i=X3(r,e,n);return i===null?null:new t(i)}else{let r=new Uint8Array(this.data_.buffer,e,n-e);return new t(r,!0)}}static getBlob(...e){if(r0()){let n=e.map(r=>r instanceof t?r.data_:r);return new t(J3.apply(null,n))}else{let n=e.map(s=>n0(s)?t5(Zr.RAW,s).data:s.data_),r=0;n.forEach(s=>{r+=s.byteLength});let i=new Uint8Array(r),o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new t(i,!0)}}uploadData(){return this.data_}};function AN(t){let e;try{e=JSON.parse(t)}catch{return null}return z3(e)?e:null}function s5(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function a5(t,e){let n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function RN(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function c5(t,e){return e}var Ht=class{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||c5}},lg=null;function u5(t){return!n0(t)||t.length<2?t:RN(t)}function xN(){if(lg)return lg;let t=[];t.push(new Ht("bucket")),t.push(new Ht("generation")),t.push(new Ht("metageneration")),t.push(new Ht("name","fullPath",!0));function e(o,s){return u5(s)}let n=new Ht("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}let i=new Ht("size");return i.xform=r,t.push(i),t.push(new Ht("timeCreated")),t.push(new Ht("updated")),t.push(new Ht("md5Hash",null,!0)),t.push(new Ht("cacheControl",null,!0)),t.push(new Ht("contentDisposition",null,!0)),t.push(new Ht("contentEncoding",null,!0)),t.push(new Ht("contentLanguage",null,!0)),t.push(new Ht("contentType",null,!0)),t.push(new Ht("metadata","customMetadata",!0)),lg=t,lg}function l5(t,e){function n(){let r=t.bucket,i=t.fullPath,o=new pr(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function d5(t,e,n){let r={};r.type="file";let i=n.length;for(let o=0;o<i;o++){let s=n[o];r[s.local]=s.xform(r,e[s.server])}return l5(r,t),r}function MN(t,e,n){let r=AN(e);return r===null?null:d5(t,r,n)}function h5(t,e,n,r){let i=AN(e);if(i===null||!n0(i.downloadTokens))return null;let o=i.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(d=>{let p=t.bucket,m=t.fullPath,w="/b/"+s(p)+"/o/"+s(m),E=i0(w,n,r),x=TN({alt:"media",token:d});return E+x})[0]}function f5(t,e){let n={},r=e.length;for(let i=0;i<r;i++){let o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var fg=class{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function NN(t){if(!t)throw t0()}function p5(t,e){function n(r,i){let o=MN(t,i,e);return NN(o!==null),o}return n}function m5(t,e){function n(r,i){let o=MN(t,i,e);return NN(o!==null),h5(o,i,t.host,t._protocol)}return n}function PN(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=x3():i=R3():n.getStatus()===402?i=A3(t.bucket):n.getStatus()===403?i=M3(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function g5(t){let e=PN(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=S3(t.path)),o.serverResponse=i.serverResponse,o}return n}function y5(t,e,n){let r=e.fullServerUrl(),i=i0(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new fg(i,o,m5(t,n),s);return a.errorHandler=g5(e),a}function v5(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function w5(t,e,n){let r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=v5(null,e)),r}function _5(t,e,n,r,i){let o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let q="";for(let ne=0;ne<2;ne++)q=q+Math.random().toString().slice(2);return q}let u=a();s["Content-Type"]="multipart/related; boundary="+u;let d=w5(e,r,i),p=f5(d,n),m="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+u+`\r
Content-Type: `+d.contentType+`\r
\r
`,w=`\r
--`+u+"--",E=hg.getBlob(m,r,w);if(E===null)throw L3();let x={name:d.fullPath},F=i0(o,t.host,t._protocol),N="POST",B=t.maxUploadRetryTime,J=new fg(F,N,p5(t,n),B);return J.urlParams=x,J.headers=s,J.body=E.uploadData(),J.errorHandler=PN(e),J}var cte=256*1024;var vN=null,Xb=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Gc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Gc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Gc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw ld("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(let o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ld("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ld("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ld("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ld("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},e0=class extends Xb{initXhr(){this.xhr_.responseType="text"}};function kN(){return vN?vN():new e0}var Wc=class t{constructor(e,n){this._service=e,n instanceof pr?this._location=n:this._location=pr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new pr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return RN(this._location.path)}get storage(){return this._service}get parent(){let e=s5(this._location.path);if(e===null)return null;let n=new pr(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw j3(e)}};function E5(t,e,n){t._throwIfRoot("uploadBytes");let r=_5(t.storage,t._location,xN(),new hg(e,!0),n);return t.storage.makeRequestWithTokens(r,kN).then(i=>({metadata:i,ref:t}))}function I5(t){t._throwIfRoot("getDownloadURL");let e=y5(t.storage,t._location,xN());return t.storage.makeRequestWithTokens(e,kN).then(n=>{if(n===null)throw V3();return n})}function b5(t,e){let n=a5(t._location.path,e),r=new pr(t._location.bucket,n);return new Wc(t.storage,r)}function C5(t){return/^[A-Za-z]+:\/\//.test(t)}function T5(t,e){return new Wc(t,e)}function ON(t,e){if(t instanceof fd){let n=t;if(n._bucket==null)throw F3();let r=new Wc(n,n._bucket);return e!=null?ON(r,e):r}else return e!==void 0?b5(t,e):t}function D5(t,e){if(e&&C5(e)){if(t instanceof fd)return T5(t,e);throw Yb("To use ref(service, url), the first argument must be a Storage instance.")}else return ON(t,e)}function wN(t,e){let n=e?.[bN];return n==null?null:pr.makeFromBucketSpec(n,t)}function S5(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:qp(i,t.app.options.projectId))}var fd=class{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=IN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=T3,this._maxUploadRetryTime=D3,this._requests=new Set,i!=null?this._bucket=pr.makeFromBucketSpec(i,this._host):this._bucket=wN(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=pr.makeFromBucketSpec(this._url,e):this._bucket=wN(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){yN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){yN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return b(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return b(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Wc(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new Zb(CN());{let s=Y3(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){return b(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},_N="@firebase/storage",EN="0.13.2";var FN="storage";function LN(t,e,n){return t=Je(t),E5(t,e,n)}function VN(t){return t=Je(t),I5(t)}function UN(t,e){return t=Je(t),D5(t,e)}function jN(t=Do(),e){t=Je(t);let r=Rs(t,FN).getImmediate({identifier:e}),i=zp("storage");return i&&BN(r,...i),r}function BN(t,e,n,r={}){S5(t,e,n,r)}function A5(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new fd(n,r,i,e,Br)}function R5(){jr(new gn(FN,A5,"PUBLIC").setMultipleInstances(!0)),it(_N,EN,""),it(_N,EN,"esm2017")}R5();var $N=ot(VN,!0);var HN=ot(jN,!0);var zN=ot(UN,!0);var qN=ot(LN,!0);var Gn=class t{constructor(e,n){this.auth=e;this.firestore=n}userSubject=new ft(null);uploadImage(e){return b(this,null,function*(){let n=HN(),r=zN(n,`images/${e.name}`);try{return yield qN(r,e),yield $N(r)}catch(i){throw console.error("Error al subir la imagen:",i),i}})}registerUser(e,n,r,i){return b(this,null,function*(){try{let o=yield mx(this.auth,e,n);yield gx(o.user);let s=i!=="especialista",a=le(j({uid:o.user.uid},r),{role:i,createdAt:new Date,habilitado:s,emailVerificado:!1});return yield ug(Yr(this.firestore,"users",o.user.uid),a),le(j({},o.user),{role:i})}catch(o){throw console.error(`Error al registrar el ${i}:`,o),o}})}verificarCorreo(e){return b(this,null,function*(){let n=this.auth.currentUser;if(n){yield n.reload();let r=yield this.getUserData(n.uid);n.emailVerified&&(yield zc(Yr(this.firestore,`users/${n.uid}`),{emailVerificado:!0}))}})}login(e,n){return b(this,null,function*(){try{let r=yield yx(this.auth,e,n);yield this.verificarCorreo(r.user.uid);let i=yield this.getUserData(r.user.uid);if(i.role==="especialista"){if(!i.habilitado)throw new Error("Tu cuenta debe ser aprobada por un administrador antes de poder iniciar sesi\xF3n.");if(!i.emailVerificado)throw new Error("Debes verificar tu correo electr\xF3nico para ingresar.")}else if(!i.emailVerificado)throw new Error("Debes verificar tu correo electr\xF3nico para ingresar.");return this.userSubject.next(j(j({},r.user),i)),j(j({},r.user),i)}catch(r){throw console.error("Error en el login:",r),r}})}getUserData(e){return b(this,null,function*(){let n=Yr(this.firestore,`users/${e}`),r=yield cg(n);if(r.exists())return r.data();throw new Error("No se encontr\xF3 el documento del usuario")})}logout(){return vx(this.auth).then(()=>{this.userSubject.next(null)})}habilitarUsuario(e){return b(this,null,function*(){let n=Yr(this.firestore,"users",e);yield zc(n,{habilitado:!0})})}inhabilitarUsuario(e){return b(this,null,function*(){let n=Yr(this.firestore,"users",e);yield zc(n,{habilitado:!1})})}obtenerUsuarios(){return b(this,null,function*(){let e=Hc(this.firestore,"users");return(yield ud(e)).docs.map(r=>j({id:r.id},r.data()))})}getUser(){return this.userSubject.asObservable()}static \u0275fac=function(n){return new(n||t)(W(Vs),W(ki))};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})};var tP=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(Z(sr),Z(Dn))}}static{this.\u0275dir=Ge({type:t})}}return t})(),bg=(()=>{class t extends tP{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=hi(t)))(i||t)}})()}static{this.\u0275dir=Ge({type:t,features:[mn]})}}return t})(),Jc=new G("");var x5={provide:Jc,useExisting:Cn(()=>Jr),multi:!0};function M5(){let t=Lr()?Lr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var N5=new G(""),Jr=(()=>{class t extends tP{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!M5())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(Z(sr),Z(Dn),Z(N5,8))}}static{this.\u0275dir=Ge({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ie("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[ar([x5]),mn]})}}return t})();function Fo(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function nP(t){return t!=null&&typeof t.length=="number"}var Ed=new G(""),Cg=new G(""),P5=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ce=class{static min(e){return k5(e)}static max(e){return O5(e)}static required(e){return rP(e)}static requiredTrue(e){return F5(e)}static email(e){return L5(e)}static minLength(e){return V5(e)}static maxLength(e){return U5(e)}static pattern(e){return j5(e)}static nullValidator(e){return mg(e)}static compose(e){return uP(e)}static composeAsync(e){return lP(e)}};function k5(t){return e=>{if(Fo(e.value)||Fo(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function O5(t){return e=>{if(Fo(e.value)||Fo(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function rP(t){return Fo(t.value)?{required:!0}:null}function F5(t){return t.value===!0?null:{required:!0}}function L5(t){return Fo(t.value)||P5.test(t.value)?null:{email:!0}}function V5(t){return e=>Fo(e.value)||!nP(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function U5(t){return e=>nP(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function j5(t){if(!t)return mg;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Fo(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function mg(t){return null}function iP(t){return t!=null}function oP(t){return Es(t)?Ze(t):t}function sP(t){let e={};return t.forEach(n=>{e=n!=null?j(j({},e),n):e}),Object.keys(e).length===0?null:e}function aP(t,e){return e.map(n=>n(t))}function B5(t){return!t.validate}function cP(t){return t.map(e=>B5(e)?e:n=>e.validate(n))}function uP(t){if(!t)return null;let e=t.filter(iP);return e.length==0?null:function(n){return sP(aP(n,e))}}function l0(t){return t!=null?uP(cP(t)):null}function lP(t){if(!t)return null;let e=t.filter(iP);return e.length==0?null:function(n){let r=aP(n,e).map(oP);return Ty(r).pipe(pe(sP))}}function d0(t){return t!=null?lP(cP(t)):null}function GN(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function dP(t){return t._rawValidators}function hP(t){return t._rawAsyncValidators}function o0(t){return t?Array.isArray(t)?t:[t]:[]}function gg(t,e){return Array.isArray(t)?t.includes(e):t===e}function WN(t,e){let n=o0(e);return o0(t).forEach(i=>{gg(n,i)||n.push(i)}),n}function KN(t,e){return o0(e).filter(n=>!gg(t,n))}var yg=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=l0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=d0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Oi=class extends yg{get formDirective(){return null}get path(){return null}},Js=class extends yg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},vg=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},$5={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Zte=le(j({},$5),{"[class.ng-submitted]":"isSubmitted"}),Vo=(()=>{class t extends vg{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(Z(Js,2))}}static{this.\u0275dir=Ge({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Kf("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[mn]})}}return t})(),Uo=(()=>{class t extends vg{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(Z(Oi,10))}}static{this.\u0275dir=Ge({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Kf("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[mn]})}}return t})();var md="VALID",pg="INVALID",Kc="PENDING",gd="DISABLED",Lo=class{},wg=class extends Lo{constructor(e,n){super(),this.value=e,this.source=n}},vd=class extends Lo{constructor(e,n){super(),this.pristine=e,this.source=n}},wd=class extends Lo{constructor(e,n){super(),this.touched=e,this.source=n}},Qc=class extends Lo{constructor(e,n){super(),this.status=e,this.source=n}},s0=class extends Lo{constructor(e){super(),this.source=e}},a0=class extends Lo{constructor(e){super(),this.source=e}};function h0(t){return(Tg(t)?t.validators:t)||null}function H5(t){return Array.isArray(t)?l0(t):t||null}function f0(t,e){return(Tg(e)?e.asyncValidators:t)||null}function z5(t){return Array.isArray(t)?d0(t):t||null}function Tg(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function fP(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new re(1e3,"");if(!r[n])throw new re(1001,"")}function pP(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new re(1002,"")})}var Yc=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Ja(()=>this.statusReactive()),this.statusReactive=Za(void 0),this._pristine=Ja(()=>this.pristineReactive()),this.pristineReactive=Za(!0),this._touched=Ja(()=>this.touchedReactive()),this.touchedReactive=Za(!1),this._events=new ht,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Fr(this.statusReactive)}set status(e){Fr(()=>this.statusReactive.set(e))}get valid(){return this.status===md}get invalid(){return this.status===pg}get pending(){return this.status==Kc}get disabled(){return this.status===gd}get enabled(){return this.status!==gd}get pristine(){return Fr(this.pristineReactive)}set pristine(e){Fr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Fr(this.touchedReactive)}set touched(e){Fr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(WN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(WN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(KN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(KN(e,this._rawAsyncValidators))}hasValidator(e){return gg(this._rawValidators,e)}hasAsyncValidator(e){return gg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(le(j({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new wd(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new wd(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(le(j({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new vd(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new vd(!0,r))}markAsPending(e={}){this.status=Kc;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Qc(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(le(j({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=gd,this.errors=null,this._forEachChild(i=>{i.disable(le(j({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new wg(this.value,r)),this._events.next(new Qc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(le(j({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=md,this._forEachChild(r=>{r.enable(le(j({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(le(j({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===md||this.status===Kc)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new wg(this.value,n)),this._events.next(new Qc(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(le(j({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gd:md}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Kc,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=oP(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Qc(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new rt,this.statusChanges=new rt}_calculateStatus(){return this._allControlsDisabled()?gd:this.errors?pg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Kc)?Kc:this._anyControlsHaveStatus(pg)?pg:md}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new vd(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new wd(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Tg(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=H5(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=z5(this._rawAsyncValidators)}},Zc=class extends Yc{constructor(e,n,r){super(h0(n),f0(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){pP(this,!0,e),Object.keys(e).forEach(r=>{fP(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var c0=class extends Zc{};var Id=new G("CallSetDisabledState",{providedIn:"root",factory:()=>Dg}),Dg="always";function mP(t,e){return[...e.path,t]}function _g(t,e,n=Dg){p0(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),G5(t,e),K5(t,e),W5(t,e),q5(t,e)}function QN(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Ig(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Eg(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function q5(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function p0(t,e){let n=dP(t);e.validator!==null?t.setValidators(GN(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=hP(t);e.asyncValidator!==null?t.setAsyncValidators(GN(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Eg(e._rawValidators,i),Eg(e._rawAsyncValidators,i)}function Ig(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=dP(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=hP(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Eg(e._rawValidators,r),Eg(e._rawAsyncValidators,r),n}function G5(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&gP(t,e)})}function W5(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&gP(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function gP(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function K5(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function yP(t,e){t==null,p0(t,e)}function Q5(t,e){return Ig(t,e)}function vP(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Y5(t){return Object.getPrototypeOf(t.constructor)===bg}function wP(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function _P(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Jr?n=o:Y5(o)?r=o:i=o}),i||r||n||null}function Z5(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var J5={provide:Oi,useExisting:Cn(()=>m0)},yd=Promise.resolve(),m0=(()=>{class t extends Oi{get submitted(){return Fr(this.submittedReactive)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=Ja(()=>this.submittedReactive()),this.submittedReactive=Za(!1),this._directives=new Set,this.ngSubmit=new rt,this.form=new Zc({},l0(n),d0(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){yd.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),_g(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){yd.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){yd.then(()=>{let r=this._findContainer(n.path),i=new Zc({});yP(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){yd.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){yd.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),wP(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||t)(Z(Ed,10),Z(Cg,10),Z(Id,8))}}static{this.\u0275dir=Ge({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Ie("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ar([J5]),mn]})}}return t})();function YN(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ZN(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var _d=class extends Yc{constructor(e=null,n,r){super(h0(n),f0(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Tg(n)&&(n.nonNullable||n.initialValueIsDefault)&&(ZN(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){YN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){YN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){ZN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var X5=t=>t instanceof _d;var eG={provide:Js,useExisting:Cn(()=>g0)},JN=Promise.resolve(),g0=(()=>{class t extends Js{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new _d,this._registered=!1,this.name="",this.update=new rt,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=_P(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),vP(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){_g(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){JN.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Wu(r);JN.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?mP(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(Z(Oi,9),Z(Ed,10),Z(Cg,10),Z(Jc,10),Z(Is,8),Z(Id,8))}}static{this.\u0275dir=Ge({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ar([eG]),mn,di]})}}return t})(),jo=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ge({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),tG={provide:Jc,useExisting:Cn(()=>Xs),multi:!0},Xs=(()=>{class t extends bg{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=hi(t)))(i||t)}})()}static{this.\u0275dir=Ge({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Ie("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[ar([tG]),mn]})}}return t})();var EP=new G("");var nG={provide:Oi,useExisting:Cn(()=>ea)},ea=(()=>{class t extends Oi{get submitted(){return Fr(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=Ja(()=>this._submittedReactive()),this._submittedReactive=Za(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new rt,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ig(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return _g(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){QN(n.control||null,n,!1),Z5(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),wP(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new s0(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new a0(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(QN(r||null,n),X5(i)&&(_g(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);yP(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&Q5(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){p0(this.form,this),this._oldForm&&Ig(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(Z(Ed,10),Z(Cg,10),Z(Id,8))}}static{this.\u0275dir=Ge({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Ie("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ar([nG]),mn,di]})}}return t})();var rG={provide:Js,useExisting:Cn(()=>ta)},ta=(()=>{class t extends Js{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new rt,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=_P(this,o)}ngOnChanges(n){this._added||this._setUpControl(),vP(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return mP(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(Z(Oi,13),Z(Ed,10),Z(Cg,10),Z(Jc,10),Z(EP,8))}}static{this.\u0275dir=Ge({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[ar([rG]),mn,di]})}}return t})(),iG={provide:Jc,useExisting:Cn(()=>bP),multi:!0};function IP(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function oG(t){return t.split(":")[0]}var bP=(()=>{class t extends bg{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=IP(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=oG(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=hi(t)))(i||t)}})()}static{this.\u0275dir=Ge({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Ie("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ar([iG]),mn]})}}return t})(),Xte=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(IP(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(Z(Dn),Z(sr),Z(bP,9))}}static{this.\u0275dir=Ge({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),sG={provide:Jc,useExisting:Cn(()=>CP),multi:!0};function XN(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function aG(t){return t.split(":")[0]}var CP=(()=>{class t extends bg{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],d=this._getOptionValue(u.value);i.push(d)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let d=this._getOptionValue(u.value);i.push(d)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=aG(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=hi(t)))(i||t)}})()}static{this.\u0275dir=Ge({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Ie("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ar([sG]),mn]})}}return t})(),ene=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(XN(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(XN(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(Z(Dn),Z(sr),Z(CP,9))}}static{this.\u0275dir=Ge({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();var cG=(()=>{class t{constructor(){this._validator=mg}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):mg,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ge({type:t,features:[di]})}}return t})();var uG={provide:Ed,useExisting:Cn(()=>y0),multi:!0};var y0=(()=>{class t extends cG{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Wu,this.createValidator=n=>rP}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=hi(t)))(i||t)}})()}static{this.\u0275dir=Ge({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&zu("required",i._enabled?"":null)},inputs:{required:"required"},features:[ar([uG]),mn]})}}return t})();var TP=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=et({type:t})}static{this.\u0275inj=Xe({})}}return t})(),u0=class extends Yc{constructor(e,n,r){super(h0(n),f0(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){pP(this,!1,e),e.forEach((r,i)=>{fP(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function eP(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var Xc=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return eP(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Zc(i,o)}record(n,r=null){let i=this._reduceControls(n);return new c0(i,r)}control(n,r,i){let o={};return this.useNonNullable?(eP(r)?o=r:(o.validators=r,o.asyncValidators=i),new _d(n,le(j({},o),{nonNullable:!0}))):new _d(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new u0(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof _d)return n;if(n instanceof Yc)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var DP=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Id,useValue:n.callSetDisabledState??Dg}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=et({type:t})}static{this.\u0275inj=Xe({imports:[TP]})}}return t})(),SP=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:EP,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Id,useValue:n.callSetDisabledState??Dg}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=et({type:t})}static{this.\u0275inj=Xe({imports:[TP]})}}return t})();var mr=gh(bd());var Bo=class t{constructor(e,n){this.el=e;this.renderer=n}imageSrc;rows=3;cols=3;puzzlePieces=[];originalPositions=[];isSolved=!1;captchaValido=!1;ngOnInit(){this.createPuzzle()}createPuzzle(){let e=this.el.nativeElement,n=this.el.nativeElement.offsetWidth,r=this.el.nativeElement.offsetHeight,i=n/this.cols,o=r/this.rows;for(let s=0;s<this.rows;s++)for(let a=0;a<this.cols;a++){let u=this.createPiece(s,a,i,o);this.puzzlePieces.push(u),this.originalPositions.push({row:s,col:a}),this.renderer.appendChild(e,u.element)}this.shufflePieces(i,o)}createPiece(e,n,r,i){let o=this.renderer.createElement("div"),s=-n*r,a=-e*i;return this.renderer.setStyle(o,"background-image",`url(${this.imageSrc})`),this.renderer.setStyle(o,"background-position",`${s}px ${a}px`),this.renderer.setStyle(o,"width",`${r}px`),this.renderer.setStyle(o,"height",`${i}px`),this.renderer.setStyle(o,"position","absolute"),this.renderer.setStyle(o,"top",`${e*i}px`),this.renderer.setStyle(o,"left",`${n*r}px`),this.renderer.setStyle(o,"cursor","pointer"),o.addEventListener("click",()=>this.handlePieceClick(o,e,n)),{element:o,row:e,col:n}}shufflePieces(e,n){this.getShuffledIndexes().forEach((i,o)=>{let s=this.puzzlePieces[o],a=Math.floor(i/this.cols),u=i%this.cols;this.renderer.setStyle(s.element,"top",`${a*n}px`),this.renderer.setStyle(s.element,"left",`${u*e}px`),s.row=a,s.col=u})}getShuffledIndexes(){let e=[];for(let n=0;n<this.rows*this.cols;n++)e.push(n);return this.shuffleArray(e)}shuffleArray(e){for(let n=e.length-1;n>0;n--){let r=Math.floor(Math.random()*(n+1));[e[n],e[r]]=[e[r],e[n]]}return e}handlePieceClick(e,n,r){let i=this.puzzlePieces.find(o=>o.row===this.rows-1&&o.col===this.cols-1);this.isAdjacent(e,i)&&(this.swapPieces(e,i),this.checkIfSolved())}isAdjacent(e,n){let r=Math.abs(e.row-n.row),i=Math.abs(e.col-n.col);return r===1&&i===0||r===0&&i===1}swapPieces(e,n){let r=e.row,i=e.col;this.renderer.setStyle(e.element,"top",`${n.row*100}px`),this.renderer.setStyle(e.element,"left",`${n.col*100}px`),this.renderer.setStyle(n.element,"top",`${r*100}px`),this.renderer.setStyle(n.element,"left",`${i*100}px`),e.row=n.row,e.col=n.col,n.row=r,n.col=i}checkIfSolved(){let e=!0;this.puzzlePieces.forEach(n=>{let r=this.originalPositions.find(i=>i.row===n.row&&i.col===n.col);(n.row!==r.row||n.col!==r.col)&&(e=!1)}),e&&(this.isSolved=!0,this.emitPuzzleSolved())}emitPuzzleSolved(){this.isSolved=!0,alert("\xA1Rompecabezas resuelto correctamente!"),this.captchaValido=!0}static \u0275fac=function(n){return new(n||t)(Z(Dn),Z(sr))};static \u0275dir=Ge({type:t,selectors:[["","appRecaptcha",""]],inputs:{imageSrc:"imageSrc",rows:"rows",cols:"cols"}})};function lG(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function dG(t,e){t&1&&(L(0,"div"),U(1,"Solo se permiten letras."),P())}function hG(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function fG(t,e){t&1&&(L(0,"div"),U(1,"Solo se permiten letras."),P())}function pG(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function mG(t,e){t&1&&(L(0,"div"),U(1,"La edad m\xEDnima es 18 a\xF1os."),P())}function gG(t,e){t&1&&(L(0,"div"),U(1,"La edad m\xE1xima es 99 a\xF1os."),P())}function yG(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function vG(t,e){t&1&&(L(0,"div"),U(1,"El DNI debe tener 8 d\xEDgitos."),P())}function wG(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function _G(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function EG(t,e){t&1&&(L(0,"div"),U(1,"Formato de email inv\xE1lido."),P())}function IG(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function bG(t,e){t&1&&(L(0,"div"),U(1,"La contrase\xF1a debe tener al menos 6 caracteres."),P())}function CG(t,e){t&1&&(L(0,"div"),U(1,"Debes subir exactamente 2 im\xE1genes."),P())}function TG(t,e){if(t&1){let n=kr();L(0,"div")(1,"div",20),Ie("solved",function(i){Nr(n);let o=Or();return Pr(o.onCaptchaResolved(i))}),P()()}t&2&&(K(),Q("imageSrc","https://upload.wikimedia.org/wikipedia/commons/4/41/Siberischer_tiger_de_edit02.jpg")("rows",3)("cols",3))}function DG(t,e){t&1&&(L(0,"div")(1,"span"),U(2,"Captcha completado con \xE9xito"),P()())}var Ag=class t{constructor(e,n,r){this.fb=e;this.authService=n;this.router=r;this.pacienteForm=this.fb.group({nombre:["",[ce.required,ce.pattern("^[a-zA-Z ]*$")]],apellido:["",[ce.required,ce.pattern("^[a-zA-Z ]*$")]],edad:["",[ce.required,ce.min(1),ce.max(123)]],dni:["",[ce.required,ce.pattern("^[0-9]{8,8}$")]],obraSocial:["",ce.required],email:["",[ce.required,ce.email]],password:["",[ce.required,ce.minLength(6)]],imagenes:this.fb.array([],[ce.required])})}pacienteForm;allowedFileTypes=["image/jpeg","image/png","image/gif"];maxFileSize=2*1024*1024;captchaValido=!1;agregarImagen(e){let n=e.target,r=this.pacienteForm.get("imagenes");if(n.files&&n.files.length>0){let i=Array.from(n.files);for(let o of i){if(!this.allowedFileTypes.includes(o.type)){mr.default.fire("Tipo de archivo no v\xE1lido","Solo se permiten im\xE1genes en formato JPEG, PNG o GIF.","error");return}if(o.size>this.maxFileSize){mr.default.fire("Tama\xF1o de archivo excedido","El tama\xF1o m\xE1ximo permitido es de 2 MB por archivo.","error");return}}if(r.length>=2){mr.default.fire("Error","Solo puedes subir hasta 2 im\xE1genes.","error");return}i.forEach(o=>{r.length<2&&r.push(this.fb.control(o))})}}mostrarError(e,n){let r=this.pacienteForm.get(e);return r?r.hasError(n)&&(r.dirty||r.touched):!1}guardarPaciente(){return b(this,null,function*(){if(this.pacienteForm.valid&&this.captchaValido){let e=this.pacienteForm.get("imagenes");if(e.length!==2){mr.default.fire("Error","Debes subir exactamente 2 im\xE1genes.","error");return}mr.default.fire({title:"Cargando...",text:"Por favor, espera un momento.",allowOutsideClick:!1,didOpen:()=>{mr.default.showLoading()}});try{let n=[];for(let i=0;i<e.length;i++){let o=e.at(i).value,s=yield this.authService.uploadImage(o);n.push(s)}let r=le(j({},this.pacienteForm.value),{role:"paciente",imagenes:n});yield this.authService.registerUser(r.email,r.password,r,"paciente"),mr.default.fire("Registro exitoso","El paciente ha sido registrado correctamente","success"),this.pacienteForm.reset(),this.router.navigate(["/bienvenida"])}catch(n){mr.default.fire("Error",`Ha ocurrido un error durante el registro: ${n}`,"error")}finally{mr.default.close()}}else mr.default.fire("Formulario inv\xE1lido","Por favor, completa todos los campos correctamente.","warning")})}onCaptchaResolved(e){this.captchaValido=!!e}static \u0275fac=function(n){return new(n||t)(Z(Xc),Z(Gn),Z(Ot))};static \u0275cmp=Tn({type:t,selectors:[["app-registro-paciente"]],decls:53,vars:19,consts:[[3,"ngSubmit","formGroup"],["for","nombre"],["id","nombre","formControlName","nombre"],[4,"ngIf"],["for","apellido"],["id","apellido","formControlName","apellido"],["for","edad"],["id","edad","type","number","formControlName","edad"],["for","dni"],["id","dni","formControlName","dni"],["for","obraSocial"],["id","obraSocial","formControlName","obraSocial"],["for","email"],["id","email","formControlName","email"],["for","password"],["id","password","type","password","formControlName","password"],["for","imagenes"],["type","file","multiple","",3,"change"],[1,"captcha-container"],["type","submit",3,"disabled"],["appRecaptcha","",3,"solved","imageSrc","rows","cols"]],template:function(n,r){n&1&&(L(0,"form",0),Ie("ngSubmit",function(){return r.guardarPaciente()}),L(1,"div")(2,"label",1),U(3,"Nombre:"),P(),we(4,"input",2),Ne(5,lG,2,0,"div",3)(6,dG,2,0,"div",3),P(),L(7,"div")(8,"label",4),U(9,"Apellido:"),P(),we(10,"input",5),Ne(11,hG,2,0,"div",3)(12,fG,2,0,"div",3),P(),L(13,"div")(14,"label",6),U(15,"Edad:"),P(),we(16,"input",7),Ne(17,pG,2,0,"div",3)(18,mG,2,0,"div",3)(19,gG,2,0,"div",3),P(),L(20,"div")(21,"label",8),U(22,"DNI:"),P(),we(23,"input",9),Ne(24,yG,2,0,"div",3)(25,vG,2,0,"div",3),P(),L(26,"div")(27,"label",10),U(28,"Obra Social:"),P(),we(29,"input",11),Ne(30,wG,2,0,"div",3),P(),L(31,"div")(32,"label",12),U(33,"Email:"),P(),we(34,"input",13),Ne(35,_G,2,0,"div",3)(36,EG,2,0,"div",3),P(),L(37,"div")(38,"label",14),U(39,"Contrase\xF1a:"),P(),we(40,"input",15),Ne(41,IG,2,0,"div",3)(42,bG,2,0,"div",3),P(),L(43,"div")(44,"label",16),U(45,"Sube exactamente 2 im\xE1genes:"),P(),L(46,"input",17),Ie("change",function(o){return r.agregarImagen(o)}),P(),Ne(47,CG,2,0,"div",3),P(),L(48,"div",18),Ne(49,TG,2,3,"div",3)(50,DG,3,0,"div",3),P(),L(51,"button",19),U(52,"Registrar Paciente "),P()()),n&2&&(Q("formGroup",r.pacienteForm),K(5),Q("ngIf",r.mostrarError("nombre","required")),K(),Q("ngIf",r.mostrarError("nombre","pattern")),K(5),Q("ngIf",r.mostrarError("apellido","required")),K(),Q("ngIf",r.mostrarError("apellido","pattern")),K(5),Q("ngIf",r.mostrarError("edad","required")),K(),Q("ngIf",r.mostrarError("edad","min")),K(),Q("ngIf",r.mostrarError("edad","max")),K(5),Q("ngIf",r.mostrarError("dni","required")),K(),Q("ngIf",r.mostrarError("dni","pattern")),K(5),Q("ngIf",r.mostrarError("obraSocial","required")),K(5),Q("ngIf",r.mostrarError("email","required")),K(),Q("ngIf",r.mostrarError("email","email")),K(5),Q("ngIf",r.mostrarError("password","required")),K(),Q("ngIf",r.mostrarError("password","minlength")),K(5),Q("ngIf",r.mostrarError("imagenes","required")),K(2),Q("ngIf",!r.captchaValido),K(),Q("ngIf",r.captchaValido),K(),Q("disabled",!r.captchaValido))},dependencies:[vo,jo,Jr,Xs,Vo,Uo,ea,ta,Bo],styles:['@charset "UTF-8";form[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;padding:30px;border:1px solid #007bff;border-radius:10px;background-color:#e0f7fa;box-shadow:0 4px 20px #0003}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:8px;display:block;color:#007bff}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #007bff;border-radius:6px;margin-bottom:15px;box-sizing:border-box;transition:border-color .3s,background-color .3s;background-color:#f1f1f1}input[type=text][_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus, input[type=email][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus{border-color:#0056b3;outline:none;background-color:#fff}div[ngIf][_ngcontent-%COMP%]{color:#dc3545;font-size:.9em;margin-top:-10px;margin-bottom:10px}button[type=submit][_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:12px 15px;border:none;border-radius:6px;cursor:pointer;transition:background-color .3s,transform .2s;width:100%;font-size:1em}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:translateY(-2px)}input[type=text][_ngcontent-%COMP%]:hover, input[type=number][_ngcontent-%COMP%]:hover, input[type=email][_ngcontent-%COMP%]:hover, input[type=password][_ngcontent-%COMP%]:hover{border-color:#0056b3}div[_ngcontent-%COMP%]{margin-bottom:15px}']})};var Jt=gh(bd());var xg=class t{constructor(e){this.firestore=e}addEspecialidad(e,n){return b(this,null,function*(){let r=Yr(Hc(this.firestore,"especialidades"));yield ug(r,{nombre:e,imagen:n})})}getEspecialidades(){return b(this,null,function*(){let e=Hc(this.firestore,"especialidades");return(yield ud(e)).docs.map(r=>j({id:r.id},r.data()))})}getEspecialidadesPorEspecialista(e){return b(this,null,function*(){try{let n=Hc(this.firestore,"especialidades"),r=yield ud(n),i=[];for(let o of r.docs){let s=o.data();for(let a of e.especialidades)if(a===s.nombre){i.push(j({id:o.id},s));break}}return i}catch(n){throw console.error("Error al obtener las especialidades del especialista:",n),new Error("No se pudieron obtener las especialidades")}})}getEspecialidad(e){return b(this,null,function*(){let n=Yr(this.firestore,`especialidades/${e}`),r=yield cg(n);if(r.exists())return j({id:r.id},r.data());throw new Error("No se encontr\xF3 la especialidad")})}updateEspecialidad(e,n){return b(this,null,function*(){let r=Yr(this.firestore,`especialidades/${e}`);yield zc(r,{nombre:n})})}static \u0275fac=function(n){return new(n||t)(W(ki))};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})};function RG(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function xG(t,e){t&1&&(L(0,"div"),U(1,"Solo se permiten letras."),P())}function MG(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function NG(t,e){t&1&&(L(0,"div"),U(1,"Solo se permiten letras."),P())}function PG(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function kG(t,e){t&1&&(L(0,"div"),U(1,"La edad m\xEDnima es 18 a\xF1os."),P())}function OG(t,e){t&1&&(L(0,"div"),U(1,"La edad m\xE1xima es 99 a\xF1os."),P())}function FG(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function LG(t,e){t&1&&(L(0,"div"),U(1,"El DNI debe tener 8 d\xEDgitos."),P())}function VG(t,e){if(t&1){let n=kr();L(0,"div")(1,"input",22),Ie("change",function(i){Nr(n);let o=Or();return Pr(o.onEspecialidadChange(i))}),P(),U(2),P()}if(t&2){let n=e.$implicit;K(),Q("value",n),K(),Qf(" ",n," ")}}function UG(t,e){t&1&&(L(0,"div")(1,"p"),U(2,"No hay especialidades disponibles. Puedes agregar una nueva a continuaci\xF3n:"),P()())}function jG(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function BG(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio si no hay especialidades disponibles."),P())}function $G(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function HG(t,e){t&1&&(L(0,"div"),U(1,"El formato del email es inv\xE1lido."),P())}function zG(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function qG(t,e){t&1&&(L(0,"div"),U(1,"La contrase\xF1a debe tener al menos 6 caracteres."),P())}function GG(t,e){t&1&&(L(0,"div"),U(1,"Se debe cargar una imagen."),P())}function WG(t,e){if(t&1){let n=kr();L(0,"div")(1,"div",23),Ie("solved",function(i){Nr(n);let o=Or();return Pr(o.onCaptchaResolved(i))}),P()()}t&2&&(K(),Q("imageSrc","https://upload.wikimedia.org/wikipedia/commons/4/41/Siberischer_tiger_de_edit02.jpg")("rows",3)("cols",3))}function KG(t,e){t&1&&(L(0,"div")(1,"span"),U(2,"Captcha completado con \xE9xito"),P()())}var Mg=class t{constructor(e,n,r,i){this.fb=e;this.authService=n;this.router=r;this.especialidadService=i;this.especialistaForm=this.fb.group({nombre:["",[ce.required,ce.pattern("^[a-zA-Z ]*$")]],apellido:["",[ce.required,ce.pattern("^[a-zA-Z ]*$")]],edad:["",[ce.required,ce.min(18),ce.max(99)]],dni:["",[ce.required,ce.pattern("^[0-9]{8}$")]],especialidades:this.fb.array([],ce.required),nuevaEspecialidad:[""],imagenesEspecialidades:this.fb.array([]),email:["",[ce.required,ce.email]],password:["",[ce.required,ce.minLength(6)]],imagenes:this.fb.array([],ce.required)})}especialistaForm;allowedFileTypes=["image/jpeg","image/png","image/gif"];maxFileSize=2*1024*1024;especialidades=[];captchaValido=!1;ngOnInit(){this.loadEspecialidades()}loadEspecialidades(){this.especialidadService.getEspecialidades().then(e=>{this.especialidades=e.map(n=>n.nombre)})}onEspecialidadChange(e){let n=this.especialistaForm.get("especialidades");if(e.target.checked)n.push(this.fb.control(e.target.value));else{let r=n.controls.findIndex(i=>i.value===e.target.value);r>=0&&n.removeAt(r)}}agregarNuevaEspecialidad(e){let n=this.especialistaForm.get("nuevaEspecialidad")?.value?.trim();if(!n){Jt.default.fire("Advertencia","Ingresa una nueva especialidad antes de agregarla.","warning");return}if(this.especialidades.includes(n)){Jt.default.fire("Advertencia","La especialidad ya existe en la lista.","warning");return}let r=null;if(e){let o=e.target;if(o.files&&o.files.length>0){if(r=o.files[0],!this.allowedFileTypes.includes(r.type)){Jt.default.fire("Tipo de archivo no v\xE1lido","Por favor, sube una imagen en formato JPEG, PNG o GIF.","error");return}if(r.size>this.maxFileSize){Jt.default.fire("Tama\xF1o de archivo excedido","El tama\xF1o m\xE1ximo permitido es de 2 MB.","error");return}}}(r?this.authService.uploadImage(r):Promise.resolve("https://proquimed.com.mx/wp-content/uploads/2022/04/hablemos-de-la-especialidad-medica-de-patologia-clinica-blog-proquimed.jpg")).then(o=>{this.especialidadService.addEspecialidad(n,o).then(()=>{Jt.default.fire("\xC9xito","Nueva especialidad agregada correctamente.","success"),this.loadEspecialidades(),this.especialistaForm.get("especialidades").push(this.fb.control(n)),this.especialistaForm.get("nuevaEspecialidad")?.reset()}).catch(s=>{Jt.default.fire("Error","No se pudo agregar la especialidad.","error")})})}agregarImagen(e){let n=e.target,r=this.especialistaForm.get("imagenes");if(n.files&&n.files.length>0){let i=n.files[0];if(!this.allowedFileTypes.includes(i.type)){Jt.default.fire("Tipo de archivo no v\xE1lido","Por favor, sube una imagen en formato JPEG, PNG o GIF.","error");return}if(i.size>this.maxFileSize){Jt.default.fire("Tama\xF1o de archivo excedido","El tama\xF1o m\xE1ximo permitido es de 2 MB.","error");return}r.clear(),r.push(this.fb.control(i))}}mostrarError(e,n){let r=this.especialistaForm.get(e);return r?r.hasError(n)&&(r.dirty||r.touched):!1}guardarEspecialista(){return b(this,null,function*(){if(this.especialistaForm.valid&&this.captchaValido){let e=this.especialistaForm.get("especialidades"),n=this.especialistaForm.get("nuevaEspecialidad")?.value?.trim();if(n&&!e.value.includes(n)&&e.push(this.fb.control(n)),e.length===0){Jt.default.fire("Advertencia","Debes seleccionar al menos una especialidad o agregar una nueva.","warning");return}Jt.default.fire({title:"Cargando...",text:"Por favor, espera un momento.",allowOutsideClick:!1}),Jt.default.showLoading();try{let i=this.especialistaForm.get("imagenes").at(0).value,o=yield this.authService.uploadImage(i),s=le(j({},this.especialistaForm.value),{especialidades:e.value,role:"especialista",imageUrl:o});delete s.imagenes,delete s.nuevaEspecialidad,delete s.imagenesEspecialidades,yield this.authService.registerUser(s.email,s.password,s,"especialista"),Jt.default.fire("Registro exitoso","El especialista ha sido registrado correctamente","success"),this.router.navigate(["/bienvenida"])}catch(r){Jt.default.fire("Error",`Ha ocurrido un error durante la subida de la imagen: ${r}`,"error")}finally{Jt.default.close()}}else Jt.default.fire("Formulario inv\xE1lido","Por favor, completa todos los campos","warning")})}onCaptchaResolved(e){this.captchaValido=!!e}static \u0275fac=function(n){return new(n||t)(Z(Xc),Z(Gn),Z(Ot),Z(xg))};static \u0275cmp=Tn({type:t,selectors:[["app-registro-especialista"]],decls:62,vars:22,consts:[[3,"ngSubmit","formGroup"],["for","nombre"],["id","nombre","formControlName","nombre"],[4,"ngIf"],["for","apellido"],["id","apellido","formControlName","apellido"],["for","edad"],["id","edad","type","number","formControlName","edad"],["for","dni"],["id","dni","formControlName","dni"],[4,"ngFor","ngForOf"],["for","nuevaEspecialidad"],["type","text","formControlName","nuevaEspecialidad","placeholder","Nueva especialidad"],["type","file",3,"change"],["type","button",3,"click"],["for","email"],["id","email","formControlName","email"],["for","password"],["id","password","type","password","formControlName","password"],["for","imagenes"],[1,"captcha-container"],["type","submit",3,"disabled"],["type","checkbox",3,"change","value"],["appRecaptcha","",3,"solved","imageSrc","rows","cols"]],template:function(n,r){n&1&&(L(0,"form",0),Ie("ngSubmit",function(){return r.guardarEspecialista()}),L(1,"div")(2,"label",1),U(3,"Nombre:"),P(),we(4,"input",2),Ne(5,RG,2,0,"div",3)(6,xG,2,0,"div",3),P(),L(7,"div")(8,"label",4),U(9,"Apellido:"),P(),we(10,"input",5),Ne(11,MG,2,0,"div",3)(12,NG,2,0,"div",3),P(),L(13,"div")(14,"label",6),U(15,"Edad:"),P(),we(16,"input",7),Ne(17,PG,2,0,"div",3)(18,kG,2,0,"div",3)(19,OG,2,0,"div",3),P(),L(20,"div")(21,"label",8),U(22,"DNI:"),P(),we(23,"input",9),Ne(24,FG,2,0,"div",3)(25,LG,2,0,"div",3),P(),L(26,"div")(27,"label"),U(28,"Especialidades:"),P(),Ne(29,VG,3,2,"div",10)(30,UG,3,0,"div",3)(31,jG,2,0,"div",3),P(),L(32,"div")(33,"label",11),U(34,"Nueva Especialidad:"),P(),we(35,"input",12),L(36,"input",13),Ie("change",function(o){return r.agregarNuevaEspecialidad(o)}),P(),L(37,"button",14),Ie("click",function(){return r.agregarNuevaEspecialidad()}),U(38,"Agregar Nueva Especialidad"),P(),Ne(39,BG,2,0,"div",3),P(),L(40,"div")(41,"label",15),U(42,"Email:"),P(),we(43,"input",16),Ne(44,$G,2,0,"div",3)(45,HG,2,0,"div",3),P(),L(46,"div")(47,"label",17),U(48,"Contrase\xF1a:"),P(),we(49,"input",18),Ne(50,zG,2,0,"div",3)(51,qG,2,0,"div",3),P(),L(52,"div")(53,"label",19),U(54,"Im\xE1genes:"),P(),L(55,"input",13),Ie("change",function(o){return r.agregarImagen(o)}),P(),Ne(56,GG,2,0,"div",3),P(),L(57,"div",20),Ne(58,WG,2,3,"div",3)(59,KG,3,0,"div",3),P(),L(60,"button",21),U(61,"Registrar Especialista"),P()()),n&2&&(Q("formGroup",r.especialistaForm),K(5),Q("ngIf",r.mostrarError("nombre","required")),K(),Q("ngIf",r.mostrarError("nombre","pattern")),K(5),Q("ngIf",r.mostrarError("apellido","required")),K(),Q("ngIf",r.mostrarError("apellido","pattern")),K(5),Q("ngIf",r.mostrarError("edad","required")),K(),Q("ngIf",r.mostrarError("edad","min")),K(),Q("ngIf",r.mostrarError("edad","max")),K(5),Q("ngIf",r.mostrarError("dni","required")),K(),Q("ngIf",r.mostrarError("dni","pattern")),K(4),Q("ngForOf",r.especialidades),K(),Q("ngIf",r.especialidades.length===0),K(),Q("ngIf",r.mostrarError("especialidades","required")),K(8),Q("ngIf",r.mostrarError("nuevaEspecialidad","required")),K(5),Q("ngIf",r.mostrarError("email","required")),K(),Q("ngIf",r.mostrarError("email","email")),K(5),Q("ngIf",r.mostrarError("password","required")),K(),Q("ngIf",r.mostrarError("password","minlength")),K(5),Q("ngIf",r.mostrarError("imagenes","required")),K(2),Q("ngIf",!r.captchaValido),K(),Q("ngIf",r.captchaValido),K(),Q("disabled",!r.captchaValido))},dependencies:[kS,vo,jo,Jr,Xs,Vo,Uo,ea,ta,Bo],styles:['@charset "UTF-8";form[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;padding:30px;border:2px solid #007bff;border-radius:15px;background-color:#e0f7fa;box-shadow:0 4px 20px #0003}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#007bff}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #007bff;border-radius:6px;font-size:16px;margin-bottom:15px;box-sizing:border-box;transition:border-color .3s,background-color .3s;background-color:#f1f1f1}input[type=text][_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus, input[type=email][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{border-color:#0056b3;outline:none;background-color:#fff}input[type=file][_ngcontent-%COMP%]{margin-bottom:10px}div[ngIf][_ngcontent-%COMP%]{color:#dc3545;font-size:.9em;margin-top:-10px;margin-bottom:10px}button[type=submit][_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:12px 15px;border:none;border-radius:6px;cursor:pointer;transition:background-color .3s,transform .2s;width:100%;font-size:1em}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:translateY(-2px)}div[_ngcontent-%COMP%]{margin-bottom:20px}']})};var yn=gh(bd());function YG(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function ZG(t,e){t&1&&(L(0,"div"),U(1,"Solo se permiten letras."),P())}function JG(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function XG(t,e){t&1&&(L(0,"div"),U(1,"Solo se permiten letras."),P())}function e6(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function t6(t,e){t&1&&(L(0,"div"),U(1,"La edad m\xEDnima es 18 a\xF1os."),P())}function n6(t,e){t&1&&(L(0,"div"),U(1,"La edad m\xE1xima es 99 a\xF1os."),P())}function r6(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function i6(t,e){t&1&&(L(0,"div"),U(1,"El DNI debe tener 8 d\xEDgitos."),P())}function o6(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function s6(t,e){t&1&&(L(0,"div"),U(1,"Formato de email inv\xE1lido."),P())}function a6(t,e){t&1&&(L(0,"div"),U(1,"Este campo es obligatorio."),P())}function c6(t,e){t&1&&(L(0,"div"),U(1,"La contrase\xF1a debe tener al menos 6 caracteres."),P())}function u6(t,e){t&1&&(L(0,"div"),U(1,"Debes subir al menos 1 imagen."),P())}function l6(t,e){if(t&1){let n=kr();L(0,"div")(1,"div",18),Ie("solved",function(i){Nr(n);let o=Or();return Pr(o.onCaptchaResolved(i))}),P()()}t&2&&(K(),Q("imageSrc","https://upload.wikimedia.org/wikipedia/commons/4/41/Siberischer_tiger_de_edit02.jpg")("rows",3)("cols",3))}function d6(t,e){t&1&&(L(0,"div")(1,"span"),U(2,"Captcha completado con \xE9xito"),P()())}var Ng=class t{constructor(e,n,r){this.fb=e;this.authService=n;this.router=r;this.adminForm=this.fb.group({nombre:["",[ce.required,ce.pattern("^[a-zA-Z ]*$")]],apellido:["",[ce.required,ce.pattern("^[a-zA-Z ]*$")]],edad:["",[ce.required,ce.min(18),ce.max(99)]],dni:["",[ce.required,ce.pattern("^[0-9]{8,8}$")]],email:["",[ce.required,ce.email]],password:["",[ce.required,ce.minLength(6)]],imagenes:this.fb.array([],[ce.required])})}adminForm;allowedFileTypes=["image/jpeg","image/png","image/gif"];maxFileSize=2*1024*1024;captchaValido=!1;agregarImagen(e){let n=e.target,r=this.adminForm.get("imagenes");if(n.files&&n.files.length>0){let i=n.files[0];if(!this.allowedFileTypes.includes(i.type)){yn.default.fire("Tipo de archivo no v\xE1lido","Por favor, sube una imagen en formato JPEG, PNG o GIF.","error");return}if(i.size>this.maxFileSize){yn.default.fire("Tama\xF1o de archivo excedido","El tama\xF1o m\xE1ximo permitido es de 2 MB.","error");return}r.length<1?r.push(this.fb.control(i)):yn.default.fire("Error","Solo se permite subir una imagen.","error")}}uploadImage(e){return b(this,null,function*(){try{return yield this.authService.uploadImage(e)}catch(n){throw console.error("Error al subir la imagen:",n),yn.default.fire("Error al subir la imagen","Hubo un problema al subir la imagen. Por favor, intenta de nuevo.","error"),n}})}mostrarError(e,n){let r=this.adminForm.get(e);return r?r.hasError(n)&&(r.dirty||r.touched):!1}guardarAdmin(){return b(this,null,function*(){if(this.adminForm.valid&&this.captchaValido){let e=this.adminForm.get("imagenes");if(e.length!==1){yn.default.fire("Error","Debes subir exactamente 1 imagen.","error");return}let n=e.at(0).value;yn.default.fire({title:"Cargando...",text:"Por favor, espera un momento.",allowOutsideClick:!1,didOpen:()=>{yn.default.showLoading()}});try{let r=yield this.uploadImage(n),i=le(j({},this.adminForm.value),{role:"administrador",imageUrl:r});delete i.imagenes,yield this.authService.registerUser(i.email,i.password,i,"administrador"),yn.default.fire("Registro exitoso","El administrador ha sido registrado correctamente","success"),this.adminForm.reset(),this.router.navigate(["/bienvenida"])}catch{yn.default.fire("Error","Ha ocurrido un error durante el registro","error")}finally{yn.default.close()}}else yn.default.fire("Formulario inv\xE1lido","Por favor, completa todos los campos","warning")})}onCaptchaResolved(e){e?(this.captchaValido=!0,yn.default.fire("Captcha validado","Captcha verificado correctamente","success")):(this.captchaValido=!1,yn.default.fire("Captcha inv\xE1lido","Por favor, resuelve el CAPTCHA correctamente","error"))}static \u0275fac=function(n){return new(n||t)(Z(Xc),Z(Gn),Z(Ot))};static \u0275cmp=Tn({type:t,selectors:[["app-registro-admin"]],decls:48,vars:18,consts:[[3,"ngSubmit","formGroup"],["for","nombre"],["id","nombre","formControlName","nombre"],[4,"ngIf"],["for","apellido"],["id","apellido","formControlName","apellido"],["for","edad"],["id","edad","type","number","formControlName","edad"],["for","dni"],["id","dni","formControlName","dni"],["for","email"],["id","email","formControlName","email"],["for","password"],["id","password","type","password","formControlName","password"],["for","imagen"],["type","file",3,"change"],[1,"captcha-container"],["type","submit",3,"disabled"],["appRecaptcha","",3,"solved","imageSrc","rows","cols"]],template:function(n,r){n&1&&(L(0,"form",0),Ie("ngSubmit",function(){return r.guardarAdmin()}),L(1,"div")(2,"label",1),U(3,"Nombre:"),P(),we(4,"input",2),Ne(5,YG,2,0,"div",3)(6,ZG,2,0,"div",3),P(),L(7,"div")(8,"label",4),U(9,"Apellido:"),P(),we(10,"input",5),Ne(11,JG,2,0,"div",3)(12,XG,2,0,"div",3),P(),L(13,"div")(14,"label",6),U(15,"Edad:"),P(),we(16,"input",7),Ne(17,e6,2,0,"div",3)(18,t6,2,0,"div",3)(19,n6,2,0,"div",3),P(),L(20,"div")(21,"label",8),U(22,"DNI:"),P(),we(23,"input",9),Ne(24,r6,2,0,"div",3)(25,i6,2,0,"div",3),P(),L(26,"div")(27,"label",10),U(28,"Email:"),P(),we(29,"input",11),Ne(30,o6,2,0,"div",3)(31,s6,2,0,"div",3),P(),L(32,"div")(33,"label",12),U(34,"Contrase\xF1a:"),P(),we(35,"input",13),Ne(36,a6,2,0,"div",3)(37,c6,2,0,"div",3),P(),L(38,"div")(39,"label",14),U(40,"Sube 1 imagen:"),P(),L(41,"input",15),Ie("change",function(o){return r.agregarImagen(o)}),P(),Ne(42,u6,2,0,"div",3),P(),L(43,"div",16),Ne(44,l6,2,3,"div",3)(45,d6,3,0,"div",3),P(),L(46,"button",17),U(47,"Registrar Administrador"),P()()),n&2&&(Q("formGroup",r.adminForm),K(5),Q("ngIf",r.mostrarError("nombre","required")),K(),Q("ngIf",r.mostrarError("nombre","pattern")),K(5),Q("ngIf",r.mostrarError("apellido","required")),K(),Q("ngIf",r.mostrarError("apellido","pattern")),K(5),Q("ngIf",r.mostrarError("edad","required")),K(),Q("ngIf",r.mostrarError("edad","min")),K(),Q("ngIf",r.mostrarError("edad","max")),K(5),Q("ngIf",r.mostrarError("dni","required")),K(),Q("ngIf",r.mostrarError("dni","pattern")),K(5),Q("ngIf",r.mostrarError("email","required")),K(),Q("ngIf",r.mostrarError("email","email")),K(5),Q("ngIf",r.mostrarError("password","required")),K(),Q("ngIf",r.mostrarError("password","minlength")),K(5),Q("ngIf",r.mostrarError("imagenes","required")),K(2),Q("ngIf",!r.captchaValido),K(),Q("ngIf",r.captchaValido),K(),Q("disabled",!r.captchaValido))},dependencies:[vo,jo,Jr,Xs,Vo,Uo,ea,ta,Bo],styles:['@charset "UTF-8";form[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;padding:30px;border:1px solid #007bff;border-radius:10px;background-color:#e0f7fa;box-shadow:0 4px 20px #0003}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:8px;display:block;color:#007bff}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #007bff;border-radius:6px;margin-bottom:15px;box-sizing:border-box;transition:border-color .3s,background-color .3s;background-color:#f1f1f1}input[type=text][_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus, input[type=email][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus{border-color:#0056b3;outline:none;background-color:#fff}div[ngIf][_ngcontent-%COMP%]{color:#dc3545;font-size:.9em;margin-top:-10px;margin-bottom:10px}button[type=submit][_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:12px 15px;border:none;border-radius:6px;cursor:pointer;transition:background-color .3s,transform .2s;width:100%;font-size:1em}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:translateY(-2px)}input[type=text][_ngcontent-%COMP%]:hover, input[type=number][_ngcontent-%COMP%]:hover, input[type=email][_ngcontent-%COMP%]:hover, input[type=password][_ngcontent-%COMP%]:hover{border-color:#0056b3}']})};function f6(t,e){if(t&1){let n=kr();L(0,"button",2),Ie("click",function(){Nr(n);let i=Or();return Pr(i.cambiarTipoUsuario("administrador"))}),we(1,"img",8),L(2,"span"),U(3,"Administrador"),P()()}}function p6(t,e){t&1&&(L(0,"div")(1,"h2",9),U(2,"Registro del Especialista"),P(),we(3,"app-registro-especialista"),P())}function m6(t,e){t&1&&(L(0,"div")(1,"h2",9),U(2,"Registro del Paciente"),P(),we(3,"app-registro-paciente"),P())}function g6(t,e){t&1&&(L(0,"div")(1,"h2",9),U(2,"Registro del Administrador"),P(),we(3,"app-registro-admin"),P())}function y6(t,e){if(t&1){let n=kr();L(0,"div",10)(1,"span"),U(2,"\xBFYa tienes una cuenta?"),P(),L(3,"a",11),Ie("click",function(){Nr(n);let i=Or();return Pr(i.goTo("/authentication/login"))}),U(4,"Iniciar sesi\xF3n"),P()()}}var Pg=class t{constructor(e,n){this.authService=e;this.router=n}tipoUsuario="paciente";esAdmin=!1;ngOnInit(){this.authService.getUser().subscribe(e=>{e&&e.role==="administrador"&&(this.esAdmin=!0)})}cambiarTipoUsuario(e){this.tipoUsuario=e}goTo(e){this.router.navigate([e])}static \u0275fac=function(n){return new(n||t)(Z(Gn),Z(Ot))};static \u0275cmp=Tn({type:t,selectors:[["app-registro"]],decls:16,vars:5,consts:[[1,"registro-titulo"],[1,"user-type-selection"],[1,"user-type-button",3,"click"],["src","logoPaciente.png","alt","Paciente"],["src","logoEspecialista.png","alt","Especialista"],["class","user-type-button",3,"click",4,"ngIf"],[4,"ngIf"],["class","text-center mt-3 cuenta-texto",4,"ngIf"],["src","logoAdministrador.png","alt","Administrador"],[1,"registro-subtitulo"],[1,"text-center","mt-3","cuenta-texto"],["id","iniciar-sesion",1,"text-decoration-none","iniciar-sesion-link",3,"click"]],template:function(n,r){n&1&&(L(0,"h2",0),U(1,"Bienvenido al Registro"),P(),L(2,"div",1)(3,"button",2),Ie("click",function(){return r.cambiarTipoUsuario("paciente")}),we(4,"img",3),L(5,"span"),U(6,"Paciente"),P()(),L(7,"button",2),Ie("click",function(){return r.cambiarTipoUsuario("especialista")}),we(8,"img",4),L(9,"span"),U(10,"Especialista"),P()(),Ne(11,f6,4,0,"button",5),P(),Ne(12,p6,4,0,"div",6)(13,m6,4,0,"div",6)(14,g6,4,0,"div",6)(15,y6,5,0,"div",7)),n&2&&(K(11),Q("ngIf",r.esAdmin),K(),Q("ngIf",r.tipoUsuario==="especialista"),K(),Q("ngIf",r.tipoUsuario==="paciente"),K(),Q("ngIf",r.tipoUsuario==="administrador"),K(),Q("ngIf",r.tipoUsuario!="administrador"))},dependencies:[vo,Ag,Mg,Ng],styles:[".registro-titulo[_ngcontent-%COMP%]{text-align:center;color:#154360;font-size:1.8rem;font-weight:700}.registro-subtitulo[_ngcontent-%COMP%]{text-align:center;color:#1e8449;font-size:1.5rem;font-weight:700;margin-top:1.5rem}.user-type-selection[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1.5rem;margin-top:2rem}.user-type-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:1rem;width:150px;height:200px;border:none;background-color:#f2f3f4;border-radius:8px;box-shadow:0 4px 8px #0000001a;cursor:pointer;transition:transform .2s ease,background-color .2s ease}.user-type-button[_ngcontent-%COMP%]:hover{background-color:#60db94;transform:scale(1.05)}img[_ngcontent-%COMP%]{width:80px;height:80px;margin-bottom:.5rem}span[_ngcontent-%COMP%]{font-weight:700;color:#071721;margin-top:.5rem}.cuenta-texto[_ngcontent-%COMP%]{font-size:.9rem;color:#154360;text-align:center;margin-top:1rem}.iniciar-sesion-link[_ngcontent-%COMP%]{color:#0b311b;font-weight:700;text-decoration:none;margin-left:.3rem}.iniciar-sesion-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.captcha-container[_ngcontent-%COMP%]{margin-top:15px}.captcha-label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-control[_ngcontent-%COMP%]{padding:10px;width:100%;border-radius:5px;border:1px solid #ddd}"]})};var _0=gh(bd());var kg=class t{constructor(e,n){this.authService=e;this.router=n}userMail="";userPWD="";msjError="";Login(){this.authService.login(this.userMail,this.userPWD).then(()=>{_0.default.fire({icon:"success",title:"\xA1Bienvenido!",text:"Has iniciado sesi\xF3n con \xE9xito.",timer:2e3,showConfirmButton:!1}),this.router.navigate(["/bienvenida"])}).catch(e=>{this.manejarErrores(e)})}manejarErrores(e){switch(e.code){case"auth/invalid-email":this.msjError="Email inv\xE1lido. Por favor, verifica el formato del correo.";break;case"auth/user-not-found":this.msjError="Usuario no encontrado. Por favor, revisa tus credenciales.";break;case"auth/wrong-password":this.msjError="Contrase\xF1a incorrecta. Vuelve a intentarlo.";break;case"auth/missing-password":this.msjError="Se necesita la contrase\xF1a.";break;case"auth/invalid-credential":this.msjError="Las credenciales no son v\xE1lidas.";break;default:this.msjError="Error: "+e.message;break}_0.default.fire({icon:"error",title:"Error en el inicio de sesi\xF3n",text:this.msjError,showConfirmButton:!0})}goTo(e){this.router.navigate([e])}setQuickAccess(e,n){this.userMail=e,this.userPWD=n}static \u0275fac=function(n){return new(n||t)(Z(Gn),Z(Ot))};static \u0275cmp=Tn({type:t,selectors:[["app-login"]],decls:37,vars:2,consts:[[1,"overlay","d-flex","justify-content-center","align-items-center","vh-100"],[1,"card","p-4","shadow-lg",2,"width","600px","border-radius","20px"],[1,"text-center","mb-4"],[1,"quick-access-container","text-center","mb-3"],["type","button",1,"btn","quick-access-btn",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/prog2-c4fdc.appspot.com/o/images%2Fadmin1.jpeg?alt=media&token=a57cbd55-f2e1-4757-af16-eff8bdafa8bb","alt","Admin",1,"profile-image"],["src","https://firebasestorage.googleapis.com/v0/b/prog2-c4fdc.appspot.com/o/images%2FprimerPaciente2.jpeg?alt=media&token=99602e1f-cbf5-4875-9578-4abed68d326e","alt","Paciente 1",1,"profile-image"],["src","https://firebasestorage.googleapis.com/v0/b/prog2-c4fdc.appspot.com/o/images%2FsegundoPaciente2.jpeg?alt=media&token=5810d4e8-b42d-4700-92f7-9c2b0555f6e5","alt","Paciente 2",1,"profile-image"],["src","https://firebasestorage.googleapis.com/v0/b/prog2-c4fdc.appspot.com/o/images%2FtercerPaciente2.jpeg?alt=media&token=2db42b31-2a1c-4089-9cbb-83e135bde901","alt","Paciente 3",1,"profile-image"],["src","https://firebasestorage.googleapis.com/v0/b/prog2-c4fdc.appspot.com/o/images%2Fespecialista1.jpeg?alt=media&token=bf238ea3-3895-4bce-8c26-f4d0230180ec","alt","Especialista 1",1,"profile-image"],["src","https://firebasestorage.googleapis.com/v0/b/prog2-c4fdc.appspot.com/o/images%2Fespecialista2.jpeg?alt=media&token=6f0acb41-2667-4bf3-b506-c2a4da7a2e21","alt","Especialista 2",1,"profile-image"],[3,"ngSubmit"],[1,"form-group"],["for","nombre"],["type","email","id","nombre","name","email","placeholder","Ingrese su email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","clave"],["type","password","id","clave","name","password","placeholder","Ingrese su contrase\xF1a","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-center","mb-3"],["id","olvido-contrasena",1,"text-decoration-none"],["type","submit",1,"btn","btn-warning","btn-block","rounded-pill","font-weight-bold"],[1,"text-center","mt-3"],["id","registrarse",1,"text-decoration-none",3,"click"]],template:function(n,r){n&1&&(L(0,"div",0)(1,"div",1)(2,"h1",2),U(3,"Inicio Sesi\xF3n"),P(),L(4,"div",3)(5,"button",4),Ie("click",function(){return r.setQuickAccess("celusal704@gmail.com","123456")}),we(6,"img",5),P(),L(7,"button",4),Ie("click",function(){return r.setQuickAccess("demaiojuanpablo05@gmail.com","123456")}),we(8,"img",6),P(),L(9,"button",4),Ie("click",function(){return r.setQuickAccess("whole.bovid.bmlb@flashpost.net","123456")}),we(10,"img",7),P(),L(11,"button",4),Ie("click",function(){return r.setQuickAccess("surprising.amphibian.jhgc@flashpost.net","123456")}),we(12,"img",8),P(),L(13,"button",4),Ie("click",function(){return r.setQuickAccess("demaiojuanpablo2005@gmail.com","123456")}),we(14,"img",9),P(),L(15,"button",4),Ie("click",function(){return r.setQuickAccess("integral.pig.qzgk@flashpost.net","123456")}),we(16,"img",10),P()(),L(17,"form",11),Ie("ngSubmit",function(){return r.Login()}),L(18,"div",12)(19,"label",13),U(20,"Email"),P(),L(21,"input",14),Zf("ngModelChange",function(o){return mw(r.userMail,o)||(r.userMail=o),o}),P()(),L(22,"div",12)(23,"label",15),U(24,"Contrase\xF1a"),P(),L(25,"input",16),Zf("ngModelChange",function(o){return mw(r.userPWD,o)||(r.userPWD=o),o}),P()(),L(26,"div",17)(27,"a",18),U(28,"\xBFOlvid\xF3 su contrase\xF1a?"),P()(),L(29,"button",19),U(30,"Ingresar"),P(),L(31,"div",20)(32,"div")(33,"span"),U(34,"\xBFNo tienes una cuenta?"),P(),L(35,"a",21),Ie("click",function(){return r.goTo("/authentication/registro")}),U(36,"Registrarse"),P()()()()()()),n&2&&(K(21),Yf("ngModel",r.userMail),K(4),Yf("ngModel",r.userPWD))},dependencies:[jo,Jr,Vo,Uo,y0,g0,m0],styles:['@charset "UTF-8";body[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Oswald,sans-serif;background-color:#2a2a2a}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(#000000b3,#000000b3);display:flex;justify-content:center;align-items:center;z-index:-1}.card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#b7f4f9e6;border:none;box-shadow:0 4px 8px #0003;border-radius:20px;padding:40px;width:600px;height:auto;max-width:90%;min-height:600px;margin:20px auto;text-align:center}h1[_ngcontent-%COMP%]{color:#333;text-align:center;margin-bottom:25px}.form-control[_ngcontent-%COMP%]{padding:15px;background-color:#fff;border-radius:10px;border:2px solid #ddd;transition:all .3s ease;text-align:center;width:250px}.form-control[_ngcontent-%COMP%]:focus{border-color:#fc0;box-shadow:0 0 8px #ffcc0080}label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;display:block}#registrarse[_ngcontent-%COMP%], #olvido-contrasena[_ngcontent-%COMP%]{margin:5px 0;font-weight:700;color:#000;text-decoration:none}#registrarse[_ngcontent-%COMP%]:hover, #olvido-contrasena[_ngcontent-%COMP%]:hover{color:#fc0;cursor:pointer}span[_ngcontent-%COMP%]{font-weight:700}button[_ngcontent-%COMP%]{background-color:#fc0;border-radius:50px;padding:10px 20px;font-weight:700;border:none;transition:all .3s ease;box-shadow:0 4px 6px #0003;margin:10px}button[_ngcontent-%COMP%]:hover{background-color:#ffcc0083;transform:scale(1.05);box-shadow:0 6px 8px #0000004d}button[_ngcontent-%COMP%]:focus{outline:none}.quick-access-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:20px;width:100%;flex-wrap:wrap}.quick-access-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#fff;color:#333;border:2px solid #ddd;border-radius:10px;padding:8px;text-decoration:none;margin:5px;width:80px;transition:all .3s ease;font-size:.9em}.quick-access-btn[_ngcontent-%COMP%]:hover{background-color:#fc0;color:#fff}.quick-access-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:33px;border-radius:50%}']})};var v6=[{path:"registro",component:Pg,data:{animation:"RegistroPage"}},{path:"login",component:kg,data:{animation:"LoginPage"}}],Og=class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=et({type:t});static \u0275inj=Xe({imports:[fc.forChild(v6),fc]})};var w6=[],Fg=class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=et({type:t});static \u0275inj=Xe({imports:[fc.forChild(w6),fc]})};var _6=new G("recaptcha-language"),E6=new G("recaptcha-base-url"),I6=new G("recaptcha-nonce-tag"),zne=new G("recaptcha-settings"),AP=new G("recaptcha-v3-site-key"),b6=new G("recaptcha-loader-options");function C6(t,e,n,{url:r,lang:i,nonce:o}={}){window.ng2recaptchaloaded=()=>{n(grecaptcha)};let s=document.createElement("script");s.innerHTML="";let{url:a,nonce:u}=e(new URL(r||"https://www.google.com/recaptcha/api.js"));a.searchParams.set("render",t==="explicit"?t:t.key),a.searchParams.set("onload","ng2recaptchaloaded"),a.searchParams.set("trustedtypes","true"),i&&a.searchParams.set("hl",i),s.src=a.href;let d=u||o;d&&s.setAttribute("nonce",d),s.async=!0,s.defer=!0,document.head.appendChild(s)}function T6({v3SiteKey:t,onBeforeLoad:e,onLoaded:n}){let r=t?{key:t}:"explicit";RP.loadScript(r,e,n)}var RP={loadScript:C6,newLoadScript:T6};function D6(t){return t.asObservable().pipe(Gt(e=>e!==null))}var E0=(()=>{class t{static{this.ready=null}constructor(n,r,i,o,s,a){this.platformId=n,this.language=r,this.baseUrl=i,this.nonce=o,this.v3SiteKey=s,this.options=a;let u=this.init();this.ready=u?D6(u):se()}init(){if(t.ready)return t.ready;if(!Mw(this.platformId))return;let n=new ft(null);return t.ready=n,RP.newLoadScript({v3SiteKey:this.v3SiteKey,onBeforeLoad:r=>{if(this.options?.onBeforeLoad)return this.options.onBeforeLoad(r);let i=new URL(this.baseUrl??r);return this.language&&i.searchParams.set("hl",this.language),{url:i,nonce:this.nonce}},onLoaded:r=>{let i=r;this.options?.onLoaded&&(i=this.options.onLoaded(r)),n.next(i)}}),n}static{this.\u0275fac=function(r){return new(r||t)(W(pn),W(_6,8),W(E6,8),W(I6,8),W(AP,8),W(b6,8))}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac})}}return t})();var S6=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=et({type:t})}static{this.\u0275inj=Xe({})}}return t})(),Lg=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=et({type:t})}static{this.\u0275inj=Xe({providers:[E0],imports:[S6]})}}return t})(),A6=(()=>{class t{constructor(n,r,i){this.recaptchaLoader=r,this.zone=n,this.siteKey=i,this.init()}get onExecute(){return this.onExecuteSubject||(this.onExecuteSubject=new ht,this.onExecuteObservable=this.onExecuteSubject.asObservable()),this.onExecuteObservable}get onExecuteError(){return this.onExecuteErrorSubject||(this.onExecuteErrorSubject=new ht,this.onExecuteErrorObservable=this.onExecuteErrorSubject.asObservable()),this.onExecuteErrorObservable}execute(n){let r=new ht;return this.grecaptcha?this.executeActionWithSubject(n,r):(this.actionBacklog||(this.actionBacklog=[]),this.actionBacklog.push([n,r])),r.asObservable()}executeActionWithSubject(n,r){let i=o=>{this.zone.run(()=>{r.error(o),this.onExecuteErrorSubject&&this.onExecuteErrorSubject.next({action:n,error:o})})};this.zone.runOutsideAngular(()=>{try{this.grecaptcha.execute(this.siteKey,{action:n}).then(o=>{this.zone.run(()=>{r.next(o),r.complete(),this.onExecuteSubject&&this.onExecuteSubject.next({action:n,token:o})})},i)}catch(o){i(o)}})}init(){this.recaptchaLoader.ready.subscribe(n=>{this.grecaptcha=n,this.actionBacklog&&this.actionBacklog.length>0&&(this.actionBacklog.forEach(([r,i])=>this.executeActionWithSubject(r,i)),this.actionBacklog=void 0)})}static{this.\u0275fac=function(r){return new(r||t)(W(be),W(E0),W(AP))}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac})}}return t})(),xP=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=et({type:t})}static{this.\u0275inj=Xe({providers:[A6,E0]})}}return t})();var Vg=class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=et({type:t});static \u0275inj=Xe({imports:[tc,Fg,xP,Lg]})};var MP=class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=et({type:t});static \u0275inj=Xe({imports:[tc,SP,DP,Og,Vg,Lg]})};export{pe as a,re as b,X as c,Xe as d,W as e,Tn as f,et as g,Nr as h,Pr as i,rt as j,be as k,QQ as l,YQ as m,K as n,Z as o,Ga as p,Ne as q,Q as r,L as s,P as t,we as u,kr as v,Ie as w,Or as x,DV as y,oS as z,eY as A,U as B,RV as C,Qf as D,xV as E,Yf as F,mw as G,Zf as H,aS as I,tY as J,nY as K,rY as L,iY as M,oY as N,sY as O,aY as P,Kt as Q,xY as R,kS as S,vo as T,MY as U,NY as V,tc as W,GY as X,WS as Y,pZ as Z,mZ as _,ej as $,Ot as aa,LZ as ba,fc as ca,Jr as da,ce as ea,Vo as fa,Uo as ga,m0 as ha,g0 as ia,jo as ja,ea as ka,ta as la,bP as ma,Xte as na,ene as oa,Xc as pa,DP as qa,SP as ra,TJ as sa,DJ as ta,wX as ua,_X as va,ki as wa,ete as xa,Hc as ya,Yr as za,cg as Aa,ud as Ba,tte as Ca,nte as Da,ug as Ea,rte as Fa,Gn as Ga,bd as Ha,xg as Ia,Pg as Ja,MP as Ka};
