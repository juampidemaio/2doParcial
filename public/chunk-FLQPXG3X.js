import{a as A,b as R,c as q,d as $,e as V}from"./chunk-LLFO5Z7O.js";import{A as T,E as c,G as s,I as r,J as i,K as p,L as D,M as b,N as l,O as n,P as g,Q as d,ba as O,ca as _,d as K,da as L,e as I,ia as F,m as h,p as f,pa as z,q as v,t as w,u as k,w as N,y as M,z as a}from"./chunk-I3FCMSY4.js";var u=K(q());function G(t,o){if(t&1){let e=D();r(0,"button",1),b("click",function(){w(e);let C=l().$implicit,x=l();return k(x.alternarEstadoUsuario(C))}),n(1),i()}if(t&2){let e=l().$implicit;a(),d(" ",e.habilitado?"Inhabilitar":"Habilitar"," ")}}function J(t,o){if(t&1){let e=D();r(0,"tr",1),b("click",function(){let C=w(e).$implicit,x=l();return k(x.seleccionarUsuario(C))}),r(1,"td"),n(2),i(),r(3,"td"),n(4),i(),r(5,"td"),n(6),i(),r(7,"td"),n(8),i(),r(9,"td"),n(10),i(),r(11,"td"),c(12,G,2,1,"button",2),i()()}if(t&2){let e=o.$implicit;a(2),g(e.nombre),a(2),g(e.apellido),a(2),g(e.email),a(2),g(e.role),a(2),g(e.habilitado?"Habilitado":"Inhabilitado"),a(2),s("ngIf",e.role==="especialista")}}var E=class t{constructor(o){this.authService=o}usuarioSeleccionado=new N;usuarios=[];ngOnInit(){this.cargarUsuarios()}seleccionarUsuario(o){this.usuarioSeleccionado.emit(o)}cargarUsuarios(){return I(this,null,function*(){try{u.default.fire({title:"Cargando usuarios...",html:"Por favor, espere un momento...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:()=>{u.default.showLoading()}}),this.usuarios=yield this.authService.obtenerUsuarios()}catch(o){console.error("Error al cargar usuarios:",o),u.default.fire({icon:"error",title:"Error",text:"Error al cargar usuarios."})}finally{u.default.close()}})}alternarEstadoUsuario(o){return I(this,null,function*(){if(o.role!=="especialista"){u.default.fire({icon:"error",title:"Error",text:"Solo se puede modificar el estado de un especialista."});return}try{o.habilitado?(yield this.authService.inhabilitarUsuario(o.uid),u.default.fire({icon:"success",title:"\xC9xito",text:"El usuario ha sido inhabilitado correctamente."})):(yield this.authService.habilitarUsuario(o.uid),u.default.fire({icon:"success",title:"\xC9xito",text:"El usuario ha sido habilitado correctamente."})),o.habilitado=!o.habilitado}catch(e){console.error("Error al modificar el estado del usuario:",e),u.default.fire({icon:"error",title:"Error",text:"No se pudo modificar el estado del usuario."})}})}static \u0275fac=function(e){return new(e||t)(T(z))};static \u0275cmp=f({type:t,selectors:[["app-listado-usuarios"]],outputs:{usuarioSeleccionado:"usuarioSeleccionado"},decls:17,vars:1,consts:[[3,"click",4,"ngFor","ngForOf"],[3,"click"],[3,"click",4,"ngIf"]],template:function(e,m){e&1&&(r(0,"h2"),n(1,"Listado de Usuarios"),i(),r(2,"table")(3,"thead")(4,"tr")(5,"th"),n(6,"Nombre"),i(),r(7,"th"),n(8,"Apellido"),i(),r(9,"th"),n(10,"Email"),i(),r(11,"th"),n(12,"Rol"),i(),r(13,"th"),n(14,"Estado"),i()()(),r(15,"tbody"),c(16,J,13,6,"tr",0),i()()),e&2&&(a(16),s("ngForOf",m.usuarios))},dependencies:[O,_],styles:["h2[_ngcontent-%COMP%]{color:#154360;text-align:center;margin-bottom:1rem;font-weight:700}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background-color:#fff;box-shadow:0 4px 8px #0000001a;margin:0 auto}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;text-align:left}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#154360;color:#fff}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f2f3f4}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#fff}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #F2F3F4}button[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.9rem;border:none;border-radius:4px;color:#fff;cursor:pointer;transition:background-color .3s ease}button.habilitar[_ngcontent-%COMP%]{background-color:#1e8449}button.habilitar[_ngcontent-%COMP%]:hover{background-color:#155a32}button.inhabilitar[_ngcontent-%COMP%]{background-color:#154360}button.inhabilitar[_ngcontent-%COMP%]:hover{background-color:#0c2636}"]})};function W(t,o){if(t&1&&p(0,"img",7),t&2){let e=o.$implicit;s("src",e,M)}}function X(t,o){if(t&1&&(r(0,"div",5)(1,"p")(2,"strong"),n(3,"Obra Social:"),i(),n(4),i(),r(5,"div")(6,"strong"),n(7,"Im\xE1genes de Perfil:"),i(),c(8,W,1,1,"img",6),i()()),t&2){let e=l(2);a(4),d(" ",e.usuario.obraSocial,""),a(4),s("ngForOf",e.usuario.imagenes)}}function Y(t,o){if(t&1&&p(0,"img",7),t&2){let e=o.$implicit;s("src",e,M)}}function Z(t,o){if(t&1&&(r(0,"div",8)(1,"p")(2,"strong"),n(3,"Especialidad:"),i(),n(4),i(),r(5,"strong"),n(6,"Im\xE1gen de Perfil:"),i(),c(7,Y,1,1,"img",6),i()),t&2){let e=l(2);a(4),d(" ",e.usuario.especialidad,""),a(3),s("ngForOf",e.usuario.imagenes)}}function ee(t,o){if(t&1&&p(0,"img",7),t&2){let e=o.$implicit;s("src",e,M)}}function te(t,o){if(t&1&&(r(0,"div",9)(1,"div")(2,"strong"),n(3,"Im\xE1gen de Perfil:"),i(),c(4,ee,1,1,"img",6),i()()),t&2){let e=l(2);a(4),s("ngForOf",e.usuario.imagenes)}}function ie(t,o){if(t&1&&(r(0,"div",1)(1,"h3"),n(2,"Detalles del Usuario"),i(),r(3,"p")(4,"strong"),n(5,"Nombre:"),i(),n(6),i(),r(7,"p")(8,"strong"),n(9,"Apellido:"),i(),n(10),i(),r(11,"p")(12,"strong"),n(13,"Edad:"),i(),n(14),i(),r(15,"p")(16,"strong"),n(17,"DNI:"),i(),n(18),i(),r(19,"p")(20,"strong"),n(21,"Mail:"),i(),n(22),i(),c(23,X,9,2,"div",2)(24,Z,8,2,"div",3)(25,te,5,1,"div",4),i()),t&2){let e=l();a(6),d(" ",e.usuario.nombre,""),a(4),d(" ",e.usuario.apellido,""),a(4),d(" ",e.usuario.edad,""),a(4),d(" ",e.usuario.dni,""),a(4),d(" ",e.usuario.email,""),a(),s("ngIf",e.esPaciente),a(),s("ngIf",e.esEspecialista),a(),s("ngIf",e.esAdministrador)}}var S=class t{usuario;get esPaciente(){return this.usuario?.role==="paciente"}get esEspecialista(){return this.usuario?.role==="especialista"}get esAdministrador(){return this.usuario?.role==="administrador"}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=f({type:t,selectors:[["app-detalle-usuarios"]],inputs:{usuario:"usuario"},decls:1,vars:1,consts:[["class","details-container",4,"ngIf"],[1,"details-container"],["class","paciente",4,"ngIf"],["class","especialista",4,"ngIf"],["class","administrador",4,"ngIf"],[1,"paciente"],["alt","Imagen de Perfil","width","100",3,"src",4,"ngFor","ngForOf"],["alt","Imagen de Perfil","width","100",3,"src"],[1,"especialista"],[1,"administrador"]],template:function(e,m){e&1&&c(0,ie,26,8,"div",0),e&2&&s("ngIf",m.usuario)},dependencies:[O,_],styles:['@charset "UTF-8";.details-container[_ngcontent-%COMP%]{margin:20px;padding:15px;border:1px solid #e0e0e0;border-radius:8px;background-color:#f9f9f9}.details-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Oswald,sans-serif;color:#333;margin-bottom:15px}.details-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#555;margin:8px 0}.details-container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}.details-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:10px;border-radius:50%;border:2px solid #ccc}.details-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:10px;margin-top:10px;border:1px solid #ccc;border-radius:4px;width:calc(100% - 22px);box-sizing:border-box}.paciente[_ngcontent-%COMP%]{background-color:#e7f3ff;padding:10px;border:1px solid #b3d7ff;border-radius:4px}.especialista[_ngcontent-%COMP%]{background-color:#fff3cd;padding:10px;border:1px solid #ffeeba;border-radius:4px}.administrador[_ngcontent-%COMP%]{background-color:#d4edda;padding:10px;border:1px solid #c3e6cb;border-radius:4px}']})};function ne(t,o){if(t&1&&p(0,"app-detalle-usuarios",2),t&2){let e=l();s("usuario",e.usuarioSeleccionado)}}var y=class t{usuarioSeleccionado=null;mostrarDetalles(o){this.usuarioSeleccionado=o}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=f({type:t,selectors:[["app-seccion-usuarios"]],decls:5,vars:1,consts:[[3,"usuarioSeleccionado"],[3,"usuario",4,"ngIf"],[3,"usuario"]],template:function(e,m){e&1&&(r(0,"h2"),n(1," Bienvenido a la seccion de Usuarios"),i(),p(2,"app-registro"),r(3,"app-listado-usuarios",0),b("usuarioSeleccionado",function(x){return m.mostrarDetalles(x)}),i(),c(4,ne,1,1,"app-detalle-usuarios",1)),e&2&&(a(4),s("ngIf",m.usuarioSeleccionado))},dependencies:[_,$,E,S],styles:['@charset "UTF-8";h2[_ngcontent-%COMP%]{text-align:center;color:#007bff;margin-bottom:20px;font-size:2em}[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;background-color:#f8f9fa}app-registro[_ngcontent-%COMP%], app-listado-usuarios[_ngcontent-%COMP%], app-detalle-usuario[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ccc;border-radius:8px;box-shadow:0 2px 8px #0000001a;width:100%;max-width:600px;margin-bottom:20px;padding:20px}app-detalle-usuario[_ngcontent-%COMP%]{background-color:#e9ecef}button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;border-radius:4px;padding:10px 15px;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}']})};var re=[{path:"seccion-usuarios",component:y}],U=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=v({type:t});static \u0275inj=h({imports:[F.forChild(re),F]})};var B=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=v({type:t});static \u0275inj=h({imports:[L,U,A,R,V]})};export{B as UsuariosModule};
