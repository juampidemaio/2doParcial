import{a as j,b as le,c as CP,d as qd,e as Bi,f as b}from"./chunk-YYD2Q6U2.js";var Zl=CP((Br,Fb)=>{"use strict";(function(n,e){typeof Br=="object"&&typeof Fb<"u"?Fb.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self,n.Sweetalert2=e())})(Br,function(){"use strict";function n(l,h,y){if(typeof l=="function"?l===h:l.has(h))return arguments.length<3?h:y;throw new TypeError("Private element is not present on this object")}function e(l,h){if(h.has(l))throw new TypeError("Cannot initialize the same private elements twice on an object")}function t(l,h){return l.get(n(l,h))}function r(l,h,y){e(l,h),h.set(l,y)}function i(l,h,y){return l.set(n(l,h),y),y}let o=100,s={},a=()=>{s.previousActiveElement instanceof HTMLElement?(s.previousActiveElement.focus(),s.previousActiveElement=null):document.body&&document.body.focus()},u=l=>new Promise(h=>{if(!l)return h();let y=window.scrollX,w=window.scrollY;s.restoreFocusTimeout=setTimeout(()=>{a(),h()},o),window.scrollTo(y,w)}),d="swal2-",m=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((l,h)=>(l[h]=d+h,l),{}),I=["success","warning","info","question","error"].reduce((l,h)=>(l[h]=d+h,l),{}),M="SweetAlert2:",L=l=>l.charAt(0).toUpperCase()+l.slice(1),O=l=>{console.warn(`${M} ${typeof l=="object"?l.join(" "):l}`)},H=l=>{console.error(`${M} ${l}`)},te=[],X=l=>{te.includes(l)||(te.push(l),O(l))},re=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;X(`"${l}" is deprecated and will be removed in the next major release.${h?` Use "${h}" instead.`:""}`)},Fe=l=>typeof l=="function"?l():l,oe=l=>l&&typeof l.toPromise=="function",D=l=>oe(l)?l.toPromise():Promise.resolve(l),E=l=>l&&Promise.resolve(l)===l,C=()=>document.body.querySelector(`.${m.container}`),A=l=>{let h=C();return h?h.querySelector(l):null},S=l=>A(`.${l}`),R=()=>S(m.popup),T=()=>S(m.icon),On=()=>S(m["icon-content"]),bi=()=>S(m.title),Oc=()=>S(m["html-container"]),Ci=()=>S(m.image),$r=()=>S(m["progress-steps"]),Ti=()=>S(m["validation-message"]),ln=()=>A(`.${m.actions} .${m.confirm}`),Di=()=>A(`.${m.actions} .${m.cancel}`),Vt=()=>A(`.${m.actions} .${m.deny}`),Tt=()=>S(m["input-label"]),Ai=()=>A(`.${m.loader}`),Fn=()=>S(m.actions),Jl=()=>S(m.footer),tr=()=>S(m["timer-progress-bar"]),Fc=()=>S(m.close),ng=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Si=()=>{let l=R();if(!l)return[];let h=l.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),y=Array.from(h).sort((G,ye)=>{let Ue=parseInt(G.getAttribute("tabindex")||"0"),Xe=parseInt(ye.getAttribute("tabindex")||"0");return Ue>Xe?1:Ue<Xe?-1:0}),w=l.querySelectorAll(ng),P=Array.from(w).filter(G=>G.getAttribute("tabindex")!=="-1");return[...new Set(y.concat(P))].filter(G=>kt(G))},Ri=()=>dn(document.body,m.shown)&&!dn(document.body,m["toast-shown"])&&!dn(document.body,m["no-backdrop"]),xi=()=>{let l=R();return l?dn(l,m.toast):!1},Lc=()=>{let l=R();return l?l.hasAttribute("data-loading"):!1},Pt=(l,h)=>{if(l.textContent="",h){let w=new DOMParser().parseFromString(h,"text/html"),P=w.querySelector("head");P&&Array.from(P.childNodes).forEach(ye=>{l.appendChild(ye)});let G=w.querySelector("body");G&&Array.from(G.childNodes).forEach(ye=>{ye instanceof HTMLVideoElement||ye instanceof HTMLAudioElement?l.appendChild(ye.cloneNode(!0)):l.appendChild(ye)})}},dn=(l,h)=>{if(!h)return!1;let y=h.split(/\s+/);for(let w=0;w<y.length;w++)if(!l.classList.contains(y[w]))return!1;return!0},Xl=(l,h)=>{Array.from(l.classList).forEach(y=>{!Object.values(m).includes(y)&&!Object.values(I).includes(y)&&!Object.values(h.showClass||{}).includes(y)&&l.classList.remove(y)})},Ut=(l,h,y)=>{if(Xl(l,h),!h.customClass)return;let w=h.customClass[y];if(w){if(typeof w!="string"&&!w.forEach){O(`Invalid type of customClass.${y}! Expected string or iterable object, got "${typeof w}"`);return}Ce(l,w)}},Fs=(l,h)=>{if(!h)return null;switch(h){case"select":case"textarea":case"file":return l.querySelector(`.${m.popup} > .${m[h]}`);case"checkbox":return l.querySelector(`.${m.popup} > .${m.checkbox} input`);case"radio":return l.querySelector(`.${m.popup} > .${m.radio} input:checked`)||l.querySelector(`.${m.popup} > .${m.radio} input:first-child`);case"range":return l.querySelector(`.${m.popup} > .${m.range} input`);default:return l.querySelector(`.${m.popup} > .${m.input}`)}},Vc=l=>{if(l.focus(),l.type!=="file"){let h=l.value;l.value="",l.value=h}},Uc=(l,h,y)=>{!l||!h||(typeof h=="string"&&(h=h.split(/\s+/).filter(Boolean)),h.forEach(w=>{Array.isArray(l)?l.forEach(P=>{y?P.classList.add(w):P.classList.remove(w)}):y?l.classList.add(w):l.classList.remove(w)}))},Ce=(l,h)=>{Uc(l,h,!0)},hn=(l,h)=>{Uc(l,h,!1)},nr=(l,h)=>{let y=Array.from(l.children);for(let w=0;w<y.length;w++){let P=y[w];if(P instanceof HTMLElement&&dn(P,h))return P}},Ln=(l,h,y)=>{y===`${parseInt(y)}`&&(y=parseInt(y)),y||parseInt(y)===0?l.style.setProperty(h,typeof y=="number"?`${y}px`:y):l.style.removeProperty(h)},rt=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";l&&(l.style.display=h)},dt=l=>{l&&(l.style.display="none")},ht=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";l&&new MutationObserver(()=>{rr(l,l.innerHTML,h)}).observe(l,{childList:!0,subtree:!0})},Dt=(l,h,y,w)=>{let P=l.querySelector(h);P&&P.style.setProperty(y,w)},rr=function(l,h){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";h?rt(l,y):dt(l)},kt=l=>!!(l&&(l.offsetWidth||l.offsetHeight||l.getClientRects().length)),ed=()=>!kt(ln())&&!kt(Vt())&&!kt(Di()),td=l=>l.scrollHeight>l.clientHeight,Mi=l=>{let h=window.getComputedStyle(l),y=parseFloat(h.getPropertyValue("animation-duration")||"0"),w=parseFloat(h.getPropertyValue("transition-duration")||"0");return y>0||w>0},Ls=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=tr();y&&kt(y)&&(h&&(y.style.transition="none",y.style.width="100%"),setTimeout(()=>{y.style.transition=`width ${l/1e3}s linear`,y.style.width="0%"},10))},nd=()=>{let l=tr();if(!l)return;let h=parseInt(window.getComputedStyle(l).width);l.style.removeProperty("transition"),l.style.width="100%";let y=parseInt(window.getComputedStyle(l).width),w=h/y*100;l.style.width=`${w}%`},jc=()=>typeof window>"u"||typeof document>"u",rg=`
 <div aria-labelledby="${m.title}" aria-describedby="${m["html-container"]}" class="${m.popup}" tabindex="-1">
   <button type="button" class="${m.close}"></button>
   <ul class="${m["progress-steps"]}"></ul>
   <div class="${m.icon}"></div>
   <img class="${m.image}" />
   <h2 class="${m.title}" id="${m.title}"></h2>
   <div class="${m["html-container"]}" id="${m["html-container"]}"></div>
   <input class="${m.input}" id="${m.input}" />
   <input type="file" class="${m.file}" />
   <div class="${m.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${m.select}" id="${m.select}"></select>
   <div class="${m.radio}"></div>
   <label class="${m.checkbox}">
     <input type="checkbox" id="${m.checkbox}" />
     <span class="${m.label}"></span>
   </label>
   <textarea class="${m.textarea}" id="${m.textarea}"></textarea>
   <div class="${m["validation-message"]}" id="${m["validation-message"]}"></div>
   <div class="${m.actions}">
     <div class="${m.loader}"></div>
     <button type="button" class="${m.confirm}"></button>
     <button type="button" class="${m.deny}"></button>
     <button type="button" class="${m.cancel}"></button>
   </div>
   <div class="${m.footer}"></div>
   <div class="${m["timer-progress-bar-container"]}">
     <div class="${m["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),ig=()=>{let l=C();return l?(l.remove(),hn([document.documentElement,document.body],[m["no-backdrop"],m["toast-shown"],m["has-column"]]),!0):!1},Vn=()=>{s.currentInstance.resetValidationMessage()},rd=()=>{let l=R(),h=nr(l,m.input),y=nr(l,m.file),w=l.querySelector(`.${m.range} input`),P=l.querySelector(`.${m.range} output`),G=nr(l,m.select),ye=l.querySelector(`.${m.checkbox} input`),Ue=nr(l,m.textarea);h.oninput=Vn,y.onchange=Vn,G.onchange=Vn,ye.onchange=Vn,Ue.oninput=Vn,w.oninput=()=>{Vn(),P.value=w.value},w.onchange=()=>{Vn(),P.value=w.value}},id=l=>typeof l=="string"?document.querySelector(l):l,Do=l=>{let h=R();h.setAttribute("role",l.toast?"alert":"dialog"),h.setAttribute("aria-live",l.toast?"polite":"assertive"),l.toast||h.setAttribute("aria-modal","true")},Bc=l=>{window.getComputedStyle(l).direction==="rtl"&&Ce(C(),m.rtl)},$c=l=>{let h=ig();if(jc()){H("SweetAlert2 requires document to initialize");return}let y=document.createElement("div");y.className=m.container,h&&Ce(y,m["no-transition"]),Pt(y,rg);let w=id(l.target);w.appendChild(y),Do(l),Bc(w),rd()},Un=(l,h)=>{l instanceof HTMLElement?h.appendChild(l):typeof l=="object"?od(l,h):l&&Pt(h,l)},od=(l,h)=>{l.jquery?Vs(h,l):Pt(h,l.toString())},Vs=(l,h)=>{if(l.textContent="",0 in h)for(let y=0;y in h;y++)l.appendChild(h[y].cloneNode(!0));else l.appendChild(h.cloneNode(!0))},sd=(l,h)=>{let y=Fn(),w=Ai();!y||!w||(!h.showConfirmButton&&!h.showDenyButton&&!h.showCancelButton?dt(y):rt(y),Ut(y,h,"actions"),Ao(y,w,h),Pt(w,h.loaderHtml||""),Ut(w,h,"loader"))};function Ao(l,h,y){let w=ln(),P=Vt(),G=Di();!w||!P||!G||(Et(w,"confirm",y),Et(P,"deny",y),Et(G,"cancel",y),ad(w,P,G,y),y.reverseButtons&&(y.toast?(l.insertBefore(G,w),l.insertBefore(P,w)):(l.insertBefore(G,h),l.insertBefore(P,h),l.insertBefore(w,h))))}function ad(l,h,y,w){if(!w.buttonsStyling){hn([l,h,y],m.styled);return}Ce([l,h,y],m.styled),w.confirmButtonColor&&(l.style.backgroundColor=w.confirmButtonColor,Ce(l,m["default-outline"])),w.denyButtonColor&&(h.style.backgroundColor=w.denyButtonColor,Ce(h,m["default-outline"])),w.cancelButtonColor&&(y.style.backgroundColor=w.cancelButtonColor,Ce(y,m["default-outline"]))}function Et(l,h,y){let w=L(h);rr(l,y[`show${w}Button`],"inline-block"),Pt(l,y[`${h}ButtonText`]||""),l.setAttribute("aria-label",y[`${h}ButtonAriaLabel`]||""),l.className=m[h],Ut(l,y,`${h}Button`)}let cd=(l,h)=>{let y=Fc();y&&(Pt(y,h.closeButtonHtml||""),Ut(y,h,"closeButton"),rr(y,h.showCloseButton),y.setAttribute("aria-label",h.closeButtonAriaLabel||""))},So=(l,h)=>{let y=C();y&&(Ro(y,h.backdrop),og(y,h.position),sg(y,h.grow),Ut(y,h,"container"))};function Ro(l,h){typeof h=="string"?l.style.background=h:h||Ce([document.documentElement,document.body],m["no-backdrop"])}function og(l,h){h&&(h in m?Ce(l,m[h]):(O('The "position" parameter is not valid, defaulting to "center"'),Ce(l,m.center)))}function sg(l,h){h&&Ce(l,m[`grow-${h}`])}var Pe={innerParams:new WeakMap,domCache:new WeakMap};let ag=["input","file","range","select","radio","checkbox","textarea"],cg=(l,h)=>{let y=R();if(!y)return;let w=Pe.innerParams.get(l),P=!w||h.input!==w.input;ag.forEach(G=>{let ye=nr(y,m[G]);ye&&(Hc(G,h.inputAttributes),ye.className=m[G],P&&dt(ye))}),h.input&&(P&&Us(h),js(h))},Us=l=>{if(!l.input)return;if(!ze[l.input]){H(`Unexpected type of input! Expected ${Object.keys(ze).join(" | ")}, got "${l.input}"`);return}let h=qc(l.input);if(!h)return;let y=ze[l.input](h,l);rt(h),l.inputAutoFocus&&setTimeout(()=>{Vc(y)})},ud=l=>{for(let h=0;h<l.attributes.length;h++){let y=l.attributes[h].name;["id","type","value","style"].includes(y)||l.removeAttribute(y)}},Hc=(l,h)=>{let y=R();if(!y)return;let w=Fs(y,l);if(w){ud(w);for(let P in h)w.setAttribute(P,h[P])}},js=l=>{if(!l.input)return;let h=qc(l.input);h&&Ut(h,l,"input")},bn=(l,h)=>{!l.placeholder&&h.inputPlaceholder&&(l.placeholder=h.inputPlaceholder)},Ni=(l,h,y)=>{if(y.inputLabel){let w=document.createElement("label"),P=m["input-label"];w.setAttribute("for",l.id),w.className=P,typeof y.customClass=="object"&&Ce(w,y.customClass.inputLabel),w.innerText=y.inputLabel,h.insertAdjacentElement("beforebegin",w)}},qc=l=>{let h=R();if(h)return nr(h,m[l]||m.input)},Pi=(l,h)=>{["string","number"].includes(typeof h)?l.value=`${h}`:E(h)||O(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof h}"`)},ze={};ze.text=ze.email=ze.password=ze.number=ze.tel=ze.url=ze.search=ze.date=ze["datetime-local"]=ze.time=ze.week=ze.month=(l,h)=>(Pi(l,h.inputValue),Ni(l,l,h),bn(l,h),l.type=h.input,l),ze.file=(l,h)=>(Ni(l,l,h),bn(l,h),l),ze.range=(l,h)=>{let y=l.querySelector("input"),w=l.querySelector("output");return Pi(y,h.inputValue),y.type=h.input,Pi(w,h.inputValue),Ni(y,l,h),l},ze.select=(l,h)=>{if(l.textContent="",h.inputPlaceholder){let y=document.createElement("option");Pt(y,h.inputPlaceholder),y.value="",y.disabled=!0,y.selected=!0,l.appendChild(y)}return Ni(l,l,h),l},ze.radio=l=>(l.textContent="",l),ze.checkbox=(l,h)=>{let y=Fs(R(),"checkbox");y.value="1",y.checked=!!h.inputValue;let w=l.querySelector("span");return Pt(w,h.inputPlaceholder||h.inputLabel),y},ze.textarea=(l,h)=>{Pi(l,h.inputValue),bn(l,h),Ni(l,l,h);let y=w=>parseInt(window.getComputedStyle(w).marginLeft)+parseInt(window.getComputedStyle(w).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let w=parseInt(window.getComputedStyle(R()).width),P=()=>{if(!document.body.contains(l))return;let G=l.offsetWidth+y(l);G>w?R().style.width=`${G}px`:Ln(R(),"width",h.width)};new MutationObserver(P).observe(l,{attributes:!0,attributeFilter:["style"]})}}),l};let ld=(l,h)=>{let y=Oc();y&&(ht(y),Ut(y,h,"htmlContainer"),h.html?(Un(h.html,y),rt(y,"block")):h.text?(y.textContent=h.text,rt(y,"block")):dt(y),cg(l,h))},dd=(l,h)=>{let y=Jl();y&&(ht(y),rr(y,h.footer,"block"),h.footer&&Un(h.footer,y),Ut(y,h,"footer"))},ug=(l,h)=>{let y=Pe.innerParams.get(l),w=T();if(w){if(y&&h.icon===y.icon){ir(w,h),xo(w,h);return}if(!h.icon&&!h.iconHtml){dt(w);return}if(h.icon&&Object.keys(I).indexOf(h.icon)===-1){H(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${h.icon}"`),dt(w);return}rt(w),ir(w,h),xo(w,h),Ce(w,h.showClass&&h.showClass.icon)}},xo=(l,h)=>{for(let[y,w]of Object.entries(I))h.icon!==y&&hn(l,w);Ce(l,h.icon&&I[h.icon]),Gc(l,h),hd(),Ut(l,h,"icon")},hd=()=>{let l=R();if(!l)return;let h=window.getComputedStyle(l).getPropertyValue("background-color"),y=l.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let w=0;w<y.length;w++)y[w].style.backgroundColor=h},zc=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Mo=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,ir=(l,h)=>{if(!h.icon&&!h.iconHtml)return;let y=l.innerHTML,w="";h.iconHtml?w=fd(h.iconHtml):h.icon==="success"?(w=zc,y=y.replace(/ style=".*?"/g,"")):h.icon==="error"?w=Mo:h.icon&&(w=fd({question:"?",warning:"!",info:"i"}[h.icon])),y.trim()!==w.trim()&&Pt(l,w)},Gc=(l,h)=>{if(h.iconColor){l.style.color=h.iconColor,l.style.borderColor=h.iconColor;for(let y of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Dt(l,y,"background-color",h.iconColor);Dt(l,".swal2-success-ring","border-color",h.iconColor)}},fd=l=>`<div class="${m["icon-content"]}">${l}</div>`,pd=(l,h)=>{let y=Ci();if(y){if(!h.imageUrl){dt(y);return}rt(y,""),y.setAttribute("src",h.imageUrl),y.setAttribute("alt",h.imageAlt||""),Ln(y,"width",h.imageWidth),Ln(y,"height",h.imageHeight),y.className=m.image,Ut(y,h,"image")}},md=(l,h)=>{let y=C(),w=R();if(!(!y||!w)){if(h.toast){Ln(y,"width",h.width),w.style.width="100%";let P=Ai();P&&w.insertBefore(P,T())}else Ln(w,"width",h.width);Ln(w,"padding",h.padding),h.color&&(w.style.color=h.color),h.background&&(w.style.background=h.background),dt(Ti()),gd(w,h)}},gd=(l,h)=>{let y=h.showClass||{};l.className=`${m.popup} ${kt(l)?y.popup:""}`,h.toast?(Ce([document.documentElement,document.body],m["toast-shown"]),Ce(l,m.toast)):Ce(l,m.modal),Ut(l,h,"popup"),typeof h.customClass=="string"&&Ce(l,h.customClass),h.icon&&Ce(l,m[`icon-${h.icon}`])},Wc=(l,h)=>{let y=$r();if(!y)return;let{progressSteps:w,currentProgressStep:P}=h;if(!w||w.length===0||P===void 0){dt(y);return}rt(y),y.textContent="",P>=w.length&&O("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),w.forEach((G,ye)=>{let Ue=Kc(G);if(y.appendChild(Ue),ye===P&&Ce(Ue,m["active-progress-step"]),ye!==w.length-1){let Xe=yd(h);y.appendChild(Xe)}})},Kc=l=>{let h=document.createElement("li");return Ce(h,m["progress-step"]),Pt(h,l),h},yd=l=>{let h=document.createElement("li");return Ce(h,m["progress-step-line"]),l.progressStepsDistance&&Ln(h,"width",l.progressStepsDistance),h},vd=(l,h)=>{let y=bi();y&&(ht(y),rr(y,h.title||h.titleText,"block"),h.title&&Un(h.title,y),h.titleText&&(y.innerText=h.titleText),Ut(y,h,"title"))},wd=(l,h)=>{md(l,h),So(l,h),Wc(l,h),ug(l,h),pd(l,h),vd(l,h),cd(l,h),ld(l,h),sd(l,h),dd(l,h);let y=R();typeof h.didRender=="function"&&y&&h.didRender(y),s.eventEmitter.emit("didRender",y)},lg=()=>kt(R()),Qc=()=>{var l;return(l=ln())===null||l===void 0?void 0:l.click()},_d=()=>{var l;return(l=Vt())===null||l===void 0?void 0:l.click()},dg=()=>{var l;return(l=Di())===null||l===void 0?void 0:l.click()},Jt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Cn=l=>{l.keydownTarget&&l.keydownHandlerAdded&&(l.keydownTarget.removeEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!1)},Bs=(l,h,y)=>{Cn(l),h.toast||(l.keydownHandler=w=>$s(h,w,y),l.keydownTarget=h.keydownListenerCapture?window:R(),l.keydownListenerCapture=h.keydownListenerCapture,l.keydownTarget.addEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!0)},ki=(l,h)=>{var y;let w=Si();if(w.length){l=l+h,l===w.length?l=0:l===-1&&(l=w.length-1),w[l].focus();return}(y=R())===null||y===void 0||y.focus()},Yc=["ArrowRight","ArrowDown"],$e=["ArrowLeft","ArrowUp"],$s=(l,h,y)=>{l&&(h.isComposing||h.keyCode===229||(l.stopKeydownPropagation&&h.stopPropagation(),h.key==="Enter"?No(h,l):h.key==="Tab"?Po(h):[...Yc,...$e].includes(h.key)?hg(h.key):h.key==="Escape"&&Ed(h,l,y)))},No=(l,h)=>{if(!Fe(h.allowEnterKey))return;let y=Fs(R(),h.input);if(l.target&&y&&l.target instanceof HTMLElement&&l.target.outerHTML===y.outerHTML){if(["textarea","file"].includes(h.input))return;Qc(),l.preventDefault()}},Po=l=>{let h=l.target,y=Si(),w=-1;for(let P=0;P<y.length;P++)if(h===y[P]){w=P;break}l.shiftKey?ki(w,-1):ki(w,1),l.stopPropagation(),l.preventDefault()},hg=l=>{let h=Fn(),y=ln(),w=Vt(),P=Di();if(!h||!y||!w||!P)return;let G=[y,w,P];if(document.activeElement instanceof HTMLElement&&!G.includes(document.activeElement))return;let ye=Yc.includes(l)?"nextElementSibling":"previousElementSibling",Ue=document.activeElement;if(Ue){for(let Xe=0;Xe<h.children.length;Xe++){if(Ue=Ue[ye],!Ue)return;if(Ue instanceof HTMLButtonElement&&kt(Ue))break}Ue instanceof HTMLButtonElement&&Ue.focus()}},Ed=(l,h,y)=>{Fe(h.allowEscapeKey)&&(l.preventDefault(),y(Jt.esc))};var Oi={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let fg=()=>{let l=C();Array.from(document.body.children).forEach(y=>{y.contains(l)||(y.hasAttribute("aria-hidden")&&y.setAttribute("data-previous-aria-hidden",y.getAttribute("aria-hidden")||""),y.setAttribute("aria-hidden","true"))})},Id=()=>{Array.from(document.body.children).forEach(h=>{h.hasAttribute("data-previous-aria-hidden")?(h.setAttribute("aria-hidden",h.getAttribute("data-previous-aria-hidden")||""),h.removeAttribute("data-previous-aria-hidden")):h.removeAttribute("aria-hidden")})},bd=typeof window<"u"&&!!window.GestureEvent,ko=()=>{if(bd&&!dn(document.body,m.iosfix)){let l=document.body.scrollTop;document.body.style.top=`${l*-1}px`,Ce(document.body,m.iosfix),or()}},or=()=>{let l=C();if(!l)return;let h;l.ontouchstart=y=>{h=Cd(y)},l.ontouchmove=y=>{h&&(y.preventDefault(),y.stopPropagation())}},Cd=l=>{let h=l.target,y=C(),w=Oc();return!y||!w||Td(l)||Dd(l)?!1:h===y||!td(y)&&h instanceof HTMLElement&&h.tagName!=="INPUT"&&h.tagName!=="TEXTAREA"&&!(td(w)&&w.contains(h))},Td=l=>l.touches&&l.touches.length&&l.touches[0].touchType==="stylus",Dd=l=>l.touches&&l.touches.length>1,Fi=()=>{if(dn(document.body,m.iosfix)){let l=parseInt(document.body.style.top,10);hn(document.body,m.iosfix),document.body.style.top="",document.body.scrollTop=l*-1}},pg=()=>{let l=document.createElement("div");l.className=m["scrollbar-measure"],document.body.appendChild(l);let h=l.getBoundingClientRect().width-l.clientWidth;return document.body.removeChild(l),h},Li=null,mg=l=>{Li===null&&(document.body.scrollHeight>window.innerHeight||l==="scroll")&&(Li=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Li+pg()}px`)},sr=()=>{Li!==null&&(document.body.style.paddingRight=`${Li}px`,Li=null)};function Ad(l,h,y,w){xi()?Ge(l,w):(u(y).then(()=>Ge(l,w)),Cn(s)),bd?(h.setAttribute("style","display:none !important"),h.removeAttribute("class"),h.innerHTML=""):h.remove(),Ri()&&(sr(),Fi(),Id()),gg()}function gg(){hn([document.documentElement,document.body],[m.shown,m["height-auto"],m["no-backdrop"],m["toast-shown"]])}function Xt(l){l=Oo(l);let h=Oi.swalPromiseResolve.get(this),y=Hs(this);this.isAwaitingPromise?l.isDismissed||(jn(this),h(l)):y&&h(l)}let Hs=l=>{let h=R();if(!h)return!1;let y=Pe.innerParams.get(l);if(!y||dn(h,y.hideClass.popup))return!1;hn(h,y.showClass.popup),Ce(h,y.hideClass.popup);let w=C();return hn(w,y.showClass.backdrop),Ce(w,y.hideClass.backdrop),Sd(l,h,y),!0};function Zc(l){let h=Oi.swalPromiseReject.get(this);jn(this),h&&h(l)}let jn=l=>{l.isAwaitingPromise&&(delete l.isAwaitingPromise,Pe.innerParams.get(l)||l._destroy())},Oo=l=>typeof l>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},l),Sd=(l,h,y)=>{let w=C(),P=Mi(h);typeof y.willClose=="function"&&y.willClose(h),s.eventEmitter.emit("willClose",h),P?Jc(l,h,w,y.returnFocus,y.didClose):Ad(l,w,y.returnFocus,y.didClose)},Jc=(l,h,y,w,P)=>{s.swalCloseEventFinishedCallback=Ad.bind(null,l,y,w,P);let G=function(ye){ye.target===h&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback,h.removeEventListener("animationend",G),h.removeEventListener("transitionend",G))};h.addEventListener("animationend",G),h.addEventListener("transitionend",G)},Ge=(l,h)=>{setTimeout(()=>{typeof h=="function"&&h.bind(l.params)(),s.eventEmitter.emit("didClose"),l._destroy&&l._destroy()})},Vi=l=>{let h=R();if(h||new Hd,h=R(),!h)return;let y=Ai();xi()?dt(T()):yg(h,l),rt(y),h.setAttribute("data-loading","true"),h.setAttribute("aria-busy","true"),h.focus()},yg=(l,h)=>{let y=Fn(),w=Ai();!y||!w||(!h&&kt(ln())&&(h=ln()),rt(y),h&&(dt(h),w.setAttribute("data-button-to-replace",h.className),y.insertBefore(w,h)),Ce([l,y],m.loading))},Rd=(l,h)=>{h.input==="select"||h.input==="radio"?Bn(l,h):["text","email","number","tel","textarea"].some(y=>y===h.input)&&(oe(h.inputValue)||E(h.inputValue))&&(Vi(ln()),Pd(l,h))},xd=(l,h)=>{let y=l.getInput();if(!y)return null;switch(h.input){case"checkbox":return Md(y);case"radio":return qs(y);case"file":return Nd(y);default:return h.inputAutoTrim?y.value.trim():y.value}},Md=l=>l.checked?1:0,qs=l=>l.checked?l.value:null,Nd=l=>l.files&&l.files.length?l.getAttribute("multiple")!==null?l.files:l.files[0]:null,Bn=(l,h)=>{let y=R();if(!y)return;let w=P=>{h.input==="select"?vg(y,Lo(P),h):h.input==="radio"&&Fo(y,Lo(P),h)};oe(h.inputOptions)||E(h.inputOptions)?(Vi(ln()),D(h.inputOptions).then(P=>{l.hideLoading(),w(P)})):typeof h.inputOptions=="object"?w(h.inputOptions):H(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof h.inputOptions}`)},Pd=(l,h)=>{let y=l.getInput();y&&(dt(y),D(h.inputValue).then(w=>{y.value=h.input==="number"?`${parseFloat(w)||0}`:`${w}`,rt(y),y.focus(),l.hideLoading()}).catch(w=>{H(`Error in inputValue promise: ${w}`),y.value="",rt(y),y.focus(),l.hideLoading()}))};function vg(l,h,y){let w=nr(l,m.select);if(!w)return;let P=(G,ye,Ue)=>{let Xe=document.createElement("option");Xe.value=Ue,Pt(Xe,ye),Xe.selected=zs(Ue,y.inputValue),G.appendChild(Xe)};h.forEach(G=>{let ye=G[0],Ue=G[1];if(Array.isArray(Ue)){let Xe=document.createElement("optgroup");Xe.label=ye,Xe.disabled=!1,w.appendChild(Xe),Ue.forEach(Qs=>P(Xe,Qs[1],Qs[0]))}else P(w,Ue,ye)}),w.focus()}function Fo(l,h,y){let w=nr(l,m.radio);if(!w)return;h.forEach(G=>{let ye=G[0],Ue=G[1],Xe=document.createElement("input"),Qs=document.createElement("label");Xe.type="radio",Xe.name=m.radio,Xe.value=ye,zs(ye,y.inputValue)&&(Xe.checked=!0);let _g=document.createElement("span");Pt(_g,Ue),_g.className=m.label,Qs.appendChild(Xe),Qs.appendChild(_g),w.appendChild(Qs)});let P=w.querySelectorAll("input");P.length&&P[0].focus()}let Lo=l=>{let h=[];return l instanceof Map?l.forEach((y,w)=>{let P=y;typeof P=="object"&&(P=Lo(P)),h.push([w,P])}):Object.keys(l).forEach(y=>{let w=l[y];typeof w=="object"&&(w=Lo(w)),h.push([y,w])}),h},zs=(l,h)=>!!h&&h.toString()===l.toString(),Gs=l=>{let h=Pe.innerParams.get(l);l.disableButtons(),h.input?Od(l,"confirm"):Vo(l,!0)},kd=l=>{let h=Pe.innerParams.get(l);l.disableButtons(),h.returnInputValueOnDeny?Od(l,"deny"):Hr(l,!1)},Ws=(l,h)=>{l.disableButtons(),h(Jt.cancel)},Od=(l,h)=>{let y=Pe.innerParams.get(l);if(!y.input){H(`The "input" parameter is needed to be set when using returnInputValueOn${L(h)}`);return}let w=l.getInput(),P=xd(l,y);y.inputValidator?Fd(l,P,h):w&&!w.checkValidity()?(l.enableButtons(),l.showValidationMessage(y.validationMessage||w.validationMessage)):h==="deny"?Hr(l,P):Vo(l,P)},Fd=(l,h,y)=>{let w=Pe.innerParams.get(l);l.disableInput(),Promise.resolve().then(()=>D(w.inputValidator(h,w.validationMessage))).then(G=>{l.enableButtons(),l.enableInput(),G?l.showValidationMessage(G):y==="deny"?Hr(l,h):Vo(l,h)})},Hr=(l,h)=>{let y=Pe.innerParams.get(l||void 0);y.showLoaderOnDeny&&Vi(Vt()),y.preDeny?(l.isAwaitingPromise=!0,Promise.resolve().then(()=>D(y.preDeny(h,y.validationMessage))).then(P=>{P===!1?(l.hideLoading(),jn(l)):l.close({isDenied:!0,value:typeof P>"u"?h:P})}).catch(P=>eu(l||void 0,P))):l.close({isDenied:!0,value:h})},Xc=(l,h)=>{l.close({isConfirmed:!0,value:h})},eu=(l,h)=>{l.rejectPromise(h)},Vo=(l,h)=>{let y=Pe.innerParams.get(l||void 0);y.showLoaderOnConfirm&&Vi(),y.preConfirm?(l.resetValidationMessage(),l.isAwaitingPromise=!0,Promise.resolve().then(()=>D(y.preConfirm(h,y.validationMessage))).then(P=>{kt(Ti())||P===!1?(l.hideLoading(),jn(l)):Xc(l,typeof P>"u"?h:P)}).catch(P=>eu(l||void 0,P))):Xc(l,h)};function Ui(){let l=Pe.innerParams.get(this);if(!l)return;let h=Pe.domCache.get(this);dt(h.loader),xi()?l.icon&&rt(T()):Ld(h),hn([h.popup,h.actions],m.loading),h.popup.removeAttribute("aria-busy"),h.popup.removeAttribute("data-loading"),h.confirmButton.disabled=!1,h.denyButton.disabled=!1,h.cancelButton.disabled=!1}let Ld=l=>{let h=l.popup.getElementsByClassName(l.loader.getAttribute("data-button-to-replace"));h.length?rt(h[0],"inline-block"):ed()&&dt(l.actions)};function Uo(){let l=Pe.innerParams.get(this),h=Pe.domCache.get(this);return h?Fs(h.popup,l.input):null}function tu(l,h,y){let w=Pe.domCache.get(l);h.forEach(P=>{w[P].disabled=y})}function nu(l,h){let y=R();if(!(!y||!l))if(l.type==="radio"){let w=y.querySelectorAll(`[name="${m.radio}"]`);for(let P=0;P<w.length;P++)w[P].disabled=h}else l.disabled=h}function ar(){tu(this,["confirmButton","denyButton","cancelButton"],!1)}function ru(){tu(this,["confirmButton","denyButton","cancelButton"],!0)}function iu(){nu(this.getInput(),!1)}function ou(){nu(this.getInput(),!0)}function su(l){let h=Pe.domCache.get(this),y=Pe.innerParams.get(this);Pt(h.validationMessage,l),h.validationMessage.className=m["validation-message"],y.customClass&&y.customClass.validationMessage&&Ce(h.validationMessage,y.customClass.validationMessage),rt(h.validationMessage);let w=this.getInput();w&&(w.setAttribute("aria-invalid","true"),w.setAttribute("aria-describedby",m["validation-message"]),Vc(w),Ce(w,m.inputerror))}function jo(){let l=Pe.domCache.get(this);l.validationMessage&&dt(l.validationMessage);let h=this.getInput();h&&(h.removeAttribute("aria-invalid"),h.removeAttribute("aria-describedby"),hn(h,m.inputerror))}let ft={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Vd=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Ud={allowEnterKey:void 0},ji=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],c=l=>Object.prototype.hasOwnProperty.call(ft,l),f=l=>Vd.indexOf(l)!==-1,g=l=>Ud[l],v=l=>{c(l)||O(`Unknown parameter "${l}"`)},x=l=>{ji.includes(l)&&O(`The parameter "${l}" is incompatible with toasts`)},k=l=>{let h=g(l);h&&re(l,h)},$=l=>{l.backdrop===!1&&l.allowOutsideClick&&O('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let h in l)v(h),l.toast&&x(h),k(h)};function Ve(l){let h=R(),y=Pe.innerParams.get(this);if(!h||dn(h,y.hideClass.popup)){O("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let w=It(l),P=Object.assign({},y,w);wd(this,P),Pe.innerParams.set(this,P),Object.defineProperties(this,{params:{value:Object.assign({},this.params,l),writable:!1,enumerable:!0}})}let It=l=>{let h={};return Object.keys(l).forEach(y=>{f(y)?h[y]=l[y]:O(`Invalid parameter to update: ${y}`)}),h};function Se(){let l=Pe.domCache.get(this),h=Pe.innerParams.get(this);if(!h){bt(this);return}l.popup&&s.swalCloseEventFinishedCallback&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback),typeof h.didDestroy=="function"&&h.didDestroy(),s.eventEmitter.emit("didDestroy"),At(this)}let At=l=>{bt(l),delete l.params,delete s.keydownHandler,delete s.keydownTarget,delete s.currentInstance},bt=l=>{l.isAwaitingPromise?(cr(Pe,l),l.isAwaitingPromise=!0):(cr(Oi,l),cr(Pe,l),delete l.isAwaitingPromise,delete l.disableButtons,delete l.enableButtons,delete l.getInput,delete l.disableInput,delete l.enableInput,delete l.hideLoading,delete l.disableLoading,delete l.showValidationMessage,delete l.resetValidationMessage,delete l.close,delete l.closePopup,delete l.closeModal,delete l.closeToast,delete l.rejectPromise,delete l.update,delete l._destroy)},cr=(l,h)=>{for(let y in l)l[y].delete(h)};var fn=Object.freeze({__proto__:null,_destroy:Se,close:Xt,closeModal:Xt,closePopup:Xt,closeToast:Xt,disableButtons:ru,disableInput:ou,disableLoading:Ui,enableButtons:ar,enableInput:iu,getInput:Uo,handleAwaitingPromise:jn,hideLoading:Ui,rejectPromise:Zc,resetValidationMessage:jo,showValidationMessage:su,update:Ve});let Ks=(l,h,y)=>{l.toast?au(l,h,y):(VN(h),UN(h),jN(l,h,y))},au=(l,h,y)=>{h.popup.onclick=()=>{l&&(LN(l)||l.timer||l.input)||y(Jt.close)}},LN=l=>!!(l.showConfirmButton||l.showDenyButton||l.showCancelButton||l.showCloseButton),jd=!1,VN=l=>{l.popup.onmousedown=()=>{l.container.onmouseup=function(h){l.container.onmouseup=()=>{},h.target===l.container&&(jd=!0)}}},UN=l=>{l.container.onmousedown=h=>{h.target===l.container&&h.preventDefault(),l.popup.onmouseup=function(y){l.popup.onmouseup=()=>{},(y.target===l.popup||y.target instanceof HTMLElement&&l.popup.contains(y.target))&&(jd=!0)}}},jN=(l,h,y)=>{h.container.onclick=w=>{if(jd){jd=!1;return}w.target===h.container&&Fe(l.allowOutsideClick)&&y(Jt.backdrop)}},BN=l=>typeof l=="object"&&l.jquery,Vb=l=>l instanceof Element||BN(l),$N=l=>{let h={};return typeof l[0]=="object"&&!Vb(l[0])?Object.assign(h,l[0]):["title","html","icon"].forEach((y,w)=>{let P=l[w];typeof P=="string"||Vb(P)?h[y]=P:P!==void 0&&H(`Unexpected type of ${y}! Expected "string" or "Element", got ${typeof P}`)}),h};function HN(){for(var l=arguments.length,h=new Array(l),y=0;y<l;y++)h[y]=arguments[y];return new this(...h)}function qN(l){class h extends this{_main(w,P){return super._main(w,Object.assign({},l,P))}}return h}let zN=()=>s.timeout&&s.timeout.getTimerLeft(),Ub=()=>{if(s.timeout)return nd(),s.timeout.stop()},jb=()=>{if(s.timeout){let l=s.timeout.start();return Ls(l),l}},GN=()=>{let l=s.timeout;return l&&(l.running?Ub():jb())},WN=l=>{if(s.timeout){let h=s.timeout.increase(l);return Ls(h,!0),h}},KN=()=>!!(s.timeout&&s.timeout.isRunning()),Bb=!1,wg={};function QN(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";wg[l]=this,Bb||(document.body.addEventListener("click",YN),Bb=!0)}let YN=l=>{for(let h=l.target;h&&h!==document;h=h.parentNode)for(let y in wg){let w=h.getAttribute(y);if(w){wg[y].fire({template:w});return}}};class ZN{constructor(){this.events={}}_getHandlersByEventName(h){return typeof this.events[h]>"u"&&(this.events[h]=[]),this.events[h]}on(h,y){let w=this._getHandlersByEventName(h);w.includes(y)||w.push(y)}once(h,y){var w=this;let P=function(){w.removeListener(h,P);for(var G=arguments.length,ye=new Array(G),Ue=0;Ue<G;Ue++)ye[Ue]=arguments[Ue];y.apply(w,ye)};this.on(h,P)}emit(h){for(var y=arguments.length,w=new Array(y>1?y-1:0),P=1;P<y;P++)w[P-1]=arguments[P];this._getHandlersByEventName(h).forEach(G=>{try{G.apply(this,w)}catch(ye){console.error(ye)}})}removeListener(h,y){let w=this._getHandlersByEventName(h),P=w.indexOf(y);P>-1&&w.splice(P,1)}removeAllListeners(h){this.events[h]!==void 0&&(this.events[h].length=0)}reset(){this.events={}}}s.eventEmitter=new ZN;var JN=Object.freeze({__proto__:null,argsToParams:$N,bindClickHandler:QN,clickCancel:dg,clickConfirm:Qc,clickDeny:_d,enableLoading:Vi,fire:HN,getActions:Fn,getCancelButton:Di,getCloseButton:Fc,getConfirmButton:ln,getContainer:C,getDenyButton:Vt,getFocusableElements:Si,getFooter:Jl,getHtmlContainer:Oc,getIcon:T,getIconContent:On,getImage:Ci,getInputLabel:Tt,getLoader:Ai,getPopup:R,getProgressSteps:$r,getTimerLeft:zN,getTimerProgressBar:tr,getTitle:bi,getValidationMessage:Ti,increaseTimer:WN,isDeprecatedParameter:g,isLoading:Lc,isTimerRunning:KN,isUpdatableParameter:f,isValidParameter:c,isVisible:lg,mixin:qN,off:(l,h)=>{if(!l){s.eventEmitter.reset();return}h?s.eventEmitter.removeListener(l,h):s.eventEmitter.removeAllListeners(l)},on:(l,h)=>{s.eventEmitter.on(l,h)},once:(l,h)=>{s.eventEmitter.once(l,h)},resumeTimer:jb,showLoading:Vi,stopTimer:Ub,toggleTimer:GN});class XN{constructor(h,y){this.callback=h,this.remaining=y,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(h){let y=this.running;return y&&this.stop(),this.remaining+=h,y&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let $b=["swal-title","swal-html","swal-footer"],eP=l=>{let h=typeof l.template=="string"?document.querySelector(l.template):l.template;if(!h)return{};let y=h.content;return cP(y),Object.assign(tP(y),nP(y),rP(y),iP(y),oP(y),sP(y),aP(y,$b))},tP=l=>{let h={};return Array.from(l.querySelectorAll("swal-param")).forEach(w=>{Bo(w,["name","value"]);let P=w.getAttribute("name"),G=w.getAttribute("value");!P||!G||(typeof ft[P]=="boolean"?h[P]=G!=="false":typeof ft[P]=="object"?h[P]=JSON.parse(G):h[P]=G)}),h},nP=l=>{let h={};return Array.from(l.querySelectorAll("swal-function-param")).forEach(w=>{let P=w.getAttribute("name"),G=w.getAttribute("value");!P||!G||(h[P]=new Function(`return ${G}`)())}),h},rP=l=>{let h={};return Array.from(l.querySelectorAll("swal-button")).forEach(w=>{Bo(w,["type","color","aria-label"]);let P=w.getAttribute("type");!P||!["confirm","cancel","deny"].includes(P)||(h[`${P}ButtonText`]=w.innerHTML,h[`show${L(P)}Button`]=!0,w.hasAttribute("color")&&(h[`${P}ButtonColor`]=w.getAttribute("color")),w.hasAttribute("aria-label")&&(h[`${P}ButtonAriaLabel`]=w.getAttribute("aria-label")))}),h},iP=l=>{let h={},y=l.querySelector("swal-image");return y&&(Bo(y,["src","width","height","alt"]),y.hasAttribute("src")&&(h.imageUrl=y.getAttribute("src")||void 0),y.hasAttribute("width")&&(h.imageWidth=y.getAttribute("width")||void 0),y.hasAttribute("height")&&(h.imageHeight=y.getAttribute("height")||void 0),y.hasAttribute("alt")&&(h.imageAlt=y.getAttribute("alt")||void 0)),h},oP=l=>{let h={},y=l.querySelector("swal-icon");return y&&(Bo(y,["type","color"]),y.hasAttribute("type")&&(h.icon=y.getAttribute("type")),y.hasAttribute("color")&&(h.iconColor=y.getAttribute("color")),h.iconHtml=y.innerHTML),h},sP=l=>{let h={},y=l.querySelector("swal-input");y&&(Bo(y,["type","label","placeholder","value"]),h.input=y.getAttribute("type")||"text",y.hasAttribute("label")&&(h.inputLabel=y.getAttribute("label")),y.hasAttribute("placeholder")&&(h.inputPlaceholder=y.getAttribute("placeholder")),y.hasAttribute("value")&&(h.inputValue=y.getAttribute("value")));let w=Array.from(l.querySelectorAll("swal-input-option"));return w.length&&(h.inputOptions={},w.forEach(P=>{Bo(P,["value"]);let G=P.getAttribute("value");if(!G)return;let ye=P.innerHTML;h.inputOptions[G]=ye})),h},aP=(l,h)=>{let y={};for(let w in h){let P=h[w],G=l.querySelector(P);G&&(Bo(G,[]),y[P.replace(/^swal-/,"")]=G.innerHTML.trim())}return y},cP=l=>{let h=$b.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(l.children).forEach(y=>{let w=y.tagName.toLowerCase();h.includes(w)||O(`Unrecognized element <${w}>`)})},Bo=(l,h)=>{Array.from(l.attributes).forEach(y=>{h.indexOf(y.name)===-1&&O([`Unrecognized attribute "${y.name}" on <${l.tagName.toLowerCase()}>.`,`${h.length?`Allowed attributes are: ${h.join(", ")}`:"To set the value, use HTML within the element."}`])})},Hb=10,uP=l=>{let h=C(),y=R();typeof l.willOpen=="function"&&l.willOpen(y),s.eventEmitter.emit("willOpen",y);let P=window.getComputedStyle(document.body).overflowY;hP(h,y,l),setTimeout(()=>{lP(h,y)},Hb),Ri()&&(dP(h,l.scrollbarPadding,P),fg()),!xi()&&!s.previousActiveElement&&(s.previousActiveElement=document.activeElement),typeof l.didOpen=="function"&&setTimeout(()=>l.didOpen(y)),s.eventEmitter.emit("didOpen",y),hn(h,m["no-transition"])},Bd=l=>{let h=R();if(l.target!==h)return;let y=C();h.removeEventListener("animationend",Bd),h.removeEventListener("transitionend",Bd),y.style.overflowY="auto"},lP=(l,h)=>{Mi(h)?(l.style.overflowY="hidden",h.addEventListener("animationend",Bd),h.addEventListener("transitionend",Bd)):l.style.overflowY="auto"},dP=(l,h,y)=>{ko(),h&&y!=="hidden"&&mg(y),setTimeout(()=>{l.scrollTop=0})},hP=(l,h,y)=>{Ce(l,y.showClass.backdrop),y.animation?(h.style.setProperty("opacity","0","important"),rt(h,"grid"),setTimeout(()=>{Ce(h,y.showClass.popup),h.style.removeProperty("opacity")},Hb)):rt(h,"grid"),Ce([document.documentElement,document.body],m.shown),y.heightAuto&&y.backdrop&&!y.toast&&Ce([document.documentElement,document.body],m["height-auto"])};var qb={email:(l,h)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid email address"),url:(l,h)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid URL")};function fP(l){l.inputValidator||(l.input==="email"&&(l.inputValidator=qb.email),l.input==="url"&&(l.inputValidator=qb.url))}function pP(l){(!l.target||typeof l.target=="string"&&!document.querySelector(l.target)||typeof l.target!="string"&&!l.target.appendChild)&&(O('Target parameter is not valid, defaulting to "body"'),l.target="body")}function mP(l){fP(l),l.showLoaderOnConfirm&&!l.preConfirm&&O(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),pP(l),typeof l.title=="string"&&(l.title=l.title.split(`
`).join("<br />")),$c(l)}let ur;var $d=new WeakMap;class at{constructor(){if(r(this,$d,void 0),typeof window>"u")return;ur=this;for(var h=arguments.length,y=new Array(h),w=0;w<h;w++)y[w]=arguments[w];let P=Object.freeze(this.constructor.argsToParams(y));this.params=P,this.isAwaitingPromise=!1,i($d,this,this._main(ur.params))}_main(h){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if($(Object.assign({},y,h)),s.currentInstance){let G=Oi.swalPromiseResolve.get(s.currentInstance),{isAwaitingPromise:ye}=s.currentInstance;s.currentInstance._destroy(),ye||G({isDismissed:!0}),Ri()&&Id()}s.currentInstance=ur;let w=yP(h,y);mP(w),Object.freeze(w),s.timeout&&(s.timeout.stop(),delete s.timeout),clearTimeout(s.restoreFocusTimeout);let P=vP(ur);return wd(ur,w),Pe.innerParams.set(ur,w),gP(ur,P,w)}then(h){return t($d,this).then(h)}finally(h){return t($d,this).finally(h)}}let gP=(l,h,y)=>new Promise((w,P)=>{let G=ye=>{l.close({isDismissed:!0,dismiss:ye})};Oi.swalPromiseResolve.set(l,w),Oi.swalPromiseReject.set(l,P),h.confirmButton.onclick=()=>{Gs(l)},h.denyButton.onclick=()=>{kd(l)},h.cancelButton.onclick=()=>{Ws(l,G)},h.closeButton.onclick=()=>{G(Jt.close)},Ks(y,h,G),Bs(s,y,G),Rd(l,y),uP(y),wP(s,y,G),_P(h,y),setTimeout(()=>{h.container.scrollTop=0})}),yP=(l,h)=>{let y=eP(l),w=Object.assign({},ft,h,y,l);return w.showClass=Object.assign({},ft.showClass,w.showClass),w.hideClass=Object.assign({},ft.hideClass,w.hideClass),w.animation===!1&&(w.showClass={backdrop:"swal2-noanimation"},w.hideClass={}),w},vP=l=>{let h={popup:R(),container:C(),actions:Fn(),confirmButton:ln(),denyButton:Vt(),cancelButton:Di(),loader:Ai(),closeButton:Fc(),validationMessage:Ti(),progressSteps:$r()};return Pe.domCache.set(l,h),h},wP=(l,h,y)=>{let w=tr();dt(w),h.timer&&(l.timeout=new XN(()=>{y("timer"),delete l.timeout},h.timer),h.timerProgressBar&&(rt(w),Ut(w,h,"timerProgressBar"),setTimeout(()=>{l.timeout&&l.timeout.running&&Ls(h.timer)})))},_P=(l,h)=>{if(!h.toast){if(!Fe(h.allowEnterKey)){re("allowEnterKey"),bP();return}EP(l)||IP(l,h)||ki(-1,1)}},EP=l=>{let h=l.popup.querySelectorAll("[autofocus]");for(let y of h)if(y instanceof HTMLElement&&kt(y))return y.focus(),!0;return!1},IP=(l,h)=>h.focusDeny&&kt(l.denyButton)?(l.denyButton.focus(),!0):h.focusCancel&&kt(l.cancelButton)?(l.cancelButton.focus(),!0):h.focusConfirm&&kt(l.confirmButton)?(l.confirmButton.focus(),!0):!1,bP=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let l=new Date,h=localStorage.getItem("swal-initiation");h?(l.getTime()-Date.parse(h))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let y=document.createElement("audio");y.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",y.loop=!0,document.body.appendChild(y),setTimeout(()=>{y.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${l}`)}at.prototype.disableButtons=ru,at.prototype.enableButtons=ar,at.prototype.getInput=Uo,at.prototype.disableInput=ou,at.prototype.enableInput=iu,at.prototype.hideLoading=Ui,at.prototype.disableLoading=Ui,at.prototype.showValidationMessage=su,at.prototype.resetValidationMessage=jo,at.prototype.close=Xt,at.prototype.closePopup=Xt,at.prototype.closeModal=Xt,at.prototype.closeToast=Xt,at.prototype.rejectPromise=Zc,at.prototype.update=Ve,at.prototype._destroy=Se,Object.assign(at,JN),Object.keys(fn).forEach(l=>{at[l]=function(){return ur&&ur[l]?ur[l](...arguments):null}}),at.DismissReason=Jt,at.version="11.14.4";let Hd=at;return Hd.default=Hd,Hd});typeof Br<"u"&&Br.Sweetalert2&&(Br.swal=Br.sweetAlert=Br.Swal=Br.SweetAlert=Br.Sweetalert2);typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});function zb(n,e){return Object.is(n,e)}var Ct=null,zd=!1,Gd=1,qr=Symbol("SIGNAL");function ke(n){let e=Ct;return Ct=n,e}function Gb(){return Ct}var uu={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function bg(n){if(zd)throw new Error("");if(Ct===null)return;Ct.consumerOnSignalRead(n);let e=Ct.nextProducerIndex++;if(Yd(Ct),e<Ct.producerNode.length&&Ct.producerNode[e]!==n&&cu(Ct)){let t=Ct.producerNode[e];Qd(t,Ct.producerIndexOfThis[e])}Ct.producerNode[e]!==n&&(Ct.producerNode[e]=n,Ct.producerIndexOfThis[e]=cu(Ct)?Yb(n,Ct,e):0),Ct.producerLastReadVersion[e]=n.version}function TP(){Gd++}function Wb(n){if(!(cu(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Gd)){if(!n.producerMustRecompute(n)&&!Tg(n)){n.dirty=!1,n.lastCleanEpoch=Gd;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Gd}}function Kb(n){if(n.liveConsumerNode===void 0)return;let e=zd;zd=!0;try{for(let t of n.liveConsumerNode)t.dirty||DP(t)}finally{zd=e}}function Qb(){return Ct?.consumerAllowSignalWrites!==!1}function DP(n){n.dirty=!0,Kb(n),n.consumerMarkedDirty?.(n)}function Kd(n){return n&&(n.nextProducerIndex=0),ke(n)}function Cg(n,e){if(ke(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(cu(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Qd(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Tg(n){Yd(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Wb(t),r!==t.version))return!0}return!1}function Dg(n){if(Yd(n),cu(n))for(let e=0;e<n.producerNode.length;e++)Qd(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Yb(n,e,t){if(Zb(n),n.liveConsumerNode.length===0&&Jb(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=Yb(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Qd(n,e){if(Zb(n),n.liveConsumerNode.length===1&&Jb(n))for(let r=0;r<n.producerNode.length;r++)Qd(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Yd(i),i.producerIndexOfThis[r]=e}}function cu(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Yd(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Zb(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Jb(n){return n.producerNode!==void 0}function Xb(n){let e=Object.create(AP);e.computation=n;let t=()=>{if(Wb(e),bg(e),e.value===Wd)throw e.error;return e.value};return t[qr]=e,t}var Eg=Symbol("UNSET"),Ig=Symbol("COMPUTING"),Wd=Symbol("ERRORED"),AP=le(j({},uu),{value:Eg,dirty:!0,error:null,equal:zb,producerMustRecompute(n){return n.value===Eg||n.value===Ig},producerRecomputeValue(n){if(n.value===Ig)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Ig;let t=Kd(n),r;try{r=n.computation()}catch(i){r=Wd,n.error=i}finally{Cg(n,t)}if(e!==Eg&&e!==Wd&&r!==Wd&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function SP(){throw new Error}var e0=SP;function t0(){e0()}function n0(n){e0=n}var RP=null;function r0(n){let e=Object.create(o0);e.value=n;let t=()=>(bg(e),e.value);return t[qr]=e,t}function Ag(n,e){Qb()||t0(),n.equal(n.value,e)||(n.value=e,xP(n))}function i0(n,e){Qb()||t0(),Ag(n,e(n.value))}var o0=le(j({},uu),{equal:zb,value:void 0});function xP(n){n.version++,TP(),Kb(n),RP?.()}function fe(n){return typeof n=="function"}function Ys(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Zd=Ys(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function $o(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var it=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(fe(r))try{r()}catch(o){e=o instanceof Zd?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{s0(o)}catch(s){e=e??[],s instanceof Zd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Zd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)s0(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&$o(t,e)}remove(e){let{_finalizers:t}=this;t&&$o(t,e),e instanceof n&&e._removeParent(this)}};it.EMPTY=(()=>{let n=new it;return n.closed=!0,n})();var Sg=it.EMPTY;function Jd(n){return n instanceof it||n&&"closed"in n&&fe(n.remove)&&fe(n.add)&&fe(n.unsubscribe)}function s0(n){fe(n)?n():n.unsubscribe()}var $n={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Zs={setTimeout(n,e,...t){let{delegate:r}=Zs;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Zs;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Xd(n){Zs.setTimeout(()=>{let{onUnhandledError:e}=$n;if(e)e(n);else throw n})}function lu(){}var a0=Rg("C",void 0,void 0);function c0(n){return Rg("E",void 0,n)}function u0(n){return Rg("N",n,void 0)}function Rg(n,e,t){return{kind:n,value:e,error:t}}var Ho=null;function Js(n){if($n.useDeprecatedSynchronousErrorHandling){let e=!Ho;if(e&&(Ho={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Ho;if(Ho=null,t)throw r}}else n()}function l0(n){$n.useDeprecatedSynchronousErrorHandling&&Ho&&(Ho.errorThrown=!0,Ho.error=n)}var qo=class extends it{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Jd(e)&&e.add(this)):this.destination=PP}static create(e,t,r){return new Xs(e,t,r)}next(e){this.isStopped?Mg(u0(e),this):this._next(e)}error(e){this.isStopped?Mg(c0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Mg(a0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},MP=Function.prototype.bind;function xg(n,e){return MP.call(n,e)}var Ng=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){eh(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){eh(r)}else eh(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){eh(t)}}},Xs=class extends qo{constructor(e,t,r){super();let i;if(fe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&$n.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&xg(e.next,o),error:e.error&&xg(e.error,o),complete:e.complete&&xg(e.complete,o)}):i=e}this.destination=new Ng(i)}};function eh(n){$n.useDeprecatedSynchronousErrorHandling?l0(n):Xd(n)}function NP(n){throw n}function Mg(n,e){let{onStoppedNotification:t}=$n;t&&Zs.setTimeout(()=>t(n,e))}var PP={closed:!0,next:lu,error:NP,complete:lu};var ea=typeof Symbol=="function"&&Symbol.observable||"@@observable";function pn(n){return n}function Pg(...n){return kg(n)}function kg(n){return n.length===0?pn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Re=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=OP(t)?t:new Xs(t,r,i);return Js(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=d0(r),new r((i,o)=>{let s=new Xs({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[ea](){return this}pipe(...t){return kg(t)(this)}toPromise(t){return t=d0(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function d0(n){var e;return(e=n??$n.Promise)!==null&&e!==void 0?e:Promise}function kP(n){return n&&fe(n.next)&&fe(n.error)&&fe(n.complete)}function OP(n){return n&&n instanceof qo||kP(n)&&Jd(n)}function Og(n){return fe(n?.lift)}function xe(n){return e=>{if(Og(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Te(n,e,t,r,i){return new Fg(n,e,t,r,i)}var Fg=class extends qo{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ta(){return xe((n,e)=>{let t=null;n._refCount++;let r=Te(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var na=class extends Re{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Og(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new it;let t=this.getSubject();e.add(this.source.subscribe(Te(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=it.EMPTY)}return e}refCount(){return ta()(this)}};var h0=Ys(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ct=(()=>{class n extends Re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new th(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new h0}next(t){Js(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Js(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Js(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Sg:(this.currentObservers=null,o.push(t),new it(()=>{this.currentObservers=null,$o(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Re;return t.source=this,t}}return n.create=(e,t)=>new th(e,t),n})(),th=class extends ct{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Sg}};var ut=class extends ct{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Lg={now(){return(Lg.delegate||Date).now()},delegate:void 0};var nh=class extends it{constructor(e,t){super()}schedule(e,t=0){return this}};var du={setInterval(n,e,...t){let{delegate:r}=du;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=du;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var ra=class extends nh{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return du.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&du.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,$o(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var ia=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};ia.now=Lg.now;var oa=class extends ia{constructor(e,t=ia.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Vg=new oa(ra);var rh=class extends ra{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var ih=class extends oa{};var Ug=new ih(rh);var mn=new Re(n=>n.complete());function f0(n){return n&&fe(n.schedule)}function p0(n){return n[n.length-1]}function oh(n){return fe(p0(n))?n.pop():void 0}function $i(n){return f0(p0(n))?n.pop():void 0}function jg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function g0(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(p){try{d(r.next(p))}catch(m){s(m)}}function u(p){try{d(r.throw(p))}catch(m){s(m)}}function d(p){p.done?o(p.value):i(p.value).then(a,u)}d((r=r.apply(n,e||[])).next())})}function m0(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function zo(n){return this instanceof zo?(this.v=n,this):new zo(n)}function y0(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(I){return function(M){return Promise.resolve(M).then(I,m)}}function a(I,M){r[I]&&(i[I]=function(L){return new Promise(function(O,H){o.push([I,L,O,H])>1||u(I,L)})},M&&(i[I]=M(i[I])))}function u(I,M){try{d(r[I](M))}catch(L){_(o[0][3],L)}}function d(I){I.value instanceof zo?Promise.resolve(I.value.v).then(p,m):_(o[0][2],I)}function p(I){u("next",I)}function m(I){u("throw",I)}function _(I,M){I(M),o.shift(),o.length&&u(o[0][0],o[0][1])}}function v0(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof m0=="function"?m0(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(d){o({value:d,done:a})},s)}}var sh=n=>n&&typeof n.length=="number"&&typeof n!="function";function ah(n){return fe(n?.then)}function ch(n){return fe(n[ea])}function uh(n){return Symbol.asyncIterator&&fe(n?.[Symbol.asyncIterator])}function lh(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function FP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var dh=FP();function hh(n){return fe(n?.[dh])}function fh(n){return y0(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield zo(t.read());if(i)return yield zo(void 0);yield yield zo(r)}}finally{t.releaseLock()}})}function ph(n){return fe(n?.getReader)}function pt(n){if(n instanceof Re)return n;if(n!=null){if(ch(n))return LP(n);if(sh(n))return VP(n);if(ah(n))return UP(n);if(uh(n))return w0(n);if(hh(n))return jP(n);if(ph(n))return BP(n)}throw lh(n)}function LP(n){return new Re(e=>{let t=n[ea]();if(fe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function VP(n){return new Re(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function UP(n){return new Re(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Xd)})}function jP(n){return new Re(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function w0(n){return new Re(e=>{$P(n,e).catch(t=>e.error(t))})}function BP(n){return w0(fh(n))}function $P(n,e){var t,r,i,o;return g0(this,void 0,void 0,function*(){try{for(t=v0(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function en(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Hi(n,e=0){return xe((t,r)=>{t.subscribe(Te(r,i=>en(r,n,()=>r.next(i),e),()=>en(r,n,()=>r.complete(),e),i=>en(r,n,()=>r.error(i),e)))})}function qi(n,e=0){return xe((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function _0(n,e){return pt(n).pipe(qi(e),Hi(e))}function E0(n,e){return pt(n).pipe(qi(e),Hi(e))}function I0(n,e){return new Re(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function b0(n,e){return new Re(t=>{let r;return en(t,e,()=>{r=n[dh](),en(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>fe(r?.return)&&r.return()})}function mh(n,e){if(!n)throw new Error("Iterable cannot be null");return new Re(t=>{en(t,e,()=>{let r=n[Symbol.asyncIterator]();en(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function C0(n,e){return mh(fh(n),e)}function T0(n,e){if(n!=null){if(ch(n))return _0(n,e);if(sh(n))return I0(n,e);if(ah(n))return E0(n,e);if(uh(n))return mh(n,e);if(hh(n))return b0(n,e);if(ph(n))return C0(n,e)}throw lh(n)}function Qe(n,e){return e?T0(n,e):pt(n)}function ae(...n){let e=$i(n);return Qe(n,e)}function sa(n,e){let t=fe(n)?n:()=>n,r=i=>i.error(t());return new Re(e?i=>e.schedule(r,0,i):r)}function Bg(n){return!!n&&(n instanceof Re||fe(n.lift)&&fe(n.subscribe))}var zr=Ys(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function pe(n,e){return xe((t,r)=>{let i=0;t.subscribe(Te(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:HP}=Array;function qP(n,e){return HP(e)?n(...e):n(e)}function gh(n){return pe(e=>qP(n,e))}var{isArray:zP}=Array,{getPrototypeOf:GP,prototype:WP,keys:KP}=Object;function yh(n){if(n.length===1){let e=n[0];if(zP(e))return{args:e,keys:null};if(QP(e)){let t=KP(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function QP(n){return n&&typeof n=="object"&&GP(n)===WP}function vh(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function hu(...n){let e=$i(n),t=oh(n),{args:r,keys:i}=yh(n);if(r.length===0)return Qe([],e);let o=new Re(YP(r,e,i?s=>vh(i,s):pn));return t?o.pipe(gh(t)):o}function YP(n,e,t=pn){return r=>{D0(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)D0(e,()=>{let d=Qe(n[u],e),p=!1;d.subscribe(Te(r,m=>{o[u]=m,p||(p=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function D0(n,e,t){n?en(t,n,e):e()}function A0(n,e,t,r,i,o,s,a){let u=[],d=0,p=0,m=!1,_=()=>{m&&!u.length&&!d&&e.complete()},I=L=>d<r?M(L):u.push(L),M=L=>{o&&e.next(L),d++;let O=!1;pt(t(L,p++)).subscribe(Te(e,H=>{i?.(H),o?I(H):e.next(H)},()=>{O=!0},void 0,()=>{if(O)try{for(d--;u.length&&d<r;){let H=u.shift();s?en(e,s,()=>M(H)):M(H)}_()}catch(H){e.error(H)}}))};return n.subscribe(Te(e,I,()=>{m=!0,_()})),()=>{a?.()}}function mt(n,e,t=1/0){return fe(e)?mt((r,i)=>pe((o,s)=>e(r,o,i,s))(pt(n(r,i))),t):(typeof e=="number"&&(t=e),xe((r,i)=>A0(r,i,n,t)))}function aa(n=1/0){return mt(pn,n)}function S0(){return aa(1)}function ca(...n){return S0()(Qe(n,$i(n)))}function wh(n){return new Re(e=>{pt(n()).subscribe(e)})}function $g(...n){let e=oh(n),{args:t,keys:r}=yh(n),i=new Re(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,d=s;for(let p=0;p<s;p++){let m=!1;pt(t[p]).subscribe(Te(o,_=>{m||(m=!0,d--),a[p]=_},()=>u--,void 0,()=>{(!u||!m)&&(d||o.next(r?vh(r,a):a),o.complete())}))}});return e?i.pipe(gh(e)):i}function jt(n,e){return xe((t,r)=>{let i=0;t.subscribe(Te(r,o=>n.call(e,o,i++)&&r.next(o)))})}function zi(n){return xe((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Te(t,void 0,void 0,s=>{o=pt(n(s,zi(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function R0(n,e,t,r,i){return(o,s)=>{let a=t,u=e,d=0;o.subscribe(Te(s,p=>{let m=d++;u=a?n(u,p,m):(a=!0,p),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Gr(n,e){return fe(e)?mt(n,e,1):mt(n,1)}function Gi(n){return xe((e,t)=>{let r=!1;e.subscribe(Te(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Wr(n){return n<=0?()=>mn:xe((e,t)=>{let r=0;e.subscribe(Te(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Hg(n){return pe(()=>n)}function _h(n=ZP){return xe((e,t)=>{let r=!1;e.subscribe(Te(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function ZP(){return new zr}function ua(n){return xe((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function lr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?jt((i,o)=>n(i,o,r)):pn,Wr(1),t?Gi(e):_h(()=>new zr))}function la(n){return n<=0?()=>mn:xe((e,t)=>{let r=[];e.subscribe(Te(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function qg(n,e){let t=arguments.length>=2;return r=>r.pipe(n?jt((i,o)=>n(i,o,r)):pn,la(1),t?Gi(e):_h(()=>new zr))}function zg(n,e){return xe(R0(n,e,arguments.length>=2,!0))}function Gg(...n){let e=$i(n);return xe((t,r)=>{(e?ca(n,t,e):ca(n,t)).subscribe(r)})}function gn(n,e){return xe((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Te(r,u=>{i?.unsubscribe();let d=0,p=o++;pt(n(u,p)).subscribe(i=Te(r,m=>r.next(e?e(u,m,p,d++):m),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Wg(n){return xe((e,t)=>{pt(n).subscribe(Te(t,()=>t.complete(),lu)),!t.closed&&e.subscribe(t)})}function gt(n,e,t){let r=fe(n)||e||t?{next:n,error:e,complete:t}:n;return r?xe((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Te(o,u=>{var d;(d=r.next)===null||d===void 0||d.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var d;a=!1,(d=r.error)===null||d===void 0||d.call(r,u),o.error(u)},()=>{var u,d;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):pn}var fC="https://g.co/ng/security#xss",ne=class extends Error{constructor(e,t){super(Zy(e,t)),this.code=e}};function Zy(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Eu(n){return{toString:n}.toString()}var Eh="__parameters__";function JP(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function pC(n,e,t){return Eu(()=>{let r=JP(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,d,p){let m=u.hasOwnProperty(Eh)?u[Eh]:Object.defineProperty(u,Eh,{value:[]})[Eh];for(;m.length<=p;)m.push(null);return(m[p]=m[p]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var eo=globalThis;function He(n){for(let e in n)if(n[e]===He)return e;throw Error("Could not find renamed property on target object.")}function XP(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Wt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Wt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function x0(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var ek=He({__forward_ref__:He});function yn(n){return n.__forward_ref__=yn,n.toString=function(){return Wt(this())},n}function Gt(n){return mC(n)?n():n}function mC(n){return typeof n=="function"&&n.hasOwnProperty(ek)&&n.__forward_ref__===yn}function J(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ye(n){return{providers:n.providers||[],imports:n.imports||[]}}function tf(n){return M0(n,yC)||M0(n,vC)}function gC(n){return tf(n)!==null}function M0(n,e){return n.hasOwnProperty(e)?n[e]:null}function tk(n){let e=n&&(n[yC]||n[vC]);return e||null}function N0(n){return n&&(n.hasOwnProperty(P0)||n.hasOwnProperty(nk))?n[P0]:null}var yC=He({\u0275prov:He}),P0=He({\u0275inj:He}),vC=He({ngInjectableDef:He}),nk=He({ngInjectorDef:He}),Z=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=J({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function wC(n){return n&&!!n.\u0275providers}var rk=He({\u0275cmp:He}),ik=He({\u0275dir:He}),ok=He({\u0275pipe:He}),sk=He({\u0275mod:He}),xh=He({\u0275fac:He}),pu=He({__NG_ELEMENT_ID__:He}),k0=He({__NG_ENV_ID__:He});function Kr(n){return typeof n=="string"?n:n==null?"":String(n)}function ak(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Kr(n)}function ck(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new ne(-200,n)}function Jy(n,e){throw new ne(-201,!1)}var we=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(we||{}),ay;function _C(){return ay}function tn(n){let e=ay;return ay=n,e}function EC(n,e,t){let r=tf(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&we.Optional)return null;if(e!==void 0)return e;Jy(n,"Injector")}var uk={},mu=uk,cy="__NG_DI_FLAG__",Mh="ngTempTokenPath",lk="ngTokenPath",dk=/\n/gm,hk="\u0275",O0="__source",ma;function fk(){return ma}function Wi(n){let e=ma;return ma=n,e}function pk(n,e=we.Default){if(ma===void 0)throw new ne(-203,!1);return ma===null?EC(n,void 0,e):ma.get(n,e&we.Optional?null:void 0,e)}function K(n,e=we.Default){return(_C()||pk)(Gt(n),e)}function q(n,e=we.Default){return K(n,nf(e))}function nf(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function uy(n){let e=[];for(let t=0;t<n.length;t++){let r=Gt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new ne(900,!1);let i,o=we.Default;for(let s=0;s<r.length;s++){let a=r[s],u=mk(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(K(i,o))}else e.push(K(r))}return e}function IC(n,e){return n[cy]=e,n.prototype[cy]=e,n}function mk(n){return n[cy]}function gk(n,e,t,r){let i=n[Mh];throw e[O0]&&i.unshift(e[O0]),n.message=yk(`
`+n.message,i,t,r),n[lk]=i,n[Mh]=null,n}function yk(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==hk?n.slice(2):n;let i=Wt(e);if(Array.isArray(e))i=e.map(Wt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Wt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(dk,`
  `)}`}var Bt=IC(pC("Optional"),8);var Xy=IC(pC("SkipSelf"),4);function Wo(n,e){let t=n.hasOwnProperty(xh);return t?n[xh]:null}function ev(n,e){n.forEach(t=>Array.isArray(t)?ev(t,e):e(t))}function bC(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Nh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function vk(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function wk(n,e,t){let r=Iu(n,e);return r>=0?n[r|1]=t:(r=~r,vk(n,r,e,t)),r}function Kg(n,e){let t=Iu(n,e);if(t>=0)return n[t|1]}function Iu(n,e){return _k(n,e,1)}function _k(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var ya={},Tn=[],va=new Z(""),CC=new Z("",-1),TC=new Z(""),Ph=class{get(e,t=mu){if(t===mu){let r=new Error(`NullInjectorError: No provider for ${Wt(e)}!`);throw r.name="NullInjectorError",r}return t}},DC=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(DC||{}),fr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(fr||{}),Yi=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Yi||{});function Ek(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function ly(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];bk(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function Ik(n){return n===3||n===4||n===6}function bk(n){return n.charCodeAt(0)===64}function gu(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?F0(n,t,i,null,e[++r]):F0(n,t,i,null,null))}}return n}function F0(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var AC="ng-template";function Ck(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Ek(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(tv(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function tv(n){return n.type===4&&n.value!==AC}function Tk(n,e,t){let r=n.type===4&&!t?AC:n.value;return e===r}function Dk(n,e,t){let r=4,i=n.attrs,o=i!==null?Rk(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Hn(r)&&!Hn(u))return!1;if(s&&Hn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!Tk(n,u,t)||u===""&&e.length===1){if(Hn(r))return!1;s=!0}}else if(r&8){if(i===null||!Ck(n,i,u,t)){if(Hn(r))return!1;s=!0}}else{let d=e[++a],p=Ak(u,i,tv(n),t);if(p===-1){if(Hn(r))return!1;s=!0;continue}if(d!==""){let m;if(p>o?m="":m=i[p+1].toLowerCase(),r&2&&d!==m){if(Hn(r))return!1;s=!0}}}}return Hn(r)||s}function Hn(n){return(n&1)===0}function Ak(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return xk(e,n)}function Sk(n,e,t=!1){for(let r=0;r<e.length;r++)if(Dk(n,e[r],t))return!0;return!1}function Rk(n){for(let e=0;e<n.length;e++){let t=n[e];if(Ik(t))return e}return n.length}function xk(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function L0(n,e){return n?":not("+e.trim()+")":e}function Mk(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Hn(s)&&(e+=L0(o,i),i=""),r=s,o=o||!Hn(r);t++}return i!==""&&(e+=L0(o,i)),e}function Nk(n){return n.map(Mk).join(",")}function Pk(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Hn(i))break;i=o}r++}return{attrs:e,classes:t}}function rn(n){return Eu(()=>{let e=PC(n),t=le(j({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===DC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||fr.Emulated,styles:n.styles||Tn,_:null,schemas:n.schemas||null,tView:null,id:""});kC(t);let r=n.dependencies;return t.directiveDefs=U0(r,!1),t.pipeDefs=U0(r,!0),t.id=Fk(t),t})}function kk(n){return Zi(n)||RC(n)}function Ok(n){return n!==null}function Ze(n){return Eu(()=>({type:n.type,bootstrap:n.bootstrap||Tn,declarations:n.declarations||Tn,imports:n.imports||Tn,exports:n.exports||Tn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function V0(n,e){if(n==null)return ya;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=Yi.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==Yi.None?[r,a]:r,e[o]=s):t[o]=r}return t}function We(n){return Eu(()=>{let e=PC(n);return kC(e),e})}function SC(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Zi(n){return n[rk]||null}function RC(n){return n[ik]||null}function xC(n){return n[ok]||null}function MC(n){let e=Zi(n)||RC(n)||xC(n);return e!==null?e.standalone:!1}function NC(n,e){let t=n[sk]||null;if(!t&&e===!0)throw new Error(`Type ${Wt(n)} does not have '\u0275mod' property.`);return t}function PC(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||ya,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Tn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:V0(n.inputs,e),outputs:V0(n.outputs),debugInfo:null}}function kC(n){n.features?.forEach(e=>e(n))}function U0(n,e){if(!n)return null;let t=e?xC:kk;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(Ok)}function Fk(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function vr(n){return{\u0275providers:n}}function Lk(...n){return{\u0275providers:OC(!0,n),\u0275fromNgModule:!0}}function OC(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return ev(e,s=>{let a=s;dy(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&FC(i,o),t}function FC(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];nv(i,o=>{e(o,r)})}}function dy(n,e,t,r){if(n=Gt(n),!n)return!1;let i=null,o=N0(n),s=!o&&Zi(n);if(!o&&!s){let u=n.ngModule;if(o=N0(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of u)dy(d,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let d;try{ev(o.imports,p=>{dy(p,e,t,r)&&(d||=[],d.push(p))})}finally{}d!==void 0&&FC(d,e)}if(!a){let d=Wo(i)||(()=>new i);e({provide:i,useFactory:d,deps:Tn},i),e({provide:TC,useValue:i,multi:!0},i),e({provide:va,useValue:()=>K(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let d=n;nv(u,p=>{e(p,d)})}}else return!1;return i!==n&&n.providers!==void 0}function nv(n,e){for(let t of n)wC(t)&&(t=t.\u0275providers),Array.isArray(t)?nv(t,e):e(t)}var Vk=He({provide:String,useValue:He});function LC(n){return n!==null&&typeof n=="object"&&Vk in n}function Uk(n){return!!(n&&n.useExisting)}function jk(n){return!!(n&&n.useFactory)}function wa(n){return typeof n=="function"}function Bk(n){return!!n.useClass}var rf=new Z(""),Th={},$k={},Qg;function rv(){return Qg===void 0&&(Qg=new Ph),Qg}var nn=class{},yu=class extends nn{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,fy(e,s=>this.processProvider(s)),this.records.set(CC,da(void 0,this)),i.has("environment")&&this.records.set(nn,da(void 0,this));let o=this.records.get(rf);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(TC,Tn,we.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ke(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ke(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Wi(this),r=tn(void 0),i;try{return e()}finally{Wi(t),tn(r)}}get(e,t=mu,r=we.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(k0))return e[k0](this);r=nf(r);let i,o=Wi(this),s=tn(void 0);try{if(!(r&we.SkipSelf)){let u=this.records.get(e);if(u===void 0){let d=Wk(e)&&tf(e);d&&this.injectableDefInScope(d)?u=da(hy(e),Th):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&we.Self?rv():this.parent;return t=r&we.Optional&&t===mu?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Mh]=a[Mh]||[]).unshift(Wt(e)),o)throw a;return gk(a,e,"R3InjectorError",this.source)}else throw a}finally{tn(s),Wi(o)}}resolveInjectorInitializers(){let e=ke(null),t=Wi(this),r=tn(void 0),i;try{let o=this.get(va,Tn,we.Self);for(let s of o)s()}finally{Wi(t),tn(r),ke(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Wt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ne(205,!1)}processProvider(e){e=Gt(e);let t=wa(e)?e:Gt(e&&e.provide),r=qk(e);if(!wa(e)&&e.multi===!0){let i=this.records.get(t);i||(i=da(void 0,Th,!0),i.factory=()=>uy(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=ke(null);try{return t.value===Th&&(t.value=$k,t.value=t.factory()),typeof t.value=="object"&&t.value&&Gk(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ke(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Gt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function hy(n){let e=tf(n),t=e!==null?e.factory:Wo(n);if(t!==null)return t;if(n instanceof Z)throw new ne(204,!1);if(n instanceof Function)return Hk(n);throw new ne(204,!1)}function Hk(n){if(n.length>0)throw new ne(204,!1);let t=tk(n);return t!==null?()=>t.factory(n):()=>new n}function qk(n){if(LC(n))return da(void 0,n.useValue);{let e=VC(n);return da(e,Th)}}function VC(n,e,t){let r;if(wa(n)){let i=Gt(n);return Wo(i)||hy(i)}else if(LC(n))r=()=>Gt(n.useValue);else if(jk(n))r=()=>n.useFactory(...uy(n.deps||[]));else if(Uk(n))r=()=>K(Gt(n.useExisting));else{let i=Gt(n&&(n.useClass||n.provide));if(zk(n))r=()=>new i(...uy(n.deps));else return Wo(i)||hy(i)}return r}function da(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function zk(n){return!!n.deps}function Gk(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function Wk(n){return typeof n=="function"||typeof n=="object"&&n instanceof Z}function fy(n,e){for(let t of n)Array.isArray(t)?fy(t,e):t&&wC(t)?fy(t.\u0275providers,e):e(t)}function wr(n,e){n instanceof yu&&n.assertNotDestroyed();let t,r=Wi(n),i=tn(void 0);try{return e()}finally{Wi(r),tn(i)}}function UC(){return _C()!==void 0||fk()!=null}function Kk(n){if(!UC())throw new ne(-203,!1)}function Qk(n){return typeof n=="function"}var Xr=0,Ie=1,de=2,Kt=3,qn=4,Gn=5,kh=6,Oh=7,zn=8,_a=9,pr=10,yt=11,vu=12,j0=13,Ra=14,mr=15,Ea=16,ha=17,Ia=18,of=19,jC=20,Ki=21,Yg=22,Dn=23,gr=25,BC=1;var Ko=7,Fh=8,Lh=9,An=10,Vh=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Vh||{});function Qi(n){return Array.isArray(n)&&typeof n[BC]=="object"}function ei(n){return Array.isArray(n)&&n[BC]===!0}function $C(n){return(n.flags&4)!==0}function sf(n){return n.componentOffset>-1}function iv(n){return(n.flags&1)===1}function Ji(n){return!!n.template}function py(n){return(n[de]&512)!==0}var my=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function HC(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function ti(){return qC}function qC(n){return n.type.prototype.ngOnChanges&&(n.setInput=Zk),Yk}ti.ngInherit=!0;function Yk(){let n=GC(this),e=n?.current;if(e){let t=n.previous;if(t===ya)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Zk(n,e,t,r,i){let o=this.declaredInputs[r],s=GC(n)||Jk(n,{previous:ya,current:null}),a=s.current||(s.current={}),u=s.previous,d=u[o];a[o]=new my(d&&d.currentValue,t,u===ya),HC(n,e,i,t)}var zC="__ngSimpleChanges__";function GC(n){return n[zC]||null}function Jk(n,e){return n[zC]=e}var B0=null;var dr=function(n,e,t){B0?.(n,e,t)},Xk="svg",eO="math";function yr(n){for(;Array.isArray(n);)n=n[Xr];return n}function WC(n,e){return yr(e[n])}function Sn(n,e){return yr(e[n.index])}function KC(n,e){return n.data[e]}function tO(n,e){return n[e]}function to(n,e){let t=e[n];return Qi(t)?t:t[Xr]}function ov(n){return(n[de]&128)===128}function nO(n){return ei(n[Kt])}function Uh(n,e){return e==null?null:n[e]}function QC(n){n[ha]=0}function YC(n){n[de]&1024||(n[de]|=1024,ov(n)&&cf(n))}function rO(n,e){for(;n>0;)e=e[Ra],n--;return e}function af(n){return!!(n[de]&9216||n[Dn]?.dirty)}function gy(n){n[pr].changeDetectionScheduler?.notify(8),n[de]&64&&(n[de]|=1024),af(n)&&cf(n)}function cf(n){n[pr].changeDetectionScheduler?.notify(0);let e=Qo(n);for(;e!==null&&!(e[de]&8192||(e[de]|=8192,!ov(e)));)e=Qo(e)}function ZC(n,e){if((n[de]&256)===256)throw new ne(911,!1);n[Ki]===null&&(n[Ki]=[]),n[Ki].push(e)}function iO(n,e){if(n[Ki]===null)return;let t=n[Ki].indexOf(e);t!==-1&&n[Ki].splice(t,1)}function Qo(n){let e=n[Kt];return ei(e)?e[Kt]:e}var _e={lFrame:aT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var JC=!1;function oO(){return _e.lFrame.elementDepthCount}function sO(){_e.lFrame.elementDepthCount++}function aO(){_e.lFrame.elementDepthCount--}function XC(){return _e.bindingsEnabled}function cO(){return _e.skipHydrationRootTNode!==null}function uO(n){return _e.skipHydrationRootTNode===n}function lO(){_e.skipHydrationRootTNode=null}function Oe(){return _e.lFrame.lView}function Qt(){return _e.lFrame.tView}function _r(n){return _e.lFrame.contextLView=n,n[zn]}function Er(n){return _e.lFrame.contextLView=null,n}function on(){let n=eT();for(;n!==null&&n.type===64;)n=n.parent;return n}function eT(){return _e.lFrame.currentTNode}function dO(){let n=_e.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function bu(n,e){let t=_e.lFrame;t.currentTNode=n,t.isParent=e}function tT(){return _e.lFrame.isParent}function hO(){_e.lFrame.isParent=!1}function nT(){return JC}function $0(n){JC=n}function uf(){let n=_e.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function rT(){return _e.lFrame.bindingIndex}function fO(n){return _e.lFrame.bindingIndex=n}function lf(){return _e.lFrame.bindingIndex++}function sv(n){let e=_e.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function pO(){return _e.lFrame.inI18n}function mO(n,e){let t=_e.lFrame;t.bindingIndex=t.bindingRootIndex=n,yy(e)}function gO(){return _e.lFrame.currentDirectiveIndex}function yy(n){_e.lFrame.currentDirectiveIndex=n}function yO(n){let e=_e.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function iT(n){_e.lFrame.currentQueryIndex=n}function vO(n){let e=n[Ie];return e.type===2?e.declTNode:e.type===1?n[Gn]:null}function oT(n,e,t){if(t&we.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&we.Host);)if(i=vO(o),i===null||(o=o[Ra],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=_e.lFrame=sT();return r.currentTNode=e,r.lView=n,!0}function av(n){let e=sT(),t=n[Ie];_e.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function sT(){let n=_e.lFrame,e=n===null?null:n.child;return e===null?aT(n):e}function aT(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function cT(){let n=_e.lFrame;return _e.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var uT=cT;function cv(){let n=cT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function wO(n){return(_e.lFrame.contextLView=rO(n,_e.lFrame.contextLView))[zn]}function no(){return _e.lFrame.selectedIndex}function Yo(n){_e.lFrame.selectedIndex=n}function df(){let n=_e.lFrame;return KC(n.tView,n.selectedIndex)}function _O(){return _e.lFrame.currentNamespace}var lT=!0;function uv(){return lT}function lv(n){lT=n}function EO(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=qC(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function dv(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:p}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),d&&((n.viewHooks??=[]).push(t,d),(n.viewCheckHooks??=[]).push(t,d)),p!=null&&(n.destroyHooks??=[]).push(t,p)}}function Dh(n,e,t){dT(n,e,3,t)}function Ah(n,e,t,r){(n[de]&3)===t&&dT(n,e,t,r)}function Zg(n,e){let t=n[de];(t&3)===e&&(t&=16383,t+=1,n[de]=t)}function dT(n,e,t,r){let i=r!==void 0?n[ha]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[ha]+=65536),(a<o||o==-1)&&(IO(n,t,e,u),n[ha]=(n[ha]&4294901760)+u+2),u++}function H0(n,e){dr(4,n,e);let t=ke(null);try{e.call(n)}finally{ke(t),dr(5,n,e)}}function IO(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[de]>>14<n[ha]>>16&&(n[de]&3)===e&&(n[de]+=16384,H0(a,o)):H0(a,o)}var ga=-1,Zo=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function bO(n){return n instanceof Zo}function CO(n){return(n.flags&8)!==0}function TO(n){return(n.flags&16)!==0}var Jg={},vy=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=nf(r);let i=this.injector.get(e,Jg,r);return i!==Jg||t===Jg?i:this.parentInjector.get(e,t,r)}};function hT(n){return n!==ga}function jh(n){return n&32767}function DO(n){return n>>16}function Bh(n,e){let t=DO(n),r=e;for(;t>0;)r=r[Ra],t--;return r}var wy=!0;function $h(n){let e=wy;return wy=n,e}var AO=256,fT=AO-1,pT=5,SO=0,hr={};function RO(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(pu)&&(r=t[pu]),r==null&&(r=t[pu]=SO++);let i=r&fT,o=1<<i;e.data[n+(i>>pT)]|=o}function Hh(n,e){let t=mT(n,e);if(t!==-1)return t;let r=e[Ie];r.firstCreatePass&&(n.injectorIndex=e.length,Xg(r.data,n),Xg(e,null),Xg(r.blueprint,null));let i=hv(n,e),o=n.injectorIndex;if(hT(i)){let s=jh(i),a=Bh(i,e),u=a[Ie].data;for(let d=0;d<8;d++)e[o+d]=a[s+d]|u[s+d]}return e[o+8]=i,o}function Xg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function mT(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function hv(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=_T(i),r===null)return ga;if(t++,i=i[Ra],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ga}function _y(n,e,t){RO(n,e,t)}function gT(n,e,t){if(t&we.Optional||n!==void 0)return n;Jy(e,"NodeInjector")}function yT(n,e,t,r){if(t&we.Optional&&r===void 0&&(r=null),!(t&(we.Self|we.Host))){let i=n[_a],o=tn(void 0);try{return i?i.get(e,r,t&we.Optional):EC(e,r,t&we.Optional)}finally{tn(o)}}return gT(r,e,t)}function vT(n,e,t,r=we.Default,i){if(n!==null){if(e[de]&2048&&!(r&we.Self)){let s=kO(n,e,t,r,hr);if(s!==hr)return s}let o=wT(n,e,t,r,hr);if(o!==hr)return o}return yT(e,t,r,i)}function wT(n,e,t,r,i){let o=NO(t);if(typeof o=="function"){if(!oT(e,n,r))return r&we.Host?gT(i,t,r):yT(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&we.Optional))Jy(t);else return s}finally{uT()}}else if(typeof o=="number"){let s=null,a=mT(n,e),u=ga,d=r&we.Host?e[mr][Gn]:null;for((a===-1||r&we.SkipSelf)&&(u=a===-1?hv(n,e):e[a+8],u===ga||!z0(r,!1)?a=-1:(s=e[Ie],a=jh(u),e=Bh(u,e)));a!==-1;){let p=e[Ie];if(q0(o,a,p.data)){let m=xO(a,e,t,s,r,d);if(m!==hr)return m}u=e[a+8],u!==ga&&z0(r,e[Ie].data[a+8]===d)&&q0(o,a,e)?(s=p,a=jh(u),e=Bh(u,e)):a=-1}}return i}function xO(n,e,t,r,i,o){let s=e[Ie],a=s.data[n+8],u=r==null?sf(a)&&wy:r!=s&&(a.type&3)!==0,d=i&we.Host&&o===a,p=MO(a,s,t,u,d);return p!==null?ba(e,s,p,a):hr}function MO(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,d=n.directiveEnd,p=o>>20,m=r?a:a+p,_=i?a+p:d;for(let I=m;I<_;I++){let M=s[I];if(I<u&&t===M||I>=u&&M.type===t)return I}if(i){let I=s[u];if(I&&Ji(I)&&I.type===t)return u}return null}function ba(n,e,t,r){let i=n[t],o=e.data;if(bO(i)){let s=i;s.resolving&&ck(ak(o[t]));let a=$h(s.canSeeViewProviders);s.resolving=!0;let u,d=s.injectImpl?tn(s.injectImpl):null,p=oT(n,r,we.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&EO(t,o[t],e)}finally{d!==null&&tn(d),$h(a),s.resolving=!1,uT()}}return i}function NO(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(pu)?n[pu]:void 0;return typeof e=="number"?e>=0?e&fT:PO:e}function q0(n,e,t){let r=1<<n;return!!(t[e+(n>>pT)]&r)}function z0(n,e){return!(n&we.Self)&&!(n&we.Host&&e)}var Go=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return vT(this._tNode,this._lView,e,nf(r),t)}};function PO(){return new Go(on(),Oe())}function ni(n){return Eu(()=>{let e=n.prototype.constructor,t=e[xh]||Ey(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[xh]||Ey(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ey(n){return mC(n)?()=>{let e=Ey(Gt(n));return e&&e()}:Wo(n)}function kO(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[de]&2048&&!(s[de]&512);){let a=wT(o,s,t,r|we.Self,hr);if(a!==hr)return a;let u=o.parent;if(!u){let d=s[jC];if(d){let p=d.get(t,hr,r);if(p!==hr)return p}u=_T(s),s=s[Ra]}o=u}return i}function _T(n){let e=n[Ie],t=e.type;return t===2?e.declTNode:t===1?n[Gn]:null}function G0(n,e=null,t=null,r){let i=ET(n,e,t,r);return i.resolveInjectorInitializers(),i}function ET(n,e=null,t=null,r,i=new Set){let o=[t||Tn,Lk(n)];return r=r||(typeof n=="object"?void 0:Wt(n)),new yu(o,e||rv(),r||null,i)}var Ot=class n{static{this.THROW_IF_NOT_FOUND=mu}static{this.NULL=new Ph}static create(e,t){if(Array.isArray(e))return G0({name:""},t,e,"");{let r=e.name??"";return G0({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=J({token:n,providedIn:"any",factory:()=>K(CC)})}static{this.__NG_ELEMENT_ID__=-1}};var OO=new Z("");OO.__NG_ELEMENT_ID__=n=>{let e=on();if(e===null)throw new ne(204,!1);if(e.type&2)return e.value;if(n&we.Optional)return null;throw new ne(204,!1)};var FO="ngOriginalError";function ey(n){return n[FO]}var IT=!0,fv=(()=>{class n{static{this.__NG_ELEMENT_ID__=LO}static{this.__NG_ENV_ID__=t=>t}}return n})(),Iy=class extends fv{constructor(e){super(),this._lView=e}onDestroy(e){return ZC(this._lView,e),()=>iO(this._lView,e)}};function LO(){return new Iy(Oe())}var xa=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ut(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=J({token:n,providedIn:"root",factory:()=>new n})}}return n})();var by=class extends ct{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,UC()&&(this.destroyRef=q(fv,{optional:!0})??void 0,this.pendingTasks=q(xa,{optional:!0})??void 0)}emit(e){let t=ke(null);try{super.next(e)}finally{ke(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof it&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},qe=by;function qh(...n){}function bT(n){let e,t;function r(){n=qh;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function W0(n){return queueMicrotask(()=>n()),()=>{n=qh}}var pv="isAngularZone",zh=pv+"_ID",VO=0,be=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qe(!1),this.onMicrotaskEmpty=new qe(!1),this.onStable=new qe(!1),this.onError=new qe(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=IT}=e;if(typeof Zone>"u")throw new ne(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,BO(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(pv)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new ne(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new ne(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,UO,qh,qh);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},UO={};function mv(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function jO(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){bT(()=>{n.callbackScheduled=!1,Cy(n),n.isCheckStableRunning=!0,mv(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Cy(n)}function BO(n){let e=()=>{jO(n)},t=VO++;n._inner=n._inner.fork({name:"angular",properties:{[pv]:!0,[zh]:t,[zh+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if($O(u))return r.invokeTask(o,s,a,u);try{return K0(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Q0(n)}},onInvoke:(r,i,o,s,a,u,d)=>{try{return K0(n),r.invoke(o,s,a,u,d)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!HO(u)&&e(),Q0(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Cy(n),mv(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Cy(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function K0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Q0(n){n._nesting--,mv(n)}var Ty=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qe,this.onMicrotaskEmpty=new qe,this.onStable=new qe,this.onError=new qe}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function $O(n){return CT(n,"__ignore_ng_zone__")}function HO(n){return CT(n,"__scheduler_tick__")}function CT(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Qr=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&ey(e);for(;t&&ey(t);)t=ey(t);return t||null}},qO=new Z("",{providedIn:"root",factory:()=>{let n=q(be),e=q(Qr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function zO(){return hf(on(),Oe())}function hf(n,e){return new Rn(Sn(n,e))}var Rn=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=zO}}return n})();function TT(n){return(n.flags&128)===128}var DT=new Map,GO=0;function WO(){return GO++}function KO(n){DT.set(n[of],n)}function Dy(n){DT.delete(n[of])}var Y0="__ngContext__";function Jo(n,e){Qi(e)?(n[Y0]=e[of],KO(e)):n[Y0]=e}function AT(n){return RT(n[vu])}function ST(n){return RT(n[qn])}function RT(n){for(;n!==null&&!ei(n);)n=n[qn];return n}var Ay;function xT(n){Ay=n}function QO(){if(Ay!==void 0)return Ay;if(typeof document<"u")return document;throw new ne(210,!1)}var ff=new Z("",{providedIn:"root",factory:()=>YO}),YO="ng",gv=new Z(""),xn=new Z("",{providedIn:"platform",factory:()=>"unknown"});var yv=new Z("",{providedIn:"root",factory:()=>QO().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ZO="h",JO="b";var XO=()=>null;function vv(n,e,t=!1){return XO(n,e,t)}var MT=!1,e1=new Z("",{providedIn:"root",factory:()=>MT});var Gh=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${fC})`}};function pf(n){return n instanceof Gh?n.changingThisBreaksApplicationSecurity:n}function NT(n,e){let t=t1(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${fC})`)}return t===e}function t1(n){return n instanceof Gh&&n.getTypeName()||null}var n1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function PT(n){return n=String(n),n.match(n1)?n:"unsafe:"+n}var wv=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(wv||{});function vK(n){let e=r1();return e?e.sanitize(wv.URL,n)||"":NT(n,"URL")?pf(n):PT(Kr(n))}function r1(){let n=Oe();return n&&n[pr].sanitizer}function kT(n){return n instanceof Function?n():n}function i1(n){return(n??q(Ot)).get(xn)==="browser"}var Yr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Yr||{}),o1;function _v(n,e){return o1(n,e)}function fa(n,e,t,r,i){if(r!=null){let o,s=!1;ei(r)?o=r:Qi(r)&&(s=!0,r=r[Xr]);let a=yr(r);n===0&&t!==null?i==null?UT(e,t,a):Wh(e,t,a,i||null,!0):n===1&&t!==null?Wh(e,t,a,i||null,!0):n===2?_1(e,a,s):n===3&&e.destroyNode(a),o!=null&&I1(e,n,o,t,i)}}function s1(n,e){return n.createText(e)}function a1(n,e,t){n.setValue(e,t)}function OT(n,e,t){return n.createElement(e,t)}function c1(n,e){FT(n,e),e[Xr]=null,e[Gn]=null}function u1(n,e,t,r,i,o){r[Xr]=i,r[Gn]=e,mf(n,r,t,1,i,o)}function FT(n,e){e[pr].changeDetectionScheduler?.notify(9),mf(n,e,e[yt],2,null,null)}function l1(n){let e=n[vu];if(!e)return ty(n[Ie],n);for(;e;){let t=null;if(Qi(e))t=e[vu];else{let r=e[An];r&&(t=r)}if(!t){for(;e&&!e[qn]&&e!==n;)Qi(e)&&ty(e[Ie],e),e=e[Kt];e===null&&(e=n),Qi(e)&&ty(e[Ie],e),t=e&&e[qn]}e=t}}function d1(n,e,t,r){let i=An+r,o=t.length;r>0&&(t[i-1][qn]=e),r<o-An?(e[qn]=t[i],bC(t,An+r,e)):(t.push(e),e[qn]=null),e[Kt]=t;let s=e[Ea];s!==null&&t!==s&&LT(s,e);let a=e[Ia];a!==null&&a.insertView(n),gy(e),e[de]|=128}function LT(n,e){let t=n[Lh],r=e[Kt];if(Qi(r))n[de]|=Vh.HasTransplantedViews;else{let i=r[Kt][mr];e[mr]!==i&&(n[de]|=Vh.HasTransplantedViews)}t===null?n[Lh]=[e]:t.push(e)}function Ev(n,e){let t=n[Lh],r=t.indexOf(e);t.splice(r,1)}function Sy(n,e){if(n.length<=An)return;let t=An+e,r=n[t];if(r){let i=r[Ea];i!==null&&i!==n&&Ev(i,r),e>0&&(n[t-1][qn]=r[qn]);let o=Nh(n,An+e);c1(r[Ie],r);let s=o[Ia];s!==null&&s.detachView(o[Ie]),r[Kt]=null,r[qn]=null,r[de]&=-129}return r}function VT(n,e){if(!(e[de]&256)){let t=e[yt];t.destroyNode&&mf(n,e,t,3,null,null),l1(e)}}function ty(n,e){if(e[de]&256)return;let t=ke(null);try{e[de]&=-129,e[de]|=256,e[Dn]&&Dg(e[Dn]),f1(n,e),h1(n,e),e[Ie].type===1&&e[yt].destroy();let r=e[Ea];if(r!==null&&ei(e[Kt])){r!==e[Kt]&&Ev(r,e);let i=e[Ia];i!==null&&i.detachView(n)}Dy(e)}finally{ke(t)}}function h1(n,e){let t=n.cleanup,r=e[Oh];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[Oh]=null);let i=e[Ki];if(i!==null){e[Ki]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function f1(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Zo)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];dr(4,a,u);try{u.call(a)}finally{dr(5,a,u)}}else{dr(4,i,o);try{o.call(i)}finally{dr(5,i,o)}}}}}function p1(n,e,t){return m1(n,e.parent,t)}function m1(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Xr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===fr.None||o===fr.Emulated)return null}return Sn(r,t)}}function Wh(n,e,t,r,i){n.insertBefore(e,t,r,i)}function UT(n,e,t){n.appendChild(e,t)}function Z0(n,e,t,r,i){r!==null?Wh(n,e,t,r,i):UT(n,e,t)}function jT(n,e){return n.parentNode(e)}function g1(n,e){return n.nextSibling(e)}function y1(n,e,t){return w1(n,e,t)}function v1(n,e,t){return n.type&40?Sn(n,t):null}var w1=v1,J0;function Iv(n,e,t,r){let i=p1(n,r,e),o=e[yt],s=r.parent||e[Gn],a=y1(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)Z0(o,i,t[u],a,!1);else Z0(o,i,t,a,!1);J0!==void 0&&J0(o,r,e,t,i)}function fu(n,e){if(e!==null){let t=e.type;if(t&3)return Sn(e,n);if(t&4)return Ry(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return fu(n,r);{let i=n[e.index];return ei(i)?Ry(-1,i):yr(i)}}else{if(t&128)return fu(n,e.next);if(t&32)return _v(e,n)()||yr(n[e.index]);{let r=BT(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Qo(n[mr]);return fu(i,r)}else return fu(n,e.next)}}}return null}function BT(n,e){if(e!==null){let r=n[mr][Gn],i=e.projection;return r.projection[i]}return null}function Ry(n,e){let t=An+n+1;if(t<e.length){let r=e[t],i=r[Ie].firstChild;if(i!==null)return fu(r,i)}return e[Ko]}function _1(n,e,t){n.removeChild(null,e,t)}function bv(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&Jo(yr(a),r),t.flags|=2),(t.flags&32)!==32)if(u&8)bv(n,e,t.child,r,i,o,!1),fa(e,n,i,a,o);else if(u&32){let d=_v(t,r),p;for(;p=d();)fa(e,n,i,p,o);fa(e,n,i,a,o)}else u&16?E1(n,e,r,t,i,o):fa(e,n,i,a,o);t=s?t.projectionNext:t.next}}function mf(n,e,t,r,i,o){bv(t,r,n.firstChild,e,i,o,!1)}function E1(n,e,t,r,i,o){let s=t[mr],u=s[Gn].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let p=u[d];fa(e,n,i,p,o)}else{let d=u,p=s[Kt];TT(r)&&(d.flags|=128),bv(n,e,d,p,i,o,!0)}}function I1(n,e,t,r,i){let o=t[Ko],s=yr(t);o!==s&&fa(e,n,r,o,i);for(let a=An;a<t.length;a++){let u=t[a];mf(u[Ie],u,n,e,r,o)}}function b1(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Yr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Yr.Important),n.setStyle(t,r,i,o))}}function C1(n,e,t){n.setAttribute(e,"style",t)}function $T(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function HT(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&ly(n,e,r),i!==null&&$T(n,e,i),o!==null&&C1(n,e,o)}var vn={};function z(n=1){qT(Qt(),Oe(),no()+n,!1)}function qT(n,e,t,r){if(!r)if((e[de]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Dh(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Ah(e,o,0,t)}Yo(t)}function Q(n,e=we.Default){let t=Oe();if(t===null)return K(n,e);let r=on();return vT(r,t,Gt(n),e)}function zT(){let n="invalid";throw new Error(n)}function GT(n,e,t,r,i,o){let s=ke(null);try{let a=null;i&Yi.SignalBased&&(a=e[r][qr]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Yi.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):HC(e,a,r,o)}finally{ke(s)}}function T1(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Yo(~i);else{let o=i,s=t[++r],a=t[++r];mO(s,o);let u=e[o];a(2,u)}}}finally{Yo(-1)}}function gf(n,e,t,r,i,o,s,a,u,d,p){let m=e.blueprint.slice();return m[Xr]=i,m[de]=r|4|128|8|64,(d!==null||n&&n[de]&2048)&&(m[de]|=2048),QC(m),m[Kt]=m[Ra]=n,m[zn]=t,m[pr]=s||n&&n[pr],m[yt]=a||n&&n[yt],m[_a]=u||n&&n[_a]||null,m[Gn]=o,m[of]=WO(),m[kh]=p,m[jC]=d,m[mr]=e.type==2?n[mr]:m,m}function yf(n,e,t,r,i){let o=n.data[e];if(o===null)o=D1(n,e,t,r,i),pO()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=dO();o.injectorIndex=s===null?-1:s.injectorIndex}return bu(o,!0),o}function D1(n,e,t,r,i){let o=eT(),s=tT(),a=s?o:o&&o.parent,u=n.data[e]=M1(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function WT(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function KT(n,e,t,r,i){let o=no(),s=r&2;try{Yo(-1),s&&e.length>gr&&qT(n,e,gr,!1),dr(s?2:0,i),t(r,i)}finally{Yo(o),dr(s?3:1,i)}}function QT(n,e,t){if($C(e)){let r=ke(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{ke(r)}}}function YT(n,e,t){XC()&&(L1(n,e,t,Sn(t,e)),(t.flags&64)===64&&tD(n,e,t))}function ZT(n,e,t=Sn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function JT(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Cv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Cv(n,e,t,r,i,o,s,a,u,d,p){let m=gr+r,_=m+i,I=A1(m,_),M=typeof d=="function"?d():d;return I[Ie]={type:n,blueprint:I,template:t,queries:null,viewQuery:a,declTNode:e,data:I.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:M,incompleteFirstPass:!1,ssrId:p}}function A1(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:vn);return t}function S1(n,e,t,r){let o=r.get(e1,MT)||t===fr.ShadowDom,s=n.selectRootElement(e,o);return R1(s),s}function R1(n){x1(n)}var x1=()=>null;function M1(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return cO()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function X0(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=Yi.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let d=o;if(i!==null){if(!i.hasOwnProperty(o))continue;d=i[o]}n===0?eC(r,t,d,a,u):eC(r,t,d,a)}return r}function eC(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function N1(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],u=null,d=null;for(let p=r;p<i;p++){let m=o[p],_=t?t.get(m):null,I=_?_.inputs:null,M=_?_.outputs:null;u=X0(0,m.inputs,p,u,I),d=X0(1,m.outputs,p,d,M);let L=u!==null&&s!==null&&!tv(e)?K1(u,p,s):null;a.push(L)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=d}function P1(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Tv(n,e,t,r,i,o,s,a){let u=Sn(e,t),d=e.inputs,p;!a&&d!=null&&(p=d[r])?(Dv(n,t,p,r,i),sf(e)&&k1(t,e.index)):e.type&3?(r=P1(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function k1(n,e){let t=to(e,n);t[de]&16||(t[de]|=64)}function XT(n,e,t,r){if(XC()){let i=r===null?null:{"":-1},o=U1(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&eD(n,e,t,s,i,a),i&&j1(t,r,i)}t.mergedAttrs=gu(t.mergedAttrs,t.attrs)}function eD(n,e,t,r,i,o){for(let d=0;d<r.length;d++)_y(Hh(t,e),n,r[d].type);$1(t,n.data.length,r.length);for(let d=0;d<r.length;d++){let p=r[d];p.providersResolver&&p.providersResolver(p)}let s=!1,a=!1,u=WT(n,e,r.length,null);for(let d=0;d<r.length;d++){let p=r[d];t.mergedAttrs=gu(t.mergedAttrs,p.hostAttrs),H1(n,t,e,u,p),B1(u,p,i),p.contentQueries!==null&&(t.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(t.flags|=64);let m=p.type.prototype;!s&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(m.ngOnChanges||m.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}N1(n,t,o)}function O1(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;F1(s)!=a&&s.push(a),s.push(t,r,o)}}function F1(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function L1(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;sf(t)&&q1(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Hh(t,e),Jo(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let u=n.data[a],d=ba(e,n,a,t);if(Jo(d,e),s!==null&&W1(e,a-i,d,u,t,s),Ji(u)){let p=to(t.index,e);p[zn]=ba(e,n,a,t)}}}function tD(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=gO();try{Yo(o);for(let a=r;a<i;a++){let u=n.data[a],d=e[a];yy(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&V1(u,d)}}finally{Yo(-1),yy(s)}}function V1(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function U1(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(Sk(e,s.selectors,!1))if(r||(r=[]),Ji(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;xy(n,e,u)}else r.unshift(s),xy(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function xy(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function j1(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new ne(-301,!1);r.push(e[i],o)}}}function B1(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Ji(e)&&(t[""]=n)}}function $1(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function H1(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Wo(i.type,!0)),s=new Zo(o,Ji(i),Q);n.blueprint[r]=s,t[r]=s,O1(n,e,r,WT(n,t,i.hostVars,vn),i)}function q1(n,e,t){let r=Sn(e,n),i=JT(t),o=n[pr].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=vf(n,gf(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function z1(n,e,t,r,i,o){let s=Sn(n,e);G1(e[yt],s,o,n.value,t,r,i)}function G1(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Kr(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function W1(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],d=s[a++],p=s[a++],m=s[a++];GT(r,t,u,d,p,m)}}function K1(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function nD(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function rD(n,e){let t=n.contentQueries;if(t!==null){let r=ke(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];iT(o),a.contentQueries(2,e[s],s)}}}finally{ke(r)}}}function vf(n,e){return n[vu]?n[j0][qn]=e:n[vu]=e,n[j0]=e,e}function My(n,e,t){iT(0);let r=ke(null);try{e(n,t)}finally{ke(r)}}function Q1(n){return n[Oh]??=[]}function Y1(n){return n.cleanup??=[]}function iD(n,e){let t=n[_a],r=t?t.get(Qr,null):null;r&&r.handleError(e)}function Dv(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],u=t[o++],d=e[s],p=n.data[s];GT(p,d,r,a,u,i)}}function Av(n,e,t){let r=WC(e,n);a1(n[yt],r,t)}function Z1(n,e){let t=to(e,n),r=t[Ie];J1(r,t);let i=t[Xr];i!==null&&t[kh]===null&&(t[kh]=vv(i,t[_a])),Sv(r,t,t[zn])}function J1(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Sv(n,e,t){av(e);try{let r=n.viewQuery;r!==null&&My(1,r,t);let i=n.template;i!==null&&KT(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Ia]?.finishViewCreation(n),n.staticContentQueries&&rD(n,e),n.staticViewQueries&&My(2,n.viewQuery,t);let o=n.components;o!==null&&X1(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[de]&=-5,cv()}}function X1(n,e){for(let t=0;t<e.length;t++)Z1(n,e[t])}function eF(n,e,t,r){let i=ke(null);try{let o=e.tView,a=n[de]&4096?4096:16,u=gf(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=n[e.index];u[Ea]=d;let p=n[Ia];return p!==null&&(u[Ia]=p.createEmbeddedView(o)),Sv(o,u,t),u}finally{ke(i)}}function tC(n,e){return!e||e.firstChild===null||TT(n)}function tF(n,e,t,r=!0){let i=e[Ie];if(d1(i,e,n,t),r){let s=Ry(t,n),a=e[yt],u=jT(a,n[Ko]);u!==null&&u1(i,n[Gn],a,e,u,s)}let o=e[kh];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Kh(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(yr(o)),ei(o)&&nF(o,r);let s=t.type;if(s&8)Kh(n,e,t.child,r);else if(s&32){let a=_v(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=BT(e,t);if(Array.isArray(a))r.push(...a);else{let u=Qo(e[mr]);Kh(u[Ie],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function nF(n,e){for(let t=An;t<n.length;t++){let r=n[t],i=r[Ie].firstChild;i!==null&&Kh(r[Ie],r,i,e)}n[Ko]!==n[Xr]&&e.push(n[Ko])}var oD=[];function rF(n){return n[Dn]??iF(n)}function iF(n){let e=oD.pop()??Object.create(sF);return e.lView=n,e}function oF(n){n.lView[Dn]!==n&&(n.lView=null,oD.push(n))}var sF=le(j({},uu),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{cf(n.lView)},consumerOnSignalRead(){this.lView[Dn]=this}});function aF(n){let e=n[Dn]??Object.create(cF);return e.lView=n,e}var cF=le(j({},uu),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Qo(n.lView);for(;e&&!sD(e[Ie]);)e=Qo(e);e&&YC(e)},consumerOnSignalRead(){this.lView[Dn]=this}});function sD(n){return n.type!==2}var uF=100;function aD(n,e=!0,t=0){let r=n[pr],i=r.rendererFactory,o=!1;o||i.begin?.();try{lF(n,t)}catch(s){throw e&&iD(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function lF(n,e){let t=nT();try{$0(!0),Ny(n,e);let r=0;for(;af(n);){if(r===uF)throw new ne(103,!1);r++,Ny(n,1)}}finally{$0(t)}}function dF(n,e,t,r){let i=e[de];if((i&256)===256)return;let o=!1,s=!1;!o&&e[pr].inlineEffectRunner?.flush(),av(e);let a=!0,u=null,d=null;o||(sD(n)?(d=rF(e),u=Kd(d)):Gb()===null?(a=!1,d=aF(e),u=Kd(d)):e[Dn]&&(Dg(e[Dn]),e[Dn]=null));try{QC(e),fO(n.bindingStartIndex),t!==null&&KT(n,e,t,2,r);let p=(i&3)===3;if(!o)if(p){let I=n.preOrderCheckHooks;I!==null&&Dh(e,I,null)}else{let I=n.preOrderHooks;I!==null&&Ah(e,I,0,null),Zg(e,0)}if(s||hF(e),cD(e,0),n.contentQueries!==null&&rD(n,e),!o)if(p){let I=n.contentCheckHooks;I!==null&&Dh(e,I)}else{let I=n.contentHooks;I!==null&&Ah(e,I,1),Zg(e,1)}T1(n,e);let m=n.components;m!==null&&lD(e,m,0);let _=n.viewQuery;if(_!==null&&My(2,_,r),!o)if(p){let I=n.viewCheckHooks;I!==null&&Dh(e,I)}else{let I=n.viewHooks;I!==null&&Ah(e,I,2),Zg(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Yg]){for(let I of e[Yg])I();e[Yg]=null}o||(e[de]&=-73)}catch(p){throw o||cf(e),p}finally{d!==null&&(Cg(d,u),a&&oF(d)),cv()}}function cD(n,e){for(let t=AT(n);t!==null;t=ST(t))for(let r=An;r<t.length;r++){let i=t[r];uD(i,e)}}function hF(n){for(let e=AT(n);e!==null;e=ST(e)){if(!(e[de]&Vh.HasTransplantedViews))continue;let t=e[Lh];for(let r=0;r<t.length;r++){let i=t[r];YC(i)}}}function fF(n,e,t){let r=to(e,n);uD(r,t)}function uD(n,e){ov(n)&&Ny(n,e)}function Ny(n,e){let r=n[Ie],i=n[de],o=n[Dn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Tg(o)),s||=!1,o&&(o.dirty=!1),n[de]&=-9217,s)dF(r,n,r.template,n[zn]);else if(i&8192){cD(n,1);let a=r.components;a!==null&&lD(n,a,1)}}function lD(n,e,t){for(let r=0;r<e.length;r++)fF(n,e[r],t)}function Rv(n,e){let t=nT()?64:1088;for(n[pr].changeDetectionScheduler?.notify(e);n;){n[de]|=t;let r=Qo(n);if(py(n)&&!r)return n;n=r}return null}var Xo=class{get rootNodes(){let e=this._lView,t=e[Ie];return Kh(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[zn]}set context(e){this._lView[zn]=e}get destroyed(){return(this._lView[de]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Kt];if(ei(e)){let t=e[Fh],r=t?t.indexOf(this):-1;r>-1&&(Sy(e,r),Nh(t,r))}this._attachedToViewContainer=!1}VT(this._lView[Ie],this._lView)}onDestroy(e){ZC(this._lView,e)}markForCheck(){Rv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[de]&=-129}reattach(){gy(this._lView),this._lView[de]|=128}detectChanges(){this._lView[de]|=1024,aD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ne(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=py(this._lView),t=this._lView[Ea];t!==null&&!e&&Ev(t,this._lView),FT(this._lView[Ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ne(902,!1);this._appRef=e;let t=py(this._lView),r=this._lView[Ea];r!==null&&!t&&LT(r,this._lView),gy(this._lView)}},wf=(()=>{class n{static{this.__NG_ELEMENT_ID__=gF}}return n})(),pF=wf,mF=class extends pF{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=eF(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Xo(i)}};function gF(){return yF(on(),Oe())}function yF(n,e){return n.type&4?new mF(e,n,hf(n,e)):null}var _K=new RegExp(`^(\\d+)*(${JO}|${ZO})*(.*)`);var vF=()=>null;function nC(n,e){return vF(n,e)}var Ca=class{},_f=new Z("",{providedIn:"root",factory:()=>!1});var dD=new Z(""),hD=new Z(""),Py=class{},Qh=class{};function wF(n){let e=Error(`No component factory found for ${Wt(n)}.`);return e[_F]=n,e}var _F="ngComponent";var ky=class{resolveComponentFactory(e){throw wF(e)}},Ta=class{static{this.NULL=new ky}},Da=class{},ri=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>EF()}}return n})();function EF(){let n=Oe(),e=on(),t=to(e.index,n);return(Qi(t)?t:n)[yt]}var IF=(()=>{class n{static{this.\u0275prov=J({token:n,providedIn:"root",factory:()=>null})}}return n})();function Oy(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=x0(i,a);else if(o==2){let u=a,d=e[++s];r=x0(r,u+": "+d+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var Yh=class extends Ta{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Zi(e);return new Aa(t,this.ngModule)}};function rC(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Yi.None;e?t.push({propName:s,templateName:r,isSignal:(a&Yi.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function bF(n){let e=n.toLowerCase();return e==="svg"?Xk:e==="math"?eO:null}var Aa=class extends Qh{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=rC(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return rC(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=Nk(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=ke(null);try{i=i||this.ngModule;let s=i instanceof nn?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new vy(e,s):e,u=a.get(Da,null);if(u===null)throw new ne(407,!1);let d=a.get(IF,null),p=a.get(Ca,null),m={rendererFactory:u,sanitizer:d,inlineEffectRunner:null,changeDetectionScheduler:p},_=u.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",M=r?S1(_,r,this.componentDef.encapsulation,a):OT(_,I,bF(I)),L=512;this.componentDef.signals?L|=4096:this.componentDef.onPush||(L|=16);let O=null;M!==null&&(O=vv(M,a,!0));let H=Cv(0,null,null,1,0,null,null,null,null,null,null),te=gf(null,H,null,L,null,null,m,_,a,null,O);av(te);let X,re,Fe=null;try{let oe=this.componentDef,D,E=null;oe.findHostDirectiveDefs?(D=[],E=new Map,oe.findHostDirectiveDefs(oe,D,E),D.push(oe)):D=[oe];let C=CF(te,M);Fe=TF(C,M,oe,D,te,m,_),re=KC(H,gr),M&&SF(_,oe,M,r),t!==void 0&&RF(re,this.ngContentSelectors,t),X=AF(Fe,oe,D,E,te,[xF]),Sv(H,te,null)}catch(oe){throw Fe!==null&&Dy(Fe),Dy(te),oe}finally{cv()}return new Fy(this.componentType,X,hf(re,te),te,re)}finally{ke(o)}}},Fy=class extends Py{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Xo(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;Dv(o[Ie],o,i,e,t),this.previousInputValues.set(e,t);let s=to(this._tNode.index,o);Rv(s,1)}}get injector(){return new Go(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function CF(n,e){let t=n[Ie],r=gr;return n[r]=e,yf(t,r,2,"#host",null)}function TF(n,e,t,r,i,o,s){let a=i[Ie];DF(r,n,e,s);let u=null;e!==null&&(u=vv(e,i[_a]));let d=o.rendererFactory.createRenderer(e,t),p=16;t.signals?p=4096:t.onPush&&(p=64);let m=gf(i,JT(t),null,p,i[n.index],n,o,d,null,null,u);return a.firstCreatePass&&xy(a,n,r.length-1),vf(i,m),i[n.index]=m}function DF(n,e,t,r){for(let i of n)e.mergedAttrs=gu(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Oy(e,e.mergedAttrs,!0),t!==null&&HT(r,t,e))}function AF(n,e,t,r,i,o){let s=on(),a=i[Ie],u=Sn(s,i);eD(a,i,s,t,null,r);for(let p=0;p<t.length;p++){let m=s.directiveStart+p,_=ba(i,a,m,s);Jo(_,i)}tD(a,i,s),u&&Jo(u,i);let d=ba(i,a,s.directiveStart+s.componentOffset,s);if(n[zn]=i[zn]=d,o!==null)for(let p of o)p(d,e);return QT(a,s,i),d}function SF(n,e,t,r){if(r)ly(n,t,["ng-version","18.2.9"]);else{let{attrs:i,classes:o}=Pk(e.selectors[0]);i&&ly(n,t,i),o&&o.length>0&&$T(n,t,o.join(" "))}}function RF(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function xF(){let n=on();dv(Oe()[Ie],n)}var Ma=(()=>{class n{static{this.__NG_ELEMENT_ID__=MF}}return n})();function MF(){let n=on();return PF(n,Oe())}var NF=Ma,fD=class extends NF{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return hf(this._hostTNode,this._hostLView)}get injector(){return new Go(this._hostTNode,this._hostLView)}get parentInjector(){let e=hv(this._hostTNode,this._hostLView);if(hT(e)){let t=Bh(e,this._hostLView),r=jh(e),i=t[Ie].data[r+8];return new Go(i,t)}else return new Go(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=iC(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-An}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=nC(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,tC(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!Qk(e),a;if(s)a=t;else{let M=t||{};a=M.index,r=M.injector,i=M.projectableNodes,o=M.environmentInjector||M.ngModuleRef}let u=s?e:new Aa(Zi(e)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let L=(s?d:this.parentInjector).get(nn,null);L&&(o=L)}let p=Zi(u.componentType??{}),m=nC(this._lContainer,p?.id??null),_=m?.firstChild??null,I=u.create(d,i,_,o);return this.insertImpl(I.hostView,a,tC(this._hostTNode,m)),I}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(nO(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Kt],d=new fD(u,u[Gn],u[Kt]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return tF(s,i,o,r),e.attachToViewContainerRef(),bC(ny(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=iC(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Sy(this._lContainer,t);r&&(Nh(ny(this._lContainer),t),VT(r[Ie],r))}detach(e){let t=this._adjustIndex(e,-1),r=Sy(this._lContainer,t);return r&&Nh(ny(this._lContainer),t)!=null?new Xo(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function iC(n){return n[Fh]}function ny(n){return n[Fh]||(n[Fh]=[])}function PF(n,e){let t,r=e[n.index];return ei(r)?t=r:(t=nD(r,e,null,n),e[n.index]=t,vf(e,t)),OF(t,e,n,r),new fD(t,n,e)}function kF(n,e){let t=n[yt],r=t.createComment(""),i=Sn(e,n),o=jT(t,i);return Wh(t,o,r,g1(t,i),!1),r}var OF=VF,FF=()=>!1;function LF(n,e,t){return FF(n,e,t)}function VF(n,e,t,r){if(n[Ko])return;let i;t.type&8?i=yr(r):i=kF(e,t),n[Ko]=i}var oC=new Set;function Na(n){oC.has(n)||(oC.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function UF(n){return typeof n=="function"&&n[qr]!==void 0}function Pa(n,e){Na("NgSignals");let t=r0(n),r=t[qr];return e?.equal&&(r.equal=e.equal),t.set=i=>Ag(r,i),t.update=i=>i0(r,i),t.asReadonly=jF.bind(t),t}function jF(){let n=this[qr];if(n.readonlyFn===void 0){let e=()=>this();e[qr]=n,n.readonlyFn=e}return n.readonlyFn}function pD(n){return UF(n)&&typeof n.set=="function"}function BF(n){return Object.getPrototypeOf(n.prototype).constructor}function sn(n){let e=BF(n.type),t=!0,r=[n];for(;e;){let i;if(Ji(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ne(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Ih(n.inputs),s.inputTransforms=Ih(n.inputTransforms),s.declaredInputs=Ih(n.declaredInputs),s.outputs=Ih(n.outputs);let a=i.hostBindings;a&&GF(n,a);let u=i.viewQuery,d=i.contentQueries;if(u&&qF(n,u),d&&zF(n,d),$F(n,i),XP(n.outputs,i.outputs),Ji(i)&&i.data.animation){let p=n.data;p.animation=(p.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===sn&&(t=!1)}}e=Object.getPrototypeOf(e)}HF(r)}function $F(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function HF(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=gu(i.hostAttrs,t=gu(t,i.hostAttrs))}}function Ih(n){return n===ya?{}:n===Tn?[]:n}function qF(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function zF(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function GF(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}var Xi=class{},wu=class{};var Ly=class extends Xi{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Yh(this);let o=NC(e);this._bootstrapComponents=kT(o.bootstrap),this._r3Injector=ET(e,t,[{provide:Xi,useValue:this},{provide:Ta,useValue:this.componentFactoryResolver},...r],Wt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Vy=class extends wu{constructor(e){super(),this.moduleType=e}create(e){return new Ly(this.moduleType,e,[])}};var Zh=class extends Xi{constructor(e){super(),this.componentFactoryResolver=new Yh(this),this.instance=null;let t=new yu([...e.providers,{provide:Xi,useValue:this},{provide:Ta,useValue:this.componentFactoryResolver}],e.parent||rv(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ef(n,e,t=null){return new Zh({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function mD(n){return KF(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function WF(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function KF(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function xv(n,e,t){return n[e]=t}function QF(n,e){return n[e]}function Zr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Mv(n,e,t,r){let i=Zr(n,e,t);return Zr(n,e+1,r)||i}function YF(n,e,t,r,i){let o=Mv(n,e,t,r);return Zr(n,e+2,i)||o}function ZF(n){return(n.flags&32)===32}function JF(n,e,t,r,i,o,s,a,u){let d=e.consts,p=yf(e,n,4,s||null,a||null);XT(e,t,p,Uh(d,u)),dv(e,p);let m=p.tView=Cv(2,p,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,p),m.queries=e.queries.embeddedTView(p)),p}function XF(n,e,t,r,i,o,s,a,u,d){let p=t+gr,m=e.firstCreatePass?JF(p,e,n,r,i,o,s,a,u):e.data[p];bu(m,!1);let _=eL(e,n,m,t);uv()&&Iv(e,n,_,m),Jo(_,n);let I=nD(_,n,_,m);return n[p]=I,vf(n,I),LF(I,m,n),iv(m)&&YT(e,n,m),u!=null&&ZT(n,m,d),m}function Me(n,e,t,r,i,o,s,a){let u=Oe(),d=Qt(),p=Uh(d.consts,o);return XF(u,d,n,e,t,r,i,p,s,a),Me}var eL=tL;function tL(n,e,t,r){return lv(!0),e[yt].createComment("")}var pa=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(pa||{}),gD=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=J({token:n,providedIn:"root",factory:()=>new n})}}return n})(),Uy=class n{constructor(){this.ngZone=q(be),this.scheduler=q(Ca),this.errorHandler=q(Qr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[pa.EarlyRead,pa.Write,pa.MixedReadWrite,pa.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=J({token:n,providedIn:"root",factory:()=>new n})}},jy=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function Nv(n,e){!e?.injector&&Kk(Nv);let t=e?.injector??q(Ot);return i1(t)?(Na("NgAfterNextRender"),rL(n,t,e,!0)):iL}function nL(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function rL(n,e,t,r){let i=e.get(gD);i.impl??=e.get(Uy);let o=t?.phase??pa.MixedReadWrite,s=t?.manualCleanup!==!0?e.get(fv):null,a=new jy(i.impl,nL(n,o),r,s);return i.impl.register(a),a}var iL={destroy(){}};function Ir(n,e,t,r){let i=Oe(),o=lf();if(Zr(i,o,e)){let s=Qt(),a=df();z1(a,i,n,e,t,r)}return Ir}function yD(n,e,t,r){return Zr(n,lf(),t)?e+Kr(t)+r:vn}function oL(n,e,t,r,i,o){let s=rT(),a=Mv(n,s,t,i);return sv(2),a?e+Kr(t)+r+Kr(i)+o:vn}function sL(n,e,t,r,i,o,s,a){let u=rT(),d=YF(n,u,t,i,s);return sv(3),d?e+Kr(t)+r+Kr(i)+o+Kr(s)+a:vn}function bh(n,e){return n<<17|e<<2}function es(n){return n>>17&32767}function aL(n){return(n&2)==2}function cL(n,e){return n&131071|e<<17}function By(n){return n|2}function Sa(n){return(n&131068)>>2}function ry(n,e){return n&-131069|e<<2}function uL(n){return(n&1)===1}function $y(n){return n|1}function lL(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=es(s),u=Sa(s);n[r]=t;let d=!1,p;if(Array.isArray(t)){let m=t;p=m[1],(p===null||Iu(m,p)>0)&&(d=!0)}else p=t;if(i)if(u!==0){let _=es(n[a+1]);n[r+1]=bh(_,a),_!==0&&(n[_+1]=ry(n[_+1],r)),n[a+1]=cL(n[a+1],r)}else n[r+1]=bh(a,0),a!==0&&(n[a+1]=ry(n[a+1],r)),a=r;else n[r+1]=bh(u,0),a===0?a=r:n[u+1]=ry(n[u+1],r),u=r;d&&(n[r+1]=By(n[r+1])),sC(n,p,r,!0),sC(n,p,r,!1),dL(e,p,n,r,o),s=bh(a,u),o?e.classBindings=s:e.styleBindings=s}function dL(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Iu(o,e)>=0&&(t[r+1]=$y(t[r+1]))}function sC(n,e,t,r){let i=n[t+1],o=e===null,s=r?es(i):Sa(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],d=n[s+1];hL(u,e)&&(a=!0,n[s+1]=r?$y(d):By(d)),s=r?es(d):Sa(d)}a&&(n[t+1]=r?By(i):$y(i))}function hL(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Iu(n,e)>=0:!1}function W(n,e,t){let r=Oe(),i=lf();if(Zr(r,i,e)){let o=Qt(),s=df();Tv(o,s,r,n,e,r[yt],t,!1)}return W}function aC(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";Dv(n,t,o[s],s,r)}function If(n,e){return fL(n,e,null,!0),If}function fL(n,e,t,r){let i=Oe(),o=Qt(),s=sv(2);if(o.firstUpdatePass&&mL(o,n,s,r),e!==vn&&Zr(i,s,e)){let a=o.data[no()];_L(o,a,i,i[yt],n,i[s+1]=EL(e,t),r,s)}}function pL(n,e){return e>=n.expandoStartIndex}function mL(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[no()],s=pL(n,t);IL(o,r)&&e===null&&!s&&(e=!1),e=gL(i,o,e,r),lL(i,o,e,t,s,r)}}function gL(n,e,t,r){let i=yO(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=iy(null,n,e,t,r),t=_u(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=iy(i,n,e,t,r),o===null){let u=yL(n,e,r);u!==void 0&&Array.isArray(u)&&(u=iy(null,n,e,u[1],r),u=_u(u,e.attrs,r),vL(n,e,r,u))}else o=wL(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function yL(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Sa(r)!==0)return n[es(r)]}function vL(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[es(i)]=r}function wL(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=_u(r,s,t)}return _u(r,e.attrs,t)}function iy(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=_u(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function _u(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),wk(n,s,t?!0:e[++o]))}return n===void 0?null:n}function _L(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,d=u[a+1],p=uL(d)?cC(u,e,t,i,Sa(d),s):void 0;if(!Jh(p)){Jh(o)||aL(d)&&(o=cC(u,null,t,i,a,s));let m=WC(no(),t);b1(r,s,m,i,o)}}function cC(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],d=Array.isArray(u),p=d?u[1]:u,m=p===null,_=t[i+1];_===vn&&(_=m?Tn:void 0);let I=m?Kg(_,r):p===r?_:void 0;if(d&&!Jh(I)&&(I=Kg(u,r)),Jh(I)&&(a=I,s))return a;let M=n[i+1];i=s?es(M):Sa(M)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Kg(u,r))}return a}function Jh(n){return n!==void 0}function EL(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Wt(pf(n)))),n}function IL(n,e){return(n.flags&(e?8:16))!==0}function bL(n,e,t,r,i,o){let s=e.consts,a=Uh(s,i),u=yf(e,n,2,r,a);return XT(e,t,u,Uh(s,o)),u.attrs!==null&&Oy(u,u.attrs,!1),u.mergedAttrs!==null&&Oy(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function F(n,e,t,r){let i=Oe(),o=Qt(),s=gr+n,a=i[yt],u=o.firstCreatePass?bL(s,o,i,e,t,r):o.data[s],d=CL(o,i,u,a,e,n);i[s]=d;let p=iv(u);return bu(u,!0),HT(a,d,u),!ZF(u)&&uv()&&Iv(o,i,d,u),oO()===0&&Jo(d,i),sO(),p&&(YT(o,i,u),QT(o,u,i)),r!==null&&ZT(i,u),F}function N(){let n=on();tT()?hO():(n=n.parent,bu(n,!1));let e=n;uO(e)&&lO(),aO();let t=Qt();return t.firstCreatePass&&(dv(t,n),$C(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&CO(e)&&aC(t,e,Oe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&TO(e)&&aC(t,e,Oe(),e.stylesWithoutHost,!1),N}function ve(n,e,t,r){return F(n,e,t,r),N(),ve}var CL=(n,e,t,r,i,o)=>(lv(!0),OT(r,i,_O()));function br(){return Oe()}var Xh="en-US";var TL=Xh;function DL(n){typeof n=="string"&&(TL=n.toLowerCase().replace(/_/g,"-"))}var AL=(n,e,t)=>{};function Ee(n,e,t,r){let i=Oe(),o=Qt(),s=on();return vD(o,i,i[yt],s,n,e,r),Ee}function SL(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Oh],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function vD(n,e,t,r,i,o,s){let a=iv(r),d=n.firstCreatePass&&Y1(n),p=e[zn],m=Q1(e),_=!0;if(r.type&3||s){let L=Sn(r,e),O=s?s(L):L,H=m.length,te=s?re=>s(yr(re[r.index])):r.index,X=null;if(!s&&a&&(X=SL(n,e,i,r.index)),X!==null){let re=X.__ngLastListenerFn__||X;re.__ngNextListenerFn__=o,X.__ngLastListenerFn__=o,_=!1}else{o=lC(r,e,p,o),AL(L,i,o);let re=t.listen(O,i,o);m.push(o,re),d&&d.push(i,te,H,H+1)}}else o=lC(r,e,p,o);let I=r.outputs,M;if(_&&I!==null&&(M=I[i])){let L=M.length;if(L)for(let O=0;O<L;O+=2){let H=M[O],te=M[O+1],Fe=e[H][te].subscribe(o),oe=m.length;m.push(o,Fe),d&&d.push(i,r.index,oe,-(oe+1))}}}function uC(n,e,t,r){let i=ke(null);try{return dr(6,e,t),t(r)!==!1}catch(o){return iD(n,o),!1}finally{dr(7,e,t),ke(i)}}function lC(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?to(n.index,e):e;Rv(s,5);let a=uC(e,t,r,o),u=i.__ngNextListenerFn__;for(;u;)a=uC(e,t,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function Mn(n=1){return wO(n)}function RL(n,e,t,r,i){let o=Oe(),s=yD(o,e,t,r);if(s!==vn){let a=Qt(),u=df();Tv(a,u,o,n,s,o[yt],i,!1)}return RL}function xL(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function U(n,e=""){let t=Oe(),r=Qt(),i=n+gr,o=r.firstCreatePass?yf(r,i,1,e,null):r.data[i],s=ML(r,t,o,e,n);t[i]=s,uv()&&Iv(r,t,s,o),bu(o,!1)}var ML=(n,e,t,r,i)=>(lv(!0),s1(e[yt],r));function NL(n){return bf("",n,""),NL}function bf(n,e,t){let r=Oe(),i=yD(r,n,e,t);return i!==vn&&Av(r,no(),i),bf}function PL(n,e,t,r,i){let o=Oe(),s=oL(o,n,e,t,r,i);return s!==vn&&Av(o,no(),s),PL}function kL(n,e,t,r,i,o,s){let a=Oe(),u=sL(a,n,e,t,r,i,o,s);return u!==vn&&Av(a,no(),u),kL}function Cf(n,e,t){pD(e)&&(e=e());let r=Oe(),i=lf();if(Zr(r,i,e)){let o=Qt(),s=df();Tv(o,s,r,n,e,r[yt],t,!1)}return Cf}function Pv(n,e){let t=pD(n);return t&&n.set(e),t}function Tf(n,e){let t=Oe(),r=Qt(),i=on();return vD(r,t,t[yt],i,n,e),Tf}function OL(n,e,t){let r=Qt();if(r.firstCreatePass){let i=Ji(n);Hy(t,r.data,r.blueprint,i,!0),Hy(e,r.data,r.blueprint,i,!1)}}function Hy(n,e,t,r,i){if(n=Gt(n),Array.isArray(n))for(let o=0;o<n.length;o++)Hy(n[o],e,t,r,i);else{let o=Qt(),s=Oe(),a=on(),u=wa(n)?n:Gt(n.provide),d=VC(n),p=a.providerIndexes&1048575,m=a.directiveStart,_=a.providerIndexes>>20;if(wa(n)||!n.multi){let I=new Zo(d,i,Q),M=sy(u,e,i?p:p+_,m);M===-1?(_y(Hh(a,s),o,u),oy(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(I),s.push(I)):(t[M]=I,s[M]=I)}else{let I=sy(u,e,p+_,m),M=sy(u,e,p,p+_),L=I>=0&&t[I],O=M>=0&&t[M];if(i&&!O||!i&&!L){_y(Hh(a,s),o,u);let H=VL(i?LL:FL,t.length,i,r,d);!i&&O&&(t[M].providerFactory=H),oy(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(H),s.push(H)}else{let H=wD(t[i?M:I],d,!i&&r);oy(o,n,I>-1?I:M,H)}!i&&r&&O&&t[M].componentProviders++}}}function oy(n,e,t,r){let i=wa(e),o=Bk(e);if(i||o){let u=(o?Gt(e.useClass):e).prototype.ngOnDestroy;if(u){let d=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let p=d.indexOf(t);p===-1?d.push(t,[r,u]):d[p+1].push(r,u)}else d.push(t,u)}}}function wD(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function sy(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function FL(n,e,t,r){return qy(this.multi,[])}function LL(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ba(t,t[Ie],this.providerFactory.index,r);o=a.slice(0,s),qy(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],qy(i,o);return o}function qy(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function VL(n,e,t,r,i){let o=new Zo(n,t,Q);return o.multi=[],o.index=e,o.componentProviders=0,wD(o,i,r&&!t),o}function Wn(n,e=[]){return t=>{t.providersResolver=(r,i)=>OL(r,i?i(n):n,e)}}var UL=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=OC(!1,t.type),i=r.length>0?Ef([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=J({token:n,providedIn:"environment",factory:()=>new n(K(nn))})}}return n})();function _D(n){Na("NgStandalone"),n.getStandaloneInjector=e=>e.get(UL).getOrCreateStandaloneInjector(n)}function IK(n,e,t){let r=uf()+n,i=Oe();return i[r]===vn?xv(i,r,t?e.call(t):e()):QF(i,r)}function bK(n,e,t,r){return ID(Oe(),uf(),n,e,t,r)}function CK(n,e,t,r,i){return jL(Oe(),uf(),n,e,t,r,i)}function ED(n,e){let t=n[e];return t===vn?void 0:t}function ID(n,e,t,r,i,o){let s=e+t;return Zr(n,s,i)?xv(n,s+1,o?r.call(o,i):r(i)):ED(n,s+1)}function jL(n,e,t,r,i,o,s){let a=e+t;return Mv(n,a,i,o)?xv(n,a+2,s?r.call(s,i,o):r(i,o)):ED(n,a+2)}function TK(n,e){let t=Qt(),r,i=n+gr;t.firstCreatePass?(r=BL(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Wo(r.type,!0)),s,a=tn(Q);try{let u=$h(!1),d=o();return $h(u),xL(t,Oe(),i,d),d}finally{tn(a)}}function BL(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function DK(n,e,t){let r=n+gr,i=Oe(),o=tO(i,r);return $L(i,r)?ID(i,uf(),e,o.transform,t,o):o.transform(t)}function $L(n,e){return n[Ie].data[e].pure}var Jr=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},bD=new Jr("18.2.9");var Df=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var kv=new Z(""),Cu=new Z(""),Af=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Ov||(HL(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(t)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static{this.\u0275fac=function(r){return new(r||n)(K(be),K(Sf),K(Cu))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac})}}return n})(),Sf=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Ov?.findTestabilityInTree(this,t,r)??null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function HL(n){Ov=n}var Ov;function ts(n){return!!n&&typeof n.then=="function"}function CD(n){return!!n&&typeof n.subscribe=="function"}var Rf=new Z(""),TD=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=q(Rf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(ts(o))t.push(o);else if(CD(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),xf=new Z("");function qL(){n0(()=>{throw new ne(600,!1)})}function zL(n){return n.isBoundToModule}var GL=10;function WL(n,e,t){try{let r=t();return ts(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var ro=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=q(qO),this.afterRenderManager=q(gD),this.zonelessEnabled=q(_f),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new ct,this.afterTick=new ct,this.componentTypes=[],this.components=[],this.isStable=q(xa).hasPendingTasks.pipe(pe(t=>!t)),this._injector=q(nn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Qh;if(!this._injector.get(TD).done){let _=!i&&MC(t),I=!1;throw new ne(405,I)}let s;i?s=t:s=this._injector.get(Ta).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=zL(s)?void 0:this._injector.get(Xi),u=r||s.selector,d=s.create(Ot.NULL,[],u,a),p=d.location.nativeElement,m=d.injector.get(kv,null);return m?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),Sh(this.components,d),m?.unregisterApplication(p)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new ne(101,!1);let t=ke(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,ke(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(Da,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<GL;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)KL(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>af(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Sh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(xf,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Sh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new ne(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Sh(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function KL(n,e,t,r){if(!t&&!af(n))return;aD(n,e,t&&!r?0:1)}var zy=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Mf=(()=>{class n{compileModuleSync(t){return new Vy(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=NC(t),o=kT(i.declarations).reduce((s,a)=>{let u=Zi(a);return u&&s.push(new Aa(u)),s},[]);return new zy(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var QL=(()=>{class n{constructor(){this.zone=q(be),this.changeDetectionScheduler=q(Ca),this.applicationRef=q(ro)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),YL=new Z("",{factory:()=>!1});function DD({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new be(le(j({},AD()),{scheduleInRootZone:t})),[{provide:be,useFactory:n},{provide:va,multi:!0,useFactory:()=>{let r=q(QL,{optional:!0});return()=>r.initialize()}},{provide:va,multi:!0,useFactory:()=>{let r=q(ZL);return()=>{r.initialize()}}},e===!0?{provide:dD,useValue:!0}:[],{provide:hD,useValue:t??IT}]}function AK(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=DD({ngZoneFactory:()=>{let i=AD(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Na("NgZone_CoalesceEvent"),new be(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return vr([{provide:YL,useValue:!0},{provide:_f,useValue:!1},r])}function AD(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var ZL=(()=>{class n{constructor(){this.subscription=new it,this.initialized=!1,this.zone=q(be),this.pendingTasks=q(xa)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{be.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var JL=(()=>{class n{constructor(){this.appRef=q(ro),this.taskService=q(xa),this.ngZone=q(be),this.zonelessEnabled=q(_f),this.disableScheduling=q(dD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new it,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(zh):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(q(hD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ty||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?W0:bT;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(zh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,W0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function XL(){return typeof $localize<"u"&&$localize.locale||Xh}var Fv=new Z("",{providedIn:"root",factory:()=>q(Fv,we.Optional|we.SkipSelf)||XL()});var Gy=new Z("");function Ch(n){return!n.moduleRef}function eV(n){let e=Ch(n)?n.r3Injector:n.moduleRef.injector,t=e.get(be);return t.run(()=>{Ch(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Qr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Ch(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Gy);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Gy);s.add(o),n.moduleRef.onDestroy(()=>{Sh(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return WL(r,t,()=>{let o=e.get(TD);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Fv,Xh);if(DL(s||Xh),Ch(n)){let a=e.get(ro);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return tV(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function tV(n,e){let t=n.injector.get(ro);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new ne(-403,!1);e.push(n)}var Rh=null;function nV(n=[],e){return Ot.create({name:e,providers:[{provide:rf,useValue:"platform"},{provide:Gy,useValue:new Set([()=>Rh=null])},...n]})}function rV(n=[]){if(Rh)return Rh;let e=nV(n);return Rh=e,qL(),iV(e),e}function iV(n){n.get(gv,null)?.forEach(t=>t())}var ns=(()=>{class n{static{this.__NG_ELEMENT_ID__=oV}}return n})();function oV(n){return sV(on(),Oe(),(n&16)===16)}function sV(n,e,t){if(sf(n)&&!t){let r=to(n.index,e);return new Xo(r,r)}else if(n.type&175){let r=e[mr];return new Xo(r,e)}return null}var Wy=class{constructor(){}supports(e){return mD(e)}create(e){return new Ky(e)}},aV=(n,e)=>e,Ky=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||aV}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<dC(r,i,o)?t:r,a=dC(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let d=a-i,p=u-i;if(d!=p){for(let _=0;_<d;_++){let I=_<o.length?o[_]:o[_]=0,M=I+_;p<=M&&M<d&&(o[_]=I+1)}let m=s.previousIndex;o[m]=p-d}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!mD(e))throw new ne(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,WF(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Qy(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new ef),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ef),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Qy=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Yy=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},ef=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Yy,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function dC(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function hC(){return new Lv([new Wy])}var Lv=(()=>{class n{static{this.\u0275prov=J({token:n,providedIn:"root",factory:hC})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||hC()),deps:[[n,new Xy,new Bt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new ne(901,!1)}}return n})();var SD=(()=>{class n{constructor(t){}static{this.\u0275fac=function(r){return new(r||n)(K(ro))}}static{this.\u0275mod=Ze({type:n})}static{this.\u0275inj=Ye({})}}return n})();function RD(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=rV(r),o=[DD({}),{provide:Ca,useExisting:JL},...t||[]],s=new Zh({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return eV({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function Tu(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function ka(n,e){Na("NgSignals");let t=Xb(n);return e?.equal&&(t[qr].equal=e.equal),t}function Cr(n){let e=ke(null);try{return n()}finally{ke(e)}}function xD(n){let e=Zi(n);if(!e)return null;let t=new Aa(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var FD=null;function Tr(){return FD}function LD(n){FD??=n}var Nf=class{};var an=new Z(""),Hv=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:()=>q(lV),providedIn:"platform"})}}return n})(),VD=new Z(""),lV=(()=>{class n extends Hv{constructor(){super(),this._doc=q(an),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Tr().getBaseHref(this._doc)}onPopState(t){let r=Tr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Tr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function qv(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function MD(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function ii(n){return n&&n[0]!=="?"?"?"+n:n}var rs=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:()=>q(zv),providedIn:"root"})}}return n})(),UD=new Z(""),zv=(()=>{class n extends rs{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??q(an).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return qv(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+ii(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+ii(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+ii(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(K(Hv),K(UD,8))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),jD=(()=>{class n extends rs{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=qv(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+ii(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+ii(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(K(Hv),K(UD,8))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac})}}return n})(),Oa=(()=>{class n{constructor(t){this._subject=new qe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=fV(MD(ND(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ii(r))}normalize(t){return n.stripTrailingSlash(hV(this._basePath,ND(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ii(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ii(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=ii}static{this.joinWithSlash=qv}static{this.stripTrailingSlash=MD}static{this.\u0275fac=function(r){return new(r||n)(K(rs))}}static{this.\u0275prov=J({token:n,factory:()=>dV(),providedIn:"root"})}}return n})();function dV(){return new Oa(K(rs))}function hV(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function ND(n){return n.replace(/\/index.html$/,"")}function fV(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function BD(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Vv=/\s+/,PD=[],XK=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=PD,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(Vv):PD}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Vv):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Vv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(Q(Rn),Q(ri))}}static{this.\u0275dir=We({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var Uv=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},$D=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Uv(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),kD(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);kD(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(Q(Ma),Q(wf),Q(Lv))}}static{this.\u0275dir=We({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function kD(n,e){n.context.$implicit=e.item}var io=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new jv,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){OD("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){OD("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(Q(Ma),Q(wf))}}static{this.\u0275dir=We({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),jv=class{constructor(){this.$implicit=null,this.ngIf=null}};function OD(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Wt(e)}'.`)}function pV(n,e){return new ne(2100,!1)}var mV=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,eQ=(()=>{class n{transform(t){if(t==null)return null;if(typeof t!="string")throw pV(n,t);return t.replace(mV,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275pipe=SC({name:"titlecase",type:n,pure:!0,standalone:!0})}}return n})();var Fa=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ze({type:n})}static{this.\u0275inj=Ye({})}}return n})(),Gv="browser",gV="server";function Wv(n){return n===Gv}function Kv(n){return n===gV}var HD=(()=>{class n{static{this.\u0275prov=J({token:n,providedIn:"root",factory:()=>Wv(q(xn))?new Bv(q(an),window):new $v})}}return n})(),Bv=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=yV(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function yV(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var $v=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Pf=class{};var Yv=class{};var La=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Zv=class{encodeKey(e){return qD(e)}encodeValue(e){return qD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function vV(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}var wV=/%(\d[a-f0-9])/gi,_V={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function qD(n){return encodeURIComponent(n).replace(wV,(e,t)=>_V[t]??e)}function Of(n){return`${n}`}var oo=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Zv,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=vV(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Of):[Of(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Of(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Of(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Jv=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function EV(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function zD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function GD(n){return typeof Blob<"u"&&n instanceof Blob}function WD(n){return typeof FormData<"u"&&n instanceof FormData}function IV(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Du=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(EV(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new La,this.context??=new Jv,!this.params)this.params=new oo,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||zD(this.body)||GD(this.body)||WD(this.body)||IV(this.body)?this.body:this.body instanceof oo?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||WD(this.body)?null:GD(this.body)?this.body.type||null:zD(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof oo?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,d=e.headers||this.headers,p=e.params||this.params,m=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((_,I)=>_.set(I,e.setHeaders[I]),d)),e.setParams&&(p=Object.keys(e.setParams).reduce((_,I)=>_.set(I,e.setParams[I]),p)),new n(t,r,s,{params:p,headers:d,context:m,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},KD=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(KD||{}),Xv=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new La,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var ew=class n extends Xv{constructor(e={}){super(e),this.type=KD.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};function Qv(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var QD=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Du)o=t;else{let u;i.headers instanceof La?u=i.headers:u=new La(i.headers);let d;i.params&&(i.params instanceof oo?d=i.params:d=new oo({fromObject:i.params})),o=new Du(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:d,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=ae(o).pipe(Gr(u=>this.handler.handle(u)));if(t instanceof Du||i.observe==="events")return s;let a=s.pipe(jt(u=>u instanceof ew));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(pe(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(pe(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(pe(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(pe(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new oo().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Qv(i,r))}post(t,r,i={}){return this.request("POST",t,Qv(i,r))}put(t,r,i={}){return this.request("PUT",t,Qv(i,r))}static{this.\u0275fac=function(r){return new(r||n)(K(Yv))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac})}}return n})();var rw=class extends Nf{constructor(){super(...arguments),this.supportsDOMEvents=!0}},iw=class n extends rw{static makeCurrent(){LD(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=CV();return t==null?null:TV(t)}resetBaseElement(){Au=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return BD(document.cookie,e)}},Au=null;function CV(){return Au=Au||document.querySelector("base"),Au?Au.getAttribute("href"):null}function TV(n){return new URL(n,document.baseURI).pathname}var ow=class{addToWindow(e){eo.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new ne(5103,!1);return o},eo.getAllAngularTestabilities=()=>e.getAllTestabilities(),eo.getAllAngularRootElements=()=>e.getAllRootElements();let t=r=>{let i=eo.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};eo.frameworkStabilizers||(eo.frameworkStabilizers=[]),eo.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,r){if(t==null)return null;let i=e.getTestability(t);return i??(r?Tr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},DV=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac})}}return n})(),sw=new Z(""),XD=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new ne(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(K(sw),K(be))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac})}}return n})(),Ff=class{constructor(e){this._doc=e}},tw="ng-app-id",eA=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Kv(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${tw}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(tw),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(tw,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(K(an),K(ff),K(yv,8),K(xn))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac})}}return n})(),nw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},cw=/%COMP%/g,tA="%COMP%",AV=`_nghost-${tA}`,SV=`_ngcontent-${tA}`,RV=!0,xV=new Z("",{providedIn:"root",factory:()=>RV});function MV(n){return SV.replace(cw,n)}function NV(n){return AV.replace(cw,n)}function nA(n,e){return e.map(t=>t.replace(cw,n))}var YD=(()=>{class n{constructor(t,r,i,o,s,a,u,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Kv(a),this.defaultRenderer=new Su(t,s,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===fr.ShadowDom&&(r=le(j({},r),{encapsulation:fr.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Lf?i.applyToHost(t):i instanceof Ru&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case fr.Emulated:o=new Lf(u,d,r,this.appId,p,s,a,m);break;case fr.ShadowDom:return new aw(u,d,t,r,s,a,this.nonce,m);default:o=new Ru(u,d,r,p,s,a,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(K(XD),K(eA),K(ff),K(xV),K(an),K(xn),K(be),K(yv))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac})}}return n})(),Su=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(nw[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(ZD(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(ZD(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new ne(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=nw[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=nw[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Yr.DashCase|Yr.Important)?e.style.setProperty(t,r,i&Yr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Yr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=Tr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function ZD(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var aw=class extends Su{constructor(e,t,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=nA(i.id,i.styles);for(let p of d){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=p,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ru=class extends Su{constructor(e,t,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?nA(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Lf=class extends Ru{constructor(e,t,r,i,o,s,a,u){let d=i+"-"+r.id;super(e,t,r,o,s,a,u,d),this.contentAttr=MV(d),this.hostAttr=NV(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},PV=(()=>{class n extends Ff{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(K(an))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac})}}return n})(),JD=["alt","control","meta","shift"],kV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},OV={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},FV=(()=>{class n extends Ff{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Tr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),JD.forEach(d=>{let p=r.indexOf(d);p>-1&&(r.splice(p,1),s+=d+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=kV[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),JD.forEach(s=>{if(s!==i){let a=OV[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(K(an))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac})}}return n})();function TQ(n,e){return RD(j({rootComponent:n},LV(e)))}function LV(n){return{appProviders:[...rA,...n?.providers??[]],platformProviders:BV}}function VV(){iw.makeCurrent()}function UV(){return new Qr}function jV(){return xT(document),document}var BV=[{provide:xn,useValue:Gv},{provide:gv,useValue:VV,multi:!0},{provide:an,useFactory:jV,deps:[]}];var $V=new Z(""),HV=[{provide:Cu,useClass:ow,deps:[]},{provide:kv,useClass:Af,deps:[be,Sf,Cu]},{provide:Af,useClass:Af,deps:[be,Sf,Cu]}],rA=[{provide:rf,useValue:"root"},{provide:Qr,useFactory:UV,deps:[]},{provide:sw,useClass:PV,multi:!0,deps:[an,be,xn]},{provide:sw,useClass:FV,multi:!0,deps:[an]},YD,eA,XD,{provide:Da,useExisting:YD},{provide:Pf,useClass:DV,deps:[]},[]],iA=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:ff,useValue:t.appId}]}}static{this.\u0275fac=function(r){return new(r||n)(K($V,12))}}static{this.\u0275mod=Ze({type:n})}static{this.\u0275inj=Ye({providers:[...rA,...HV],imports:[Fa,SD]})}}return n})();var oA=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(K(an))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ge="primary",zu=Symbol("RouteTitle"),fw=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ha(n){return new fw(n)}function zV(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function GV(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Dr(n[t],e[t]))return!1;return!0}function Dr(n,e){let t=n?pw(n):void 0,r=e?pw(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!gA(n[i],e[i]))return!1;return!0}function pw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function gA(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function yA(n){return n.length>0?n[n.length-1]:null}function ao(n){return Bg(n)?n:ts(n)?Qe(Promise.resolve(n)):ae(n)}var WV={exact:wA,subset:_A},vA={exact:KV,subset:QV,ignored:()=>!0};function sA(n,e,t){return WV[t.paths](n.root,e.root,t.matrixParams)&&vA[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function KV(n,e){return Dr(n,e)}function wA(n,e,t){if(!os(n.segments,e.segments)||!jf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!wA(n.children[r],e.children[r],t))return!1;return!0}function QV(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>gA(n[t],e[t]))}function _A(n,e,t){return EA(n,e,e.segments,t)}function EA(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!os(i,t)||e.hasChildren()||!jf(i,t,r))}else if(n.segments.length===t.length){if(!os(n.segments,t)||!jf(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!_A(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!os(n.segments,i)||!jf(n.segments,i,r)||!n.children[ge]?!1:EA(n.children[ge],e,o,r)}}function jf(n,e,t){return e.every((r,i)=>vA[t](n[i].parameters,r.parameters))}var si=class{constructor(e=new je([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ha(this.queryParams),this._queryParamMap}toString(){return JV.serialize(this)}},je=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bf(this)}},is=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Ha(this.parameters),this._parameterMap}toString(){return bA(this)}};function YV(n,e){return os(n,e)&&n.every((t,r)=>Dr(t.parameters,e[r].parameters))}function os(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function ZV(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ge&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ge&&(t=t.concat(e(i,r)))}),t}var Gu=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:()=>new qa,providedIn:"root"})}}return n})(),qa=class{parse(e){let t=new gw(e);return new si(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${xu(e.root,!0)}`,r=t2(e.queryParams),i=typeof e.fragment=="string"?`#${XV(e.fragment)}`:"";return`${t}${r}${i}`}},JV=new qa;function Bf(n){return n.segments.map(e=>bA(e)).join("/")}function xu(n,e){if(!n.hasChildren())return Bf(n);if(e){let t=n.children[ge]?xu(n.children[ge],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ge&&r.push(`${i}:${xu(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=ZV(n,(r,i)=>i===ge?[xu(n.children[ge],!1)]:[`${i}:${xu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ge]!=null?`${Bf(n)}/${t[0]}`:`${Bf(n)}/(${t.join("//")})`}}function IA(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vf(n){return IA(n).replace(/%3B/gi,";")}function XV(n){return encodeURI(n)}function mw(n){return IA(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $f(n){return decodeURIComponent(n)}function aA(n){return $f(n.replace(/\+/g,"%20"))}function bA(n){return`${mw(n.path)}${e2(n.parameters)}`}function e2(n){return Object.entries(n).map(([e,t])=>`;${mw(e)}=${mw(t)}`).join("")}function t2(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Vf(t)}=${Vf(i)}`).join("&"):`${Vf(t)}=${Vf(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var n2=/^[^\/()?;#]+/;function uw(n){let e=n.match(n2);return e?e[0]:""}var r2=/^[^\/()?;=#]+/;function i2(n){let e=n.match(r2);return e?e[0]:""}var o2=/^[^=?&#]+/;function s2(n){let e=n.match(o2);return e?e[0]:""}var a2=/^[^&#]+/;function c2(n){let e=n.match(a2);return e?e[0]:""}var gw=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new je([],{}):new je([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ge]=new je(e,t)),r}parseSegment(){let e=uw(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ne(4009,!1);return this.capture(e),new is($f(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=i2(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=uw(this.remaining);i&&(r=i,this.capture(r))}e[$f(t)]=$f(r)}parseQueryParam(e){let t=s2(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=c2(this.remaining);s&&(r=s,this.capture(r))}let i=aA(t),o=aA(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=uw(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new ne(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ge);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ge]:new je([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ne(4011,!1)}};function CA(n){return n.segments.length>0?new je([],{[ge]:n}):n}function TA(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=TA(i);if(r===ge&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new je(n.segments,e);return u2(t)}function u2(n){if(n.numberOfChildren===1&&n.children[ge]){let e=n.children[ge];return new je(n.segments.concat(e.segments),e.children)}return n}function Fu(n){return n instanceof si}function l2(n,e,t=null,r=null){let i=DA(n);return AA(i,e,t,r)}function DA(n){let e;function t(o){let s={};for(let u of o.children){let d=t(u);s[u.outlet]=d}let a=new je(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=CA(r);return e??i}function AA(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return lw(i,i,i,t,r);let o=d2(e);if(o.toRoot())return lw(i,i,new je([],{}),t,r);let s=h2(o,i,n),a=s.processChildren?Pu(s.segmentGroup,s.index,o.commands):RA(s.segmentGroup,s.index,o.commands);return lw(i,s.segmentGroup,a,t,r)}function Hf(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Lu(n){return typeof n=="object"&&n!=null&&n.outlets}function lw(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,d])=>{o[u]=Array.isArray(d)?d.map(p=>`${p}`):`${d}`});let s;n===e?s=t:s=SA(n,e,t);let a=CA(TA(s));return new si(a,o,i)}function SA(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=SA(o,e,t)}),new je(n.segments,r)}var qf=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Hf(r[0]))throw new ne(4003,!1);let i=r.find(Lu);if(i&&i!==yA(r))throw new ne(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function d2(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new qf(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,d])=>{a[u]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new qf(t,e,r)}var ja=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function h2(n,e,t){if(n.isAbsolute)return new ja(e,!0,0);if(!t)return new ja(e,!1,NaN);if(t.parent===null)return new ja(t,!0,0);let r=Hf(n.commands[0])?0:1,i=t.segments.length-1+r;return f2(t,i,n.numberOfDoubleDots)}function f2(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new ne(4005,!1);i=r.segments.length}return new ja(r,!1,i-o)}function p2(n){return Lu(n[0])?n[0].outlets:{[ge]:n}}function RA(n,e,t){if(n??=new je([],{}),n.segments.length===0&&n.hasChildren())return Pu(n,e,t);let r=m2(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new je(n.segments.slice(0,r.pathIndex),{});return o.children[ge]=new je(n.segments.slice(r.pathIndex),n.children),Pu(o,0,i)}else return r.match&&i.length===0?new je(n.segments,{}):r.match&&!n.hasChildren()?yw(n,e,t):r.match?Pu(n,0,i):yw(n,e,t)}function Pu(n,e,t){if(t.length===0)return new je(n.segments,{});{let r=p2(t),i={};if(Object.keys(r).some(o=>o!==ge)&&n.children[ge]&&n.numberOfChildren===1&&n.children[ge].segments.length===0){let o=Pu(n.children[ge],e,t);return new je(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=RA(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new je(n.segments,i)}}function m2(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Lu(a))break;let u=`${a}`,d=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&d&&typeof d=="object"&&d.outlets===void 0){if(!uA(u,d,s))return o;r+=2}else{if(!uA(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function yw(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Lu(o)){let u=g2(o.outlets);return new je(r,u)}if(i===0&&Hf(t[0])){let u=n.segments[e];r.push(new is(u.path,cA(t[0]))),i++;continue}let s=Lu(o)?o.outlets[ge]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Hf(a)?(r.push(new is(s,cA(a))),i+=2):(r.push(new is(s,{})),i++)}return new je(r,{})}function g2(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=yw(new je([],{}),0,r))}),e}function cA(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function uA(n,e,t){return n==t.path&&Dr(e,t.parameters)}var ku="imperative",xt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(xt||{}),Nn=class{constructor(e,t){this.id=e,this.url=t}},za=class extends Nn{constructor(e,t,r="imperative",i=null){super(e,t),this.type=xt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ai=class extends Nn{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=xt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},_n=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(_n||{}),zf=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(zf||{}),oi=class extends Nn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=xt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},so=class extends Nn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=xt.NavigationSkipped}},Vu=class extends Nn{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=xt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Gf=class extends Nn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=xt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vw=class extends Nn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=xt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ww=class extends Nn{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=xt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},_w=class extends Nn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=xt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ew=class extends Nn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=xt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Iw=class{constructor(e){this.route=e,this.type=xt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},bw=class{constructor(e){this.route=e,this.type=xt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Cw=class{constructor(e){this.snapshot=e,this.type=xt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tw=class{constructor(e){this.snapshot=e,this.type=xt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dw=class{constructor(e){this.snapshot=e,this.type=xt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Aw=class{constructor(e){this.snapshot=e,this.type=xt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wf=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=xt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Uu=class{},Ga=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function y2(n,e){return n.providers&&!n._injector&&(n._injector=Ef(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Kn(n){return n.outlet||ge}function v2(n,e){let t=n.filter(r=>Kn(r)===e);return t.push(...n.filter(r=>Kn(r)!==e)),t}function Wu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Sw=class{get injector(){return Wu(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Ku(this.rootInjector),this.attachRef=null}},Ku=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Sw(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(K(nn))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Kf=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Rw(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Rw(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=xw(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return xw(e,this._root).map(t=>t.value)}};function Rw(n,e){if(n===e.value)return e;for(let t of e.children){let r=Rw(n,t);if(r)return r}return null}function xw(n,e){if(n===e.value)return[e];for(let t of e.children){let r=xw(n,t);if(r.length)return r.unshift(e),r}return[]}var wn=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Ua(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Qf=class extends Kf{constructor(e,t){super(e),this.snapshot=t,Uw(this,e)}toString(){return this.snapshot.toString()}};function xA(n){let e=w2(n),t=new ut([new is("",{})]),r=new ut({}),i=new ut({}),o=new ut({}),s=new ut(""),a=new ss(t,r,o,s,i,ge,n,e.root);return a.snapshot=e.root,new Qf(new wn(a,[]),e)}function w2(n){let e={},t={},r={},i="",o=new Ba([],e,r,i,t,ge,n,null,{});return new Zf("",new wn(o,[]))}var ss=class{constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(pe(d=>d[zu]))??ae(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(pe(e=>Ha(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(pe(e=>Ha(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Yf(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:j(j({},e.params),n.params),data:j(j({},e.data),n.data),resolve:j(j(j(j({},n.data),e.data),i?.data),n._resolvedData)}:r={params:j({},n.params),data:j({},n.data),resolve:j(j({},n.data),n._resolvedData??{})},i&&NA(i)&&(r.resolve[zu]=i.title),r}var Ba=class{get title(){return this.data?.[zu]}constructor(e,t,r,i,o,s,a,u,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ha(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ha(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Zf=class extends Kf{constructor(e,t){super(t),this.url=e,Uw(this,t)}toString(){return MA(this._root)}};function Uw(n,e){e.value._routerState=n,e.children.forEach(t=>Uw(n,t))}function MA(n){let e=n.children.length>0?` { ${n.children.map(MA).join(", ")} } `:"";return`${n.value}${e}`}function dw(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Dr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Dr(e.params,t.params)||n.paramsSubject.next(t.params),GV(e.url,t.url)||n.urlSubject.next(t.url),Dr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Mw(n,e){let t=Dr(n.params,e.params)&&YV(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Mw(n.parent,e.parent))}function NA(n){return typeof n.title=="string"||n.title===null}var _2=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ge,this.activateEvents=new qe,this.deactivateEvents=new qe,this.attachEvents=new qe,this.detachEvents=new qe,this.parentContexts=q(Ku),this.location=q(Ma),this.changeDetector=q(ns),this.inputBinder=q(tp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ne(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ne(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ne(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new ne(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Nw(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=We({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ti]})}}return n})(),Nw=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ss?this.route:e===Ku?this.childContexts:this.parent.get(e,t)}},tp=new Z(""),lA=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=hu([r.queryParams,r.params,r.data]).pipe(gn(([o,s,a],u)=>(a=j(j(j({},o),s),a),u===0?ae(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=xD(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac})}}return n})();function E2(n,e,t){let r=ju(n,e._root,t?t._root:void 0);return new Qf(r,e)}function ju(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=I2(n,e,t);return new wn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ju(n,a)),s}}let r=b2(e.value),i=e.children.map(o=>ju(n,o));return new wn(r,i)}}function I2(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ju(n,r,i);return ju(n,r)})}function b2(n){return new ss(new ut(n.url),new ut(n.params),new ut(n.queryParams),new ut(n.fragment),new ut(n.data),n.outlet,n.component,n)}var Bu=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},PA="ngNavigationCancelingError";function Jf(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Fu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=kA(!1,_n.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function kA(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[PA]=!0,t.cancellationCode=e,t}function C2(n){return OA(n)&&Fu(n.url)}function OA(n){return!!n&&n[PA]}var T2=(n,e,t,r)=>pe(i=>(new Pw(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Pw=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),dw(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Ua(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ua(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ua(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Ua(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Aw(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Tw(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(dw(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),dw(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Xf=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},$a=class{constructor(e,t){this.component=e,this.route=t}};function D2(n,e,t){let r=n._root,i=e?e._root:null;return Mu(r,i,t,[r.value])}function A2(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ka(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!gC(n)?n:e.get(n):r}function Mu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ua(e);return n.children.forEach(s=>{S2(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ou(a,t.getContext(s),i)),i}function S2(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=R2(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Xf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Mu(n,e,a?a.children:null,r,i):Mu(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new $a(a.outlet.component,s))}else s&&Ou(e,a,i),i.canActivateChecks.push(new Xf(r)),o.component?Mu(n,null,a?a.children:null,r,i):Mu(n,null,t,r,i);return i}function R2(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!os(n.url,e.url);case"pathParamsOrQueryParamsChange":return!os(n.url,e.url)||!Dr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mw(n,e)||!Dr(n.queryParams,e.queryParams);case"paramsChange":default:return!Mw(n,e)}}function Ou(n,e,t){let r=Ua(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ou(s,e.children.getContext(o),t):Ou(s,null,t):Ou(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new $a(e.outlet.component,i)):t.canDeactivateChecks.push(new $a(null,i)):t.canDeactivateChecks.push(new $a(null,i))}function Qu(n){return typeof n=="function"}function x2(n){return typeof n=="boolean"}function M2(n){return n&&Qu(n.canLoad)}function N2(n){return n&&Qu(n.canActivate)}function P2(n){return n&&Qu(n.canActivateChild)}function k2(n){return n&&Qu(n.canDeactivate)}function O2(n){return n&&Qu(n.canMatch)}function FA(n){return n instanceof zr||n?.name==="EmptyError"}var Uf=Symbol("INITIAL_VALUE");function Wa(){return gn(n=>hu(n.map(e=>e.pipe(Wr(1),Gg(Uf)))).pipe(pe(e=>{for(let t of e)if(t!==!0){if(t===Uf)return Uf;if(t===!1||F2(t))return t}return!0}),jt(e=>e!==Uf),Wr(1)))}function F2(n){return Fu(n)||n instanceof Bu}function L2(n,e){return mt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?ae(le(j({},t),{guardsResult:!0})):V2(s,r,i,n).pipe(mt(a=>a&&x2(a)?U2(r,o,n,e):ae(a)),pe(a=>le(j({},t),{guardsResult:a})))})}function V2(n,e,t,r){return Qe(n).pipe(mt(i=>q2(i.component,i.route,t,e,r)),lr(i=>i!==!0,!0))}function U2(n,e,t,r){return Qe(e).pipe(Gr(i=>ca(B2(i.route.parent,r),j2(i.route,r),H2(n,i.path,t),$2(n,i.route,t))),lr(i=>i!==!0,!0))}function j2(n,e){return n!==null&&e&&e(new Dw(n)),ae(!0)}function B2(n,e){return n!==null&&e&&e(new Cw(n)),ae(!0)}function $2(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ae(!0);let i=r.map(o=>wh(()=>{let s=Wu(e)??t,a=Ka(o,s),u=N2(a)?a.canActivate(e,n):wr(s,()=>a(e,n));return ao(u).pipe(lr())}));return ae(i).pipe(Wa())}function H2(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>A2(s)).filter(s=>s!==null).map(s=>wh(()=>{let a=s.guards.map(u=>{let d=Wu(s.node)??t,p=Ka(u,d),m=P2(p)?p.canActivateChild(r,n):wr(d,()=>p(r,n));return ao(m).pipe(lr())});return ae(a).pipe(Wa())}));return ae(o).pipe(Wa())}function q2(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ae(!0);let s=o.map(a=>{let u=Wu(e)??i,d=Ka(a,u),p=k2(d)?d.canDeactivate(n,e,t,r):wr(u,()=>d(n,e,t,r));return ao(p).pipe(lr())});return ae(s).pipe(Wa())}function z2(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return ae(!0);let o=i.map(s=>{let a=Ka(s,n),u=M2(a)?a.canLoad(e,t):wr(n,()=>a(e,t));return ao(u)});return ae(o).pipe(Wa(),LA(r))}function LA(n){return Pg(gt(e=>{if(typeof e!="boolean")throw Jf(n,e)}),pe(e=>e===!0))}function G2(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return ae(!0);let o=i.map(s=>{let a=Ka(s,n),u=O2(a)?a.canMatch(e,t):wr(n,()=>a(e,t));return ao(u)});return ae(o).pipe(Wa(),LA(r))}var $u=class{constructor(e){this.segmentGroup=e||null}},Hu=class extends Error{constructor(e){super(),this.urlTree=e}};function Va(n){return sa(new $u(n))}function W2(n){return sa(new ne(4e3,!1))}function K2(n){return sa(kA(!1,_n.GuardRejected))}var kw=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ae(r);if(i.numberOfChildren>1||!i.children[ge])return W2(`${e.redirectTo}`);i=i.children[ge]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:u,fragment:d,routeConfig:p,url:m,outlet:_,params:I,data:M,title:L}=i,O=wr(o,()=>a({params:I,data:M,queryParams:u,fragment:d,routeConfig:p,url:m,outlet:_,title:L}));if(O instanceof si)throw new Hu(O);t=O}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Hu(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new si(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new je(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new ne(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Ow={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Q2(n,e,t,r,i){let o=VA(n,e,t);return o.matched?(r=y2(e,r),G2(r,e,t,i).pipe(pe(s=>s===!0?o:j({},Ow)))):ae(o)}function VA(n,e,t){if(e.path==="**")return Y2(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?j({},Ow):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||zV)(t,n,e);if(!i)return j({},Ow);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?j(j({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Y2(n){return{matched:!0,parameters:n.length>0?yA(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function dA(n,e,t,r){return t.length>0&&X2(n,t,r)?{segmentGroup:new je(e,J2(r,new je(t,n.children))),slicedSegments:[]}:t.length===0&&eU(n,t,r)?{segmentGroup:new je(n.segments,Z2(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new je(n.segments,n.children),slicedSegments:t}}function Z2(n,e,t,r){let i={};for(let o of t)if(np(n,e,o)&&!r[Kn(o)]){let s=new je([],{});i[Kn(o)]=s}return j(j({},r),i)}function J2(n,e){let t={};t[ge]=e;for(let r of n)if(r.path===""&&Kn(r)!==ge){let i=new je([],{});t[Kn(r)]=i}return t}function X2(n,e,t){return t.some(r=>np(n,e,r)&&Kn(r)!==ge)}function eU(n,e,t){return t.some(r=>np(n,e,r))}function np(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function tU(n,e,t){return e.length===0&&!n.children[t]}var Fw=class{};function nU(n,e,t,r,i,o,s="emptyOnly"){return new Lw(n,e,t,r,i,s,o).recognize()}var rU=31,Lw=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new kw(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new ne(4002,`'${e.segmentGroup}'`)}recognize(){let e=dA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(pe(({children:t,rootSnapshot:r})=>{let i=new wn(r,t),o=new Zf("",i),s=l2(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Ba([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ge,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ge,t).pipe(pe(r=>({children:r,rootSnapshot:t})),zi(r=>{if(r instanceof Hu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof $u?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(pe(s=>s instanceof wn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Qe(o).pipe(Gr(s=>{let a=r.children[s],u=v2(t,s);return this.processSegmentGroup(e,u,a,s,i)}),zg((s,a)=>(s.push(...a),s)),Gi(null),qg(),mt(s=>{if(s===null)return Va(r);let a=UA(s);return iU(a),ae(a)}))}processSegment(e,t,r,i,o,s,a){return Qe(t).pipe(Gr(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(zi(d=>{if(d instanceof $u)return ae(null);throw d}))),lr(u=>!!u),zi(u=>{if(FA(u))return tU(r,i,o)?ae(new Fw):Va(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return Kn(r)!==s&&(s===ge||!np(i,o,r))?Va(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):Va(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:d,consumedSegments:p,positionalParamSegments:m,remainingSegments:_}=VA(t,i,o);if(!u)return Va(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>rU&&(this.allowRedirects=!1));let I=new Ba(o,d,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,hA(i),Kn(i),i.component??i._loadedComponent??null,i,fA(i)),M=Yf(I,a,this.paramsInheritanceStrategy);I.params=Object.freeze(M.params),I.data=Object.freeze(M.data);let L=this.applyRedirects.applyRedirectCommands(p,i.redirectTo,m,I,e);return this.applyRedirects.lineralizeSegments(i,L).pipe(mt(O=>this.processSegment(e,r,t,O.concat(_),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=Q2(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(gn(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(gn(({routes:d})=>{let p=r._loadedInjector??e,{parameters:m,consumedSegments:_,remainingSegments:I}=u,M=new Ba(_,m,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,hA(r),Kn(r),r.component??r._loadedComponent??null,r,fA(r)),L=Yf(M,s,this.paramsInheritanceStrategy);M.params=Object.freeze(L.params),M.data=Object.freeze(L.data);let{segmentGroup:O,slicedSegments:H}=dA(t,_,I,d);if(H.length===0&&O.hasChildren())return this.processChildren(p,d,O,M).pipe(pe(X=>new wn(M,X)));if(d.length===0&&H.length===0)return ae(new wn(M,[]));let te=Kn(r)===o;return this.processSegment(p,d,O,H,te?ge:o,!0,M).pipe(pe(X=>new wn(M,X instanceof wn?[X]:[])))}))):Va(t)))}getChildConfig(e,t,r){return t.children?ae({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ae({routes:t._loadedRoutes,injector:t._loadedInjector}):z2(e,t,r,this.urlSerializer).pipe(mt(i=>i?this.configLoader.loadChildren(e,t).pipe(gt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):K2(t))):ae({routes:[],injector:e})}};function iU(n){n.sort((e,t)=>e.value.outlet===ge?-1:t.value.outlet===ge?1:e.value.outlet.localeCompare(t.value.outlet))}function oU(n){let e=n.value.routeConfig;return e&&e.path===""}function UA(n){let e=[],t=new Set;for(let r of n){if(!oU(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=UA(r.children);e.push(new wn(r.value,i))}return e.filter(r=>!t.has(r))}function hA(n){return n.data||{}}function fA(n){return n.resolve||{}}function sU(n,e,t,r,i,o){return mt(s=>nU(n,e,t,r,s.extractedUrl,i,o).pipe(pe(({state:a,tree:u})=>le(j({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function aU(n,e){return mt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ae(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let d of jA(u))s.add(d);let a=0;return Qe(s).pipe(Gr(u=>o.has(u)?cU(u,r,n,e):(u.data=Yf(u,u.parent,n).resolve,ae(void 0))),gt(()=>a++),la(1),mt(u=>a===s.size?ae(t):mn))})}function jA(n){let e=n.children.map(t=>jA(t)).flat();return[n,...e]}function cU(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!NA(i)&&(o[zu]=i.title),uU(o,n,e,r).pipe(pe(s=>(n._resolvedData=s,n.data=Yf(n,n.parent,t).resolve,null)))}function uU(n,e,t,r){let i=pw(n);if(i.length===0)return ae({});let o={};return Qe(i).pipe(mt(s=>lU(n[s],e,t,r).pipe(lr(),gt(a=>{if(a instanceof Bu)throw Jf(new qa,a);o[s]=a}))),la(1),Hg(o),zi(s=>FA(s)?mn:sa(s)))}function lU(n,e,t,r){let i=Wu(e)??r,o=Ka(n,i),s=o.resolve?o.resolve(e,t):wr(i,()=>o(e,t));return ao(s)}function hw(n){return gn(e=>{let t=n(e);return t?Qe(t).pipe(pe(()=>e)):ae(e)})}var BA=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ge);return r}getResolvedTitleForRoute(t){return t.data[zu]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:()=>q(dU),providedIn:"root"})}}return n})(),dU=(()=>{class n extends BA{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(K(oA))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Yu=new Z("",{providedIn:"root",factory:()=>({})}),hU=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=rn({type:n,selectors:[["ng-component"]],standalone:!0,features:[_D],decls:1,vars:0,template:function(r,i){r&1&&ve(0,"router-outlet")},dependencies:[_2],encapsulation:2})}}return n})();function jw(n){let e=n.children&&n.children.map(jw),t=e?le(j({},n),{children:e}):j({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ge&&(t.component=hU),t}var qu=new Z(""),Bw=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=q(Mf)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ae(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=ao(t.loadComponent()).pipe(pe($A),gt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),ua(()=>{this.componentLoaders.delete(t)})),i=new na(r,()=>new ct).pipe(ta());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ae({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=fU(r,this.compiler,t,this.onLoadEndListener).pipe(ua(()=>{this.childrenLoaders.delete(r)})),s=new na(o,()=>new ct).pipe(ta());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function fU(n,e,t,r){return ao(n.loadChildren()).pipe(pe($A),mt(i=>i instanceof wu||Array.isArray(i)?ae(i):Qe(e.compileModuleAsync(i))),pe(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(qu,[],{optional:!0,self:!0}).flat()),{routes:s.map(jw),injector:o}}))}function pU(n){return n&&typeof n=="object"&&"default"in n}function $A(n){return pU(n)?n.default:n}var $w=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:()=>q(mU),providedIn:"root"})}}return n})(),mU=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),HA=new Z(""),qA=new Z("");function gU(n,e,t){let r=n.get(qA),i=n.get(an);return n.get(be).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(d=>setTimeout(d));let o,s=new Promise(d=>{o=d}),a=i.startViewTransition(()=>(o(),yU(n))),{onViewTransitionCreated:u}=r;return u&&wr(n,()=>u({transition:a,from:e,to:t})),s})}function yU(n){return new Promise(e=>{Nv({read:()=>setTimeout(e)},{injector:n})})}var vU=new Z(""),Hw=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ct,this.transitionAbortSubject=new ct,this.configLoader=q(Bw),this.environmentInjector=q(nn),this.urlSerializer=q(Gu),this.rootContexts=q(Ku),this.location=q(Oa),this.inputBindingEnabled=q(tp,{optional:!0})!==null,this.titleStrategy=q(BA),this.options=q(Yu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=q($w),this.createViewTransition=q(HA,{optional:!0}),this.navigationErrorHandler=q(vU,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ae(void 0),this.rootComponentType=null;let t=i=>this.events.next(new Iw(i)),r=i=>this.events.next(new bw(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(le(j(j({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new ut({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ku,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(jt(o=>o.id!==0),pe(o=>le(j({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),gn(o=>{let s=!1,a=!1;return ae(o).pipe(gn(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",_n.SupersededByNewNavigation),mn;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?le(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=u.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!d&&p!=="reload"){let m="";return this.events.next(new so(u.id,this.urlSerializer.serialize(u.rawUrl),m,zf.IgnoredSameUrlNavigation)),u.resolve(!1),mn}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return ae(u).pipe(gn(m=>{let _=this.transitions?.getValue();return this.events.next(new za(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),_!==this.transitions?.getValue()?mn:Promise.resolve(m)}),sU(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),gt(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=le(j({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let _=new Gf(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:m,extractedUrl:_,source:I,restoredState:M,extras:L}=u,O=new za(m,this.urlSerializer.serialize(_),I,M);this.events.next(O);let H=xA(this.rootComponentType).snapshot;return this.currentTransition=o=le(j({},u),{targetSnapshot:H,urlAfterRedirects:_,extras:le(j({},L),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,ae(o)}else{let m="";return this.events.next(new so(u.id,this.urlSerializer.serialize(u.extractedUrl),m,zf.IgnoredByUrlHandlingStrategy)),u.resolve(!1),mn}}),gt(u=>{let d=new vw(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),pe(u=>(this.currentTransition=o=le(j({},u),{guards:D2(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),L2(this.environmentInjector,u=>this.events.next(u)),gt(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Jf(this.urlSerializer,u.guardsResult);let d=new ww(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),jt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",_n.GuardRejected),!1)),hw(u=>{if(u.guards.canActivateChecks.length)return ae(u).pipe(gt(d=>{let p=new _w(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),gn(d=>{let p=!1;return ae(d).pipe(aU(this.paramsInheritanceStrategy,this.environmentInjector),gt({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(d,"",_n.NoDataFromResolver)}}))}),gt(d=>{let p=new Ew(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}))}),hw(u=>{let d=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(gt(_=>{p.component=_}),pe(()=>{})));for(let _ of p.children)m.push(...d(_));return m};return hu(d(u.targetSnapshot.root)).pipe(Gi(null),Wr(1))}),hw(()=>this.afterPreactivation()),gn(()=>{let{currentSnapshot:u,targetSnapshot:d}=o,p=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return p?Qe(p).pipe(pe(()=>o)):ae(o)}),pe(u=>{let d=E2(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=le(j({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),gt(()=>{this.events.next(new Uu)}),T2(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Wr(1),gt({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ai(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),Wg(this.transitionAbortSubject.pipe(gt(u=>{throw u}))),ua(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",_n.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),zi(u=>{if(a=!0,OA(u))this.events.next(new oi(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),C2(u)?this.events.next(new Ga(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let d=new Vu(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let p=wr(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(p instanceof Bu){let{message:m,cancellationCode:_}=Jf(this.urlSerializer,p);this.events.next(new oi(o.id,this.urlSerializer.serialize(o.extractedUrl),m,_)),this.events.next(new Ga(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(d);let m=t.errorHandler(u);o.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(p)}}return mn}))}))}cancelNavigationTransition(t,r,i){let o=new oi(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function wU(n){return n!==ku}var _U=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:()=>q(EU),providedIn:"root"})}}return n})(),Vw=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},EU=(()=>{class n extends Vw{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ni(n)))(i||n)}})()}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),zA=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:()=>q(IU),providedIn:"root"})}}return n})(),IU=(()=>{class n extends zA{constructor(){super(...arguments),this.location=q(Oa),this.urlSerializer=q(Gu),this.options=q(Yu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=q($w),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new si,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=xA(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof za)this.stateMemento=this.createStateMemento();else if(t instanceof so)this.rawUrlTree=r.initialUrl;else if(t instanceof Gf){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Uu?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof oi&&(t.code===_n.GuardRejected||t.code===_n.NoDataFromResolver)?this.restoreHistory(r):t instanceof Vu?this.restoreHistory(r,!0):t instanceof ai&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof si?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=j(j({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=j(j({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ni(n)))(i||n)}})()}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Nu=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Nu||{});function GA(n,e){n.events.pipe(jt(t=>t instanceof ai||t instanceof oi||t instanceof Vu||t instanceof so),pe(t=>t instanceof ai||t instanceof so?Nu.COMPLETE:(t instanceof oi?t.code===_n.Redirect||t.code===_n.SupersededByNewNavigation:!1)?Nu.REDIRECTING:Nu.FAILED),jt(t=>t!==Nu.REDIRECTING),Wr(1)).subscribe(()=>{e()})}function bU(n){throw n}var CU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},TU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Rt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=q(Df),this.stateManager=q(zA),this.options=q(Yu,{optional:!0})||{},this.pendingTasks=q(xa),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=q(Hw),this.urlSerializer=q(Gu),this.location=q(Oa),this.urlHandlingStrategy=q($w),this._events=new ct,this.errorHandler=this.options.errorHandler||bU,this.navigated=!1,this.routeReuseStrategy=q(_U),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=q(qu,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!q(tp,{optional:!0}),this.eventsSubscription=new it,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof oi&&r.code!==_n.Redirect&&r.code!==_n.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ai)this.navigated=!0;else if(r instanceof Ga){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=j({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||wU(i.source)},s);this.scheduleNavigation(a,ku,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}AU(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ku,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=j({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(jw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,d=u?this.currentUrlTree.fragment:s,p=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":p=j(j({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let _=i?i.snapshot:this.routerState.snapshot.root;m=DA(_)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),m=this.currentUrlTree.root}return AA(m,t,p,d??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Fu(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ku,null,r)}navigate(t,r={skipLocationChange:!1}){return DU(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=j({},CU):r===!1?i=j({},TU):i=r,Fu(t))return sA(this.currentUrlTree,t,i);let o=this.parseUrl(t);return sA(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,d;s?(a=s.resolve,u=s.reject,d=s.promise):d=new Promise((m,_)=>{a=m,u=_});let p=this.pendingTasks.add();return GA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function DU(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new ne(4008,!1)}function AU(n){return!(n instanceof Uu)&&!(n instanceof Ga)}var ep=class{};var SU=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(jt(t=>t instanceof ai),Gr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Ef(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Qe(i).pipe(aa())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=ae(null);let o=i.pipe(mt(s=>s===null?ae(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Qe([o,s]).pipe(aa())}else return o})}static{this.\u0275fac=function(r){return new(r||n)(K(Rt),K(Mf),K(nn),K(ep),K(Bw))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),WA=new Z(""),RU=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof za?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ai?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof so&&t.code===zf.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Wf&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Wf(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){zT()}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac})}}return n})();function WQ(n,...e){return vr([{provide:qu,multi:!0,useValue:n},[],{provide:ss,useFactory:KA,deps:[Rt]},{provide:xf,multi:!0,useFactory:QA},e.map(t=>t.\u0275providers)])}function KA(n){return n.routerState.root}function Zu(n,e){return{\u0275kind:n,\u0275providers:e}}function QA(){let n=q(Ot);return e=>{let t=n.get(ro);if(e!==t.components[0])return;let r=n.get(Rt),i=n.get(YA);n.get(qw)===1&&r.initialNavigation(),n.get(ZA,null,we.Optional)?.setUpPreloading(),n.get(WA,null,we.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var YA=new Z("",{factory:()=>new ct}),qw=new Z("",{providedIn:"root",factory:()=>1});function xU(){return Zu(2,[{provide:qw,useValue:0},{provide:Rf,multi:!0,deps:[Ot],useFactory:e=>{let t=e.get(VD,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(Rt),o=e.get(YA);GA(i,()=>{r(!0)}),e.get(Hw).afterPreactivation=()=>(r(!0),o.closed?ae(void 0):o),i.initialNavigation()}))}}])}function MU(){return Zu(3,[{provide:Rf,multi:!0,useFactory:()=>{let e=q(Rt);return()=>{e.setUpLocationChangeListener()}}},{provide:qw,useValue:2}])}var ZA=new Z("");function NU(n){return Zu(0,[{provide:ZA,useExisting:SU},{provide:ep,useExisting:n}])}function PU(){return Zu(8,[lA,{provide:tp,useExisting:lA}])}function kU(n){let e=[{provide:HA,useValue:gU},{provide:qA,useValue:j({skipNextTransition:!!n?.skipInitialTransition},n)}];return Zu(9,e)}var pA=new Z("ROUTER_FORROOT_GUARD"),OU=[Oa,{provide:Gu,useClass:qa},Rt,Ku,{provide:ss,useFactory:KA,deps:[Rt]},Bw,[]],Qa=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[OU,[],{provide:qu,multi:!0,useValue:t},{provide:pA,useFactory:UU,deps:[[Rt,new Bt,new Xy]]},{provide:Yu,useValue:r||{}},r?.useHash?LU():VU(),FU(),r?.preloadingStrategy?NU(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?jU(r):[],r?.bindToComponentInputs?PU().\u0275providers:[],r?.enableViewTransitions?kU().\u0275providers:[],BU()]}}static forChild(t){return{ngModule:n,providers:[{provide:qu,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(K(pA,8))}}static{this.\u0275mod=Ze({type:n})}static{this.\u0275inj=Ye({})}}return n})();function FU(){return{provide:WA,useFactory:()=>{let n=q(HD),e=q(be),t=q(Yu),r=q(Hw),i=q(Gu);return t.scrollOffset&&n.setOffset(t.scrollOffset),new RU(i,r,n,e,t)}}}function LU(){return{provide:rs,useClass:jD}}function VU(){return{provide:rs,useClass:zv}}function UU(n){return"guarded"}function jU(n){return[n.initialNavigation==="disabled"?MU().\u0275providers:[],n.initialNavigation==="enabledBlocking"?xU().\u0275providers:[]]}var mA=new Z("");function BU(){return[{provide:mA,useFactory:QA},{provide:xf,multi:!0,useExisting:mA}]}var XA=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},$U=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},eS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,d=u?n[i+2]:0,p=o>>2,m=(o&3)<<4|a>>4,_=(a&15)<<2|d>>6,I=d&63;u||(I=64,s||(_=64)),r.push(t[p],t[m],t[_],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(XA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):$U(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let d=i<n.length?t[n.charAt(i)]:64;++i;let m=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||d==null||m==null)throw new Gw;let _=o<<2|a>>4;if(r.push(_),d!==64){let I=a<<4&240|d>>2;if(r.push(I),m!==64){let M=d<<6&192|m;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Gw=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},HU=function(n){let e=XA(n);return eS.encodeByteArray(e,!0)},Xu=function(n){return HU(n).replace(/\./g,"")},Kw=function(n){try{return eS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function qU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var zU=()=>qU().__FIREBASE_DEFAULTS__,GU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},WU=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Kw(n[1]);return e&&JSON.parse(e)},ip=()=>{try{return zU()||GU()||WU()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Qw=n=>{var e,t;return(t=(e=ip())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},op=n=>{let e=Qw(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Yw=()=>{var n;return(n=ip())===null||n===void 0?void 0:n.config},Zw=n=>{var e;return(e=ip())===null||e===void 0?void 0:e[`_${n}`]};var rp=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function sp(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Xu(JSON.stringify(t)),Xu(JSON.stringify(s)),""].join(".")}function Mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}function KU(){var n;let e=(n=ip())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rS(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function iS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oS(){let n=Mt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function sS(){return!KU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jw(){try{return typeof indexedDB=="object"}catch{return!1}}function aS(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var QU="FirebaseError",Yt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=QU,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ci.prototype.create)}},ci=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?YU(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Yt(i,a,r)}};function YU(n,e){return n.replace(ZU,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var ZU=/\{\$([^}]+)}/g;function cS(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function as(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(JA(o)&&JA(s)){if(!as(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function JA(n){return n!==null&&typeof n=="object"}function el(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ya(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Za(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function uS(n,e){let t=new Ww(n,e);return t.subscribe.bind(t)}var Ww=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");JU(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=zw),i.error===void 0&&(i.error=zw),i.complete===void 0&&(i.complete=zw);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function JU(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function zw(){}var QQ=4*60*60*1e3;function Ke(n){return n&&n._delegate?n._delegate:n}var cn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var cs="[DEFAULT]";var Xw=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new rp;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ej(e))try{this.getOrInitializeService({instanceIdentifier:cs})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=cs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return b(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=cs){return this.instances.has(e)}getOptions(e=cs){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:XU(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=cs){return this.component?this.component.multipleInstances?e:cs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function XU(n){return n===cs?void 0:n}function ej(n){return n.instantiationMode==="EAGER"}var ap=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Xw(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var tj=[],De=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(De||{}),nj={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},rj=De.INFO,ij={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},oj=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=ij[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},co=class{constructor(e){this.name=e,this._logLevel=rj,this._logHandler=oj,this._userLogHandler=null,tj.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}};var sj=(n,e)=>e.some(t=>n instanceof t),lS,dS;function aj(){return lS||(lS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cj(){return dS||(dS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var hS=new WeakMap,t_=new WeakMap,fS=new WeakMap,e_=new WeakMap,r_=new WeakMap;function uj(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Ar(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&hS.set(t,n)}).catch(()=>{}),r_.set(e,n),e}function lj(n){if(t_.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});t_.set(n,e)}var n_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return t_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||fS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ar(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function pS(n){n_=n(n_)}function dj(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(cp(this),e,...t);return fS.set(r,e.sort?e.sort():[e]),Ar(r)}:cj().includes(n)?function(...e){return n.apply(cp(this),e),Ar(hS.get(this))}:function(...e){return Ar(n.apply(cp(this),e))}}function hj(n){return typeof n=="function"?dj(n):(n instanceof IDBTransaction&&lj(n),sj(n,aj())?new Proxy(n,n_):n)}function Ar(n){if(n instanceof IDBRequest)return uj(n);if(e_.has(n))return e_.get(n);let e=hj(n);return e!==n&&(e_.set(n,e),r_.set(e,n)),e}var cp=n=>r_.get(n);function gS(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Ar(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Ar(s.result),u.oldVersion,u.newVersion,Ar(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}var fj=["get","getKey","getAll","getAllKeys","count"],pj=["put","add","delete","clear"],i_=new Map;function mS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(i_.get(e))return i_.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=pj.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||fj.includes(t)))return;let o=function(s,...a){return b(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),d=u.store;return r&&(d=d.index(a.shift())),(yield Promise.all([d[t](...a),i&&u.done]))[0]})};return i_.set(e,o),o}pS(n=>le(j({},n),{get:(e,t,r)=>mS(e,t)||n.get(e,t,r),has:(e,t)=>!!mS(e,t)||n.has(e,t)}));var s_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(mj(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function mj(n){let e=n.getComponent();return e?.type==="VERSION"}var a_="@firebase/app",yS="0.10.13";var ui=new co("@firebase/app"),gj="@firebase/app-compat",yj="@firebase/analytics-compat",vj="@firebase/analytics",wj="@firebase/app-check-compat",_j="@firebase/app-check",Ej="@firebase/auth",Ij="@firebase/auth-compat",bj="@firebase/database",Cj="@firebase/data-connect",Tj="@firebase/database-compat",Dj="@firebase/functions",Aj="@firebase/functions-compat",Sj="@firebase/installations",Rj="@firebase/installations-compat",xj="@firebase/messaging",Mj="@firebase/messaging-compat",Nj="@firebase/performance",Pj="@firebase/performance-compat",kj="@firebase/remote-config",Oj="@firebase/remote-config-compat",Fj="@firebase/storage",Lj="@firebase/storage-compat",Vj="@firebase/firestore",Uj="@firebase/vertexai-preview",jj="@firebase/firestore-compat",Bj="firebase",$j="10.14.1";var c_="[DEFAULT]",Hj={[a_]:"fire-core",[gj]:"fire-core-compat",[vj]:"fire-analytics",[yj]:"fire-analytics-compat",[_j]:"fire-app-check",[wj]:"fire-app-check-compat",[Ej]:"fire-auth",[Ij]:"fire-auth-compat",[bj]:"fire-rtdb",[Cj]:"fire-data-connect",[Tj]:"fire-rtdb-compat",[Dj]:"fire-fn",[Aj]:"fire-fn-compat",[Sj]:"fire-iid",[Rj]:"fire-iid-compat",[xj]:"fire-fcm",[Mj]:"fire-fcm-compat",[Nj]:"fire-perf",[Pj]:"fire-perf-compat",[kj]:"fire-rc",[Oj]:"fire-rc-compat",[Fj]:"fire-gcs",[Lj]:"fire-gcs-compat",[Vj]:"fire-fst",[jj]:"fire-fst-compat",[Uj]:"fire-vertex","fire-js":"fire-js",[Bj]:"fire-js-all"};var tl=new Map,qj=new Map,u_=new Map;function vS(n,e){try{n.container.addComponent(e)}catch(t){ui.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Sr(n){let e=n.name;if(u_.has(e))return ui.debug(`There were multiple attempts to register component ${e}.`),!1;u_.set(e,n);for(let t of tl.values())vS(t,n);for(let t of qj.values())vS(t,n);return!0}function us(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Qn(n){return n.settings!==void 0}var zj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},uo=new ci("app","Firebase",zj);var l_=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new cn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw uo.create("app-deleted",{appName:this._name})}};var Rr=$j;function f_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:c_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw uo.create("bad-app-name",{appName:String(i)});if(t||(t=Yw()),!t)throw uo.create("no-options");let o=tl.get(i);if(o){if(as(t,o.options)&&as(r,o.config))return o;throw uo.create("duplicate-app",{appName:i})}let s=new ap(i);for(let u of u_.values())s.addComponent(u);let a=new l_(t,r,s);return tl.set(i,a),a}function lo(n=c_){let e=tl.get(n);if(!e&&n===c_&&Yw())return f_();if(!e)throw uo.create("no-app",{appName:n});return e}function up(){return Array.from(tl.values())}function et(n,e,t){var r;let i=(r=Hj[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ui.warn(a.join(" "));return}Sr(new cn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Gj="firebase-heartbeat-database",Wj=1,nl="firebase-heartbeat-store",o_=null;function IS(){return o_||(o_=gS(Gj,Wj,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(nl)}catch(t){console.warn(t)}}}}).catch(n=>{throw uo.create("idb-open",{originalErrorMessage:n.message})})),o_}function Kj(n){return b(this,null,function*(){try{let t=(yield IS()).transaction(nl),r=yield t.objectStore(nl).get(bS(n));return yield t.done,r}catch(e){if(e instanceof Yt)ui.warn(e.message);else{let t=uo.create("idb-get",{originalErrorMessage:e?.message});ui.warn(t.message)}}})}function wS(n,e){return b(this,null,function*(){try{let r=(yield IS()).transaction(nl,"readwrite");yield r.objectStore(nl).put(e,bS(n)),yield r.done}catch(t){if(t instanceof Yt)ui.warn(t.message);else{let r=uo.create("idb-set",{originalErrorMessage:t?.message});ui.warn(r.message)}}})}function bS(n){return`${n.name}!${n.options.appId}`}var Qj=1024,Yj=30*24*60*60*1e3,d_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new h_(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return b(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=_S();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=Yj}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ui.warn(r)}})}getHeartbeatsHeader(){return b(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=_S(),{heartbeatsToSend:r,unsentEntries:i}=Zj(this._heartbeatsCache.heartbeats),o=Xu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ui.warn(t),""}})}};function _S(){return new Date().toISOString().substring(0,10)}function Zj(n,e=Qj){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),ES(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),ES(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var h_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return b(this,null,function*(){return Jw()?aS().then(()=>!0).catch(()=>!1):!1})}read(){return b(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield Kj(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return b(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return wS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return b(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return wS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function ES(n){return Xu(JSON.stringify({version:2,heartbeats:n})).length}function Jj(n){Sr(new cn("platform-logger",e=>new s_(e),"PRIVATE")),Sr(new cn("heartbeat",e=>new d_(e),"PRIVATE")),et(a_,yS,n),et(a_,yS,"esm2017"),et("fire-js","")}Jj("");var Xj="firebase",eB="10.14.1";et(Xj,eB,"app");var ho=new Jr("ANGULARFIRE2_VERSION");function rl(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Xa=(n,e)=>{let t=e?[e]:up(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ds=class{constructor(){return Xa(tB)}},tB="app-check";function Ja(){}var lp=class{zone;delegate;constructor(e,t=Ug){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,r)}},p_=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ja,{},Ja,Ja)),t.pipe(gt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},hs=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new lp(Zone.current)),this.insideAngular=t.run(()=>new lp(Zone.current,Vg)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(K(be))};static \u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dp(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function nB(n){return dp().ngZone.runOutsideAngular(()=>n())}function ls(n){return dp().ngZone.run(()=>n())}function rB(n){return iB(dp())(n)}function iB(n){return function(t){return t=t.lift(new p_(n.ngZone)),t.pipe(qi(n.outsideAngular),Hi(n.insideAngular))}}var oB=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ls(()=>n.apply(void 0,r))},tt=(n,e)=>function(){let t,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(t||=ls(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ja,{},Ja,Ja))),r[o]=oB(r[o],t));let i=nB(()=>n.apply(this,r));if(!e)if(i instanceof Re){let o=dp();return i.pipe(qi(o.outsideAngular),Hi(o.insideAngular))}else return ls(()=>i);return i instanceof Re?i.pipe(rB):i instanceof Promise?ls(()=>new Promise((o,s)=>i.then(a=>ls(()=>o(a)),a=>ls(()=>s(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:ls(()=>i)};var li=class{constructor(e){return e}},fs=class{constructor(){return up()}};function sB(n){return n&&n.length===1?n[0]:new li(lo())}var m_=new Z("angularfire2._apps"),aB={provide:li,useFactory:sB,deps:[[new Bt,m_]]},cB={provide:fs,deps:[[new Bt,m_]]};function uB(n){return(e,t)=>{let r=t.get(xn);et("angularfire",ho.full,"core"),et("angularfire",ho.full,"app"),et("angular",bD.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new li(i)}}function OY(n,...e){return vr([aB,cB,{provide:m_,useFactory:uB(n),multi:!0,deps:[be,Ot,hs,...e]}])}var FY=tt(f_,!0);function jS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var BS=jS,$S=new ci("auth","Firebase",jS());var yp=new co("@firebase/auth");function lB(n,...e){yp.logLevel<=De.WARN&&yp.warn(`Auth (${Rr}): ${n}`,...e)}function fp(n,...e){yp.logLevel<=De.ERROR&&yp.error(`Auth (${Rr}): ${n}`,...e)}function Mr(n,...e){throw V_(n,...e)}function ps(n,...e){return V_(n,...e)}function HS(n,e,t){let r=Object.assign(Object.assign({},BS()),{[e]:t});return new ci("auth","Firebase",r).create(e,{appName:n.name})}function fi(n){return HS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function V_(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return $S.create(n,...e)}function se(n,e,...t){if(!n)throw V_(e,...t)}function di(n){let e="INTERNAL ASSERTION FAILED: "+n;throw fp(e),new Error(e)}function po(n,e){n||di(e)}function w_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function dB(){return CS()==="http:"||CS()==="https:"}function CS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function hB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dB()||rS()||"connection"in navigator)?navigator.onLine:!0}function fB(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var ms=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,po(t>e,"Short delay should be less than long delay!"),this.isMobile=tS()||iS()}get(){return hB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function U_(n,e){po(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var vp=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var pB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var mB=new ms(3e4,6e4);function pi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function mi(o,s,a,u){return b(this,arguments,function*(n,e,t,r,i={}){return qS(n,i,()=>b(this,null,function*(){let d={},p={};r&&(e==="GET"?p=r:d={body:JSON.stringify(r)});let m=el(Object.assign({key:n.config.apiKey},p)).slice(1),_=yield n._getAdditionalHeaders();_["Content-Type"]="application/json",n.languageCode&&(_["X-Firebase-Locale"]=n.languageCode);let I=Object.assign({method:e,headers:_},d);return nS()||(I.referrerPolicy="no-referrer"),vp.fetch()(zS(n,n.config.apiHost,t,m),I)}))})}function qS(n,e,t){return b(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},pB),e);try{let i=new __(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw hp(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,d]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw hp(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw hp(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw hp(n,"user-disabled",s);let p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw HS(n,p,d);Mr(n,p)}}catch(i){if(i instanceof Yt)throw i;Mr(n,"network-request-failed",{message:String(i)})}})}function dl(o,s,a,u){return b(this,arguments,function*(n,e,t,r,i={}){let d=yield mi(n,e,t,r,i);return"mfaPendingCredential"in d&&Mr(n,"multi-factor-auth-required",{_serverResponse:d}),d})}function zS(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?U_(n.config,i):`${n.config.apiScheme}://${i}`}function gB(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var __=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ps(this.auth,"network-request-failed")),mB.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function hp(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=ps(n,e,r);return i.customData._tokenResponse=t,i}function TS(n){return n!==void 0&&n.enterprise!==void 0}var E_=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return gB(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function yB(n,e){return b(this,null,function*(){return mi(n,"GET","/v2/recaptchaConfig",pi(n,e))})}function vB(n,e){return b(this,null,function*(){return mi(n,"POST","/v1/accounts:delete",e)})}function GS(n,e){return b(this,null,function*(){return mi(n,"POST","/v1/accounts:lookup",e)})}function il(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function j_(n,e=!1){return b(this,null,function*(){let t=Ke(n),r=yield t.getIdToken(e),i=B_(r);se(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:il(g_(i.auth_time)),issuedAtTime:il(g_(i.iat)),expirationTime:il(g_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function g_(n){return Number(n)*1e3}function B_(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return fp("JWT malformed, contained fewer than 3 sections"),null;try{let i=Kw(t);return i?JSON.parse(i):(fp("Failed to decode base64 JWT payload"),null)}catch(i){return fp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function DS(n){let e=B_(n);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function sl(n,e,t=!1){return b(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Yt&&wB(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function wB({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var I_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>b(this,null,function*(){yield this.iteration()}),t)}iteration(){return b(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var al=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=il(this.lastLoginAt),this.creationTime=il(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function wp(n){return b(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield sl(n,GS(t,{idToken:r}));se(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?WS(o.providerUserInfo):[],a=_B(n.providerData,s),u=n.isAnonymous,d=!(n.email&&o.passwordHash)&&!a?.length,p=u?d:!1,m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new al(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(n,m)})}function $_(n){return b(this,null,function*(){let e=Ke(n);yield wp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function _B(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function WS(n){return n.map(e=>{var{providerId:t}=e,r=jg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function EB(n,e){return b(this,null,function*(){let t=yield qS(n,{},()=>b(this,null,function*(){let r=el({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=zS(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",vp.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function IB(n,e){return b(this,null,function*(){return mi(n,"POST","/v2/accounts:revokeToken",pi(n,e))})}var ol=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):DS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){se(e.length!==0,"internal-error");let t=DS(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return b(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return b(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield EB(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(se(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(se(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(se(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return di("not implemented")}};function fo(n,e){se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var ec=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=jg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new I_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new al(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return b(this,null,function*(){let t=yield sl(this,this.stsTokenManager.getToken(this.auth,e));return se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return j_(this,e)}reload(){return $_(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return b(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield wp(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return b(this,null,function*(){if(Qn(this.auth.app))return Promise.reject(fi(this.auth));let e=yield this.getIdToken();return yield sl(this,vB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,d,p;let m=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,I=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,M=(s=t.photoURL)!==null&&s!==void 0?s:void 0,L=(a=t.tenantId)!==null&&a!==void 0?a:void 0,O=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,H=(d=t.createdAt)!==null&&d!==void 0?d:void 0,te=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:X,emailVerified:re,isAnonymous:Fe,providerData:oe,stsTokenManager:D}=t;se(X&&D,e,"internal-error");let E=ol.fromJSON(this.name,D);se(typeof X=="string",e,"internal-error"),fo(m,e.name),fo(_,e.name),se(typeof re=="boolean",e,"internal-error"),se(typeof Fe=="boolean",e,"internal-error"),fo(I,e.name),fo(M,e.name),fo(L,e.name),fo(O,e.name),fo(H,e.name),fo(te,e.name);let C=new n({uid:X,auth:e,email:_,emailVerified:re,displayName:m,isAnonymous:Fe,photoURL:M,phoneNumber:I,tenantId:L,stsTokenManager:E,createdAt:H,lastLoginAt:te});return oe&&Array.isArray(oe)&&(C.providerData=oe.map(A=>Object.assign({},A))),O&&(C._redirectEventId=O),C}static _fromIdTokenResponse(e,t,r=!1){return b(this,null,function*(){let i=new ol;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield wp(o),o})}static _fromGetAccountInfoResponse(e,t,r){return b(this,null,function*(){let i=t.users[0];se(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?WS(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new ol;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new al(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,d),u})}};var AS=new Map;function hi(n){po(n instanceof Function,"Expected a class definition");let e=AS.get(n);return e?(po(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,AS.set(n,e),e)}var bB=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return b(this,null,function*(){return!0})}_set(t,r){return b(this,null,function*(){this.storage[t]=r})}_get(t){return b(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return b(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),b_=bB;function pp(n,e,t){return`firebase:${n}:${e}:${t}`}var _p=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=pp(this.userKey,i.apiKey,o),this.fullPersistenceKey=pp("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return b(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ec._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return b(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return b(this,null,function*(){if(!t.length)return new n(hi(b_),e,r);let i=(yield Promise.all(t.map(d=>b(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),o=i[0]||hi(b_),s=pp(r,e.config.apiKey,e.name),a=null;for(let d of t)try{let p=yield d._get(s);if(p){let m=ec._fromJSON(e,p);d!==o&&(a=m),o=d;break}}catch{}let u=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(d=>b(this,null,function*(){if(d!==o)try{yield d._remove(s)}catch{}}))),new n(o,e,r))})}};function SS(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XS(e))return"Blackberry";if(eR(e))return"Webos";if(QS(e))return"Safari";if((e.includes("chrome/")||YS(e))&&!e.includes("edge/"))return"Chrome";if(JS(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function KS(n=Mt()){return/firefox\//i.test(n)}function QS(n=Mt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function YS(n=Mt()){return/crios\//i.test(n)}function ZS(n=Mt()){return/iemobile/i.test(n)}function JS(n=Mt()){return/android/i.test(n)}function XS(n=Mt()){return/blackberry/i.test(n)}function eR(n=Mt()){return/webos/i.test(n)}function H_(n=Mt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function CB(n=Mt()){var e;return H_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function TB(){return oS()&&document.documentMode===10}function tR(n=Mt()){return H_(n)||JS(n)||eR(n)||XS(n)||/windows phone/i.test(n)||ZS(n)}function nR(n,e=[]){let t;switch(n){case"Browser":t=SS(Mt());break;case"Worker":t=`${SS(Mt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Rr}/${r}`}var C_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return b(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function DB(t){return b(this,arguments,function*(n,e={}){return mi(n,"GET","/v2/passwordPolicy",pi(n,e))})}var AB=6,T_=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:AB,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var D_=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ep(this),this.idTokenSubscription=new Ep(this),this.beforeStateQueue=new C_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$S,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=hi(t)),this._initializationPromise=this.queue(()=>b(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield _p.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return b(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return b(this,null,function*(){try{let t=yield GS(this,{idToken:e}),r=yield ec._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return b(this,null,function*(){var t;if(Qn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return b(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return b(this,null,function*(){try{yield wp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=fB()}_delete(){return b(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return b(this,null,function*(){if(Qn(this.app))return Promise.reject(fi(this));let t=e?Ke(e):null;return t&&se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return b(this,null,function*(){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>b(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return b(this,null,function*(){return Qn(this.app)?Promise.reject(fi(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Qn(this.app)?Promise.reject(fi(this)):this.queue(()=>b(this,null,function*(){yield this.assertedPersistence.setPersistence(hi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return b(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return b(this,null,function*(){let e=yield DB(this),t=new T_(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ci("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return b(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield IB(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return b(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return b(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&hi(e)||this._popupRedirectResolver;se(t,this,"argument-error"),this.redirectPersistenceManager=yield _p.create(this,[hi(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return b(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>b(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return b(this,null,function*(){if(e===this.currentUser)return this.queue(()=>b(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return b(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return b(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return b(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&lB(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function ys(n){return Ke(n)}var Ep=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=uS(t=>this.observer=t)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Sp={loadJS(){return b(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SB(n){Sp=n}function rR(n){return Sp.loadJS(n)}function RB(){return Sp.recaptchaEnterpriseScript}function xB(){return Sp.gapiScript}function iR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var MB="recaptcha-enterprise",NB="NO_RECAPTCHA",A_=class{constructor(e){this.type=MB,this.auth=ys(e)}verify(e="verify",t=!1){return b(this,null,function*(){function r(o){return b(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>b(this,null,function*(){yB(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let d=new E_(u);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,s(d.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;TS(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(d=>{s(d)}).catch(()=>{s(NB)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&TS(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=RB();u.length!==0&&(u+=a),rR(u).then(()=>{i(a,o,s)}).catch(d=>{s(d)})}}).catch(a=>{s(a)})})})}};function RS(n,e,t,r=!1){return b(this,null,function*(){let i=new A_(n),o;try{o=yield i.verify(t)}catch{o=yield i.verify(t,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function S_(n,e,t,r){return b(this,null,function*(){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield RS(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(o=>b(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield RS(n,e,t,t==="getOobCode");return r(n,s)}else return Promise.reject(o)}))})}function q_(n,e){let t=us(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(as(o,e??{}))return i;Mr(i,"already-initialized")}return t.initialize({options:e})}function PB(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(hi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function z_(n,e,t){let r=ys(n);se(r._canInitEmulator,r,"emulator-config-failed"),se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=oR(e),{host:s,port:a}=kB(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||OB()}function oR(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function kB(n){let e=oR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:xS(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:xS(s)}}}function xS(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function OB(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var cl=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return di("not implemented")}_getIdTokenResponse(e){return di("not implemented")}_linkToIdToken(e,t){return di("not implemented")}_getReauthenticationResolver(e){return di("not implemented")}};function FB(n,e){return b(this,null,function*(){return mi(n,"POST","/v1/accounts:signUp",e)})}function LB(n,e){return b(this,null,function*(){return dl(n,"POST","/v1/accounts:signInWithPassword",pi(n,e))})}function VB(n,e){return b(this,null,function*(){return mi(n,"POST","/v1/accounts:sendOobCode",pi(n,e))})}function UB(n,e){return b(this,null,function*(){return VB(n,e)})}function jB(n,e){return b(this,null,function*(){return dl(n,"POST","/v1/accounts:signInWithEmailLink",pi(n,e))})}function BB(n,e){return b(this,null,function*(){return dl(n,"POST","/v1/accounts:signInWithEmailLink",pi(n,e))})}var ul=class n extends cl{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return b(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return S_(e,t,"signInWithPassword",LB);case"emailLink":return jB(e,{email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}})}_linkToIdToken(e,t){return b(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return S_(e,r,"signUpPassword",FB);case"emailLink":return BB(e,{idToken:t,email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function y_(n,e){return b(this,null,function*(){return dl(n,"POST","/v1/accounts:signInWithIdp",pi(n,e))})}function $B(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HB(n){let e=Ya(Za(n)).link,t=e?Ya(Za(e)).deep_link_id:null,r=Ya(Za(n)).deep_link_id;return(r?Ya(Za(r)).link:null)||r||t||e||n}var Ip=class n{constructor(e){var t,r,i,o,s,a;let u=Ya(Za(e)),d=(t=u.apiKey)!==null&&t!==void 0?t:null,p=(r=u.oobCode)!==null&&r!==void 0?r:null,m=$B((i=u.mode)!==null&&i!==void 0?i:null);se(d&&p&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=p,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=HB(e);try{return new n(t)}catch{return null}}};var sR=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return ul._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Ip.parseLink(r);return se(i,"argument-error"),ul._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),bp=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var R_=class extends bp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function qB(n,e){return b(this,null,function*(){return dl(n,"POST","/v1/accounts:signUp",pi(n,e))})}var tc=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return b(this,null,function*(){let o=yield ec._fromIdTokenResponse(e,r,i),s=MS(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return b(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=MS(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function MS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var x_=class n extends Yt{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function aR(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?x_._fromErrorAndOperation(n,o,e,r):o})}function zB(n,e,t=!1){return b(this,null,function*(){let r=yield sl(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return tc._forOperation(n,"link",r)})}function GB(n,e,t=!1){return b(this,null,function*(){let{auth:r}=n;if(Qn(r.app))return Promise.reject(fi(r));let i="reauthenticate";try{let o=yield sl(n,aR(r,i,e,n),t);se(o.idToken,r,"internal-error");let s=B_(o.idToken);se(s,r,"internal-error");let{sub:a}=s;return se(n.uid===a,r,"user-mismatch"),tc._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Mr(r,"user-mismatch"),o}})}function cR(n,e,t=!1){return b(this,null,function*(){if(Qn(n.app))return Promise.reject(fi(n));let r="signIn",i=yield aR(n,r,e),o=yield tc._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function G_(n,e){return b(this,null,function*(){return cR(ys(n),e)})}function WB(n,e,t){var r;se(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),se(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(se(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(se(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function uR(n){return b(this,null,function*(){let e=ys(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function W_(n,e,t){return b(this,null,function*(){if(Qn(n.app))return Promise.reject(fi(n));let r=ys(n),s=yield S_(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qB).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&uR(n),u}),a=yield tc._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function K_(n,e,t){return Qn(n.app)?Promise.reject(fi(n)):G_(Ke(n),sR.credential(e,t)).catch(r=>b(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&uR(n),r}))}function Q_(n,e){return b(this,null,function*(){let t=Ke(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&WB(t.auth,i,e);let{email:o}=yield UB(t.auth,i);o!==n.email&&(yield n.reload())})}function Y_(n,e,t,r){return Ke(n).onIdTokenChanged(e,t,r)}function Z_(n,e,t){return Ke(n).beforeAuthStateChanged(e,t)}function J_(n){return Ke(n).signOut()}var Cp="__sak";var Tp=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Cp,"1"),this.storage.removeItem(Cp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var KB=1e3,QB=10,YB=(()=>{class n extends Tp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tR(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,d)=>{this.notifyListeners(a,d)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);TB()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,QB):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},KB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return b(this,null,function*(){yield Bi(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return b(this,null,function*(){let r=yield Bi(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return b(this,null,function*(){yield Bi(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),lR=YB;var ZB=(()=>{class n extends Tp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),X_=ZB;function JB(n){return Promise.all(n.map(e=>b(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var XB=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return b(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(p=>b(this,null,function*(){return p(r.origin,s)})),d=yield JB(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:d})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function dR(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var M_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return b(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let d=dR("",20);i.port1.start();let p=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(m){let _=m;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(_.data.response);break;default:clearTimeout(p),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function xr(){return window}function e$(n){xr().location.href=n}function hR(){return typeof xr().WorkerGlobalScope<"u"&&typeof xr().importScripts=="function"}function t$(){return b(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function n$(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function r$(){return hR()?self:null}var fR="firebaseLocalStorageDb",i$=1,Dp="firebaseLocalStorage",pR="fbase_key",gs=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Rp(n,e){return n.transaction([Dp],e?"readwrite":"readonly").objectStore(Dp)}function o$(){let n=indexedDB.deleteDatabase(fR);return new gs(n).toPromise()}function N_(){let n=indexedDB.open(fR,i$);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Dp,{keyPath:pR})}catch(i){t(i)}}),n.addEventListener("success",()=>b(this,null,function*(){let r=n.result;r.objectStoreNames.contains(Dp)?e(r):(r.close(),yield o$(),e(yield N_()))}))})}function NS(n,e,t){return b(this,null,function*(){let r=Rp(n,!0).put({[pR]:e,value:t});return new gs(r).toPromise()})}function s$(n,e){return b(this,null,function*(){let t=Rp(n,!1).get(e),r=yield new gs(t).toPromise();return r===void 0?null:r.value})}function PS(n,e){let t=Rp(n,!0).delete(e);return new gs(t).toPromise()}var a$=800,c$=3,u$=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return b(this,null,function*(){return this.db?this.db:(this.db=yield N_(),this.db)})}_withRetries(t){return b(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>c$)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return b(this,null,function*(){return hR()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return b(this,null,function*(){this.receiver=XB._getInstance(r$()),this.receiver._subscribe("keyChanged",(t,r)=>b(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>b(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return b(this,null,function*(){var t,r;if(this.activeServiceWorker=yield t$(),!this.activeServiceWorker)return;this.sender=new M_(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return b(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||n$()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return b(this,null,function*(){try{if(!indexedDB)return!1;let t=yield N_();return yield NS(t,Cp,"1"),yield PS(t,Cp),!0}catch{}return!1})}_withPendingWrite(t){return b(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(i=>NS(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return b(this,null,function*(){let r=yield this._withRetries(i=>s$(i,t));return this.localCache[t]=r,r})}_remove(t){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(r=>PS(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return b(this,null,function*(){let t=yield this._withRetries(o=>{let s=Rp(o,!1).getAll();return new gs(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>b(this,null,function*(){return this._poll()}),a$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),mR=u$;var qY=iR("rcb"),zY=new ms(3e4,6e4);function l$(n,e){return e?hi(e):(se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var ll=class extends cl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return y_(e,this._buildIdpRequest())}_linkToIdToken(e,t){return y_(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return y_(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function d$(n){return cR(n.auth,new ll(n),n.bypassAuthState)}function h$(n){let{auth:e,user:t}=n;return se(t,e,"internal-error"),GB(t,new ll(n),n.bypassAuthState)}function f$(n){return b(this,null,function*(){let{auth:e,user:t}=n;return se(t,e,"internal-error"),zB(t,new ll(n),n.bypassAuthState)})}var P_=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>b(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return b(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(d){this.reject(d)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return d$;case"linkViaPopup":case"linkViaRedirect":return f$;case"reauthViaPopup":case"reauthViaRedirect":return h$;default:Mr(this.auth,"internal-error")}}resolve(e){po(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){po(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var GY=new ms(2e3,1e4);var p$="pendingRedirect",mp=new Map,k_=class n extends P_{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return b(this,null,function*(){let e=mp.get(this.auth._key());if(!e){try{let r=(yield m$(this.resolver,this.auth))?yield Bi(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}mp.set(this.auth._key(),e)}return this.bypassAuthState||mp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return b(this,null,function*(){if(e.type==="signInViaRedirect")return Bi(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Bi(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return b(this,null,function*(){})}cleanUp(){}};function m$(n,e){return b(this,null,function*(){let t=v$(e),r=y$(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function g$(n,e){mp.set(n._key(),e)}function y$(n){return hi(n._redirectPersistence)}function v$(n){return pp(p$,n.config.apiKey,n.name)}function w$(n,e,t=!1){return b(this,null,function*(){if(Qn(n.app))return Promise.reject(fi(n));let r=ys(n),i=l$(r,e),s=yield new k_(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var _$=10*60*1e3,O_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!E$(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!gR(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ps(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_$&&this.cachedEventUids.clear(),this.cachedEventUids.has(kS(e))}saveEventToCache(e){this.cachedEventUids.add(kS(e)),this.lastProcessedEventTime=Date.now()}};function kS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function gR({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function E$(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gR(n);default:return!1}}function I$(t){return b(this,arguments,function*(n,e={}){return mi(n,"GET","/v1/projects",e)})}var b$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,C$=/^https?/;function T$(n){return b(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield I$(n);for(let t of e)try{if(D$(t))return}catch{}Mr(n,"unauthorized-domain")})}function D$(n){let e=w_(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!C$.test(t))return!1;if(b$.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var A$=new ms(3e4,6e4);function OS(){let n=xr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function S$(n){return new Promise((e,t)=>{var r,i,o;function s(){OS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{OS(),t(ps(n,"network-request-failed"))},timeout:A$.get()})}if(!((i=(r=xr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=xr().gapi)===null||o===void 0)&&o.load)s();else{let a=iR("iframefcb");return xr()[a]=()=>{gapi.load?s():t(ps(n,"network-request-failed"))},rR(`${xB()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw gp=null,e})}var gp=null;function R$(n){return gp=gp||S$(n),gp}var x$=new ms(5e3,15e3),M$="__/auth/iframe",N$="emulator/auth/iframe",P$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},k$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function O$(n){let e=n.config;se(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?U_(e,N$):`https://${n.config.authDomain}/${M$}`,r={apiKey:e.apiKey,appName:n.name,v:Rr},i=k$.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${el(r).slice(1)}`}function F$(n){return b(this,null,function*(){let e=yield R$(n),t=xr().gapi;return se(t,n,"internal-error"),e.open({where:document.body,url:O$(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:P$,dontclear:!0},r=>new Promise((i,o)=>b(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=ps(n,"network-request-failed"),a=xr().setTimeout(()=>{o(s)},x$.get());function u(){xr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var L$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},V$=500,U$=600,j$="_blank",B$="http://localhost",Ap=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function $$(n,e,t,r=V$,i=U$){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},L$),{width:r.toString(),height:i.toString(),top:o,left:s}),d=Mt().toLowerCase();t&&(a=YS(d)?j$:t),KS(d)&&(e=e||B$,u.scrollbars="yes");let p=Object.entries(u).reduce((_,[I,M])=>`${_}${I}=${M},`,"");if(CB(d)&&a!=="_self")return H$(e||"",a),new Ap(null);let m=window.open(e||"",a,p);se(m,n,"popup-blocked");try{m.focus()}catch{}return new Ap(m)}function H$(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var q$="__/auth/handler",z$="emulator/auth/handler",G$=encodeURIComponent("fac");function FS(n,e,t,r,i,o){return b(this,null,function*(){se(n.config.authDomain,n,"auth-domain-config-required"),se(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Rr,eventId:i};if(e instanceof bp){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",cS(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[p,m]of Object.entries(o||{}))s[p]=m}if(e instanceof R_){let p=e.getScopes().filter(m=>m!=="");p.length>0&&(s.scopes=p.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let p of Object.keys(a))a[p]===void 0&&delete a[p];let u=yield n._getAppCheckToken(),d=u?`#${G$}=${encodeURIComponent(u)}`:"";return`${W$(n)}?${el(a).slice(1)}${d}`})}function W$({config:n}){return n.emulator?U_(n,z$):`https://${n.authDomain}/${q$}`}var v_="webStorageSupport",F_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=X_,this._completeRedirectFn=w$,this._overrideRedirectResult=g$}_openPopup(e,t,r,i){return b(this,null,function*(){var o;po((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield FS(e,t,r,w_(),i);return $$(e,s,dR())})}_openRedirect(e,t,r,i){return b(this,null,function*(){yield this._originValidation(e);let o=yield FS(e,t,r,w_(),i);return e$(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(po(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return b(this,null,function*(){let t=yield F$(e),r=new O_(e);return t.register("authEvent",i=>(se(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(v_,{type:v_},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[v_];s!==void 0&&t(!!s),Mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=T$(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return tR()||QS()||H_()}},yR=F_;var LS="@firebase/auth",VS="1.7.9";var L_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return b(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function K$(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Q$(n){Sr(new cn("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;se(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nR(n)},d=new D_(r,i,o,u);return PB(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Sr(new cn("auth-internal",e=>{let t=ys(e.getProvider("auth").getImmediate());return(r=>new L_(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),et(LS,VS,K$(n)),et(LS,VS,"esm2017")}var Y$=5*60,Z$=Zw("authIdTokenMaxAge")||Y$,US=null,J$=n=>e=>b(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Z$)return;let i=t?.token;US!==i&&(US=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function eE(n=lo()){let e=us(n,"auth");if(e.isInitialized())return e.getImmediate();let t=q_(n,{popupRedirectResolver:yR,persistence:[mR,lR,X_]}),r=Zw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=J$(o.toString());Z_(t,s,()=>s(t.currentUser)),Y_(t,a=>s(a))}}let i=Qw("auth");return i&&z_(t,`http://${i}`),t}function X$(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}SB({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=ps("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",X$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Q$("Browser");var vR="auth",vs=class{constructor(e){return e}},hl=class{constructor(){return Xa(vR)}};var tE=new Z("angularfire2.auth-instances");function $H(n,e){let t=rl(vR,n,e);return t&&new vs(t)}function HH(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new vs(r)}}var qH={provide:hl,deps:[[new Bt,tE]]},zH={provide:vs,useFactory:$H,deps:[[new Bt,tE],li]};function RZ(n,...e){return et("angularfire",ho.full,"auth"),vr([zH,qH,{provide:tE,useFactory:HH(n),multi:!0,deps:[be,Ot,hs,fs,[new Bt,ds],...e]}])}var wR=tt(W_,!0);var xZ=tt(eE,!0);var _R=tt(Q_,!0);var ER=tt(K_,!0);var IR=tt(J_,!0);var bR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},CR={};var mo,nE;(function(){var n;function e(D,E){function C(){}C.prototype=E.prototype,D.D=E.prototype,D.prototype=new C,D.prototype.constructor=D,D.C=function(A,S,R){for(var T=Array(arguments.length-2),On=2;On<arguments.length;On++)T[On-2]=arguments[On];return E.prototype[S].apply(A,T)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,E,C){C||(C=0);var A=Array(16);if(typeof E=="string")for(var S=0;16>S;++S)A[S]=E.charCodeAt(C++)|E.charCodeAt(C++)<<8|E.charCodeAt(C++)<<16|E.charCodeAt(C++)<<24;else for(S=0;16>S;++S)A[S]=E[C++]|E[C++]<<8|E[C++]<<16|E[C++]<<24;E=D.g[0],C=D.g[1],S=D.g[2];var R=D.g[3],T=E+(R^C&(S^R))+A[0]+3614090360&4294967295;E=C+(T<<7&4294967295|T>>>25),T=R+(S^E&(C^S))+A[1]+3905402710&4294967295,R=E+(T<<12&4294967295|T>>>20),T=S+(C^R&(E^C))+A[2]+606105819&4294967295,S=R+(T<<17&4294967295|T>>>15),T=C+(E^S&(R^E))+A[3]+3250441966&4294967295,C=S+(T<<22&4294967295|T>>>10),T=E+(R^C&(S^R))+A[4]+4118548399&4294967295,E=C+(T<<7&4294967295|T>>>25),T=R+(S^E&(C^S))+A[5]+1200080426&4294967295,R=E+(T<<12&4294967295|T>>>20),T=S+(C^R&(E^C))+A[6]+2821735955&4294967295,S=R+(T<<17&4294967295|T>>>15),T=C+(E^S&(R^E))+A[7]+4249261313&4294967295,C=S+(T<<22&4294967295|T>>>10),T=E+(R^C&(S^R))+A[8]+1770035416&4294967295,E=C+(T<<7&4294967295|T>>>25),T=R+(S^E&(C^S))+A[9]+2336552879&4294967295,R=E+(T<<12&4294967295|T>>>20),T=S+(C^R&(E^C))+A[10]+4294925233&4294967295,S=R+(T<<17&4294967295|T>>>15),T=C+(E^S&(R^E))+A[11]+2304563134&4294967295,C=S+(T<<22&4294967295|T>>>10),T=E+(R^C&(S^R))+A[12]+1804603682&4294967295,E=C+(T<<7&4294967295|T>>>25),T=R+(S^E&(C^S))+A[13]+4254626195&4294967295,R=E+(T<<12&4294967295|T>>>20),T=S+(C^R&(E^C))+A[14]+2792965006&4294967295,S=R+(T<<17&4294967295|T>>>15),T=C+(E^S&(R^E))+A[15]+1236535329&4294967295,C=S+(T<<22&4294967295|T>>>10),T=E+(S^R&(C^S))+A[1]+4129170786&4294967295,E=C+(T<<5&4294967295|T>>>27),T=R+(C^S&(E^C))+A[6]+3225465664&4294967295,R=E+(T<<9&4294967295|T>>>23),T=S+(E^C&(R^E))+A[11]+643717713&4294967295,S=R+(T<<14&4294967295|T>>>18),T=C+(R^E&(S^R))+A[0]+3921069994&4294967295,C=S+(T<<20&4294967295|T>>>12),T=E+(S^R&(C^S))+A[5]+3593408605&4294967295,E=C+(T<<5&4294967295|T>>>27),T=R+(C^S&(E^C))+A[10]+38016083&4294967295,R=E+(T<<9&4294967295|T>>>23),T=S+(E^C&(R^E))+A[15]+3634488961&4294967295,S=R+(T<<14&4294967295|T>>>18),T=C+(R^E&(S^R))+A[4]+3889429448&4294967295,C=S+(T<<20&4294967295|T>>>12),T=E+(S^R&(C^S))+A[9]+568446438&4294967295,E=C+(T<<5&4294967295|T>>>27),T=R+(C^S&(E^C))+A[14]+3275163606&4294967295,R=E+(T<<9&4294967295|T>>>23),T=S+(E^C&(R^E))+A[3]+4107603335&4294967295,S=R+(T<<14&4294967295|T>>>18),T=C+(R^E&(S^R))+A[8]+1163531501&4294967295,C=S+(T<<20&4294967295|T>>>12),T=E+(S^R&(C^S))+A[13]+2850285829&4294967295,E=C+(T<<5&4294967295|T>>>27),T=R+(C^S&(E^C))+A[2]+4243563512&4294967295,R=E+(T<<9&4294967295|T>>>23),T=S+(E^C&(R^E))+A[7]+1735328473&4294967295,S=R+(T<<14&4294967295|T>>>18),T=C+(R^E&(S^R))+A[12]+2368359562&4294967295,C=S+(T<<20&4294967295|T>>>12),T=E+(C^S^R)+A[5]+4294588738&4294967295,E=C+(T<<4&4294967295|T>>>28),T=R+(E^C^S)+A[8]+2272392833&4294967295,R=E+(T<<11&4294967295|T>>>21),T=S+(R^E^C)+A[11]+1839030562&4294967295,S=R+(T<<16&4294967295|T>>>16),T=C+(S^R^E)+A[14]+4259657740&4294967295,C=S+(T<<23&4294967295|T>>>9),T=E+(C^S^R)+A[1]+2763975236&4294967295,E=C+(T<<4&4294967295|T>>>28),T=R+(E^C^S)+A[4]+1272893353&4294967295,R=E+(T<<11&4294967295|T>>>21),T=S+(R^E^C)+A[7]+4139469664&4294967295,S=R+(T<<16&4294967295|T>>>16),T=C+(S^R^E)+A[10]+3200236656&4294967295,C=S+(T<<23&4294967295|T>>>9),T=E+(C^S^R)+A[13]+681279174&4294967295,E=C+(T<<4&4294967295|T>>>28),T=R+(E^C^S)+A[0]+3936430074&4294967295,R=E+(T<<11&4294967295|T>>>21),T=S+(R^E^C)+A[3]+3572445317&4294967295,S=R+(T<<16&4294967295|T>>>16),T=C+(S^R^E)+A[6]+76029189&4294967295,C=S+(T<<23&4294967295|T>>>9),T=E+(C^S^R)+A[9]+3654602809&4294967295,E=C+(T<<4&4294967295|T>>>28),T=R+(E^C^S)+A[12]+3873151461&4294967295,R=E+(T<<11&4294967295|T>>>21),T=S+(R^E^C)+A[15]+530742520&4294967295,S=R+(T<<16&4294967295|T>>>16),T=C+(S^R^E)+A[2]+3299628645&4294967295,C=S+(T<<23&4294967295|T>>>9),T=E+(S^(C|~R))+A[0]+4096336452&4294967295,E=C+(T<<6&4294967295|T>>>26),T=R+(C^(E|~S))+A[7]+1126891415&4294967295,R=E+(T<<10&4294967295|T>>>22),T=S+(E^(R|~C))+A[14]+2878612391&4294967295,S=R+(T<<15&4294967295|T>>>17),T=C+(R^(S|~E))+A[5]+4237533241&4294967295,C=S+(T<<21&4294967295|T>>>11),T=E+(S^(C|~R))+A[12]+1700485571&4294967295,E=C+(T<<6&4294967295|T>>>26),T=R+(C^(E|~S))+A[3]+2399980690&4294967295,R=E+(T<<10&4294967295|T>>>22),T=S+(E^(R|~C))+A[10]+4293915773&4294967295,S=R+(T<<15&4294967295|T>>>17),T=C+(R^(S|~E))+A[1]+2240044497&4294967295,C=S+(T<<21&4294967295|T>>>11),T=E+(S^(C|~R))+A[8]+1873313359&4294967295,E=C+(T<<6&4294967295|T>>>26),T=R+(C^(E|~S))+A[15]+4264355552&4294967295,R=E+(T<<10&4294967295|T>>>22),T=S+(E^(R|~C))+A[6]+2734768916&4294967295,S=R+(T<<15&4294967295|T>>>17),T=C+(R^(S|~E))+A[13]+1309151649&4294967295,C=S+(T<<21&4294967295|T>>>11),T=E+(S^(C|~R))+A[4]+4149444226&4294967295,E=C+(T<<6&4294967295|T>>>26),T=R+(C^(E|~S))+A[11]+3174756917&4294967295,R=E+(T<<10&4294967295|T>>>22),T=S+(E^(R|~C))+A[2]+718787259&4294967295,S=R+(T<<15&4294967295|T>>>17),T=C+(R^(S|~E))+A[9]+3951481745&4294967295,D.g[0]=D.g[0]+E&4294967295,D.g[1]=D.g[1]+(S+(T<<21&4294967295|T>>>11))&4294967295,D.g[2]=D.g[2]+S&4294967295,D.g[3]=D.g[3]+R&4294967295}r.prototype.u=function(D,E){E===void 0&&(E=D.length);for(var C=E-this.blockSize,A=this.B,S=this.h,R=0;R<E;){if(S==0)for(;R<=C;)i(this,D,R),R+=this.blockSize;if(typeof D=="string"){for(;R<E;)if(A[S++]=D.charCodeAt(R++),S==this.blockSize){i(this,A),S=0;break}}else for(;R<E;)if(A[S++]=D[R++],S==this.blockSize){i(this,A),S=0;break}}this.h=S,this.o+=E},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var E=1;E<D.length-8;++E)D[E]=0;var C=8*this.o;for(E=D.length-8;E<D.length;++E)D[E]=C&255,C/=256;for(this.u(D),D=Array(16),E=C=0;4>E;++E)for(var A=0;32>A;A+=8)D[C++]=this.g[E]>>>A&255;return D};function o(D,E){var C=a;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=E(D)}function s(D,E){this.h=E;for(var C=[],A=!0,S=D.length-1;0<=S;S--){var R=D[S]|0;A&&R==E||(C[S]=R,A=!1)}this.g=C}var a={};function u(D){return-128<=D&&128>D?o(D,function(E){return new s([E|0],0>E?-1:0)}):new s([D|0],0>D?-1:0)}function d(D){if(isNaN(D)||!isFinite(D))return m;if(0>D)return O(d(-D));for(var E=[],C=1,A=0;D>=C;A++)E[A]=D/C|0,C*=4294967296;return new s(E,0)}function p(D,E){if(D.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(D.charAt(0)=="-")return O(p(D.substring(1),E));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=d(Math.pow(E,8)),A=m,S=0;S<D.length;S+=8){var R=Math.min(8,D.length-S),T=parseInt(D.substring(S,S+R),E);8>R?(R=d(Math.pow(E,R)),A=A.j(R).add(d(T))):(A=A.j(C),A=A.add(d(T)))}return A}var m=u(0),_=u(1),I=u(16777216);n=s.prototype,n.m=function(){if(L(this))return-O(this).m();for(var D=0,E=1,C=0;C<this.g.length;C++){var A=this.i(C);D+=(0<=A?A:4294967296+A)*E,E*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(M(this))return"0";if(L(this))return"-"+O(this).toString(D);for(var E=d(Math.pow(D,6)),C=this,A="";;){var S=re(C,E).g;C=H(C,S.j(E));var R=((0<C.g.length?C.g[0]:C.h)>>>0).toString(D);if(C=S,M(C))return R+A;for(;6>R.length;)R="0"+R;A=R+A}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function M(D){if(D.h!=0)return!1;for(var E=0;E<D.g.length;E++)if(D.g[E]!=0)return!1;return!0}function L(D){return D.h==-1}n.l=function(D){return D=H(this,D),L(D)?-1:M(D)?0:1};function O(D){for(var E=D.g.length,C=[],A=0;A<E;A++)C[A]=~D.g[A];return new s(C,~D.h).add(_)}n.abs=function(){return L(this)?O(this):this},n.add=function(D){for(var E=Math.max(this.g.length,D.g.length),C=[],A=0,S=0;S<=E;S++){var R=A+(this.i(S)&65535)+(D.i(S)&65535),T=(R>>>16)+(this.i(S)>>>16)+(D.i(S)>>>16);A=T>>>16,R&=65535,T&=65535,C[S]=T<<16|R}return new s(C,C[C.length-1]&-2147483648?-1:0)};function H(D,E){return D.add(O(E))}n.j=function(D){if(M(this)||M(D))return m;if(L(this))return L(D)?O(this).j(O(D)):O(O(this).j(D));if(L(D))return O(this.j(O(D)));if(0>this.l(I)&&0>D.l(I))return d(this.m()*D.m());for(var E=this.g.length+D.g.length,C=[],A=0;A<2*E;A++)C[A]=0;for(A=0;A<this.g.length;A++)for(var S=0;S<D.g.length;S++){var R=this.i(A)>>>16,T=this.i(A)&65535,On=D.i(S)>>>16,bi=D.i(S)&65535;C[2*A+2*S]+=T*bi,te(C,2*A+2*S),C[2*A+2*S+1]+=R*bi,te(C,2*A+2*S+1),C[2*A+2*S+1]+=T*On,te(C,2*A+2*S+1),C[2*A+2*S+2]+=R*On,te(C,2*A+2*S+2)}for(A=0;A<E;A++)C[A]=C[2*A+1]<<16|C[2*A];for(A=E;A<2*E;A++)C[A]=0;return new s(C,0)};function te(D,E){for(;(D[E]&65535)!=D[E];)D[E+1]+=D[E]>>>16,D[E]&=65535,E++}function X(D,E){this.g=D,this.h=E}function re(D,E){if(M(E))throw Error("division by zero");if(M(D))return new X(m,m);if(L(D))return E=re(O(D),E),new X(O(E.g),O(E.h));if(L(E))return E=re(D,O(E)),new X(O(E.g),E.h);if(30<D.g.length){if(L(D)||L(E))throw Error("slowDivide_ only works with positive integers.");for(var C=_,A=E;0>=A.l(D);)C=Fe(C),A=Fe(A);var S=oe(C,1),R=oe(A,1);for(A=oe(A,2),C=oe(C,2);!M(A);){var T=R.add(A);0>=T.l(D)&&(S=S.add(C),R=T),A=oe(A,1),C=oe(C,1)}return E=H(D,S.j(E)),new X(S,E)}for(S=m;0<=D.l(E);){for(C=Math.max(1,Math.floor(D.m()/E.m())),A=Math.ceil(Math.log(C)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),R=d(C),T=R.j(E);L(T)||0<T.l(D);)C-=A,R=d(C),T=R.j(E);M(R)&&(R=_),S=S.add(R),D=H(D,T)}return new X(S,D)}n.A=function(D){return re(this,D).h},n.and=function(D){for(var E=Math.max(this.g.length,D.g.length),C=[],A=0;A<E;A++)C[A]=this.i(A)&D.i(A);return new s(C,this.h&D.h)},n.or=function(D){for(var E=Math.max(this.g.length,D.g.length),C=[],A=0;A<E;A++)C[A]=this.i(A)|D.i(A);return new s(C,this.h|D.h)},n.xor=function(D){for(var E=Math.max(this.g.length,D.g.length),C=[],A=0;A<E;A++)C[A]=this.i(A)^D.i(A);return new s(C,this.h^D.h)};function Fe(D){for(var E=D.g.length+1,C=[],A=0;A<E;A++)C[A]=D.i(A)<<1|D.i(A-1)>>>31;return new s(C,D.h)}function oe(D,E){var C=E>>5;E%=32;for(var A=D.g.length-C,S=[],R=0;R<A;R++)S[R]=0<E?D.i(R+C)>>>E|D.i(R+C+1)<<32-E:D.i(R+C);return new s(S,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,nE=CR.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=p,mo=CR.Integer=s}).apply(typeof bR<"u"?bR:typeof self<"u"?self:typeof window<"u"?window:{});var xp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gi={};var rE,WH,nc,iE,fl,Mp,oE,sE,aE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,f,g){return c==Array.prototype||c==Object.prototype||(c[f]=g.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof xp=="object"&&xp];for(var f=0;f<c.length;++f){var g=c[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=t(this);function i(c,f){if(f)e:{var g=r;c=c.split(".");for(var v=0;v<c.length-1;v++){var x=c[v];if(!(x in g))break e;g=g[x]}c=c[c.length-1],v=g[c],f=f(v),f!=v&&f!=null&&e(g,c,{configurable:!0,writable:!0,value:f})}}function o(c,f){c instanceof String&&(c+="");var g=0,v=!1,x={next:function(){if(!v&&g<c.length){var k=g++;return{value:f(k,c[k]),done:!1}}return v=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}i("Array.prototype.values",function(c){return c||function(){return o(this,function(f,g){return g})}});var s=s||{},a=this||self;function u(c){var f=typeof c;return f=f!="object"?f:c?Array.isArray(c)?"array":f:"null",f=="array"||f=="object"&&typeof c.length=="number"}function d(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function p(c,f,g){return c.call.apply(c.bind,arguments)}function m(c,f,g){if(!c)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,v),c.apply(f,x)}}return function(){return c.apply(f,arguments)}}function _(c,f,g){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,_.apply(null,arguments)}function I(c,f){var g=Array.prototype.slice.call(arguments,1);return function(){var v=g.slice();return v.push.apply(v,arguments),c.apply(this,v)}}function M(c,f){function g(){}g.prototype=f.prototype,c.aa=f.prototype,c.prototype=new g,c.prototype.constructor=c,c.Qb=function(v,x,k){for(var $=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)$[Ve-2]=arguments[Ve];return f.prototype[x].apply(v,$)}}function L(c){let f=c.length;if(0<f){let g=Array(f);for(let v=0;v<f;v++)g[v]=c[v];return g}return[]}function O(c,f){for(let g=1;g<arguments.length;g++){let v=arguments[g];if(u(v)){let x=c.length||0,k=v.length||0;c.length=x+k;for(let $=0;$<k;$++)c[x+$]=v[$]}else c.push(v)}}class H{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function te(c){return/^[\s\xa0]*$/.test(c)}function X(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function re(c){return re[" "](c),c}re[" "]=function(){};var Fe=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function oe(c,f,g){for(let v in c)f.call(g,c[v],v,c)}function D(c,f){for(let g in c)f.call(void 0,c[g],g,c)}function E(c){let f={};for(let g in c)f[g]=c[g];return f}let C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(c,f){let g,v;for(let x=1;x<arguments.length;x++){v=arguments[x];for(g in v)c[g]=v[g];for(let k=0;k<C.length;k++)g=C[k],Object.prototype.hasOwnProperty.call(v,g)&&(c[g]=v[g])}}function S(c){var f=1;c=c.split(":");let g=[];for(;0<f&&c.length;)g.push(c.shift()),f--;return c.length&&g.push(c.join(":")),g}function R(c){a.setTimeout(()=>{throw c},0)}function T(){var c=Ti;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class On{constructor(){this.h=this.g=null}add(f,g){let v=bi.get();v.set(f,g),this.h?this.h.next=v:this.g=v,this.h=v}}var bi=new H(()=>new Oc,c=>c.reset());class Oc{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Ci,$r=!1,Ti=new On,ln=()=>{let c=a.Promise.resolve(void 0);Ci=()=>{c.then(Di)}};var Di=()=>{for(var c;c=T();){try{c.h.call(c.g)}catch(g){R(g)}var f=bi;f.j(c),100>f.h&&(f.h++,c.next=f.g,f.g=c)}$r=!1};function Vt(){this.s=this.s,this.C=this.C}Vt.prototype.s=!1,Vt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Vt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Tt(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}Tt.prototype.h=function(){this.defaultPrevented=!0};var Ai=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return c}();function Fn(c,f){if(Tt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var g=this.type=c.type,v=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget){if(Fe){e:{try{re(f.nodeName);var x=!0;break e}catch{}x=!1}x||(f=null)}}else g=="mouseover"?f=c.fromElement:g=="mouseout"&&(f=c.toElement);this.relatedTarget=f,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Jl[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Fn.aa.h.call(this)}}M(Fn,Tt);var Jl={2:"touch",3:"pen",4:"mouse"};Fn.prototype.h=function(){Fn.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var tr="closure_listenable_"+(1e6*Math.random()|0),Fc=0;function ng(c,f,g,v,x){this.listener=c,this.proxy=null,this.src=f,this.type=g,this.capture=!!v,this.ha=x,this.key=++Fc,this.da=this.fa=!1}function Si(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ri(c){this.src=c,this.g={},this.h=0}Ri.prototype.add=function(c,f,g,v,x){var k=c.toString();c=this.g[k],c||(c=this.g[k]=[],this.h++);var $=Lc(c,f,v,x);return-1<$?(f=c[$],g||(f.fa=!1)):(f=new ng(f,this.src,k,!!v,x),f.fa=g,c.push(f)),f};function xi(c,f){var g=f.type;if(g in c.g){var v=c.g[g],x=Array.prototype.indexOf.call(v,f,void 0),k;(k=0<=x)&&Array.prototype.splice.call(v,x,1),k&&(Si(f),c.g[g].length==0&&(delete c.g[g],c.h--))}}function Lc(c,f,g,v){for(var x=0;x<c.length;++x){var k=c[x];if(!k.da&&k.listener==f&&k.capture==!!g&&k.ha==v)return x}return-1}var Pt="closure_lm_"+(1e6*Math.random()|0),dn={};function Xl(c,f,g,v,x){if(v&&v.once)return Vc(c,f,g,v,x);if(Array.isArray(f)){for(var k=0;k<f.length;k++)Xl(c,f[k],g,v,x);return null}return g=dt(g),c&&c[tr]?c.K(f,g,d(v)?!!v.capture:!!v,x):Ut(c,f,g,!1,v,x)}function Ut(c,f,g,v,x,k){if(!f)throw Error("Invalid event type");var $=d(x)?!!x.capture:!!x,Ve=Ln(c);if(Ve||(c[Pt]=Ve=new Ri(c)),g=Ve.add(f,g,v,$,k),g.proxy)return g;if(v=Fs(),g.proxy=v,v.src=c,v.listener=g,c.addEventListener)Ai||(x=$),x===void 0&&(x=!1),c.addEventListener(f.toString(),v,x);else if(c.attachEvent)c.attachEvent(hn(f.toString()),v);else if(c.addListener&&c.removeListener)c.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Fs(){function c(g){return f.call(c.src,c.listener,g)}let f=nr;return c}function Vc(c,f,g,v,x){if(Array.isArray(f)){for(var k=0;k<f.length;k++)Vc(c,f[k],g,v,x);return null}return g=dt(g),c&&c[tr]?c.L(f,g,d(v)?!!v.capture:!!v,x):Ut(c,f,g,!0,v,x)}function Uc(c,f,g,v,x){if(Array.isArray(f))for(var k=0;k<f.length;k++)Uc(c,f[k],g,v,x);else v=d(v)?!!v.capture:!!v,g=dt(g),c&&c[tr]?(c=c.i,f=String(f).toString(),f in c.g&&(k=c.g[f],g=Lc(k,g,v,x),-1<g&&(Si(k[g]),Array.prototype.splice.call(k,g,1),k.length==0&&(delete c.g[f],c.h--)))):c&&(c=Ln(c))&&(f=c.g[f.toString()],c=-1,f&&(c=Lc(f,g,v,x)),(g=-1<c?f[c]:null)&&Ce(g))}function Ce(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[tr])xi(f.i,c);else{var g=c.type,v=c.proxy;f.removeEventListener?f.removeEventListener(g,v,c.capture):f.detachEvent?f.detachEvent(hn(g),v):f.addListener&&f.removeListener&&f.removeListener(v),(g=Ln(f))?(xi(g,c),g.h==0&&(g.src=null,f[Pt]=null)):Si(c)}}}function hn(c){return c in dn?dn[c]:dn[c]="on"+c}function nr(c,f){if(c.da)c=!0;else{f=new Fn(f,this);var g=c.listener,v=c.ha||c.src;c.fa&&Ce(c),c=g.call(v,f)}return c}function Ln(c){return c=c[Pt],c instanceof Ri?c:null}var rt="__closure_events_fn_"+(1e9*Math.random()>>>0);function dt(c){return typeof c=="function"?c:(c[rt]||(c[rt]=function(f){return c.handleEvent(f)}),c[rt])}function ht(){Vt.call(this),this.i=new Ri(this),this.M=this,this.F=null}M(ht,Vt),ht.prototype[tr]=!0,ht.prototype.removeEventListener=function(c,f,g,v){Uc(this,c,f,g,v)};function Dt(c,f){var g,v=c.F;if(v)for(g=[];v;v=v.F)g.push(v);if(c=c.M,v=f.type||f,typeof f=="string")f=new Tt(f,c);else if(f instanceof Tt)f.target=f.target||c;else{var x=f;f=new Tt(v,c),A(f,x)}if(x=!0,g)for(var k=g.length-1;0<=k;k--){var $=f.g=g[k];x=rr($,v,!0,f)&&x}if($=f.g=c,x=rr($,v,!0,f)&&x,x=rr($,v,!1,f)&&x,g)for(k=0;k<g.length;k++)$=f.g=g[k],x=rr($,v,!1,f)&&x}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var c=this.i,f;for(f in c.g){for(var g=c.g[f],v=0;v<g.length;v++)Si(g[v]);delete c.g[f],c.h--}}this.F=null},ht.prototype.K=function(c,f,g,v){return this.i.add(String(c),f,!1,g,v)},ht.prototype.L=function(c,f,g,v){return this.i.add(String(c),f,!0,g,v)};function rr(c,f,g,v){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();for(var x=!0,k=0;k<f.length;++k){var $=f[k];if($&&!$.da&&$.capture==g){var Ve=$.listener,It=$.ha||$.src;$.fa&&xi(c.i,$),x=Ve.call(It,v)!==!1&&x}}return x&&!v.defaultPrevented}function kt(c,f,g){if(typeof c=="function")g&&(c=_(c,g));else if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(c,f||0)}function ed(c){c.g=kt(()=>{c.g=null,c.i&&(c.i=!1,ed(c))},c.l);let f=c.h;c.h=null,c.m.apply(null,f)}class td extends Vt{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:ed(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mi(c){Vt.call(this),this.h=c,this.g={}}M(Mi,Vt);var Ls=[];function nd(c){oe(c.g,function(f,g){this.g.hasOwnProperty(g)&&Ce(f)},c),c.g={}}Mi.prototype.N=function(){Mi.aa.N.call(this),nd(this)},Mi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jc=a.JSON.stringify,rg=a.JSON.parse,ig=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Vn(){}Vn.prototype.h=null;function rd(c){return c.h||(c.h=c.i())}function id(){}var Do={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bc(){Tt.call(this,"d")}M(Bc,Tt);function $c(){Tt.call(this,"c")}M($c,Tt);var Un={},od=null;function Vs(){return od=od||new ht}Un.La="serverreachability";function sd(c){Tt.call(this,Un.La,c)}M(sd,Tt);function Ao(c){let f=Vs();Dt(f,new sd(f))}Un.STAT_EVENT="statevent";function ad(c,f){Tt.call(this,Un.STAT_EVENT,c),this.stat=f}M(ad,Tt);function Et(c){let f=Vs();Dt(f,new ad(f,c))}Un.Ma="timingevent";function cd(c,f){Tt.call(this,Un.Ma,c),this.size=f}M(cd,Tt);function So(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},f)}function Ro(){this.g=!0}Ro.prototype.xa=function(){this.g=!1};function og(c,f,g,v,x,k){c.info(function(){if(c.g)if(k)for(var $="",Ve=k.split("&"),It=0;It<Ve.length;It++){var Se=Ve[It].split("=");if(1<Se.length){var At=Se[0];Se=Se[1];var bt=At.split("_");$=2<=bt.length&&bt[1]=="type"?$+(At+"="+Se+"&"):$+(At+"=redacted&")}}else $=null;else $=k;return"XMLHTTP REQ ("+v+") [attempt "+x+"]: "+f+`
`+g+`
`+$})}function sg(c,f,g,v,x,k,$){c.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+x+"]: "+f+`
`+g+`
`+k+" "+$})}function Pe(c,f,g,v){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+cg(c,g)+(v?" "+v:"")})}function ag(c,f){c.info(function(){return"TIMEOUT: "+f})}Ro.prototype.info=function(){};function cg(c,f){if(!c.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(c=0;c<g.length;c++)if(Array.isArray(g[c])){var v=g[c];if(!(2>v.length)){var x=v[1];if(Array.isArray(x)&&!(1>x.length)){var k=x[0];if(k!="noop"&&k!="stop"&&k!="close")for(var $=1;$<x.length;$++)x[$]=""}}}}return jc(g)}catch{return f}}var Us={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ud={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hc;function js(){}M(js,Vn),js.prototype.g=function(){return new XMLHttpRequest},js.prototype.i=function(){return{}},Hc=new js;function bn(c,f,g,v){this.j=c,this.i=f,this.l=g,this.R=v||1,this.U=new Mi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ni}function Ni(){this.i=null,this.g="",this.h=!1}var qc={},Pi={};function ze(c,f,g){c.L=1,c.v=$s(Cn(f)),c.m=g,c.P=!0,ld(c,null)}function ld(c,f){c.F=Date.now(),xo(c),c.A=Cn(c.v);var g=c.A,v=c.R;Array.isArray(v)||(v=[String(v)]),Dd(g.i,"t",v),c.C=0,g=c.j.J,c.h=new Ni,c.g=ou(c.j,g?f:null,!c.m),0<c.O&&(c.M=new td(_(c.Y,c,c.g),c.O)),f=c.U,g=c.g,v=c.ca;var x="readystatechange";Array.isArray(x)||(x&&(Ls[0]=x.toString()),x=Ls);for(var k=0;k<x.length;k++){var $=Xl(g,x[k],v||f.handleEvent,!1,f.h||f);if(!$)break;f.g[$.key]=$}f=c.H?E(c.H):{},c.m?(c.u||(c.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,f)):(c.u="GET",c.g.ea(c.A,c.u,null,f)),Ao(),og(c.i,c.u,c.A,c.l,c.R,c.m)}bn.prototype.ca=function(c){c=c.target;let f=this.M;f&&Bn(c)==3?f.j():this.Y(c)},bn.prototype.Y=function(c){try{if(c==this.g)e:{let bt=Bn(this.g);var f=this.g.Ba();let cr=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||Pd(this.g)))){this.J||bt!=4||f==7||(f==8||0>=cr?Ao(3):Ao(2)),zc(this);var g=this.g.Z();this.X=g;t:if(dd(this)){var v=Pd(this.g);c="";var x=v.length,k=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ir(this),Mo(this);var $="";break t}this.h.i=new a.TextDecoder}for(f=0;f<x;f++)this.h.h=!0,c+=this.h.i.decode(v[f],{stream:!(k&&f==x-1)});v.length=0,this.h.g+=c,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=g==200,sg(this.i,this.u,this.A,this.l,this.R,bt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,It=this.g;if((Ve=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(Ve)){var Se=Ve;break t}}Se=null}if(g=Se)Pe(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gc(this,g);else{this.o=!1,this.s=3,Et(12),ir(this),Mo(this);break e}}if(this.P){g=!0;let fn;for(;!this.J&&this.C<$.length;)if(fn=ug(this,$),fn==Pi){bt==4&&(this.s=4,Et(14),g=!1),Pe(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==qc){this.s=4,Et(15),Pe(this.i,this.l,$,"[Invalid Chunk]"),g=!1;break}else Pe(this.i,this.l,fn,null),Gc(this,fn);if(dd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||$.length!=0||this.h.h||(this.s=1,Et(16),g=!1),this.o=this.o&&g,!g)Pe(this.i,this.l,$,"[Invalid Chunked Response]"),ir(this),Mo(this);else if(0<$.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),Ui(At),At.M=!0,Et(11))}}else Pe(this.i,this.l,$,null),Gc(this,$);bt==4&&ir(this),this.o&&!this.J&&(bt==4?tu(this.j,this):(this.o=!1,xo(this)))}else vg(this.g),g==400&&0<$.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),ir(this),Mo(this)}}}catch{}finally{}};function dd(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ug(c,f){var g=c.C,v=f.indexOf(`
`,g);return v==-1?Pi:(g=Number(f.substring(g,v)),isNaN(g)?qc:(v+=1,v+g>f.length?Pi:(f=f.slice(v,v+g),c.C=v+g,f)))}bn.prototype.cancel=function(){this.J=!0,ir(this)};function xo(c){c.S=Date.now()+c.I,hd(c,c.I)}function hd(c,f){if(c.B!=null)throw Error("WatchDog timer not null");c.B=So(_(c.ba,c),f)}function zc(c){c.B&&(a.clearTimeout(c.B),c.B=null)}bn.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(ag(this.i,this.A),this.L!=2&&(Ao(),Et(17)),ir(this),this.s=2,Mo(this)):hd(this,this.S-c)};function Mo(c){c.j.G==0||c.J||tu(c.j,c)}function ir(c){zc(c);var f=c.M;f&&typeof f.ma=="function"&&f.ma(),c.M=null,nd(c.U),c.g&&(f=c.g,c.g=null,f.abort(),f.ma())}function Gc(c,f){try{var g=c.j;if(g.G!=0&&(g.g==c||Wc(g.h,c))){if(!c.K&&Wc(g.h,c)&&g.G==3){try{var v=g.Da.g.parse(f)}catch{v=null}if(Array.isArray(v)&&v.length==3){var x=v;if(x[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<c.F)Uo(g),Gs(g);else break e;Vo(g),Et(18)}}else g.za=x[1],0<g.za-g.T&&37500>x[2]&&g.F&&g.v==0&&!g.C&&(g.C=So(_(g.Za,g),6e3));if(1>=gd(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else ar(g,11)}else if((c.K||g.g==c)&&Uo(g),!te(f))for(x=g.Da.g.parse(f),f=0;f<x.length;f++){let Se=x[f];if(g.T=Se[0],Se=Se[1],g.G==2)if(Se[0]=="c"){g.K=Se[1],g.ia=Se[2];let At=Se[3];At!=null&&(g.la=At,g.j.info("VER="+g.la));let bt=Se[4];bt!=null&&(g.Aa=bt,g.j.info("SVER="+g.Aa));let cr=Se[5];cr!=null&&typeof cr=="number"&&0<cr&&(v=1.5*cr,g.L=v,g.j.info("backChannelRequestTimeoutMs_="+v)),v=g;let fn=c.g;if(fn){let Ks=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ks){var k=v.h;k.g||Ks.indexOf("spdy")==-1&&Ks.indexOf("quic")==-1&&Ks.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Kc(k,k.h),k.h=null))}if(v.D){let au=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;au&&(v.ya=au,$e(v.I,v.D,au))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-c.F,g.j.info("Handshake RTT: "+g.R+"ms")),v=g;var $=c;if(v.qa=iu(v,v.J?v.ia:null,v.W),$.K){yd(v.h,$);var Ve=$,It=v.L;It&&(Ve.I=It),Ve.B&&(zc(Ve),xo(Ve)),v.g=$}else eu(v);0<g.i.length&&Ws(g)}else Se[0]!="stop"&&Se[0]!="close"||ar(g,7);else g.G==3&&(Se[0]=="stop"||Se[0]=="close"?Se[0]=="stop"?ar(g,7):zs(g):Se[0]!="noop"&&g.l&&g.l.ta(Se),g.v=0)}}Ao(4)}catch{}}var fd=class{constructor(c,f){this.g=c,this.map=f}};function pd(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function md(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function gd(c){return c.h?1:c.g?c.g.size:0}function Wc(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function Kc(c,f){c.g?c.g.add(f):c.h=f}function yd(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}pd.prototype.cancel=function(){if(this.i=vd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function vd(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let f=c.i;for(let g of c.g.values())f=f.concat(g.D);return f}return L(c.i)}function wd(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var f=[],g=c.length,v=0;v<g;v++)f.push(c[v]);return f}f=[],g=0;for(v in c)f[g++]=c[v];return f}function lg(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var f=[];c=c.length;for(var g=0;g<c;g++)f.push(g);return f}f=[],g=0;for(let v in c)f[g++]=v;return f}}}function Qc(c,f){if(c.forEach&&typeof c.forEach=="function")c.forEach(f,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,f,void 0);else for(var g=lg(c),v=wd(c),x=v.length,k=0;k<x;k++)f.call(void 0,v[k],g&&g[k],c)}var _d=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dg(c,f){if(c){c=c.split("&");for(var g=0;g<c.length;g++){var v=c[g].indexOf("="),x=null;if(0<=v){var k=c[g].substring(0,v);x=c[g].substring(v+1)}else k=c[g];f(k,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function Jt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Jt){this.h=c.h,Bs(this,c.j),this.o=c.o,this.g=c.g,ki(this,c.s),this.l=c.l;var f=c.i,g=new ko;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),Yc(this,g),this.m=c.m}else c&&(f=String(c).match(_d))?(this.h=!1,Bs(this,f[1]||"",!0),this.o=No(f[2]||""),this.g=No(f[3]||"",!0),ki(this,f[4]),this.l=No(f[5]||"",!0),Yc(this,f[6]||"",!0),this.m=No(f[7]||"")):(this.h=!1,this.i=new ko(null,this.h))}Jt.prototype.toString=function(){var c=[],f=this.j;f&&c.push(Po(f,Ed,!0),":");var g=this.g;return(g||f=="file")&&(c.push("//"),(f=this.o)&&c.push(Po(f,Ed,!0),"@"),c.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&c.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(Po(g,g.charAt(0)=="/"?fg:Oi,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",Po(g,bd)),c.join("")};function Cn(c){return new Jt(c)}function Bs(c,f,g){c.j=g?No(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function ki(c,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);c.s=f}else c.s=null}function Yc(c,f,g){f instanceof ko?(c.i=f,pg(c.i,c.h)):(g||(f=Po(f,Id)),c.i=new ko(f,c.h))}function $e(c,f,g){c.i.set(f,g)}function $s(c){return $e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function No(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Po(c,f,g){return typeof c=="string"?(c=encodeURI(c).replace(f,hg),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function hg(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ed=/[#\/\?@]/g,Oi=/[#\?:]/g,fg=/[#\?]/g,Id=/[#\?@]/g,bd=/#/g;function ko(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function or(c){c.g||(c.g=new Map,c.h=0,c.i&&dg(c.i,function(f,g){c.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}n=ko.prototype,n.add=function(c,f){or(this),this.i=null,c=Fi(this,c);var g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(f),this.h+=1,this};function Cd(c,f){or(c),f=Fi(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function Td(c,f){return or(c),f=Fi(c,f),c.g.has(f)}n.forEach=function(c,f){or(this),this.g.forEach(function(g,v){g.forEach(function(x){c.call(f,x,v,this)},this)},this)},n.na=function(){or(this);let c=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let v=0;v<f.length;v++){let x=c[v];for(let k=0;k<x.length;k++)g.push(f[v])}return g},n.V=function(c){or(this);let f=[];if(typeof c=="string")Td(this,c)&&(f=f.concat(this.g.get(Fi(this,c))));else{c=Array.from(this.g.values());for(let g=0;g<c.length;g++)f=f.concat(c[g])}return f},n.set=function(c,f){return or(this),this.i=null,c=Fi(this,c),Td(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},n.get=function(c,f){return c?(c=this.V(c),0<c.length?String(c[0]):f):f};function Dd(c,f,g){Cd(c,f),0<g.length&&(c.i=null,c.g.set(Fi(c,f),L(g)),c.h+=g.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var v=f[g];let k=encodeURIComponent(String(v)),$=this.V(v);for(v=0;v<$.length;v++){var x=k;$[v]!==""&&(x+="="+encodeURIComponent(String($[v]))),c.push(x)}}return this.i=c.join("&")};function Fi(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function pg(c,f){f&&!c.j&&(or(c),c.i=null,c.g.forEach(function(g,v){var x=v.toLowerCase();v!=x&&(Cd(this,v),Dd(this,x,g))},c)),c.j=f}function Li(c,f){let g=new Ro;if(a.Image){let v=new Image;v.onload=I(sr,g,"TestLoadImage: loaded",!0,f,v),v.onerror=I(sr,g,"TestLoadImage: error",!1,f,v),v.onabort=I(sr,g,"TestLoadImage: abort",!1,f,v),v.ontimeout=I(sr,g,"TestLoadImage: timeout",!1,f,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=c}else f(!1)}function mg(c,f){let g=new Ro,v=new AbortController,x=setTimeout(()=>{v.abort(),sr(g,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:v.signal}).then(k=>{clearTimeout(x),k.ok?sr(g,"TestPingServer: ok",!0,f):sr(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(x),sr(g,"TestPingServer: error",!1,f)})}function sr(c,f,g,v,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),v(g)}catch{}}function Ad(){this.g=new ig}function gg(c,f,g){let v=g||"";try{Qc(c,function(x,k){let $=x;d(x)&&($=jc(x)),f.push(v+k+"="+encodeURIComponent($))})}catch(x){throw f.push(v+"type="+encodeURIComponent("_badmap")),x}}function Xt(c){this.l=c.Ub||null,this.j=c.eb||!1}M(Xt,Vn),Xt.prototype.g=function(){return new Hs(this.l,this.j)},Xt.prototype.i=function(c){return function(){return c}}({});function Hs(c,f){ht.call(this),this.D=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Hs,ht),n=Hs.prototype,n.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=f,this.readyState=1,Oo(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(f.body=c),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Oo(this)),this.g&&(this.readyState=3,Oo(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zc(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zc(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?jn(this):Oo(this),this.readyState==3&&Zc(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,jn(this))},n.Qa=function(c){this.g&&(this.response=c,jn(this))},n.ga=function(){this.g&&jn(this)};function jn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Oo(c)}n.setRequestHeader=function(c,f){this.u.append(c,f)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=f.next();return c.join(`\r
`)};function Oo(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Sd(c){let f="";return oe(c,function(g,v){f+=v,f+=":",f+=g,f+=`\r
`}),f}function Jc(c,f,g){e:{for(v in g){var v=!1;break e}v=!0}v||(g=Sd(g),typeof c=="string"?g!=null&&encodeURIComponent(String(g)):$e(c,f,g))}function Ge(c){ht.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Ge,ht);var Vi=/^https?$/i,yg=["POST","PUT"];n=Ge.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,f,g,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hc.g(),this.v=this.o?rd(this.o):rd(Hc),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(k){Rd(this,k);return}if(c=g||"",g=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var x in v)g.set(x,v[x]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let k of v.keys())g.set(k,v.get(k));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(g.keys()).find(k=>k.toLowerCase()=="content-type"),x=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(yg,f,void 0))||v||x||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[k,$]of g)this.g.setRequestHeader(k,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Nd(this),this.u=!0,this.g.send(c),this.u=!1}catch(k){Rd(this,k)}};function Rd(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.m=5,xd(c),qs(c)}function xd(c){c.A||(c.A=!0,Dt(c,"complete"),Dt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Dt(this,"complete"),Dt(this,"abort"),qs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qs(this,!0)),Ge.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Md(this):this.bb())},n.bb=function(){Md(this)};function Md(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Bn(c)!=4||c.Z()!=2)){if(c.u&&Bn(c)==4)kt(c.Ea,0,c);else if(Dt(c,"readystatechange"),Bn(c)==4){c.h=!1;try{let $=c.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var v;if(v=$===0){var x=String(c.D).match(_d)[1]||null;!x&&a.self&&a.self.location&&(x=a.self.location.protocol.slice(0,-1)),v=!Vi.test(x?x.toLowerCase():"")}g=v}if(g)Dt(c,"complete"),Dt(c,"success");else{c.m=6;try{var k=2<Bn(c)?c.g.statusText:""}catch{k=""}c.l=k+" ["+c.Z()+"]",xd(c)}}finally{qs(c)}}}}function qs(c,f){if(c.g){Nd(c);let g=c.g,v=c.v[0]?()=>{}:null;c.g=null,c.v=null,f||Dt(c,"ready");try{g.onreadystatechange=v}catch{}}}function Nd(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Bn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),rg(f)}};function Pd(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function vg(c){let f={};c=(c.g&&2<=Bn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<c.length;v++){if(te(c[v]))continue;var g=S(c[v]);let x=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();let k=f[x]||[];f[x]=k,k.push(g)}D(f,function(v){return v.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fo(c,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||f}function Lo(c){this.Aa=0,this.i=[],this.j=new Ro,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fo("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fo("baseRetryDelayMs",5e3,c),this.cb=Fo("retryDelaySeedMs",1e4,c),this.Wa=Fo("forwardChannelMaxRetries",2,c),this.wa=Fo("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new pd(c&&c.concurrentRequestLimit),this.Da=new Ad,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Lo.prototype,n.la=8,n.G=1,n.connect=function(c,f,g,v){Et(0),this.W=c,this.H=f||{},g&&v!==void 0&&(this.H.OSID=g,this.H.OAID=v),this.F=this.X,this.I=iu(this,null,this.W),Ws(this)};function zs(c){if(kd(c),c.G==3){var f=c.U++,g=Cn(c.I);if($e(g,"SID",c.K),$e(g,"RID",f),$e(g,"TYPE","terminate"),Hr(c,g),f=new bn(c,c.j,f),f.L=2,f.v=$s(Cn(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=f.v,g=!0),g||(f.g=ou(f.j,null),f.g.ea(f.v)),f.F=Date.now(),xo(f)}ru(c)}function Gs(c){c.g&&(Ui(c),c.g.cancel(),c.g=null)}function kd(c){Gs(c),c.u&&(a.clearTimeout(c.u),c.u=null),Uo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Ws(c){if(!md(c.h)&&!c.s){c.s=!0;var f=c.Ga;Ci||ln(),$r||(Ci(),$r=!0),Ti.add(f,c),c.B=0}}function Od(c,f){return gd(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=f.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=So(_(c.Ga,c,f),nu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let x=new bn(this,this.j,c),k=this.o;if(this.S&&(k?(k=E(k),A(k,this.S)):k=this.S),this.m!==null||this.O||(x.H=k,k=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var v=this.i[g];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(f+=v,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=Xc(this,x,f),g=Cn(this.I),$e(g,"RID",c),$e(g,"CVER",22),this.D&&$e(g,"X-HTTP-Session-Id",this.D),Hr(this,g),k&&(this.O?f="headers="+encodeURIComponent(String(Sd(k)))+"&"+f:this.m&&Jc(g,this.m,k)),Kc(this.h,x),this.Ua&&$e(g,"TYPE","init"),this.P?($e(g,"$req",f),$e(g,"SID","null"),x.T=!0,ze(x,g,null)):ze(x,g,f),this.G=2}}else this.G==3&&(c?Fd(this,c):this.i.length==0||md(this.h)||Fd(this))};function Fd(c,f){var g;f?g=f.l:g=c.U++;let v=Cn(c.I);$e(v,"SID",c.K),$e(v,"RID",g),$e(v,"AID",c.T),Hr(c,v),c.m&&c.o&&Jc(v,c.m,c.o),g=new bn(c,c.j,g,c.B+1),c.m===null&&(g.H=c.o),f&&(c.i=f.D.concat(c.i)),f=Xc(c,g,1e3),g.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Kc(c.h,g),ze(g,v,f)}function Hr(c,f){c.H&&oe(c.H,function(g,v){$e(f,v,g)}),c.l&&Qc({},function(g,v){$e(f,v,g)})}function Xc(c,f,g){g=Math.min(c.i.length,g);var v=c.l?_(c.l.Na,c.l,c):null;e:{var x=c.i;let k=-1;for(;;){let $=["count="+g];k==-1?0<g?(k=x[0].g,$.push("ofs="+k)):k=0:$.push("ofs="+k);let Ve=!0;for(let It=0;It<g;It++){let Se=x[It].g,At=x[It].map;if(Se-=k,0>Se)k=Math.max(0,x[It].g-100),Ve=!1;else try{gg(At,$,"req"+Se+"_")}catch{v&&v(At)}}if(Ve){v=$.join("&");break e}}}return c=c.i.splice(0,g),f.D=c,v}function eu(c){if(!c.g&&!c.u){c.Y=1;var f=c.Fa;Ci||ln(),$r||(Ci(),$r=!0),Ti.add(f,c),c.v=0}}function Vo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=So(_(c.Fa,c),nu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Ld(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=So(_(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),Gs(this),Ld(this))};function Ui(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Ld(c){c.g=new bn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var f=Cn(c.qa);$e(f,"RID","rpc"),$e(f,"SID",c.K),$e(f,"AID",c.T),$e(f,"CI",c.F?"0":"1"),!c.F&&c.ja&&$e(f,"TO",c.ja),$e(f,"TYPE","xmlhttp"),Hr(c,f),c.m&&c.o&&Jc(f,c.m,c.o),c.L&&(c.g.I=c.L);var g=c.g;c=c.ia,g.L=1,g.v=$s(Cn(f)),g.m=null,g.P=!0,ld(g,c)}n.Za=function(){this.C!=null&&(this.C=null,Gs(this),Vo(this),Et(19))};function Uo(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function tu(c,f){var g=null;if(c.g==f){Uo(c),Ui(c),c.g=null;var v=2}else if(Wc(c.h,f))g=f.D,yd(c.h,f),v=1;else return;if(c.G!=0){if(f.o)if(v==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var x=c.B;v=Vs(),Dt(v,new cd(v,g)),Ws(c)}else eu(c);else if(x=f.s,x==3||x==0&&0<f.X||!(v==1&&Od(c,f)||v==2&&Vo(c)))switch(g&&0<g.length&&(f=c.h,f.i=f.i.concat(g)),x){case 1:ar(c,5);break;case 4:ar(c,10);break;case 3:ar(c,6);break;default:ar(c,2)}}}function nu(c,f){let g=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(g*=2),g*f}function ar(c,f){if(c.j.info("Error code "+f),f==2){var g=_(c.fb,c),v=c.Xa;let x=!v;v=new Jt(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Bs(v,"https"),$s(v),x?Li(v.toString(),g):mg(v.toString(),g)}else Et(2);c.G=0,c.l&&c.l.sa(f),ru(c),kd(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function ru(c){if(c.G=0,c.ka=[],c.l){let f=vd(c.h);(f.length!=0||c.i.length!=0)&&(O(c.ka,f),O(c.ka,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.ra()}}function iu(c,f,g){var v=g instanceof Jt?Cn(g):new Jt(g);if(v.g!="")f&&(v.g=f+"."+v.g),ki(v,v.s);else{var x=a.location;v=x.protocol,f=f?f+"."+x.hostname:x.hostname,x=+x.port;var k=new Jt(null);v&&Bs(k,v),f&&(k.g=f),x&&ki(k,x),g&&(k.l=g),v=k}return g=c.D,f=c.ya,g&&f&&$e(v,g,f),$e(v,"VER",c.la),Hr(c,v),v}function ou(c,f,g){if(f&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Ca&&!c.pa?new Ge(new Xt({eb:g})):new Ge(c.pa),f.Ha(c.J),f}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function su(){}n=su.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function jo(){}jo.prototype.g=function(c,f){return new ft(c,f)};function ft(c,f){ht.call(this),this.g=new Lo(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(c?c["X-WebChannel-Client-Profile"]=f.va:c={"X-WebChannel-Client-Profile":f.va}),this.g.S=c,(c=f&&f.Sb)&&!te(c)&&(this.g.m=c),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!te(f)&&(this.g.D=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new ji(this)}M(ft,ht),ft.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ft.prototype.close=function(){zs(this.g)},ft.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.u&&(g={},g.__data__=jc(c),c=g);f.i.push(new fd(f.Ya++,c)),f.G==3&&Ws(f)},ft.prototype.N=function(){this.g.l=null,delete this.j,zs(this.g),delete this.g,ft.aa.N.call(this)};function Vd(c){Bc.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(let g in f){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}M(Vd,Bc);function Ud(){$c.call(this),this.status=1}M(Ud,$c);function ji(c){this.g=c}M(ji,su),ji.prototype.ua=function(){Dt(this.g,"a")},ji.prototype.ta=function(c){Dt(this.g,new Vd(c))},ji.prototype.sa=function(c){Dt(this.g,new Ud)},ji.prototype.ra=function(){Dt(this.g,"b")},jo.prototype.createWebChannel=jo.prototype.g,ft.prototype.send=ft.prototype.o,ft.prototype.open=ft.prototype.m,ft.prototype.close=ft.prototype.close,aE=gi.createWebChannelTransport=function(){return new jo},sE=gi.getStatEventTarget=function(){return Vs()},oE=gi.Event=Un,Mp=gi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Us.NO_ERROR=0,Us.TIMEOUT=8,Us.HTTP_ERROR=6,fl=gi.ErrorCode=Us,ud.COMPLETE="complete",iE=gi.EventType=ud,id.EventType=Do,Do.OPEN="a",Do.CLOSE="b",Do.ERROR="c",Do.MESSAGE="d",ht.prototype.listen=ht.prototype.K,nc=gi.WebChannel=id,WH=gi.FetchXmlHttpFactory=Xt,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,rE=gi.XhrIo=Ge}).apply(typeof xp<"u"?xp:typeof self<"u"?self:typeof window<"u"?window:{});var TR="@firebase/firestore";var Nt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Nt.UNAUTHENTICATED=new Nt(null),Nt.GOOGLE_CREDENTIALS=new Nt("google-credentials-uid"),Nt.FIRST_PARTY=new Nt("first-party-uid"),Nt.MOCK_USER=new Nt("mock-user");var bc="10.14.0";var Is=new co("@firebase/firestore");function pl(){return Is.logLevel}function ee(n,...e){if(Is.logLevel<=De.DEBUG){let t=e.map(qI);Is.debug(`Firestore (${bc}): ${n}`,...t)}}function yi(n,...e){if(Is.logLevel<=De.ERROR){let t=e.map(qI);Is.error(`Firestore (${bc}): ${n}`,...t)}}function uc(n,...e){if(Is.logLevel<=De.WARN){let t=e.map(qI);Is.warn(`Firestore (${bc}): ${n}`,...t)}}function qI(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ue(n="Unexpected state"){let e=`FIRESTORE (${bc}) INTERNAL ASSERTION FAILED: `+n;throw yi(e),new Error(e)}function Be(n,e){n||ue()}function he(n,e){return n}var V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Y=class extends Yt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Yn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Fp=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},hE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Nt.UNAUTHENTICATED))}shutdown(){}},fE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},pE=class{constructor(e){this.t=e,this.currentUser=Nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Be(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new Yn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Yn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>b(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Yn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Be(typeof r.accessToken=="string"),new Fp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string"),new Nt(e)}},mE=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Nt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},gE=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new mE(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},yE=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},vE=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Be(this.o===void 0);let r=o=>{o.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,ee("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Be(typeof t.token=="string"),this.R=t.token,new yE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function KH(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Lp=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=KH(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}};function Le(n,e){return n<e?-1:n>e?1:0}function lc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var Ft=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Y(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Y(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Y(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var me=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Ft(0,0))}static max(){return new n(new Ft(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Vp=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ue(),r===void 0?r=e.length-t:r>e.length-t&&ue(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},nt=class n extends Vp{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new Y(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},QH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,In=class n extends Vp{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return QH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new Y(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new Y(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Y(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Y(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ie=class n{constructor(e){this.path=e}static fromPath(e){return new n(nt.fromString(e))}static fromName(e){return new n(nt.fromString(e).popFirst(5))}static empty(){return new n(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new nt(e.slice()))}};var wE=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};wE.UNKNOWN_ID=-1;function YH(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=me.fromTimestamp(r===1e9?new Ft(t+1,0):new Ft(t,r));return new bs(i,ie.empty(),e)}function ZH(n){return new bs(n.readTime,n.key,-1)}var bs=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(me.min(),ie.empty(),-1)}static max(){return new n(me.max(),ie.empty(),-1)}};function JH(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ie.comparator(n.documentKey,e.documentKey),t!==0?t:Le(n.largestBatchId,e.largestBatchId))}var XH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",_E=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Nl(n){return b(this,null,function*(){if(n.code!==V.FAILED_PRECONDITION||n.message!==XH)throw n;ee("LocalStore","Unexpectedly lost primary lease")})}var B=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let d=u;t(e[d]).next(p=>{s[d]=p,++a,a===o&&r(s)},p=>i(p))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function e4(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Pl(n){return n.name==="IndexedDbTransactionError"}var ox=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function gm(n){return n==null}function _l(n){return n===0&&1/n==-1/0}function t4(n){return typeof n=="number"&&Number.isInteger(n)&&!_l(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var n4=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],HZ=[...n4,"documentOverlays"],r4=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],i4=r4,o4=[...i4,"indexConfiguration","indexState","indexEntries"];var qZ=[...o4,"globals"];function DR(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function xs(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function sx(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var ot=class n{constructor(e,t){this.comparator=e,this.root=t||Pr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Pr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sc(this.root,e,this.comparator,!1)}getReverseIterator(){return new sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sc(this.root,e,this.comparator,!0)}},sc=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Pr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ue();let e=this.left.check();if(e!==this.right.check())throw ue();return e+(this.isRed()?0:1)}};Pr.EMPTY=null,Pr.RED=!0,Pr.BLACK=!1;Pr.EMPTY=new class{constructor(){this.size=0}get key(){throw ue()}get value(){throw ue()}get color(){throw ue()}get left(){throw ue()}get right(){throw ue()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Pr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ht=class n{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Up(this.data.getIterator())}getIteratorFrom(e){return new Up(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Up=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Pn=class n{constructor(e){this.fields=e,e.sort(In.comparator)}static empty(){return new n([])}unionWith(e){let t=new Ht(In.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return lc(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var jp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var qt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new jp("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};qt.EMPTY_BYTE_STRING=new qt("");var s4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vi(n){if(Be(!!n),typeof n=="string"){let e=0,t=s4.exec(n);if(Be(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Je(n.seconds),nanos:Je(n.nanos)}}function Je(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function vo(n){return typeof n=="string"?qt.fromBase64String(n):qt.fromUint8Array(n)}function zI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function GI(n){let e=n.mapValue.fields.__previous_value__;return zI(e)?GI(e):e}function El(n){let e=vi(n.mapValue.fields.__local_write_time__.timestampValue);return new Ft(e.seconds,e.nanos)}var EE=class{constructor(e,t,r,i,o,s,a,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=d}},Bp=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Np={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Cs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?zI(n)?4:cx(n)?9007199254740991:ax(n)?10:11:ue()}function Fr(n,e){if(n===e)return!0;let t=Cs(n);if(t!==Cs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return El(n).isEqual(El(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=vi(i.timestampValue),a=vi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return vo(i.bytesValue).isEqual(vo(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Je(i.geoPointValue.latitude)===Je(o.geoPointValue.latitude)&&Je(i.geoPointValue.longitude)===Je(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Je(i.integerValue)===Je(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Je(i.doubleValue),a=Je(o.doubleValue);return s===a?_l(s)===_l(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return lc(n.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(DR(s)!==DR(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Fr(s[u],a[u])))return!1;return!0}(n,e);default:return ue()}}function Il(n,e){return(n.values||[]).find(t=>Fr(t,e))!==void 0}function dc(n,e){if(n===e)return 0;let t=Cs(n),r=Cs(e);if(t!==r)return Le(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Je(o.integerValue||o.doubleValue),u=Je(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return AR(n.timestampValue,e.timestampValue);case 4:return AR(El(n),El(e));case 5:return Le(n.stringValue,e.stringValue);case 6:return function(o,s){let a=vo(o),u=vo(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let d=0;d<a.length&&d<u.length;d++){let p=Le(a[d],u[d]);if(p!==0)return p}return Le(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Le(Je(o.latitude),Je(s.latitude));return a!==0?a:Le(Je(o.longitude),Je(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return SR(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,d,p;let m=o.fields||{},_=s.fields||{},I=(a=m.value)===null||a===void 0?void 0:a.arrayValue,M=(u=_.value)===null||u===void 0?void 0:u.arrayValue,L=Le(((d=I?.values)===null||d===void 0?void 0:d.length)||0,((p=M?.values)===null||p===void 0?void 0:p.length)||0);return L!==0?L:SR(I,M)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Np.mapValue&&s===Np.mapValue)return 0;if(o===Np.mapValue)return 1;if(s===Np.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),d=s.fields||{},p=Object.keys(d);u.sort(),p.sort();for(let m=0;m<u.length&&m<p.length;++m){let _=Le(u[m],p[m]);if(_!==0)return _;let I=dc(a[u[m]],d[p[m]]);if(I!==0)return I}return Le(u.length,p.length)}(n.mapValue,e.mapValue);default:throw ue()}}function AR(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Le(n,e);let t=vi(n),r=vi(e),i=Le(t.seconds,r.seconds);return i!==0?i:Le(t.nanos,r.nanos)}function SR(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=dc(t[i],r[i]);if(o)return o}return Le(t.length,r.length)}function hc(n){return IE(n)}function IE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=vi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return vo(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ie.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=IE(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${IE(t.fields[s])}`;return i+"}"}(n.mapValue):ue()}function RR(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function bE(n){return!!n&&"integerValue"in n}function WI(n){return!!n&&"arrayValue"in n}function xR(n){return!!n&&"nullValue"in n}function MR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function kp(n){return!!n&&"mapValue"in n}function ax(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function gl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return xs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=gl(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=gl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function cx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var En=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!kp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=gl(t)}setAll(e){let t=In.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=gl(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());kp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];kp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){xs(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(gl(this.value))}};function ux(n){let e=[];return xs(n.fields,(t,r)=>{let i=new In([t]);if(kp(r)){let o=ux(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Pn(e)}var Zn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,me.min(),me.min(),me.min(),En.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,me.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,me.min(),me.min(),En.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,me.min(),me.min(),En.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var fc=class{constructor(e,t){this.position=e,this.inclusive=t}};function NR(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=ie.comparator(ie.fromName(s.referenceValue),t.key):r=dc(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function PR(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Fr(n.position[t],e.position[t]))return!1;return!0}var pc=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function a4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var $p=class{},_t=class n extends $p{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new TE(e,t,r):t==="array-contains"?new SE(e,r):t==="in"?new RE(e,r):t==="not-in"?new xE(e,r):t==="array-contains-any"?new ME(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new DE(e,r):new AE(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(dc(t,this.value)):t!==null&&Cs(this.value)===Cs(t)&&this.matchesComparison(dc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Jn=class n extends $p{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return lx(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function lx(n){return n.op==="and"}function dx(n){return c4(n)&&lx(n)}function c4(n){for(let e of n.filters)if(e instanceof Jn)return!1;return!0}function CE(n){if(n instanceof _t)return n.field.canonicalString()+n.op.toString()+hc(n.value);if(dx(n))return n.filters.map(e=>CE(e)).join(",");{let e=n.filters.map(t=>CE(t)).join(",");return`${n.op}(${e})`}}function hx(n,e){return n instanceof _t?function(r,i){return i instanceof _t&&r.op===i.op&&r.field.isEqual(i.field)&&Fr(r.value,i.value)}(n,e):n instanceof Jn?function(r,i){return i instanceof Jn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&hx(s,i.filters[a]),!0):!1}(n,e):void ue()}function fx(n){return n instanceof _t?function(t){return`${t.field.canonicalString()} ${t.op} ${hc(t.value)}`}(n):n instanceof Jn?function(t){return t.op.toString()+" {"+t.getFilters().map(fx).join(" ,")+"}"}(n):"Filter"}var TE=class extends _t{constructor(e,t,r){super(e,t,r),this.key=ie.fromName(r.referenceValue)}matches(e){let t=ie.comparator(e.key,this.key);return this.matchesComparison(t)}},DE=class extends _t{constructor(e,t){super(e,"in",t),this.keys=px("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},AE=class extends _t{constructor(e,t){super(e,"not-in",t),this.keys=px("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function px(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ie.fromName(r.referenceValue))}var SE=class extends _t{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return WI(t)&&Il(t.arrayValue,this.value)}},RE=class extends _t{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Il(this.value.arrayValue,t)}},xE=class extends _t{constructor(e,t){super(e,"not-in",t)}matches(e){if(Il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Il(this.value.arrayValue,t)}},ME=class extends _t{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!WI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Il(this.value.arrayValue,r))}};var NE=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function kR(n,e=null,t=[],r=[],i=null,o=null,s=null){return new NE(n,e,t,r,i,o,s)}function KI(n){let e=he(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>CE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),gm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>hc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>hc(r)).join(",")),e.ue=t}return e.ue}function QI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!a4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!hx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!PR(n.startAt,e.startAt)&&PR(n.endAt,e.endAt)}function PE(n){return ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Ts=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function u4(n,e,t,r,i,o,s,a){return new Ts(n,e,t,r,i,o,s,a)}function YI(n){return new Ts(n)}function OR(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function mx(n){return n.collectionGroup!==null}function yl(n){let e=he(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ht(In.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new pc(o,r))}),t.has(In.keyField().canonicalString())||e.ce.push(new pc(In.keyField(),r))}return e.ce}function kr(n){let e=he(n);return e.le||(e.le=l4(e,yl(n))),e.le}function l4(n,e){if(n.limitType==="F")return kR(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new pc(i.field,o)});let t=n.endAt?new fc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new fc(n.startAt.position,n.startAt.inclusive):null;return kR(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function kE(n,e){let t=n.filters.concat([e]);return new Ts(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function OE(n,e,t){return new Ts(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ym(n,e){return QI(kr(n),kr(e))&&n.limitType===e.limitType}function gx(n){return`${KI(kr(n))}|lt:${n.limitType}`}function rc(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>fx(i)).join(", ")}]`),gm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>hc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>hc(i)).join(",")),`Target(${r})`}(kr(n))}; limitType=${n.limitType})`}function vm(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ie.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of yl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let d=NR(s,a,u);return s.inclusive?d<=0:d<0}(r.startAt,yl(r),i)||r.endAt&&!function(s,a,u){let d=NR(s,a,u);return s.inclusive?d>=0:d>0}(r.endAt,yl(r),i))}(n,e)}function d4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function yx(n){return(e,t)=>{let r=!1;for(let i of yl(n)){let o=h4(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function h4(n,e,t){let r=n.field.isKeyField()?ie.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),d=a.data.field(o);return u!==null&&d!==null?dc(u,d):ue()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ue()}}var wo=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xs(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return sx(this.inner)}size(){return this.innerSize}};var f4=new ot(ie.comparator);function wi(){return f4}var vx=new ot(ie.comparator);function ml(...n){let e=vx;for(let t of n)e=e.insert(t.key,t);return e}function wx(n){let e=vx;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ws(){return vl()}function _x(){return vl()}function vl(){return new wo(n=>n.toString(),(n,e)=>n.isEqual(e))}var p4=new ot(ie.comparator),m4=new Ht(ie.comparator);function Ae(...n){let e=m4;for(let t of n)e=e.add(t);return e}var g4=new Ht(Le);function y4(){return g4}function ZI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_l(e)?"-0":e}}function Ex(n){return{integerValue:""+n}}function v4(n,e){return t4(e)?Ex(e):ZI(n,e)}var mc=class{constructor(){this._=void 0}};function w4(n,e,t){return n instanceof gc?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&zI(o)&&(o=GI(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Ds?bx(n,e):n instanceof As?Cx(n,e):function(i,o){let s=Ix(i,o),a=FR(s)+FR(i.Pe);return bE(s)&&bE(i.Pe)?Ex(a):ZI(i.serializer,a)}(n,e)}function _4(n,e,t){return n instanceof Ds?bx(n,e):n instanceof As?Cx(n,e):t}function Ix(n,e){return n instanceof yc?function(r){return bE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var gc=class extends mc{},Ds=class extends mc{constructor(e){super(),this.elements=e}};function bx(n,e){let t=Tx(e);for(let r of n.elements)t.some(i=>Fr(i,r))||t.push(r);return{arrayValue:{values:t}}}var As=class extends mc{constructor(e){super(),this.elements=e}};function Cx(n,e){let t=Tx(e);for(let r of n.elements)t=t.filter(i=>!Fr(i,r));return{arrayValue:{values:t}}}var yc=class extends mc{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function FR(n){return Je(n.integerValue||n.doubleValue)}function Tx(n){return WI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function E4(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Ds&&i instanceof Ds||r instanceof As&&i instanceof As?lc(r.elements,i.elements,Fr):r instanceof yc&&i instanceof yc?Fr(r.Pe,i.Pe):r instanceof gc&&i instanceof gc}(n.transform,e.transform)}var FE=class{constructor(e,t){this.version=e,this.transformResults=t}},go=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Op(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var vc=class{};function Dx(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Hp(n.key,go.none()):new Ss(n.key,n.data,go.none());{let t=n.data,r=En.empty(),i=new Ht(In.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Lr(n.key,r,new Pn(i.toArray()),go.none())}}function I4(n,e,t){n instanceof Ss?function(i,o,s){let a=i.value.clone(),u=VR(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Lr?function(i,o,s){if(!Op(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=VR(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(Ax(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function wl(n,e,t,r){return n instanceof Ss?function(o,s,a,u){if(!Op(o.precondition,s))return a;let d=o.value.clone(),p=UR(o.fieldTransforms,u,s);return d.setAll(p),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(n,e,t,r):n instanceof Lr?function(o,s,a,u){if(!Op(o.precondition,s))return a;let d=UR(o.fieldTransforms,u,s),p=s.data;return p.setAll(Ax(o)),p.setAll(d),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(n,e,t,r):function(o,s,a){return Op(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function b4(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=Ix(r.transform,i||null);o!=null&&(t===null&&(t=En.empty()),t.set(r.field,o))}return t||null}function LR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&lc(r,i,(o,s)=>E4(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Ss=class extends vc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Lr=class extends vc{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function Ax(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function VR(n,e,t){let r=new Map;Be(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,_4(s,a,t[i]))}return r}function UR(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,w4(o,s,e))}return r}var Hp=class extends vc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},LE=class extends vc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var VE=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&I4(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=wl(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=wl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=_x();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=Dx(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(me.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ae())}isEqual(e){return this.batchId===e.batchId&&lc(this.mutations,e.mutations,(t,r)=>LR(t,r))&&lc(this.baseMutations,e.baseMutations,(t,r)=>LR(t,r))}},UE=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Be(e.mutations.length===r.length);let i=function(){return p4}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var jE=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var BE=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var vt,Ne;function C4(n){switch(n){default:return ue();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}function Sx(n){if(n===void 0)return yi("GRPC error has no .code"),V.UNKNOWN;switch(n){case vt.OK:return V.OK;case vt.CANCELLED:return V.CANCELLED;case vt.UNKNOWN:return V.UNKNOWN;case vt.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case vt.INTERNAL:return V.INTERNAL;case vt.UNAVAILABLE:return V.UNAVAILABLE;case vt.UNAUTHENTICATED:return V.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case vt.NOT_FOUND:return V.NOT_FOUND;case vt.ALREADY_EXISTS:return V.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return V.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case vt.ABORTED:return V.ABORTED;case vt.OUT_OF_RANGE:return V.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return V.UNIMPLEMENTED;case vt.DATA_LOSS:return V.DATA_LOSS;default:return ue()}}(Ne=vt||(vt={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";var jR=null;function T4(){return new TextEncoder}var D4=new mo([4294967295,4294967295],0);function BR(n){let e=T4().encode(n),t=new nE;return t.update(e),new Uint8Array(t.digest())}function $R(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new mo([t,r],0),new mo([i,o],0)]}var $E=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new _s(`Invalid padding: ${t}`);if(r<0)throw new _s(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _s(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new _s(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=mo.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(mo.fromNumber(r)));return i.compare(D4)===1&&(i=new mo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=BR(e),[r,i]=$R(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=BR(e),[r,i]=$R(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},_s=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var qp=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,bl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(me.min(),i,new ot(Le),wi(),Ae())}},bl=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Ae(),Ae(),Ae())}};var ac=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},zp=class{constructor(e,t){this.targetId=e,this.me=t}},Gp=class{constructor(e,t,r=qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Wp=class{constructor(){this.fe=0,this.ge=qR(),this.pe=qt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ae(),t=Ae(),r=Ae();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ue()}}),new bl(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=qR()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},HE=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=wi(),this.qe=HR(),this.Qe=new ot(Le)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:ue()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let o=i.target;if(PE(o))if(r===0){let s=new ie(o.path);this.Ue(t,s,Zn.newNoDocument(s,me.min()))}else Be(r===1);else{let s=this.Ye(t);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(t);let d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,d)}jR?.et(function(p,m,_,I,M){var L,O,H,te,X,re;let Fe={localCacheCount:p,existenceFilterCount:m.count,databaseId:_.database,projectId:_.projectId},oe=m.unchangedNames;return oe&&(Fe.bloomFilter={applied:M===0,hashCount:(L=oe?.hashCount)!==null&&L!==void 0?L:0,bitmapLength:(te=(H=(O=oe?.bits)===null||O===void 0?void 0:O.bitmap)===null||H===void 0?void 0:H.length)!==null&&te!==void 0?te:0,padding:(re=(X=oe?.bits)===null||X===void 0?void 0:X.padding)!==null&&re!==void 0?re:0,mightContain:D=>{var E;return(E=I?.mightContain(D))!==null&&E!==void 0&&E}}),Fe}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=vo(r).toUint8Array()}catch(u){if(u instanceof jp)return uc("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new $E(s,i,o)}catch(u){return uc(u instanceof _s?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&PE(a.target)){let u=new ie(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Zn.newNoDocument(u,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=Ae();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let d=this.Je(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new qp(e,t,this.Qe,this.ke,r);return this.ke=wi(),this.qe=HR(),this.Qe=new ot(Le),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Wp,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Ht(Le),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||ee("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Wp),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function HR(){return new ot(ie.comparator)}function qR(){return new ot(ie.comparator)}var A4={asc:"ASCENDING",desc:"DESCENDING"},S4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},R4={and:"AND",or:"OR"},qE=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function zE(n,e){return n.useProto3Json||gm(e)?e:{value:e}}function Kp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function x4(n,e){return Kp(n,e.toTimestamp())}function Or(n){return Be(!!n),me.fromTimestamp(function(t){let r=vi(t);return new Ft(r.seconds,r.nanos)}(n))}function JI(n,e){return GE(n,e).canonicalString()}function GE(n,e){let t=function(i){return new nt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function xx(n){let e=nt.fromString(n);return Be(Ox(e)),e}function WE(n,e){return JI(n.databaseId,e.path)}function cE(n,e){let t=xx(e);if(t.get(1)!==n.databaseId.projectId)throw new Y(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Y(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ie(Nx(t))}function Mx(n,e){return JI(n.databaseId,e)}function M4(n){let e=xx(n);return e.length===4?nt.emptyPath():Nx(e)}function KE(n){return new nt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Nx(n){return Be(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function zR(n,e,t){return{name:WE(n,e),fields:t.value.mapValue.fields}}function N4(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(d,p){return d.useProto3Json?(Be(p===void 0||typeof p=="string"),qt.fromBase64String(p||"")):(Be(p===void 0||p instanceof Buffer||p instanceof Uint8Array),qt.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(d){let p=d.code===void 0?V.UNKNOWN:Sx(d.code);return new Y(p,d.message||"")}(s);t=new Gp(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=cE(n,r.document.name),o=Or(r.document.updateTime),s=r.document.createTime?Or(r.document.createTime):me.min(),a=new En({mapValue:{fields:r.document.fields}}),u=Zn.newFoundDocument(i,o,s,a),d=r.targetIds||[],p=r.removedTargetIds||[];t=new ac(d,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=cE(n,r.document),o=r.readTime?Or(r.readTime):me.min(),s=Zn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new ac([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=cE(n,r.document),o=r.removedTargetIds||[];t=new ac([],o,i,null)}else{if(!("filter"in e))return ue();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new BE(i,o),a=r.targetId;t=new zp(a,s)}}return t}function P4(n,e){let t;if(e instanceof Ss)t={update:zR(n,e.key,e.value)};else if(e instanceof Hp)t={delete:WE(n,e.key)};else if(e instanceof Lr)t={update:zR(n,e.key,e.data),updateMask:$4(e.fieldMask)};else{if(!(e instanceof LE))return ue();t={verify:WE(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof gc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ds)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof As)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof yc)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ue()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:x4(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ue()}(n,e.precondition)),t}function k4(n,e){return n&&n.length>0?(Be(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?Or(i.updateTime):Or(o);return s.isEqual(me.min())&&(s=Or(o)),new FE(s,i.transformResults||[])}(t,e))):[]}function O4(n,e){return{documents:[Mx(n,e.path)]}}function F4(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Mx(n,i);let o=function(d){if(d.length!==0)return kx(Jn.create(d,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(d){if(d.length!==0)return d.map(p=>function(_){return{field:ic(_.field),direction:U4(_.dir)}}(p))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=zE(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:t,parent:i}}function L4(n){let e=M4(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Be(r===1);let p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let o=[];t.where&&(o=function(m){let _=Px(m);return _ instanceof Jn&&dx(_)?_.getFilters():[_]}(t.where));let s=[];t.orderBy&&(s=function(m){return m.map(_=>function(M){return new pc(oc(M.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(_))}(t.orderBy));let a=null;t.limit&&(a=function(m){let _;return _=typeof m=="object"?m.value:m,gm(_)?null:_}(t.limit));let u=null;t.startAt&&(u=function(m){let _=!!m.before,I=m.values||[];return new fc(I,_)}(t.startAt));let d=null;return t.endAt&&(d=function(m){let _=!m.before,I=m.values||[];return new fc(I,_)}(t.endAt)),u4(e,i,s,o,a,"F",u,d)}function V4(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Px(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=oc(t.unaryFilter.field);return _t.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=oc(t.unaryFilter.field);return _t.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=oc(t.unaryFilter.field);return _t.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=oc(t.unaryFilter.field);return _t.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ue()}}(n):n.fieldFilter!==void 0?function(t){return _t.create(oc(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ue()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Jn.create(t.compositeFilter.filters.map(r=>Px(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ue()}}(t.compositeFilter.op))}(n):ue()}function U4(n){return A4[n]}function j4(n){return S4[n]}function B4(n){return R4[n]}function ic(n){return{fieldPath:n.canonicalString()}}function oc(n){return In.fromServerFormat(n.fieldPath)}function kx(n){return n instanceof _t?function(t){if(t.op==="=="){if(MR(t.value))return{unaryFilter:{field:ic(t.field),op:"IS_NAN"}};if(xR(t.value))return{unaryFilter:{field:ic(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(MR(t.value))return{unaryFilter:{field:ic(t.field),op:"IS_NOT_NAN"}};if(xR(t.value))return{unaryFilter:{field:ic(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ic(t.field),op:j4(t.op),value:t.value}}}(n):n instanceof Jn?function(t){let r=t.getFilters().map(i=>kx(i));return r.length===1?r[0]:{compositeFilter:{op:B4(t.op),filters:r}}}(n):ue()}function $4(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Ox(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Cl=class n{constructor(e,t,r,i,o=me.min(),s=me.min(),a=qt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var QE=class{constructor(e){this.ct=e}};function H4(n){let e=L4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?OE(e,e.limit,"L"):e}var Qp=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Je(e.integerValue));else if("doubleValue"in e){let r=Je(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),_l(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=vi(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(vo(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?cx(e)?this.dt(t,Number.MAX_SAFE_INTEGER):ax(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):ue()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let o=e.fields||{};this.dt(t,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(Je(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),ie.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};Qp.vt=new Qp;var YE=class{constructor(){this.un=new ZE}addToCollectionParentIndex(e,t){return this.un.add(t),B.resolve()}getCollectionParents(e,t){return B.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return B.resolve()}deleteFieldIndex(e,t){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,t){return B.resolve()}getDocumentsMatchingTarget(e,t){return B.resolve(null)}getIndexType(e,t){return B.resolve(0)}getFieldIndexes(e,t){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,t){return B.resolve(bs.min())}getMinOffsetFromCollectionGroup(e,t){return B.resolve(bs.min())}updateCollectionGroup(e,t,r){return B.resolve()}updateIndexEntries(e,t){return B.resolve()}},ZE=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ht(nt.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ht(nt.comparator)).toArray()}};var GZ=new Uint8Array(0);var Nr=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Nr.DEFAULT_COLLECTION_PERCENTILE=10,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nr.DEFAULT=new Nr(41943040,Nr.DEFAULT_COLLECTION_PERCENTILE,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nr.DISABLED=new Nr(-1,0,0);var Tl=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var JE=class{constructor(){this.changes=new wo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?B.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var XE=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var eI=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&wl(r.mutation,i,Pn.empty(),Ft.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ae()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ae()){let i=ws();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=ml();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=ws();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ae()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=wi(),s=vl(),a=function(){return vl()}();return t.forEach((u,d)=>{let p=r.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof Lr)?o=o.insert(d.key,d):p!==void 0?(s.set(d.key,p.mutation.getFieldMask()),wl(p.mutation,d,p.mutation.getFieldMask(),Ft.now())):s.set(d.key,Pn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((d,p)=>s.set(d,p)),t.forEach((d,p)=>{var m;return a.set(d,new XE(p,(m=s.get(d))!==null&&m!==void 0?m:null))}),a))}recalculateAndSaveOverlays(e,t){let r=vl(),i=new ot((s,a)=>s-a),o=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let d=t.get(u);if(d===null)return;let p=r.get(u)||Pn.empty();p=a.applyToLocalView(d,p),r.set(u,p);let m=(i.get(a.batchId)||Ae()).add(u);i=i.insert(a.batchId,m)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),d=u.key,p=u.value,m=_x();p.forEach(_=>{if(!o.has(_)){let I=Dx(t.get(_),r.get(_));I!==null&&m.set(_,I),o=o.add(_)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,m))}return B.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return ie.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):mx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):B.resolve(ws()),a=-1,u=o;return s.next(d=>B.forEach(d,(p,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),o.get(p)?B.resolve():this.remoteDocumentCache.getEntry(e,p).next(_=>{u=u.insert(p,_)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,u,d,Ae())).next(p=>({batchId:a,changes:wx(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ie(t)).next(r=>{let i=ml();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=ml();return this.indexManager.getCollectionParents(e,o).next(a=>B.forEach(a,u=>{let d=function(m,_){return new Ts(_,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(p=>{p.forEach((m,_)=>{s=s.insert(m,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,d)=>{let p=d.getKey();s.get(p)===null&&(s=s.insert(p,Zn.newInvalidDocument(p)))});let a=ml();return s.forEach((u,d)=>{let p=o.get(u);p!==void 0&&wl(p.mutation,d,Pn.empty(),Ft.now()),vm(t,d)&&(a=a.insert(u,d))}),a})}};var tI=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return B.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Or(i.createTime)}}(t)),B.resolve()}getNamedQuery(e,t){return B.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:H4(i.bundledQuery),readTime:Or(i.readTime)}}(t)),B.resolve()}};var nI=class{constructor(){this.overlays=new ot(ie.comparator),this.Ir=new Map}getOverlay(e,t){return B.resolve(this.overlays.get(t))}getOverlays(e,t){let r=ws();return B.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),B.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),B.resolve()}getOverlaysForCollection(e,t,r){let i=ws(),o=t.length+1,s=new ie(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,d=u.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return B.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new ot((d,p)=>d-p),s=this.overlays.getIterator();for(;s.hasNext();){let d=s.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let p=o.get(d.largestBatchId);p===null&&(p=ws(),o=o.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}let a=ws(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,p)=>a.set(d,p)),!(a.size()>=i)););return B.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new jE(t,r));let o=this.Ir.get(t);o===void 0&&(o=Ae(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}};var rI=class{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,B.resolve()}};var Dl=class{constructor(){this.Tr=new Ht(wt.Er),this.dr=new Ht(wt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new wt(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new wt(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new ie(new nt([])),r=new wt(t,e),i=new wt(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new ie(new nt([])),r=new wt(t,e),i=new wt(t,e+1),o=Ae();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new wt(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},wt=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ie.comparator(e.key,t.key)||Le(e.wr,t.wr)}static Ar(e,t){return Le(e.wr,t.wr)||ie.comparator(e.key,t.key)}};var iI=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Ht(wt.Er)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new VE(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new wt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(s)}lookupMutationBatch(e,t){return B.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),o=i<0?0:i;return B.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new wt(t,0),i=new wt(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),B.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ht(Le);return t.forEach(i=>{let o=new wt(i,0),s=new wt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),B.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;ie.isDocumentKey(o)||(o=o.child(""));let s=new wt(new ie(o),0),a=new Ht(Le);return this.br.forEachWhile(u=>{let d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(u.wr)),!0)},s),B.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Be(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return B.forEach(t.mutations,i=>{let o=new wt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new wt(t,0),i=this.br.firstAfterOrEqual(r);return B.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var oI=class{constructor(e){this.Mr=e,this.docs=function(){return new ot(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return B.resolve(r?r.document.mutableCopy():Zn.newInvalidDocument(t))}getEntries(e,t){let r=wi();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Zn.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=wi(),s=t.path,a=new ie(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:d,value:{document:p}}=u.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||JH(ZH(p),r)<=0||(i.has(p.key)||vm(t,p))&&(o=o.insert(p.key,p.mutableCopy()))}return B.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ue()}Or(e,t){return B.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new sI(this)}getSize(e){return B.resolve(this.size)}},sI=class extends JE{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),B.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var aI=class{constructor(e){this.persistence=e,this.Nr=new wo(t=>KI(t),QI),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Dl,this.targetCount=0,this.kr=Tl.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),B.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Tl(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,B.resolve()}updateTargetData(e,t){return this.Kn(t),B.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),B.waitFor(o).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return B.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),B.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),B.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),B.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return B.resolve(r)}containsKey(e,t){return B.resolve(this.Br.containsKey(t))}};var cI=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new ox(0),this.Kr=!1,this.Kr=!0,this.$r=new rI,this.referenceDelegate=e(this),this.Ur=new aI(this),this.indexManager=new YE,this.remoteDocumentCache=function(i){return new oI(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new QE(t),this.Gr=new tI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new nI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new iI(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){ee("MemoryPersistence","Starting transaction:",e);let i=new uI(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return B.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},uI=class extends _E{constructor(e){super(),this.currentSequenceNumber=e}},lI=class n{constructor(e){this.persistence=e,this.Jr=new Dl,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw ue()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),B.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),B.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Xr,r=>{let i=ie.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,me.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return B.or([()=>B.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var dI=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=Ae(),i=Ae();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var hI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var fI=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return sS()?8:e4(Mt())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new hI;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(pl()<=De.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",rc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),B.resolve()):(pl()<=De.DEBUG&&ee("QueryEngine","Query:",rc(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(pl()<=De.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",rc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kr(t))):B.resolve())}Yi(e,t){if(OR(t))return B.resolve(null);let r=kr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=OE(t,null,"F"),r=kr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Ae(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let d=this.ts(t,a);return this.ns(t,d,s,u.readTime)?this.Yi(e,OE(t,null,"F")):this.rs(e,d,t,u)}))})))}Zi(e,t,r,i){return OR(t)||i.isEqual(me.min())?B.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(t,o);return this.ns(t,s,r,i)?B.resolve(null):(pl()<=De.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),rc(t)),this.rs(e,s,t,YH(i,-1)).next(a=>a))})}ts(e,t){let r=new Ht(yx(e));return t.forEach((i,o)=>{vm(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return pl()<=De.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",rc(t)),this.Ji.getDocumentsMatchingQuery(e,t,bs.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var pI=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new ot(Le),this._s=new wo(o=>KI(o),QI),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function q4(n,e,t,r){return new pI(n,e,t,r)}function Fx(n,e){return b(this,null,function*(){let t=he(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=Ae();for(let d of i){s.push(d.batchId);for(let p of d.mutations)u=u.add(p.key)}for(let d of o){a.push(d.batchId);for(let p of d.mutations)u=u.add(p.key)}return t.localDocuments.getDocuments(r,u).next(d=>({hs:d,removedBatchIds:s,addedBatchIds:a}))})})})}function z4(n,e){let t=he(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,d,p){let m=d.batch,_=m.keys(),I=B.resolve();return _.forEach(M=>{I=I.next(()=>p.getEntry(u,M)).next(L=>{let O=d.docVersions.get(M);Be(O!==null),L.version.compareTo(O)<0&&(m.applyToRemoteDocument(L,d),L.isValidDocument()&&(L.setReadTime(d.commitVersion),p.addEntry(L)))})}),I.next(()=>a.mutationQueue.removeMutationBatch(u,m))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Ae();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(u=u.add(a.batch.mutations[d].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Lx(n){let e=he(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function G4(n,e){let t=he(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((p,m)=>{let _=i.get(m);if(!_)return;a.push(t.Ur.removeMatchingKeys(o,p.removedDocuments,m).next(()=>t.Ur.addMatchingKeys(o,p.addedDocuments,m)));let I=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?I=I.withResumeToken(qt.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):p.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(p.resumeToken,r)),i=i.insert(m,I),function(L,O,H){return L.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=3e8?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(_,I,p)&&a.push(t.Ur.updateTargetData(o,I))});let u=wi(),d=Ae();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,p))}),a.push(W4(o,s,e.documentUpdates).next(p=>{u=p.Ps,d=p.Is})),!r.isEqual(me.min())){let p=t.Ur.getLastRemoteSnapshotVersion(o).next(m=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(p)}return B.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,d)).next(()=>u)}).then(o=>(t.os=i,o))}function W4(n,e,t){let r=Ae(),i=Ae();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=wi();return t.forEach((a,u)=>{let d=o.get(a);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(me.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):ee("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function K4(n,e){let t=he(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Q4(n,e){let t=he(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,B.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new Cl(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function mI(n,e,t){return b(this,null,function*(){let r=he(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Pl(s))throw s;ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function GR(n,e,t){let r=he(n),i=me.min(),o=Ae();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,d,p){let m=he(u),_=m._s.get(p);return _!==void 0?B.resolve(m.os.get(_)):m.Ur.getTargetData(d,p)}(r,s,kr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:me.min(),t?o:Ae())).next(a=>(Y4(r,d4(e),a),{documents:a,Ts:o})))}function Y4(n,e,t){let r=n.us.get(e)||me.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}var Yp=class{constructor(){this.activeTargetIds=y4()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var gI=class{constructor(){this.so=new Yp,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Yp,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var yI=class{_o(e){}shutdown(){}};var Zp=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Pp=null;function uE(){return Pp===null?Pp=function(){return 268435456+Math.round(2147483648*Math.random())}():Pp++,"0x"+Pp.toString(16)}var Z4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var vI=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var $t="WebChannelConnection",wI=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){let a=uE(),u=this.xo(t,r.toUriEncodedString());ee("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);let d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,o,s),this.No(t,u,d,i).then(p=>(ee("RestConnection",`Received RPC '${t}' ${a}: `,p),p),p=>{throw uc("RestConnection",`RPC '${t}' ${a} failed with error: `,p,"url: ",u,"request:",i),p})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bc}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){let i=Z4[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let o=uE();return new Promise((s,a)=>{let u=new rE;u.setWithCredentials(!0),u.listenOnce(iE.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case fl.NO_ERROR:let p=u.getResponseJson();ee($t,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),s(p);break;case fl.TIMEOUT:ee($t,`RPC '${e}' ${o} timed out`),a(new Y(V.DEADLINE_EXCEEDED,"Request time out"));break;case fl.HTTP_ERROR:let m=u.getStatus();if(ee($t,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);let I=_?.error;if(I&&I.status&&I.message){let M=function(O){let H=O.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(H)>=0?H:V.UNKNOWN}(I.status);a(new Y(M,I.message))}else a(new Y(V.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Y(V.UNAVAILABLE,"Connection failed."));break;default:ue()}}finally{ee($t,`RPC '${e}' ${o} completed.`)}});let d=JSON.stringify(i);ee($t,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",d,r,15)})}Bo(e,t,r){let i=uE(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=aE(),a=sE(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let p=o.join("");ee($t,`Creating RPC '${e}' stream ${i}: ${p}`,u);let m=s.createWebChannel(p,u),_=!1,I=!1,M=new vI({Io:O=>{I?ee($t,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(_||(ee($t,`Opening RPC '${e}' stream ${i} transport.`),m.open(),_=!0),ee($t,`RPC '${e}' stream ${i} sending:`,O),m.send(O))},To:()=>m.close()}),L=(O,H,te)=>{O.listen(H,X=>{try{te(X)}catch(re){setTimeout(()=>{throw re},0)}})};return L(m,nc.EventType.OPEN,()=>{I||(ee($t,`RPC '${e}' stream ${i} transport opened.`),M.yo())}),L(m,nc.EventType.CLOSE,()=>{I||(I=!0,ee($t,`RPC '${e}' stream ${i} transport closed`),M.So())}),L(m,nc.EventType.ERROR,O=>{I||(I=!0,uc($t,`RPC '${e}' stream ${i} transport errored:`,O),M.So(new Y(V.UNAVAILABLE,"The operation could not be completed")))}),L(m,nc.EventType.MESSAGE,O=>{var H;if(!I){let te=O.data[0];Be(!!te);let X=te,re=X.error||((H=X[0])===null||H===void 0?void 0:H.error);if(re){ee($t,`RPC '${e}' stream ${i} received error:`,re);let Fe=re.status,oe=function(C){let A=vt[C];if(A!==void 0)return Sx(A)}(Fe),D=re.message;oe===void 0&&(oe=V.INTERNAL,D="Unknown error status: "+Fe+" with message "+re.message),I=!0,M.So(new Y(oe,D)),m.close()}else ee($t,`RPC '${e}' stream ${i} received:`,te),M.bo(te)}}),L(a,oE.STAT_EVENT,O=>{O.stat===Mp.PROXY?ee($t,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===Mp.NOPROXY&&ee($t,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{M.wo()},0),M}};function lE(){return typeof document<"u"?document:null}function wm(n){return new qE(n,!0)}var Jp=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Xp=class{constructor(e,t,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Jp(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return b(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return b(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return b(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===V.RESOURCE_EXHAUSTED?(yi(t.toString()),yi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new Y(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>b(this,null,function*(){this.state=0,this.start()}))}I_(e){return ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},_I=class extends Xp{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=N4(this.serializer,e),r=function(o){if(!("targetChange"in o))return me.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?me.min():s.readTime?Or(s.readTime):me.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=KE(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=PE(u)?{documents:O4(o,u)}:{query:F4(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Rx(o,s.resumeToken);let d=zE(o,s.expectedCount);d!==null&&(a.expectedCount=d)}else if(s.snapshotVersion.compareTo(me.min())>0){a.readTime=Kp(o,s.snapshotVersion.toTimestamp());let d=zE(o,s.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);let r=V4(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=KE(this.serializer),t.removeTarget=e,this.a_(t)}},EI=class extends Xp{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Be(!!e.streamToken),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=k4(e.writeResults,e.commitTime),r=Or(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=KE(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>P4(this.serializer,r))};this.a_(t)}};var II=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Y(V.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,GE(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(V.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,GE(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(V.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},bI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(yi(t),this.D_=!1):ee("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var CI=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>b(this,null,function*(){Ms(this)&&(ee("RemoteStore","Restarting streams for network reachability change."),yield function(u){return b(this,null,function*(){let d=he(u);d.L_.add(4),yield kl(d),d.q_.set("Unknown"),d.L_.delete(4),yield _m(d)})}(this))}))}),this.q_=new bI(r,i)}};function _m(n){return b(this,null,function*(){if(Ms(n))for(let e of n.B_)yield e(!0)})}function kl(n){return b(this,null,function*(){for(let e of n.B_)yield e(!1)})}function Vx(n,e){let t=he(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),nb(t)?tb(t):Cc(t).r_()&&eb(t,e))}function XI(n,e){let t=he(n),r=Cc(t);t.N_.delete(e),r.r_()&&Ux(t,e),t.N_.size===0&&(r.r_()?r.o_():Ms(t)&&t.q_.set("Unknown"))}function eb(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Cc(n).A_(e)}function Ux(n,e){n.Q_.xe(e),Cc(n).R_(e)}function tb(n){n.Q_=new HE({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Cc(n).start(),n.q_.v_()}function nb(n){return Ms(n)&&!Cc(n).n_()&&n.N_.size>0}function Ms(n){return he(n).L_.size===0}function jx(n){n.Q_=void 0}function J4(n){return b(this,null,function*(){n.q_.set("Online")})}function X4(n){return b(this,null,function*(){n.N_.forEach((e,t)=>{eb(n,e)})})}function eq(n,e){return b(this,null,function*(){jx(n),nb(n)?(n.q_.M_(e),tb(n)):n.q_.set("Unknown")})}function tq(n,e,t){return b(this,null,function*(){if(n.q_.set("Online"),e instanceof Gp&&e.state===2&&e.cause)try{yield function(i,o){return b(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield em(n,r)}else if(e instanceof ac?n.Q_.Ke(e):e instanceof zp?n.Q_.He(e):n.Q_.We(e),!t.isEqual(me.min()))try{let r=yield Lx(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){let p=o.N_.get(d);p&&o.N_.set(d,p.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,d)=>{let p=o.N_.get(u);if(!p)return;o.N_.set(u,p.withResumeToken(qt.EMPTY_BYTE_STRING,p.snapshotVersion)),Ux(o,u);let m=new Cl(p.target,u,d,p.sequenceNumber);eb(o,m)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){ee("RemoteStore","Failed to raise snapshot:",r),yield em(n,r)}})}function em(n,e,t){return b(this,null,function*(){if(!Pl(e))throw e;n.L_.add(1),yield kl(n),n.q_.set("Offline"),t||(t=()=>Lx(n.localStore)),n.asyncQueue.enqueueRetryable(()=>b(this,null,function*(){ee("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield _m(n)}))})}function Bx(n,e){return e().catch(t=>em(n,t,e))}function Em(n){return b(this,null,function*(){let e=he(n),t=_o(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;nq(e);)try{let i=yield K4(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,rq(e,i)}catch(i){yield em(e,i)}$x(e)&&Hx(e)})}function nq(n){return Ms(n)&&n.O_.length<10}function rq(n,e){n.O_.push(e);let t=_o(n);t.r_()&&t.V_&&t.m_(e.mutations)}function $x(n){return Ms(n)&&!_o(n).n_()&&n.O_.length>0}function Hx(n){_o(n).start()}function iq(n){return b(this,null,function*(){_o(n).p_()})}function oq(n){return b(this,null,function*(){let e=_o(n);for(let t of n.O_)e.m_(t.mutations)})}function sq(n,e,t){return b(this,null,function*(){let r=n.O_.shift(),i=UE.from(r,e,t);yield Bx(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Em(n)})}function aq(n,e){return b(this,null,function*(){e&&_o(n).V_&&(yield function(r,i){return b(this,null,function*(){if(function(s){return C4(s)&&s!==V.ABORTED}(i.code)){let o=r.O_.shift();_o(r).s_(),yield Bx(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Em(r)}})}(n,e)),$x(n)&&Hx(n)})}function WR(n,e){return b(this,null,function*(){let t=he(n);t.asyncQueue.verifyOperationInProgress(),ee("RemoteStore","RemoteStore received new credentials");let r=Ms(t);t.L_.add(3),yield kl(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield _m(t)})}function cq(n,e){return b(this,null,function*(){let t=he(n);e?(t.L_.delete(2),yield _m(t)):e||(t.L_.add(2),yield kl(t),t.q_.set("Unknown"))})}function Cc(n){return n.K_||(n.K_=function(t,r,i){let o=he(t);return o.w_(),new _I(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:J4.bind(null,n),Ro:X4.bind(null,n),mo:eq.bind(null,n),d_:tq.bind(null,n)}),n.B_.push(e=>b(this,null,function*(){e?(n.K_.s_(),nb(n)?tb(n):n.q_.set("Unknown")):(yield n.K_.stop(),jx(n))}))),n.K_}function _o(n){return n.U_||(n.U_=function(t,r,i){let o=he(t);return o.w_(),new EI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:iq.bind(null,n),mo:aq.bind(null,n),f_:oq.bind(null,n),g_:sq.bind(null,n)}),n.B_.push(e=>b(this,null,function*(){e?(n.U_.s_(),yield Em(n)):(yield n.U_.stop(),n.O_.length>0&&(ee("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var TI=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Yn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function rb(n,e){if(yi("AsyncQueue",`${e}: ${n}`),Pl(n))return new Y(V.UNAVAILABLE,`${e}: ${n}`);throw n}var tm=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ie.comparator(t.key,r.key):(t,r)=>ie.comparator(t.key,r.key),this.keyedMap=ml(),this.sortedSet=new ot(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var nm=class{constructor(){this.W_=new ot(ie.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ue():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},wc=class n{constructor(e,t,r,i,o,s,a,u,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,tm.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ym(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var DI=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},AI=class{constructor(){this.queries=KR(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=he(t),o=i.queries;i.queries=KR(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new Y(V.ABORTED,"Firestore shutting down"))}};function KR(){return new wo(n=>gx(n),ym)}function qx(n,e){return b(this,null,function*(){let t=he(n),r=3,i=e.query,o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new DI,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=rb(s,`Initialization of query '${rc(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&ib(t)})}function zx(n,e){return b(this,null,function*(){let t=he(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function uq(n,e){let t=he(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&ib(t)}function lq(n,e,t){let r=he(n),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(t);r.queries.delete(e)}function ib(n){n.Y_.forEach(e=>{e.next()})}var SI,QR;(QR=SI||(SI={})).ea="default",QR.Cache="cache";var rm=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new wc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=wc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==SI.Cache}};var im=class{constructor(e){this.key=e}},om=class{constructor(e){this.key=e}},RI=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ae(),this.mutatedKeys=Ae(),this.Aa=yx(e),this.Ra=new tm(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new nm,i=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,m)=>{let _=i.get(p),I=vm(this.query,m)?m:null,M=!!_&&this.mutatedKeys.has(_.key),L=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations),O=!1;_&&I?_.data.isEqual(I.data)?M!==L&&(r.track({type:3,doc:I}),O=!0):this.ga(_,I)||(r.track({type:2,doc:I}),O=!0,(u&&this.Aa(I,u)>0||d&&this.Aa(I,d)<0)&&(a=!0)):!_&&I?(r.track({type:0,doc:I}),O=!0):_&&!I&&(r.track({type:1,doc:_}),O=!0,(u||d)&&(a=!0)),O&&(I?(s=s.add(I),o=L?o.add(p):o.delete(p)):(s=s.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let p=this.query.limitType==="F"?s.last():s.first();s=s.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((p,m)=>function(I,M){let L=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue()}};return L(I)-L(M)}(p.type,m.type)||this.Aa(p.doc,m.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,d=u!==this.Ea;return this.Ea=u,s.length!==0||d?{snapshot:new wc(this.query,e.Ra,o,s,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new nm,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Ae(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new om(r))}),this.da.forEach(r=>{e.has(r)||t.push(new im(r))}),t}ba(e){this.Ta=e.Ts,this.da=Ae();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return wc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},xI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},MI=class{constructor(e){this.key=e,this.va=!1}},NI=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new wo(a=>gx(a),ym),this.Ma=new Map,this.xa=new Set,this.Oa=new ot(ie.comparator),this.Na=new Map,this.La=new Dl,this.Ba={},this.ka=new Map,this.qa=Tl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function dq(n,e,t=!0){return b(this,null,function*(){let r=Zx(n),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield Gx(r,e,t,!0),i})}function hq(n,e){return b(this,null,function*(){let t=Zx(n);yield Gx(t,e,!0,!1)})}function Gx(n,e,t,r){return b(this,null,function*(){let i=yield Q4(n.localStore,kr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield fq(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&Vx(n.remoteStore,i),a})}function fq(n,e,t,r,i){return b(this,null,function*(){n.Ka=(m,_,I)=>function(L,O,H,te){return b(this,null,function*(){let X=O.view.ma(H);X.ns&&(X=yield GR(L.localStore,O.query,!1).then(({documents:D})=>O.view.ma(D,X)));let re=te&&te.targetChanges.get(O.targetId),Fe=te&&te.targetMismatches.get(O.targetId)!=null,oe=O.view.applyChanges(X,L.isPrimaryClient,re,Fe);return ZR(L,O.targetId,oe.wa),oe.snapshot})}(n,m,_,I);let o=yield GR(n.localStore,e,!0),s=new RI(e,o.Ts),a=s.ma(o.documents),u=bl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=s.applyChanges(a,n.isPrimaryClient,u);ZR(n,t,d.wa);let p=new xI(e,t,s);return n.Fa.set(e,p),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),d.snapshot})}function pq(n,e,t){return b(this,null,function*(){let r=he(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!ym(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield mI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&XI(r.remoteStore,i.targetId),PI(r,i.targetId)}).catch(Nl))):(PI(r,i.targetId),yield mI(r.localStore,i.targetId,!0))})}function mq(n,e){return b(this,null,function*(){let t=he(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),XI(t.remoteStore,r.targetId))})}function gq(n,e,t){return b(this,null,function*(){let r=bq(n);try{let i=yield function(s,a){let u=he(s),d=Ft.now(),p=a.reduce((I,M)=>I.add(M.key),Ae()),m,_;return u.persistence.runTransaction("Locally write mutations","readwrite",I=>{let M=wi(),L=Ae();return u.cs.getEntries(I,p).next(O=>{M=O,M.forEach((H,te)=>{te.isValidDocument()||(L=L.add(H))})}).next(()=>u.localDocuments.getOverlayedDocuments(I,M)).next(O=>{m=O;let H=[];for(let te of a){let X=b4(te,m.get(te.key).overlayedDocument);X!=null&&H.push(new Lr(te.key,X,ux(X.value.mapValue),go.exists(!0)))}return u.mutationQueue.addMutationBatch(I,d,H,a)}).next(O=>{_=O;let H=O.applyToLocalDocumentSet(m,L);return u.documentOverlayCache.saveOverlays(I,O.batchId,H)})}).then(()=>({batchId:_.batchId,changes:wx(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let d=s.Ba[s.currentUser.toKey()];d||(d=new ot(Le)),d=d.insert(a,u),s.Ba[s.currentUser.toKey()]=d}(r,i.batchId,t),yield Ol(r,i.changes),yield Em(r.remoteStore)}catch(i){let o=rb(i,"Failed to persist write");t.reject(o)}})}function Wx(n,e){return b(this,null,function*(){let t=he(n);try{let r=yield G4(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Na.get(o);s&&(Be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Be(s.va):i.removedDocuments.size>0&&(Be(s.va),s.va=!1))}),yield Ol(t,r,e)}catch(r){yield Nl(r)}})}function YR(n,e,t){let r=he(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=he(s);u.onlineState=a;let d=!1;u.queries.forEach((p,m)=>{for(let _ of m.j_)_.Z_(a)&&(d=!0)}),d&&ib(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function yq(n,e,t){return b(this,null,function*(){let r=he(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new ot(ie.comparator);s=s.insert(o,Zn.newNoDocument(o,me.min()));let a=Ae().add(o),u=new qp(me.min(),new Map,new ot(Le),s,a);yield Wx(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),ob(r)}else yield mI(r.localStore,e,!1).then(()=>PI(r,e,t)).catch(Nl)})}function vq(n,e){return b(this,null,function*(){let t=he(n),r=e.batch.batchId;try{let i=yield z4(t.localStore,e);Qx(t,r,null),Kx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ol(t,i)}catch(i){yield Nl(i)}})}function wq(n,e,t){return b(this,null,function*(){let r=he(n);try{let i=yield function(s,a){let u=he(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return u.mutationQueue.lookupMutationBatch(d,a).next(m=>(Be(m!==null),p=m.keys(),u.mutationQueue.removeMutationBatch(d,m))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,p,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>u.localDocuments.getDocuments(d,p))})}(r.localStore,e);Qx(r,e,t),Kx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ol(r,i)}catch(i){yield Nl(i)}})}function Kx(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function Qx(n,e,t){let r=he(n),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function PI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||Yx(n,r)})}function Yx(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(XI(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),ob(n))}function ZR(n,e,t){for(let r of t)r instanceof im?(n.La.addReference(r.key,e),_q(n,r)):r instanceof om?(ee("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||Yx(n,r.key)):ue()}function _q(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(ee("SyncEngine","New document in limbo: "+t),n.xa.add(r),ob(n))}function ob(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new ie(nt.fromString(e)),r=n.qa.next();n.Na.set(r,new MI(t)),n.Oa=n.Oa.insert(t,r),Vx(n.remoteStore,new Cl(kr(YI(t.path)),r,"TargetPurposeLimboResolution",ox.oe))}}function Ol(n,e,t){return b(this,null,function*(){let r=he(n),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,t).then(d=>{var p;if((d||t)&&r.isPrimaryClient){let m=d?!d.fromCache:(p=t?.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(d){i.push(d);let m=dI.Wi(u.targetId,d);o.push(m)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,d){return b(this,null,function*(){let p=he(u);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>B.forEach(d,_=>B.forEach(_.$i,I=>p.persistence.referenceDelegate.addReference(m,_.targetId,I)).next(()=>B.forEach(_.Ui,I=>p.persistence.referenceDelegate.removeReference(m,_.targetId,I)))))}catch(m){if(!Pl(m))throw m;ee("LocalStore","Failed to update sequence numbers: "+m)}for(let m of d){let _=m.targetId;if(!m.fromCache){let I=p.os.get(_),M=I.snapshotVersion,L=I.withLastLimboFreeSnapshotVersion(M);p.os=p.os.insert(_,L)}}})}(r.localStore,o))})}function Eq(n,e){return b(this,null,function*(){let t=he(n);if(!t.currentUser.isEqual(e)){ee("SyncEngine","User change. New user:",e.toKey());let r=yield Fx(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new Y(V.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ol(t,r.hs)}})}function Iq(n,e){let t=he(n),r=t.Na.get(e);if(r&&r.va)return Ae().add(r.key);{let i=Ae(),o=t.Ma.get(e);if(!o)return i;for(let s of o){let a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function Zx(n){let e=he(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Wx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Iq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yq.bind(null,e),e.Ca.d_=uq.bind(null,e.eventManager),e.Ca.$a=lq.bind(null,e.eventManager),e}function bq(n){let e=he(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wq.bind(null,e),e}var JR=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return b(this,null,function*(){this.serializer=wm(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return q4(this.persistence,new fI,t.initialUser,this.serializer)}Ga(t){return new cI(lI.Zr,this.serializer)}Wa(t){return new gI}terminate(){return b(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var Cq=(()=>{class n{initialize(t,r){return b(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>YR(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Eq.bind(null,this.syncEngine),yield cq(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new AI}()}createDatastore(t){let r=wm(t.databaseInfo.databaseId),i=function(s){return new wI(s)}(t.databaseInfo);return function(s,a,u,d){return new II(s,a,u,d)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new CI(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>YR(this.syncEngine,r,0),function(){return Zp.D()?new Zp:new yI}())}createSyncEngine(t,r){return function(o,s,a,u,d,p,m){let _=new NI(o,s,a,u,d,p);return m&&(_.Qa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return b(this,null,function*(){var t,r;yield function(o){return b(this,null,function*(){let s=he(o);ee("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield kl(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var sm=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):yi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var kI=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Nt.UNAUTHENTICATED,this.clientId=Lp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>b(this,null,function*(){ee("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(ee("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Yn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>b(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=rb(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function dE(n,e){return b(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),ee("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>b(this,null,function*(){r.isEqual(i)||(yield Fx(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function XR(n,e){return b(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield Tq(n);ee("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>WR(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>WR(e.remoteStore,i)),n._onlineComponents=e})}function Tq(n){return b(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ee("FirestoreClient","Using user provided OfflineComponentProvider");try{yield dE(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===V.FAILED_PRECONDITION||i.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;uc("Error using user provided cache. Falling back to memory cache: "+t),yield dE(n,new JR)}}else ee("FirestoreClient","Using default OfflineComponentProvider"),yield dE(n,new JR);return n._offlineComponents})}function Jx(n){return b(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(ee("FirestoreClient","Using user provided OnlineComponentProvider"),yield XR(n,n._uninitializedComponentsProvider._online)):(ee("FirestoreClient","Using default OnlineComponentProvider"),yield XR(n,new Cq))),n._onlineComponents})}function Dq(n){return Jx(n).then(e=>e.syncEngine)}function Xx(n){return b(this,null,function*(){let e=yield Jx(n),t=e.eventManager;return t.onListen=dq.bind(null,e.syncEngine),t.onUnlisten=pq.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=hq.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=mq.bind(null,e.syncEngine),t})}function Aq(n,e,t={}){let r=new Yn;return n.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return function(o,s,a,u,d){let p=new sm({next:_=>{p.Za(),s.enqueueAndForget(()=>zx(o,m));let I=_.docs.has(a);!I&&_.fromCache?d.reject(new Y(V.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&_.fromCache&&u&&u.source==="server"?d.reject(new Y(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(_)},error:_=>d.reject(_)}),m=new rm(YI(a.path),p,{includeMetadataChanges:!0,_a:!0});return qx(o,m)}(yield Xx(n),n.asyncQueue,e,t,r)})),r.promise}function Sq(n,e,t={}){let r=new Yn;return n.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return function(o,s,a,u,d){let p=new sm({next:_=>{p.Za(),s.enqueueAndForget(()=>zx(o,m)),_.fromCache&&u.source==="server"?d.reject(new Y(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(_)},error:_=>d.reject(_)}),m=new rm(a,p,{includeMetadataChanges:!0,_a:!0});return qx(o,m)}(yield Xx(n),n.asyncQueue,e,t,r)})),r.promise}function eM(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var ex=new Map;function tM(n,e,t){if(!t)throw new Y(V.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Rq(n,e,t,r){if(e===!0&&r===!0)throw new Y(V.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function tx(n){if(!ie.isDocumentKey(n))throw new Y(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function nx(n){if(ie.isDocumentKey(n))throw new Y(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Im(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ue()}function _i(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Y(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Im(n);throw new Y(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var am=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Y(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Rq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Y(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Y(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Y(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},_c=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new am({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new am(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new hE;switch(r.type){case"firstParty":return new gE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return b(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=ex.get(t);r&&(ee("ComponentProvider","Removing Datastore"),ex.delete(t),r.terminate())}(this),Promise.resolve()}};function nM(n,e,t,r={}){var i;let o=(n=_i(n,_c))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&uc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Nt.MOCK_USER;else{a=sp(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new Y(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Nt(d)}n._authCredentials=new fE(new Fp(a,u))}}var Ec=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Zt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},yo=class n extends Ec{constructor(e,t,r){super(e,t,YI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new ie(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function rM(n,e,...t){if(n=Ke(n),tM("collection","path",e),n instanceof _c){let r=nt.fromString(e,...t);return nx(r),new yo(n,null,r)}{if(!(n instanceof Zt||n instanceof yo))throw new Y(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(nt.fromString(e,...t));return nx(r),new yo(n.firestore,null,r)}}function iM(n,e,...t){if(n=Ke(n),arguments.length===1&&(e=Lp.newId()),tM("doc","path",e),n instanceof _c){let r=nt.fromString(e,...t);return tx(r),new Zt(n,null,new ie(r))}{if(!(n instanceof Zt||n instanceof yo))throw new Y(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(nt.fromString(e,...t));return tx(r),new Zt(n.firestore,n instanceof yo?n.converter:null,new ie(r))}}var cm=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Jp(this,"async_queue_retry"),this.Vu=()=>{let r=lE();r&&ee("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=lE();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=lE();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new Yn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return b(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Pl(e))throw e;ee("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw yi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=TI.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ue()}verifyOperationInProgress(){}wu(){return b(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};var Rs=class extends _c{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new cm,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return b(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new cm(e),this._firestoreClient=void 0,yield e}})}};function oM(n,e){let t=typeof n=="object"?n:lo(),r=typeof n=="string"?n:e||"(default)",i=us(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=op("firestore");o&&nM(i,...o)}return i}function sb(n){if(n._terminated)throw new Y(V.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||xq(n),n._firestoreClient}function xq(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,d,p){return new EE(a,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,eM(p.experimentalLongPollingOptions),p.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new kI(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var Al=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(qt.fromBase64String(e))}catch(t){throw new Y(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ic=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Y(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new In(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Sl=class{constructor(e){this._methodName=e}};var Rl=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Y(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Y(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}};var xl=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var Mq=/^__.*__$/,OI=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Lr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ss(e,this.data,t,this.fieldTransforms)}},um=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Lr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function sM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue()}}var FI=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return dm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(sM(this.Cu)&&Mq.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},LI=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||wm(e)}Qu(e,t,r,i=!1){return new FI({Cu:e,methodName:t,qu:r,path:In.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function ab(n){let e=n._freezeSettings(),t=wm(n._databaseId);return new LI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Nq(n,e,t,r,i,o={}){let s=n.Qu(o.merge||o.mergeFields?2:0,e,t,i);cb("Data must be an object, but it was:",s,r);let a=aM(r,s),u,d;if(o.merge)u=new Pn(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){let p=[];for(let m of o.mergeFields){let _=VI(e,m,t);if(!s.contains(_))throw new Y(V.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);uM(p,_)||p.push(_)}u=new Pn(p),d=s.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,d=s.fieldTransforms;return new OI(new En(a),u,d)}var lm=class n extends Sl{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function Pq(n,e,t,r){let i=n.Qu(1,e,t);cb("Data must be an object, but it was:",i,r);let o=[],s=En.empty();xs(r,(u,d)=>{let p=ub(e,u,t);d=Ke(d);let m=i.Nu(p);if(d instanceof lm)o.push(p);else{let _=Fl(d,m);_!=null&&(o.push(p),s.set(p,_))}});let a=new Pn(o);return new um(s,a,i.fieldTransforms)}function kq(n,e,t,r,i,o){let s=n.Qu(1,e,t),a=[VI(e,r,t)],u=[i];if(o.length%2!=0)throw new Y(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)a.push(VI(e,o[_])),u.push(o[_+1]);let d=[],p=En.empty();for(let _=a.length-1;_>=0;--_)if(!uM(d,a[_])){let I=a[_],M=u[_];M=Ke(M);let L=s.Nu(I);if(M instanceof lm)d.push(I);else{let O=Fl(M,L);O!=null&&(d.push(I),p.set(I,O))}}let m=new Pn(d);return new um(p,m,s.fieldTransforms)}function Oq(n,e,t,r=!1){return Fl(t,n.Qu(r?4:3,e))}function Fl(n,e){if(cM(n=Ke(n)))return cb("Unsupported field value:",e,n),aM(n,e);if(n instanceof Sl)return function(r,i){if(!sM(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Fl(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return v4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ft.fromDate(r);return{timestampValue:Kp(i.serializer,o)}}if(r instanceof Ft){let o=new Ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kp(i.serializer,o)}}if(r instanceof Rl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Al)return{bytesValue:Rx(i.serializer,r._byteString)};if(r instanceof Zt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:JI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof xl)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return ZI(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Im(r)}`)}(n,e)}function aM(n,e){let t={};return sx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xs(n,(r,i)=>{let o=Fl(i,e.Mu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function cM(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ft||n instanceof Rl||n instanceof Al||n instanceof Zt||n instanceof Sl||n instanceof xl)}function cb(n,e,t){if(!cM(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=Im(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function VI(n,e,t){if((e=Ke(e))instanceof Ic)return e._internalPath;if(typeof e=="string")return ub(n,e);throw dm("Field path arguments must be of type string or ",n,!1,void 0,t)}var Fq=new RegExp("[~\\*/\\[\\]]");function ub(n,e,t){if(e.search(Fq)>=0)throw dm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ic(...e.split("."))._internalPath}catch{throw dm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function dm(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new Y(V.INVALID_ARGUMENT,a+n+u)}function uM(n,e){return n.some(t=>t.isEqual(e))}var hm=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new UI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(lb("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},UI=class extends hm{data(){return super.data()}};function lb(n,e){return typeof e=="string"?ub(n,e):e instanceof Ic?e._internalPath:e._delegate._internalPath}function Lq(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Y(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ml=class{},jI=class extends Ml{};function lM(n,e,...t){let r=[];e instanceof Ml&&r.push(e),r=r.concat(t),function(o){let s=o.filter(u=>u instanceof BI).length,a=o.filter(u=>u instanceof fm).length;if(s>1||s>0&&a>0)throw new Y(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var fm=class n extends jI{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return hM(e._query,t),new Ec(e.firestore,e.converter,kE(e._query,t))}_parse(e){let t=ab(e.firestore);return function(o,s,a,u,d,p,m){let _;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Y(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){ix(m,p);let I=[];for(let M of m)I.push(rx(u,o,M));_={arrayValue:{values:I}}}else _=rx(u,o,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||ix(m,p),_=Oq(a,s,m,p==="in"||p==="not-in");return _t.create(d,p,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function dM(n,e,t){let r=e,i=lb("where",n);return fm._create(i,r,t)}var BI=class n extends Ml{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Jn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)hM(s,u),s=kE(s,u)}(e._query,t),new Ec(e.firestore,e.converter,kE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function rx(n,e,t){if(typeof(t=Ke(t))=="string"){if(t==="")throw new Y(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mx(e)&&t.indexOf("/")!==-1)throw new Y(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(nt.fromString(t));if(!ie.isDocumentKey(r))throw new Y(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return RR(n,new ie(r))}if(t instanceof Zt)return RR(n,t._key);throw new Y(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Im(t)}.`)}function ix(n,e){if(!Array.isArray(n)||n.length===0)throw new Y(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hM(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Y(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var $I=class{convertValue(e,t="none"){switch(Cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ue()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return xs(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Je(s.doubleValue));return new xl(o)}convertGeoPoint(e){return new Rl(Je(e.latitude),Je(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=GI(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(El(e));default:return null}}convertTimestamp(e){let t=vi(e);return new Ft(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=nt.fromString(e);Be(Ox(r));let i=new Bp(r.get(1),r.get(3)),o=new ie(r.popFirst(5));return i.isEqual(t)||yi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function Vq(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Es=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},pm=class extends hm{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new cc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(lb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},cc=class extends pm{data(e={}){return super.data(e)}},HI=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Es(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new cc(this._firestore,this._userDataWriter,r.key,r,new Es(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Y(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new cc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Es(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new cc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Es(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,p=-1;return a.type!==0&&(d=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),p=s.indexOf(a.doc.key)),{type:Uq(a.type),doc:u,oldIndex:d,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function Uq(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue()}}function fM(n){n=_i(n,Zt);let e=_i(n.firestore,Rs);return Aq(sb(e),n._key).then(t=>jq(e,n,t))}var mm=class extends $I{constructor(e){super(),this.firestore=e}convertBytes(e){return new Al(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,t)}};function pM(n){n=_i(n,Ec);let e=_i(n.firestore,Rs),t=sb(e),r=new mm(e);return Lq(n._query),Sq(t,n._query).then(i=>new HI(e,r,n,i))}function mM(n,e,t){n=_i(n,Zt);let r=_i(n.firestore,Rs),i=Vq(n.converter,e,t);return yM(r,[Nq(ab(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,go.none())])}function gM(n,e,t,...r){n=_i(n,Zt);let i=_i(n.firestore,Rs),o=ab(i),s;return s=typeof(e=Ke(e))=="string"||e instanceof Ic?kq(o,"updateDoc",n._key,e,t,r):Pq(o,"updateDoc",n._key,e),yM(i,[s.toMutation(n._key,go.exists(!0))])}function yM(n,e){return function(r,i){let o=new Yn;return r.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return gq(yield Dq(r),i,o)})),o.promise}(sb(n),e)}function jq(n,e,t){let r=t.docs.get(e._key),i=new mm(n);return new pm(n,i,e._key,r,new Es(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){bc=i})(Rr),Sr(new cn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Rs(new pE(r.getProvider("auth-internal")),new vE(r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Y(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bp(d.options.projectId,p)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),et(TR,"4.7.3",e),et(TR,"4.7.3","esm2017")})();var Ei=class{constructor(e){return e}},vM="firestore",db=class{constructor(){return Xa(vM)}};var hb=new Z("angularfire2.firestore-instances");function Bq(n,e){let t=rl(vM,n,e);return t&&new Ei(t)}function $q(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ei(r)}}var Hq={provide:db,deps:[[new Bt,hb]]},qq={provide:Ei,useFactory:Bq,deps:[[new Bt,hb],li]};function lX(n,...e){return et("angularfire",ho.full,"fst"),vr([qq,Hq,{provide:hb,useFactory:$q(n),multi:!0,deps:[be,Ot,hs,fs,[new Bt,hl],[new Bt,ds],...e]}])}var Ll=tt(rM,!0);var Vr=tt(iM,!0);var bm=tt(fM,!0);var Cm=tt(pM,!0);var dX=tt(oM,!0);var hX=tt(lM,!0);var Tm=tt(mM,!0);var Tc=tt(gM,!0);var fX=tt(dM,!0);var DM="firebasestorage.googleapis.com",AM="storageBucket",zq=2*60*1e3,Gq=10*60*1e3;var st=class n extends Yt{constructor(e,t,r=0){super(fb(e),`Firebase Storage: ${t} (${fb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return fb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},lt=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(lt||{});function fb(n){return"storage/"+n}function wb(){let n="An unknown error occurred, please check the error payload for server response.";return new st(lt.UNKNOWN,n)}function Wq(n){return new st(lt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function Kq(n){return new st(lt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Qq(){let n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new st(lt.UNAUTHENTICATED,n)}function Yq(){return new st(lt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Zq(n){return new st(lt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function Jq(){return new st(lt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Xq(){return new st(lt.CANCELED,"User canceled the upload/download.")}function ez(n){return new st(lt.INVALID_URL,"Invalid URL '"+n+"'.")}function tz(n){return new st(lt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function nz(){return new st(lt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+AM+"' property when initializing the app?")}function rz(){return new st(lt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function iz(){return new st(lt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function oz(n){return new st(lt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function pb(n){return new st(lt.INVALID_ARGUMENT,n)}function SM(){return new st(lt.APP_DELETED,"The Firebase app was deleted.")}function sz(n){return new st(lt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ul(n,e){return new st(lt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Vl(n){throw new st(lt.INTERNAL_ERROR,"Internal error: "+n)}var Xn=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw tz(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),u={bucket:1,path:3};function d(re){re.path_=decodeURIComponent(re.path)}let p="v[A-Za-z0-9_]+",m=t.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",I=new RegExp(`^https?://${m}/${p}/b/${i}/o${_}`,"i"),M={bucket:1,path:3},L=t===DM?"(?:storage.googleapis.com|storage.cloud.google.com)":t,O="([^?#]*)",H=new RegExp(`^https?://${L}/${i}/${O}`,"i"),X=[{regex:a,indices:u,postModify:o},{regex:I,indices:M,postModify:d},{regex:H,indices:{bucket:1,path:2},postModify:d}];for(let re=0;re<X.length;re++){let Fe=X[re],oe=Fe.regex.exec(e);if(oe){let D=oe[Fe.indices.bucket],E=oe[Fe.indices.path];E||(E=""),r=new n(D,E),Fe.postModify(r);break}}if(r==null)throw ez(e);return r}},mb=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function az(n,e,t){let r=1,i=null,o=null,s=!1,a=0;function u(){return a===2}let d=!1;function p(...O){d||(d=!0,e.apply(null,O))}function m(O){i=setTimeout(()=>{i=null,n(I,u())},O)}function _(){o&&clearTimeout(o)}function I(O,...H){if(d){_();return}if(O){_(),p.call(null,O,...H);return}if(u()||s){_(),p.call(null,O,...H);return}r<64&&(r*=2);let X;a===1?(a=2,X=0):X=(r+Math.random())*1e3,m(X)}let M=!1;function L(O){M||(M=!0,_(),!d&&(i!==null?(O||(a=2),clearTimeout(i),m(0)):O||(a=1)))}return m(0),o=setTimeout(()=>{s=!0,L(!0)},t),L}function cz(n){n(!1)}function uz(n){return n!==void 0}function lz(n){return typeof n=="object"&&!Array.isArray(n)}function _b(n){return typeof n=="string"||n instanceof String}function _M(n){return Eb()&&n instanceof Blob}function Eb(){return typeof Blob<"u"}function EM(n,e,t,r){if(r<e)throw pb(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw pb(`Invalid value for '${n}'. Expected ${t} or less.`)}function Ib(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function RM(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var Ac=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(Ac||{});function dz(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||i||o}var gb=class{constructor(e,t,r,i,o,s,a,u,d,p,m,_=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=p,this.connectionFactory_=m,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,M)=>{this.resolve_=I,this.reject_=M,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Dc(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let u=a.loaded,d=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===Ac.NO_ERROR,u=o.getStatus();if(!a||dz(u,this.additionalRetryCodes_)&&this.retry){let p=o.getErrorCode()===Ac.ABORT;r(!1,new Dc(!1,null,p));return}let d=this.successCodes_.indexOf(u)!==-1;r(!0,new Dc(d,o))})},t=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let u=this.callback_(a,a.getResponse());uz(u)?o(u):o()}catch(u){s(u)}else if(a!==null){let u=wb();u.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,u)):s(u)}else if(i.canceled){let u=this.appDelete_?SM():Xq();s(u)}else{let u=Jq();s(u)}};this.canceled_?t(!1,new Dc(!1,null,!0)):this.backoffId_=az(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&cz(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Dc=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function hz(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function fz(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function pz(n,e){e&&(n["X-Firebase-GMPID"]=e)}function mz(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function gz(n,e,t,r,i,o,s=!0){let a=RM(n.urlParams),u=n.url+a,d=Object.assign({},n.headers);return pz(d,e),hz(d,t),fz(d,o),mz(d,r),new gb(u,n.method,d,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,s)}function yz(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function vz(...n){let e=yz();if(e!==void 0){let t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(Eb())return new Blob(n);throw new st(lt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function wz(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function _z(n){if(typeof atob>"u")throw oz("base-64");return atob(n)}var Ur={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},jl=class{constructor(e,t){this.data=e,this.contentType=t||null}};function Ez(n,e){switch(n){case Ur.RAW:return new jl(xM(e));case Ur.BASE64:case Ur.BASE64URL:return new jl(MM(n,e));case Ur.DATA_URL:return new jl(bz(e),Cz(e))}throw wb()}function xM(n){let e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{let o=r,s=n.charCodeAt(++t);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Iz(n){let e;try{e=decodeURIComponent(n)}catch{throw Ul(Ur.DATA_URL,"Malformed data URL.")}return xM(e)}function MM(n,e){switch(n){case Ur.BASE64:{let i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Ul(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ur.BASE64URL:{let i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Ul(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=_z(e)}catch(i){throw i.message.includes("polyfill")?i:Ul(n,"Invalid character found")}let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}var Am=class{constructor(e){this.base64=!1,this.contentType=null;let t=e.match(/^data:([^,]+)?,/);if(t===null)throw Ul(Ur.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=t[1]||null;r!=null&&(this.base64=Tz(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function bz(n){let e=new Am(n);return e.base64?MM(Ur.BASE64,e.rest):Iz(e.rest)}function Cz(n){return new Am(n).contentType}function Tz(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}var Sm=class n{constructor(e,t){let r=0,i="";_M(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(_M(this.data_)){let r=this.data_,i=wz(r,e,t);return i===null?null:new n(i)}else{let r=new Uint8Array(this.data_.buffer,e,t-e);return new n(r,!0)}}static getBlob(...e){if(Eb()){let t=e.map(r=>r instanceof n?r.data_:r);return new n(vz.apply(null,t))}else{let t=e.map(s=>_b(s)?Ez(Ur.RAW,s).data:s.data_),r=0;t.forEach(s=>{r+=s.byteLength});let i=new Uint8Array(r),o=0;return t.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new n(i,!0)}}uploadData(){return this.data_}};function NM(n){let e;try{e=JSON.parse(n)}catch{return null}return lz(e)?e:null}function Dz(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function Az(n,e){let t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function PM(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function Sz(n,e){return e}var Lt=class{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||Sz}},Dm=null;function Rz(n){return!_b(n)||n.length<2?n:PM(n)}function kM(){if(Dm)return Dm;let n=[];n.push(new Lt("bucket")),n.push(new Lt("generation")),n.push(new Lt("metageneration")),n.push(new Lt("name","fullPath",!0));function e(o,s){return Rz(s)}let t=new Lt("name");t.xform=e,n.push(t);function r(o,s){return s!==void 0?Number(s):s}let i=new Lt("size");return i.xform=r,n.push(i),n.push(new Lt("timeCreated")),n.push(new Lt("updated")),n.push(new Lt("md5Hash",null,!0)),n.push(new Lt("cacheControl",null,!0)),n.push(new Lt("contentDisposition",null,!0)),n.push(new Lt("contentEncoding",null,!0)),n.push(new Lt("contentLanguage",null,!0)),n.push(new Lt("contentType",null,!0)),n.push(new Lt("metadata","customMetadata",!0)),Dm=n,Dm}function xz(n,e){function t(){let r=n.bucket,i=n.fullPath,o=new Xn(r,i);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function Mz(n,e,t){let r={};r.type="file";let i=t.length;for(let o=0;o<i;o++){let s=t[o];r[s.local]=s.xform(r,e[s.server])}return xz(r,n),r}function OM(n,e,t){let r=NM(e);return r===null?null:Mz(n,r,t)}function Nz(n,e,t,r){let i=NM(e);if(i===null||!_b(i.downloadTokens))return null;let o=i.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(d=>{let p=n.bucket,m=n.fullPath,_="/b/"+s(p)+"/o/"+s(m),I=Ib(_,t,r),M=RM({alt:"media",token:d});return I+M})[0]}function Pz(n,e){let t={},r=e.length;for(let i=0;i<r;i++){let o=e[i];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}var Rm=class{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function FM(n){if(!n)throw wb()}function kz(n,e){function t(r,i){let o=OM(n,i,e);return FM(o!==null),o}return t}function Oz(n,e){function t(r,i){let o=OM(n,i,e);return FM(o!==null),Nz(o,i,n.host,n._protocol)}return t}function LM(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=Yq():i=Qq():t.getStatus()===402?i=Kq(n.bucket):t.getStatus()===403?i=Zq(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Fz(n){let e=LM(n);function t(r,i){let o=e(r,i);return r.getStatus()===404&&(o=Wq(n.path)),o.serverResponse=i.serverResponse,o}return t}function Lz(n,e,t){let r=e.fullServerUrl(),i=Ib(r,n.host,n._protocol),o="GET",s=n.maxOperationRetryTime,a=new Rm(i,o,Oz(n,t),s);return a.errorHandler=Fz(e),a}function Vz(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function Uz(n,e,t){let r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=Vz(null,e)),r}function jz(n,e,t,r,i){let o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let X="";for(let re=0;re<2;re++)X=X+Math.random().toString().slice(2);return X}let u=a();s["Content-Type"]="multipart/related; boundary="+u;let d=Uz(e,r,i),p=Pz(d,t),m="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+u+`\r
Content-Type: `+d.contentType+`\r
\r
`,_=`\r
--`+u+"--",I=Sm.getBlob(m,r,_);if(I===null)throw rz();let M={name:d.fullPath},L=Ib(o,n.host,n._protocol),O="POST",H=n.maxUploadRetryTime,te=new Rm(L,O,kz(n,t),H);return te.urlParams=M,te.headers=s,te.body=I.uploadData(),te.errorHandler=LM(e),te}var vX=256*1024;var IM=null,yb=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ac.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ac.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ac.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Vl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(let o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Vl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Vl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Vl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Vl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},vb=class extends yb{initXhr(){this.xhr_.responseType="text"}};function VM(){return IM?IM():new vb}var Sc=class n{constructor(e,t){this._service=e,t instanceof Xn?this._location=t:this._location=Xn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new Xn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return PM(this._location.path)}get storage(){return this._service}get parent(){let e=Dz(this._location.path);if(e===null)return null;let t=new Xn(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw sz(e)}};function Bz(n,e,t){n._throwIfRoot("uploadBytes");let r=jz(n.storage,n._location,kM(),new Sm(e,!0),t);return n.storage.makeRequestWithTokens(r,VM).then(i=>({metadata:i,ref:n}))}function $z(n){n._throwIfRoot("getDownloadURL");let e=Lz(n.storage,n._location,kM());return n.storage.makeRequestWithTokens(e,VM).then(t=>{if(t===null)throw iz();return t})}function Hz(n,e){let t=Az(n._location.path,e),r=new Xn(n._location.bucket,t);return new Sc(n.storage,r)}function qz(n){return/^[A-Za-z]+:\/\//.test(n)}function zz(n,e){return new Sc(n,e)}function UM(n,e){if(n instanceof Bl){let t=n;if(t._bucket==null)throw nz();let r=new Sc(t,t._bucket);return e!=null?UM(r,e):r}else return e!==void 0?Hz(n,e):n}function Gz(n,e){if(e&&qz(e)){if(n instanceof Bl)return zz(n,e);throw pb("To use ref(service, url), the first argument must be a Storage instance.")}else return UM(n,e)}function bM(n,e){let t=e?.[AM];return t==null?null:Xn.makeFromBucketSpec(t,n)}function Wz(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";let{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:sp(i,n.app.options.projectId))}var Bl=class{constructor(e,t,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=DM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=zq,this._maxUploadRetryTime=Gq,this._requests=new Set,i!=null?this._bucket=Xn.makeFromBucketSpec(i,this._host):this._bucket=bM(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Xn.makeFromBucketSpec(this._url,e):this._bucket=bM(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){EM("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){EM("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return b(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return b(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Sc(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new mb(SM());{let s=gz(e,this._appId,r,i,t,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){return b(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()})}},CM="@firebase/storage",TM="0.13.2";var jM="storage";function BM(n,e,t){return n=Ke(n),Bz(n,e,t)}function $M(n){return n=Ke(n),$z(n)}function HM(n,e){return n=Ke(n),Gz(n,e)}function qM(n=lo(),e){n=Ke(n);let r=us(n,jM).getImmediate({identifier:e}),i=op("storage");return i&&zM(r,...i),r}function zM(n,e,t,r={}){Wz(n,e,t,r)}function Kz(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new Bl(t,r,i,e,Rr)}function Qz(){Sr(new cn(jM,Kz,"PUBLIC").setMultipleInstances(!0)),et(CM,TM,""),et(CM,TM,"esm2017")}Qz();var GM=tt($M,!0);var WM=tt(qM,!0);var KM=tt(HM,!0);var QM=tt(BM,!0);var kn=class n{constructor(e,t,r){this.auth=e;this.firestore=t;this.http=r}userSubject=new ut(null);uploadImage(e){return b(this,null,function*(){let t=WM(),r=KM(t,`images/${e.name}`);try{return yield QM(r,e),yield GM(r)}catch(i){throw console.error("Error al subir la imagen:",i),i}})}registerUser(e,t,r,i){return b(this,null,function*(){try{let o=yield wR(this.auth,e,t);yield _R(o.user);let s=i!=="especialista",a=le(j({uid:o.user.uid},r),{role:i,createdAt:new Date,habilitado:s,emailVerificado:!1});return yield Tm(Vr(this.firestore,"users",o.user.uid),a),le(j({},o.user),{role:i})}catch(o){throw console.error(`Error al registrar el ${i}:`,o),o}})}verificarCorreo(e){return b(this,null,function*(){let t=this.auth.currentUser;if(t){yield t.reload();let r=yield this.getUserData(t.uid);t.emailVerified&&(yield Tc(Vr(this.firestore,`users/${t.uid}`),{emailVerificado:!0}))}})}login(e,t){return b(this,null,function*(){try{let r=yield ER(this.auth,e,t);yield this.verificarCorreo(r.user.uid);let i=yield this.getUserData(r.user.uid);if(i.role==="especialista"){if(!i.habilitado)throw new Error("Tu cuenta debe ser aprobada por un administrador antes de poder iniciar sesi\xF3n.");if(!i.emailVerificado)throw new Error("Debes verificar tu correo electr\xF3nico para ingresar.")}else if(!i.emailVerificado)throw new Error("Debes verificar tu correo electr\xF3nico para ingresar.");return this.userSubject.next(j(j({},r.user),i)),j(j({},r.user),i)}catch(r){throw console.error("Error en el login:",r),r}})}getUserData(e){return b(this,null,function*(){let t=Vr(this.firestore,`users/${e}`),r=yield bm(t);if(r.exists())return r.data();throw new Error("No se encontr\xF3 el documento del usuario")})}logout(){return IR(this.auth).then(()=>{this.userSubject.next(null)})}habilitarUsuario(e){return b(this,null,function*(){let t=Vr(this.firestore,"users",e);yield Tc(t,{habilitado:!0})})}inhabilitarUsuario(e){return b(this,null,function*(){let t=Vr(this.firestore,"users",e);yield Tc(t,{habilitado:!1})})}obtenerUsuarios(){return b(this,null,function*(){let e=Ll(this.firestore,"users");return(yield Cm(e)).docs.map(r=>j({id:r.id},r.data()))})}getUser(){return this.userSubject.asObservable()}validateCaptcha(e){return this.http.post("https://www.google.com/recaptcha/api/siteverify",{secret:"6LeSo3oqAAAAACuT7K9lIHOBpRBaHFXFBp-b9VOB",response:e})}static \u0275fac=function(t){return new(t||n)(K(vs),K(Ei),K(QD))};static \u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})};var oN=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(Q(ri),Q(Rn))}}static{this.\u0275dir=We({type:n})}}return n})(),Um=(()=>{class n extends oN{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ni(n)))(i||n)}})()}static{this.\u0275dir=We({type:n,features:[sn]})}}return n})(),Pc=new Z("");var Yz={provide:Pc,useExisting:yn(()=>jr),multi:!0};function Zz(){let n=Tr()?Tr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Jz=new Z(""),jr=(()=>{class n extends oN{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Zz())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(Q(ri),Q(Rn),Q(Jz,8))}}static{this.\u0275dir=We({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ee("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Wn([Yz]),sn]})}}return n})();function Eo(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function sN(n){return n!=null&&typeof n.length=="number"}var Ql=new Z(""),jm=new Z(""),Xz=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ce=class{static min(e){return e3(e)}static max(e){return t3(e)}static required(e){return aN(e)}static requiredTrue(e){return n3(e)}static email(e){return r3(e)}static minLength(e){return i3(e)}static maxLength(e){return o3(e)}static pattern(e){return s3(e)}static nullValidator(e){return Mm(e)}static compose(e){return fN(e)}static composeAsync(e){return pN(e)}};function e3(n){return e=>{if(Eo(e.value)||Eo(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function t3(n){return e=>{if(Eo(e.value)||Eo(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function aN(n){return Eo(n.value)?{required:!0}:null}function n3(n){return n.value===!0?null:{required:!0}}function r3(n){return Eo(n.value)||Xz.test(n.value)?null:{email:!0}}function i3(n){return e=>Eo(e.value)||!sN(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function o3(n){return e=>sN(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function s3(n){if(!n)return Mm;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Eo(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Mm(n){return null}function cN(n){return n!=null}function uN(n){return ts(n)?Qe(n):n}function lN(n){let e={};return n.forEach(t=>{e=t!=null?j(j({},e),t):e}),Object.keys(e).length===0?null:e}function dN(n,e){return e.map(t=>t(n))}function a3(n){return!n.validate}function hN(n){return n.map(e=>a3(e)?e:t=>e.validate(t))}function fN(n){if(!n)return null;let e=n.filter(cN);return e.length==0?null:function(t){return lN(dN(t,e))}}function Sb(n){return n!=null?fN(hN(n)):null}function pN(n){if(!n)return null;let e=n.filter(cN);return e.length==0?null:function(t){let r=dN(t,e).map(uN);return $g(r).pipe(pe(lN))}}function Rb(n){return n!=null?pN(hN(n)):null}function YM(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function mN(n){return n._rawValidators}function gN(n){return n._rawAsyncValidators}function bb(n){return n?Array.isArray(n)?n:[n]:[]}function Nm(n,e){return Array.isArray(n)?n.includes(e):n===e}function ZM(n,e){let t=bb(e);return bb(n).forEach(i=>{Nm(t,i)||t.push(i)}),t}function JM(n,e){return bb(e).filter(t=>!Nm(n,t))}var Pm=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Sb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Rb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Ii=class extends Pm{get formDirective(){return null}get path(){return null}},Ns=class extends Pm{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},km=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},c3={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},aee=le(j({},c3),{"[class.ng-submitted]":"isSubmitted"}),bo=(()=>{class n extends km{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(Q(Ns,2))}}static{this.\u0275dir=We({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&If("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[sn]})}}return n})(),Co=(()=>{class n extends km{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(Q(Ii,10))}}static{this.\u0275dir=We({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&If("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[sn]})}}return n})();var Hl="VALID",xm="INVALID",Rc="PENDING",ql="DISABLED",Io=class{},Om=class extends Io{constructor(e,t){super(),this.value=e,this.source=t}},Gl=class extends Io{constructor(e,t){super(),this.pristine=e,this.source=t}},Wl=class extends Io{constructor(e,t){super(),this.touched=e,this.source=t}},xc=class extends Io{constructor(e,t){super(),this.status=e,this.source=t}},Cb=class extends Io{constructor(e){super(),this.source=e}},Tb=class extends Io{constructor(e){super(),this.source=e}};function xb(n){return(Bm(n)?n.validators:n)||null}function u3(n){return Array.isArray(n)?Sb(n):n||null}function Mb(n,e){return(Bm(e)?e.asyncValidators:n)||null}function l3(n){return Array.isArray(n)?Rb(n):n||null}function Bm(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function yN(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new ne(1e3,"");if(!r[t])throw new ne(1001,"")}function vN(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new ne(1002,"")})}var Mc=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ka(()=>this.statusReactive()),this.statusReactive=Pa(void 0),this._pristine=ka(()=>this.pristineReactive()),this.pristineReactive=Pa(!0),this._touched=ka(()=>this.touchedReactive()),this.touchedReactive=Pa(!1),this._events=new ct,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Cr(this.statusReactive)}set status(e){Cr(()=>this.statusReactive.set(e))}get valid(){return this.status===Hl}get invalid(){return this.status===xm}get pending(){return this.status==Rc}get disabled(){return this.status===ql}get enabled(){return this.status!==ql}get pristine(){return Cr(this.pristineReactive)}set pristine(e){Cr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Cr(this.touchedReactive)}set touched(e){Cr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(ZM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ZM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(JM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(JM(e,this._rawAsyncValidators))}hasValidator(e){return Nm(this._rawValidators,e)}hasAsyncValidator(e){return Nm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(le(j({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Wl(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Wl(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(le(j({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Gl(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Gl(!0,r))}markAsPending(e={}){this.status=Rc;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new xc(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(le(j({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=ql,this.errors=null,this._forEachChild(i=>{i.disable(le(j({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Om(this.value,r)),this._events.next(new xc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(le(j({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Hl,this._forEachChild(r=>{r.enable(le(j({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(le(j({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Hl||this.status===Rc)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Om(this.value,t)),this._events.next(new xc(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(le(j({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ql:Hl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Rc,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=uN(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new xc(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new qe,this.statusChanges=new qe}_calculateStatus(){return this._allControlsDisabled()?ql:this.errors?xm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rc)?Rc:this._anyControlsHaveStatus(xm)?xm:Hl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Gl(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Wl(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Bm(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=u3(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=l3(this._rawAsyncValidators)}},Nc=class extends Mc{constructor(e,t,r){super(xb(t),Mb(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){vN(this,!0,e),Object.keys(e).forEach(r=>{yN(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Db=class extends Nc{};var Yl=new Z("CallSetDisabledState",{providedIn:"root",factory:()=>$m}),$m="always";function wN(n,e){return[...e.path,n]}function Fm(n,e,t=$m){Nb(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),h3(n,e),p3(n,e),f3(n,e),d3(n,e)}function XM(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Vm(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Lm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function d3(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Nb(n,e){let t=mN(n);e.validator!==null?n.setValidators(YM(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=gN(n);e.asyncValidator!==null?n.setAsyncValidators(YM(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Lm(e._rawValidators,i),Lm(e._rawAsyncValidators,i)}function Vm(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=mN(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=gN(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Lm(e._rawValidators,r),Lm(e._rawAsyncValidators,r),t}function h3(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&_N(n,e)})}function f3(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&_N(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function _N(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function p3(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function EN(n,e){n==null,Nb(n,e)}function m3(n,e){return Vm(n,e)}function IN(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function g3(n){return Object.getPrototypeOf(n.constructor)===Um}function bN(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function CN(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===jr?t=o:g3(o)?r=o:i=o}),i||r||t||null}function y3(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var v3={provide:Ii,useExisting:yn(()=>Pb)},zl=Promise.resolve(),Pb=(()=>{class n extends Ii{get submitted(){return Cr(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=ka(()=>this.submittedReactive()),this.submittedReactive=Pa(!1),this._directives=new Set,this.ngSubmit=new qe,this.form=new Nc({},Sb(t),Rb(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){zl.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Fm(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){zl.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){zl.then(()=>{let r=this._findContainer(t.path),i=new Nc({});EN(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){zl.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){zl.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),bN(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(Q(Ql,10),Q(jm,10),Q(Yl,8))}}static{this.\u0275dir=We({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Ee("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Wn([v3]),sn]})}}return n})();function eN(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function tN(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Kl=class extends Mc{constructor(e=null,t,r){super(xb(t),Mb(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Bm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(tN(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){eN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){eN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){tN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var w3=n=>n instanceof Kl;var _3={provide:Ns,useExisting:yn(()=>kb)},nN=Promise.resolve(),kb=(()=>{class n extends Ns{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Kl,this._registered=!1,this.name="",this.update=new qe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=CN(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),IN(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Fm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){nN.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Tu(r);nN.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?wN(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(Q(Ii,9),Q(Ql,10),Q(jm,10),Q(Pc,10),Q(ns,8),Q(Yl,8))}}static{this.\u0275dir=We({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Wn([_3]),sn,ti]})}}return n})(),To=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=We({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),E3={provide:Pc,useExisting:yn(()=>Ps),multi:!0},Ps=(()=>{class n extends Um{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ni(n)))(i||n)}})()}static{this.\u0275dir=We({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Ee("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Wn([E3]),sn]})}}return n})();var TN=new Z("");var I3={provide:Ii,useExisting:yn(()=>ks)},ks=(()=>{class n extends Ii{get submitted(){return Cr(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=ka(()=>this._submittedReactive()),this._submittedReactive=Pa(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new qe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Vm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Fm(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){XM(t.control||null,t,!1),y3(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),bN(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Cb(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Tb(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(XM(r||null,t),w3(i)&&(Fm(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);EN(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&m3(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Nb(this.form,this),this._oldForm&&Vm(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(Q(Ql,10),Q(jm,10),Q(Yl,8))}}static{this.\u0275dir=We({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Ee("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Wn([I3]),sn,ti]})}}return n})();var b3={provide:Ns,useExisting:yn(()=>Os)},Os=(()=>{class n extends Ns{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new qe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=CN(this,o)}ngOnChanges(t){this._added||this._setUpControl(),IN(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return wN(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(Q(Ii,13),Q(Ql,10),Q(jm,10),Q(Pc,10),Q(TN,8))}}static{this.\u0275dir=We({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Wn([b3]),sn,ti]})}}return n})(),C3={provide:Pc,useExisting:yn(()=>AN),multi:!0};function DN(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function T3(n){return n.split(":")[0]}var AN=(()=>{class n extends Um{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=DN(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=T3(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ni(n)))(i||n)}})()}static{this.\u0275dir=We({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Ee("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Wn([C3]),sn]})}}return n})(),uee=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(DN(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(Q(Rn),Q(ri),Q(AN,9))}}static{this.\u0275dir=We({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),D3={provide:Pc,useExisting:yn(()=>SN),multi:!0};function rN(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function A3(n){return n.split(":")[0]}var SN=(()=>{class n extends Um{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],d=this._getOptionValue(u.value);i.push(d)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let d=this._getOptionValue(u.value);i.push(d)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=A3(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ni(n)))(i||n)}})()}static{this.\u0275dir=We({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Ee("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Wn([D3]),sn]})}}return n})(),lee=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(rN(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(rN(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(Q(Rn),Q(ri),Q(SN,9))}}static{this.\u0275dir=We({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();var S3=(()=>{class n{constructor(){this._validator=Mm}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Mm,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=We({type:n,features:[ti]})}}return n})();var R3={provide:Ql,useExisting:yn(()=>Ob),multi:!0};var Ob=(()=>{class n extends S3{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Tu,this.createValidator=t=>aN}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ni(n)))(i||n)}})()}static{this.\u0275dir=We({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ir("required",i._enabled?"":null)},inputs:{required:"required"},features:[Wn([R3]),sn]})}}return n})();var RN=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ze({type:n})}static{this.\u0275inj=Ye({})}}return n})(),Ab=class extends Mc{constructor(e,t,r){super(xb(t),Mb(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){vN(this,!1,e),e.forEach((r,i)=>{yN(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function iN(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var kc=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return iN(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Nc(i,o)}record(t,r=null){let i=this._reduceControls(t);return new Db(i,r)}control(t,r,i){let o={};return this.useNonNullable?(iN(r)?o=r:(o.validators=r,o.asyncValidators=i),new Kl(t,le(j({},o),{nonNullable:!0}))):new Kl(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new Ab(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Kl)return t;if(t instanceof Mc)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var xN=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Yl,useValue:t.callSetDisabledState??$m}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ze({type:n})}static{this.\u0275inj=Ye({imports:[RN]})}}return n})(),MN=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:TN,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Yl,useValue:t.callSetDisabledState??$m}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ze({type:n})}static{this.\u0275inj=Ye({imports:[RN]})}}return n})();var er=qd(Zl());var x3=new Z("recaptcha-language"),M3=new Z("recaptcha-base-url"),N3=new Z("recaptcha-nonce-tag"),P3=new Z("recaptcha-settings"),NN=new Z("recaptcha-v3-site-key"),k3=new Z("recaptcha-loader-options");function O3(n,e,t,{url:r,lang:i,nonce:o}={}){window.ng2recaptchaloaded=()=>{t(grecaptcha)};let s=document.createElement("script");s.innerHTML="";let{url:a,nonce:u}=e(new URL(r||"https://www.google.com/recaptcha/api.js"));a.searchParams.set("render",n==="explicit"?n:n.key),a.searchParams.set("onload","ng2recaptchaloaded"),a.searchParams.set("trustedtypes","true"),i&&a.searchParams.set("hl",i),s.src=a.href;let d=u||o;d&&s.setAttribute("nonce",d),s.async=!0,s.defer=!0,document.head.appendChild(s)}function F3({v3SiteKey:n,onBeforeLoad:e,onLoaded:t}){let r=n?{key:n}:"explicit";PN.loadScript(r,e,t)}var PN={loadScript:O3,newLoadScript:F3};function L3(n){return n.asObservable().pipe(jt(e=>e!==null))}var qm=(()=>{class n{static{this.ready=null}constructor(t,r,i,o,s,a){this.platformId=t,this.language=r,this.baseUrl=i,this.nonce=o,this.v3SiteKey=s,this.options=a;let u=this.init();this.ready=u?L3(u):ae()}init(){if(n.ready)return n.ready;if(!Wv(this.platformId))return;let t=new ut(null);return n.ready=t,PN.newLoadScript({v3SiteKey:this.v3SiteKey,onBeforeLoad:r=>{if(this.options?.onBeforeLoad)return this.options.onBeforeLoad(r);let i=new URL(this.baseUrl??r);return this.language&&i.searchParams.set("hl",this.language),{url:i,nonce:this.nonce}},onLoaded:r=>{let i=r;this.options?.onLoaded&&(i=this.options.onLoaded(r)),t.next(i)}}),t}static{this.\u0275fac=function(r){return new(r||n)(K(xn),K(x3,8),K(M3,8),K(N3,8),K(NN,8),K(k3,8))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac})}}return n})(),V3=0,kN=(()=>{class n{constructor(t,r,i,o){this.elementRef=t,this.loader=r,this.zone=i,this.id=`ngrecaptcha-${V3++}`,this.errorMode="default",this.resolved=new qe,this.error=new qe,this.errored=new qe,o&&(this.siteKey=o.siteKey,this.theme=o.theme,this.type=o.type,this.size=o.size,this.badge=o.badge)}ngAfterViewInit(){this.subscription=this.loader.ready.subscribe(t=>{t!=null&&t.render instanceof Function&&(this.grecaptcha=t,this.renderRecaptcha())})}ngOnDestroy(){this.grecaptchaReset(),this.subscription&&this.subscription.unsubscribe()}execute(){this.size==="invisible"&&(this.widget!=null?this.grecaptcha.execute(this.widget):this.executeRequested=!0)}reset(){this.widget!=null&&(this.grecaptcha.getResponse(this.widget)&&this.resolved.emit(null),this.grecaptchaReset())}get __unsafe_widgetValue(){return this.widget!=null?this.grecaptcha.getResponse(this.widget):null}expired(){this.resolved.emit(null)}onError(t){this.error.emit(t),this.errored.emit(t)}captchaResponseCallback(t){this.resolved.emit(t)}grecaptchaReset(){this.widget!=null&&this.zone.runOutsideAngular(()=>this.grecaptcha.reset(this.widget))}renderRecaptcha(){let t={badge:this.badge,callback:r=>{this.zone.run(()=>this.captchaResponseCallback(r))},"expired-callback":()=>{this.zone.run(()=>this.expired())},sitekey:this.siteKey,size:this.size,tabindex:this.tabIndex,theme:this.theme,type:this.type};this.errorMode==="handled"&&(t["error-callback"]=(...r)=>{this.zone.run(()=>this.onError(r))}),this.widget=this.grecaptcha.render(this.elementRef.nativeElement,t),this.executeRequested===!0&&(this.executeRequested=!1,this.execute())}static{this.\u0275fac=function(r){return new(r||n)(Q(Rn),Q(qm),Q(be),Q(P3,8))}}static{this.\u0275cmp=rn({type:n,selectors:[["re-captcha"]],hostVars:1,hostBindings:function(r,i){r&2&&Ir("id",i.id)},inputs:{id:"id",siteKey:"siteKey",theme:"theme",type:"type",size:"size",tabIndex:"tabIndex",badge:"badge",errorMode:"errorMode"},outputs:{resolved:"resolved",error:"error",errored:"errored"},exportAs:["reCaptcha"],decls:0,vars:0,template:function(r,i){},encapsulation:2})}}return n})(),U3=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ze({type:n})}static{this.\u0275inj=Ye({})}}return n})(),zm=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ze({type:n})}static{this.\u0275inj=Ye({providers:[qm],imports:[U3]})}}return n})(),j3=(()=>{class n{constructor(t,r,i){this.recaptchaLoader=r,this.zone=t,this.siteKey=i,this.init()}get onExecute(){return this.onExecuteSubject||(this.onExecuteSubject=new ct,this.onExecuteObservable=this.onExecuteSubject.asObservable()),this.onExecuteObservable}get onExecuteError(){return this.onExecuteErrorSubject||(this.onExecuteErrorSubject=new ct,this.onExecuteErrorObservable=this.onExecuteErrorSubject.asObservable()),this.onExecuteErrorObservable}execute(t){let r=new ct;return this.grecaptcha?this.executeActionWithSubject(t,r):(this.actionBacklog||(this.actionBacklog=[]),this.actionBacklog.push([t,r])),r.asObservable()}executeActionWithSubject(t,r){let i=o=>{this.zone.run(()=>{r.error(o),this.onExecuteErrorSubject&&this.onExecuteErrorSubject.next({action:t,error:o})})};this.zone.runOutsideAngular(()=>{try{this.grecaptcha.execute(this.siteKey,{action:t}).then(o=>{this.zone.run(()=>{r.next(o),r.complete(),this.onExecuteSubject&&this.onExecuteSubject.next({action:t,token:o})})},i)}catch(o){i(o)}})}init(){this.recaptchaLoader.ready.subscribe(t=>{this.grecaptcha=t,this.actionBacklog&&this.actionBacklog.length>0&&(this.actionBacklog.forEach(([r,i])=>this.executeActionWithSubject(r,i)),this.actionBacklog=void 0)})}static{this.\u0275fac=function(r){return new(r||n)(K(be),K(qm),K(NN))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac})}}return n})(),ON=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ze({type:n})}static{this.\u0275inj=Ye({providers:[j3,qm]})}}return n})();function $3(n,e){n&1&&(F(0,"div"),U(1,"Este campo es obligatorio."),N())}function H3(n,e){n&1&&(F(0,"div"),U(1,"Solo se permiten letras."),N())}function q3(n,e){n&1&&(F(0,"div"),U(1,"Este campo es obligatorio."),N())}function z3(n,e){n&1&&(F(0,"div"),U(1,"Solo se permiten letras."),N())}function G3(n,e){n&1&&(F(0,"div"),U(1,"Este campo es obligatorio."),N())}function W3(n,e){n&1&&(F(0,"div"),U(1,"La edad m\xEDnima es 18 a\xF1os."),N())}function K3(n,e){n&1&&(F(0,"div"),U(1,"La edad m\xE1xima es 99 a\xF1os."),N())}function Q3(n,e){n&1&&(F(0,"div"),U(1,"Este campo es obligatorio."),N())}function Y3(n,e){n&1&&(F(0,"div"),U(1,"El DNI debe tener 8 d\xEDgitos."),N())}function Z3(n,e){n&1&&(F(0,"div"),U(1,"Este campo es obligatorio."),N())}function J3(n,e){n&1&&(F(0,"div"),U(1,"Este campo es obligatorio."),N())}function X3(n,e){n&1&&(F(0,"div"),U(1,"Formato de email inv\xE1lido."),N())}function e5(n,e){n&1&&(F(0,"div"),U(1,"Este campo es obligatorio."),N())}function t5(n,e){n&1&&(F(0,"div"),U(1,"La contrase\xF1a debe tener al menos 6 caracteres."),N())}function n5(n,e){n&1&&(F(0,"div"),U(1,"Debes subir exactamente 2 im\xE1genes."),N())}function r5(n,e){if(n&1){let t=br();F(0,"div")(1,"re-captcha",20),Ee("resolved",function(i){_r(t);let o=Mn();return Er(o.onCaptchaResolved(i))}),N()()}}function i5(n,e){n&1&&(F(0,"div")(1,"span"),U(2,"Captcha completado con \xE9xito"),N()())}var Gm=class n{constructor(e,t,r){this.fb=e;this.authService=t;this.router=r;this.pacienteForm=this.fb.group({nombre:["",[ce.required,ce.pattern("^[a-zA-Z ]*$")]],apellido:["",[ce.required,ce.pattern("^[a-zA-Z ]*$")]],edad:["",[ce.required,ce.min(1),ce.max(123)]],dni:["",[ce.required,ce.pattern("^[0-9]{8,8}$")]],obraSocial:["",ce.required],email:["",[ce.required,ce.email]],password:["",[ce.required,ce.minLength(6)]],imagenes:this.fb.array([],[ce.required])})}pacienteForm;allowedFileTypes=["image/jpeg","image/png","image/gif"];maxFileSize=2*1024*1024;captchaValido=!1;agregarImagen(e){let t=e.target,r=this.pacienteForm.get("imagenes");if(t.files&&t.files.length>0){let i=Array.from(t.files);for(let o of i){if(!this.allowedFileTypes.includes(o.type)){er.default.fire("Tipo de archivo no v\xE1lido","Solo se permiten im\xE1genes en formato JPEG, PNG o GIF.","error");return}if(o.size>this.maxFileSize){er.default.fire("Tama\xF1o de archivo excedido","El tama\xF1o m\xE1ximo permitido es de 2 MB por archivo.","error");return}}if(r.length>=2){er.default.fire("Error","Solo puedes subir hasta 2 im\xE1genes.","error");return}i.forEach(o=>{r.length<2&&r.push(this.fb.control(o))})}}mostrarError(e,t){let r=this.pacienteForm.get(e);return r?r.hasError(t)&&(r.dirty||r.touched):!1}guardarPaciente(){return b(this,null,function*(){if(this.pacienteForm.valid&&this.captchaValido){let e=this.pacienteForm.get("imagenes");if(e.length!==2){er.default.fire("Error","Debes subir exactamente 2 im\xE1genes.","error");return}er.default.fire({title:"Cargando...",text:"Por favor, espera un momento.",allowOutsideClick:!1,didOpen:()=>{er.default.showLoading()}});try{let t=[];for(let i=0;i<e.length;i++){let o=e.at(i).value,s=yield this.authService.uploadImage(o);t.push(s)}let r=le(j({},this.pacienteForm.value),{role:"paciente",imagenes:t});yield this.authService.registerUser(r.email,r.password,r,"paciente"),er.default.fire("Registro exitoso","El paciente ha sido registrado correctamente","success"),this.pacienteForm.reset(),this.router.navigate(["/bienvenida"])}catch(t){er.default.fire("Error",`Ha ocurrido un error durante el registro: ${t}`,"error")}finally{er.default.close()}}else er.default.fire("Formulario inv\xE1lido","Por favor, completa todos los campos correctamente.","warning")})}onCaptchaResolved(e){this.captchaValido=!!e}static \u0275fac=function(t){return new(t||n)(Q(kc),Q(kn),Q(Rt))};static \u0275cmp=rn({type:n,selectors:[["app-registro-paciente"]],decls:53,vars:19,consts:[[3,"ngSubmit","formGroup"],["for","nombre"],["id","nombre","formControlName","nombre"],[4,"ngIf"],["for","apellido"],["id","apellido","formControlName","apellido"],["for","edad"],["id","edad","type","number","formControlName","edad"],["for","dni"],["id","dni","formControlName","dni"],["for","obraSocial"],["id","obraSocial","formControlName","obraSocial"],["for","email"],["id","email","formControlName","email"],["for","password"],["id","password","type","password","formControlName","password"],["for","imagenes"],["type","file","multiple","",3,"change"],[1,"captcha-container"],["type","submit",3,"disabled"],["siteKey","6LeSo3oqAAAAAIQ5hamDg0b7J9m9D7QuO2Jj0fXc",3,"resolved"]],template:function(t,r){t&1&&(F(0,"form",0),Ee("ngSubmit",function(){return r.guardarPaciente()}),F(1,"div")(2,"label",1),U(3,"Nombre:"),N(),ve(4,"input",2),Me(5,$3,2,0,"div",3)(6,H3,2,0,"div",3),N(),F(7,"div")(8,"label",4),U(9,"Apellido:"),N(),ve(10,"input",5),Me(11,q3,2,0,"div",3)(12,z3,2,0,"div",3),N(),F(13,"div")(14,"label",6),U(15,"Edad:"),N(),ve(16,"input",7),Me(17,G3,2,0,"div",3)(18,W3,2,0,"div",3)(19,K3,2,0,"div",3),N(),F(20,"div")(21,"label",8),U(22,"DNI:"),N(),ve(23,"input",9),Me(24,Q3,2,0,"div",3)(25,Y3,2,0,"div",3),N(),F(26,"div")(27,"label",10),U(28,"Obra Social:"),N(),ve(29,"input",11),Me(30,Z3,2,0,"div",3),N(),F(31,"div")(32,"label",12),U(33,"Email:"),N(),ve(34,"input",13),Me(35,J3,2,0,"div",3)(36,X3,2,0,"div",3),N(),F(37,"div")(38,"label",14),U(39,"Contrase\xF1a:"),N(),ve(40,"input",15),Me(41,e5,2,0,"div",3)(42,t5,2,0,"div",3),N(),F(43,"div")(44,"label",16),U(45,"Sube exactamente 2 im\xE1genes:"),N(),F(46,"input",17),Ee("change",function(o){return r.agregarImagen(o)}),N(),Me(47,n5,2,0,"div",3),N(),F(48,"div",18),Me(49,r5,2,0,"div",3)(50,i5,3,0,"div",3),N(),F(51,"button",19),U(52,"Registrar Paciente "),N()()),t&2&&(W("formGroup",r.pacienteForm),z(5),W("ngIf",r.mostrarError("nombre","required")),z(),W("ngIf",r.mostrarError("nombre","pattern")),z(5),W("ngIf",r.mostrarError("apellido","required")),z(),W("ngIf",r.mostrarError("apellido","pattern")),z(5),W("ngIf",r.mostrarError("edad","required")),z(),W("ngIf",r.mostrarError("edad","min")),z(),W("ngIf",r.mostrarError("edad","max")),z(5),W("ngIf",r.mostrarError("dni","required")),z(),W("ngIf",r.mostrarError("dni","pattern")),z(5),W("ngIf",r.mostrarError("obraSocial","required")),z(5),W("ngIf",r.mostrarError("email","required")),z(),W("ngIf",r.mostrarError("email","email")),z(5),W("ngIf",r.mostrarError("password","required")),z(),W("ngIf",r.mostrarError("password","minlength")),z(5),W("ngIf",r.mostrarError("imagenes","required")),z(2),W("ngIf",!r.captchaValido),z(),W("ngIf",r.captchaValido),z(),W("disabled",!r.captchaValido))},dependencies:[io,To,jr,Ps,bo,Co,ks,Os,kN],styles:['@charset "UTF-8";form[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;padding:30px;border:1px solid #007bff;border-radius:10px;background-color:#e0f7fa;box-shadow:0 4px 20px #0003}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:8px;display:block;color:#007bff}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #007bff;border-radius:6px;margin-bottom:15px;box-sizing:border-box;transition:border-color .3s,background-color .3s;background-color:#f1f1f1}input[type=text][_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus, input[type=email][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus{border-color:#0056b3;outline:none;background-color:#fff}div[ngIf][_ngcontent-%COMP%]{color:#dc3545;font-size:.9em;margin-top:-10px;margin-bottom:10px}button[type=submit][_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:12px 15px;border:none;border-radius:6px;cursor:pointer;transition:background-color .3s,transform .2s;width:100%;font-size:1em}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:translateY(-2px)}input[type=text][_ngcontent-%COMP%]:hover, input[type=number][_ngcontent-%COMP%]:hover, input[type=email][_ngcontent-%COMP%]:hover, input[type=password][_ngcontent-%COMP%]:hover{border-color:#0056b3}div[_ngcontent-%COMP%]{margin-bottom:15px}']})};var zt=qd(Zl());var Km=class n{constructor(e){this.firestore=e}addEspecialidad(e){return b(this,null,function*(){let t=Vr(Ll(this.firestore,"especialidades"));yield Tm(t,{nombre:e})})}getEspecialidades(){return b(this,null,function*(){let e=Ll(this.firestore,"especialidades");return(yield Cm(e)).docs.map(r=>j({id:r.id},r.data()))})}getEspecialidad(e){return b(this,null,function*(){let t=Vr(this.firestore,`especialidades/${e}`),r=yield bm(t);if(r.exists())return j({id:r.id},r.data());throw new Error("No se encontr\xF3 la especialidad")})}updateEspecialidad(e,t){return b(this,null,function*(){let r=Vr(this.firestore,`especialidades/${e}`);yield Tc(r,{nombre:t})})}static \u0275fac=function(t){return new(t||n)(K(Ei))};static \u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})};function a5(n,e){n&1&&(F(0,"div"),U(1,"Este campo es obligatorio."),N())}function c5(n,e){n&1&&(F(0,"div"),U(1,"Solo se permiten letras."),N())}function u5(n,e){n&1&&(F(0,"div"),U(1,"Este campo es obligatorio."),N())}function l5(n,e){n&1&&(F(0,"div"),U(1,"Solo se permiten letras."),N())}function d5(n,e){n&1&&(F(0,"div"),U(1,"Este campo es obligatorio."),N())}function h5(n,e){n&1&&(F(0,"div"),U(1,"La edad m\xEDnima es 18 a\xF1os."),N())}function f5(n,e){n&1&&(F(0,"div"),U(1,"La edad m\xE1xima es 99 a\xF1os."),N())}function p5(n,e){n&1&&(F(0,"div"),U(1,"Este campo es obligatorio."),N())}function m5(n,e){n&1&&(F(0,"div"),U(1,"El DNI debe tener 8 d\xEDgitos."),N())}function g5(n,e){if(n&1){let t=br();F(0,"div")(1,"input",22),Ee("change",function(i){_r(t);let o=Mn();return Er(o.onEspecialidadChange(i))}),N(),U(2),N()}if(n&2){let t=e.$implicit;z(),W("value",t),z(),bf(" ",t," ")}}function y5(n,e){n&1&&(F(0,"div")(1,"p"),U(2,"No hay especialidades disponibles. Puedes agregar una nueva a continuaci\xF3n:"),N()())}function v5(n,e){n&1&&(F(0,"div"),U(1,"Este campo es obligatorio."),N())}function w5(n,e){n&1&&(F(0,"div"),U(1,"Este campo es obligatorio si no hay especialidades disponibles."),N())}function _5(n,e){n&1&&(F(0,"div"),U(1,"Este campo es obligatorio."),N())}function E5(n,e){n&1&&(F(0,"div"),U(1,"El formato del email es inv\xE1lido."),N())}function I5(n,e){n&1&&(F(0,"div"),U(1,"Este campo es obligatorio."),N())}function b5(n,e){n&1&&(F(0,"div"),U(1,"La contrase\xF1a debe tener al menos 6 caracteres."),N())}function C5(n,e){n&1&&(F(0,"div"),U(1,"Se debe cargar una imagen."),N())}function T5(n,e){if(n&1){let t=br();F(0,"div")(1,"div",23),Ee("resolved",function(i){_r(t);let o=Mn();return Er(o.onCaptchaResolved(i))}),N()()}if(n&2){let t=Mn();z(),Ir("data-sitekey",t.siteKey)}}function D5(n,e){n&1&&(F(0,"div")(1,"span"),U(2,"Captcha completado con \xE9xito"),N()())}var Qm=class n{constructor(e,t,r,i){this.fb=e;this.authService=t;this.router=r;this.especialidadService=i;this.especialistaForm=this.fb.group({nombre:["",[ce.required,ce.pattern("^[a-zA-Z ]*$")]],apellido:["",[ce.required,ce.pattern("^[a-zA-Z ]*$")]],edad:["",[ce.required,ce.min(18),ce.max(99)]],dni:["",[ce.required,ce.pattern("^[0-9]{8}$")]],especialidades:this.fb.array([],ce.required),nuevaEspecialidad:[""],email:["",[ce.required,ce.email]],password:["",[ce.required,ce.minLength(6)]],imagenes:this.fb.array([],ce.required)})}especialistaForm;allowedFileTypes=["image/jpeg","image/png","image/gif"];maxFileSize=2*1024*1024;especialidades=[];captchaValido=!1;siteKey="6LeSo3oqAAAAAIQ5hamDg0b7J9m9D7QuO2Jj0fXc";ngOnInit(){this.loadEspecialidades()}loadEspecialidades(){this.especialidadService.getEspecialidades().then(e=>{this.especialidades=e.map(t=>t.nombre)})}onEspecialidadChange(e){let t=this.especialistaForm.get("especialidades");if(e.target.checked)t.push(this.fb.control(e.target.value));else{let r=t.controls.findIndex(i=>i.value===e.target.value);r>=0&&t.removeAt(r)}}agregarNuevaEspecialidad(){let e=this.especialistaForm.get("nuevaEspecialidad")?.value?.trim();if(!e){zt.default.fire("Advertencia","Ingresa una nueva especialidad antes de agregarla.","warning");return}if(this.especialidades.includes(e)){zt.default.fire("Advertencia","La especialidad ya existe en la lista.","warning");return}this.especialidadService.addEspecialidad(e).then(()=>{zt.default.fire("\xC9xito","Nueva especialidad agregada correctamente.","success"),this.loadEspecialidades(),this.especialistaForm.get("nuevaEspecialidad")?.reset()}).catch(t=>{zt.default.fire("Error","No se pudo agregar la especialidad.","error")})}agregarImagen(e){let t=e.target,r=this.especialistaForm.get("imagenes");if(t.files&&t.files.length>0){let i=t.files[0];if(!this.allowedFileTypes.includes(i.type)){zt.default.fire("Tipo de archivo no v\xE1lido","Por favor, sube una imagen en formato JPEG, PNG o GIF.","error");return}if(i.size>this.maxFileSize){zt.default.fire("Tama\xF1o de archivo excedido","El tama\xF1o m\xE1ximo permitido es de 2 MB.","error");return}r.clear(),r.push(this.fb.control(i))}}mostrarError(e,t){let r=this.especialistaForm.get(e);return r?r.hasError(t)&&(r.dirty||r.touched):!1}guardarEspecialista(){return b(this,null,function*(){if(this.especialistaForm.valid&&this.captchaValido){let e=this.especialistaForm.get("especialidades"),t=this.especialistaForm.get("nuevaEspecialidad")?.value;if(e.length===0&&t)e.push(this.fb.control(t));else if(e.length===0){zt.default.fire("Advertencia","Debes seleccionar al menos una especialidad o agregar una nueva.","warning");return}zt.default.fire({title:"Cargando...",text:"Por favor, espera un momento.",allowOutsideClick:!1}),zt.default.showLoading();let i=this.especialistaForm.get("imagenes").at(0).value;try{let o=yield this.authService.uploadImage(i),s=le(j({},this.especialistaForm.value),{especialidades:e.value,role:"especialista",imageUrl:o});delete s.imagenes,yield this.authService.registerUser(s.email,s.password,s,"especialista"),zt.default.fire("Registro exitoso","El especialista ha sido registrado correctamente","success"),this.router.navigate(["/bienvenida"])}catch(o){zt.default.fire("Error",`Ha ocurrido un error durante la subida de la imagen: ${o}`,"error")}finally{zt.default.close()}}else zt.default.fire("Formulario inv\xE1lido","Por favor, completa todos los campos","warning")})}onCaptchaResolved(e){e?(this.captchaValido=!0,zt.default.fire("Captcha validado","Captcha verificado correctamente","success")):(this.captchaValido=!1,zt.default.fire("Captcha inv\xE1lido","Por favor, resuelve el CAPTCHA correctamente","error"))}static \u0275fac=function(t){return new(t||n)(Q(kc),Q(kn),Q(Rt),Q(Km))};static \u0275cmp=rn({type:n,selectors:[["app-registro-especialista"]],decls:61,vars:22,consts:[[3,"ngSubmit","formGroup"],["for","nombre"],["id","nombre","formControlName","nombre"],[4,"ngIf"],["for","apellido"],["id","apellido","formControlName","apellido"],["for","edad"],["id","edad","type","number","formControlName","edad"],["for","dni"],["id","dni","formControlName","dni"],[4,"ngFor","ngForOf"],["for","nuevaEspecialidad"],["id","nuevaEspecialidad","formControlName","nuevaEspecialidad","placeholder","Si no est\xE1 en la lista, ingr\xE9sela aqu\xED"],["type","button",3,"click"],["for","email"],["id","email","formControlName","email"],["for","password"],["id","password","type","password","formControlName","password"],["for","imagenes"],["type","file",3,"change"],[1,"captcha-container"],["type","submit",3,"disabled"],["type","checkbox",3,"change","value"],[1,"g-recaptcha",3,"resolved"]],template:function(t,r){t&1&&(F(0,"form",0),Ee("ngSubmit",function(){return r.guardarEspecialista()}),F(1,"div")(2,"label",1),U(3,"Nombre:"),N(),ve(4,"input",2),Me(5,a5,2,0,"div",3)(6,c5,2,0,"div",3),N(),F(7,"div")(8,"label",4),U(9,"Apellido:"),N(),ve(10,"input",5),Me(11,u5,2,0,"div",3)(12,l5,2,0,"div",3),N(),F(13,"div")(14,"label",6),U(15,"Edad:"),N(),ve(16,"input",7),Me(17,d5,2,0,"div",3)(18,h5,2,0,"div",3)(19,f5,2,0,"div",3),N(),F(20,"div")(21,"label",8),U(22,"DNI:"),N(),ve(23,"input",9),Me(24,p5,2,0,"div",3)(25,m5,2,0,"div",3),N(),F(26,"div")(27,"label"),U(28,"Especialidades:"),N(),Me(29,g5,3,2,"div",10)(30,y5,3,0,"div",3)(31,v5,2,0,"div",3),N(),F(32,"div")(33,"label",11),U(34,"Nueva Especialidad:"),N(),ve(35,"input",12),F(36,"button",13),Ee("click",function(){return r.agregarNuevaEspecialidad()}),U(37,"Agregar Nueva Especialidad"),N(),Me(38,w5,2,0,"div",3),N(),F(39,"div")(40,"label",14),U(41,"Email:"),N(),ve(42,"input",15),Me(43,_5,2,0,"div",3)(44,E5,2,0,"div",3),N(),F(45,"div")(46,"label",16),U(47,"Contrase\xF1a:"),N(),ve(48,"input",17),Me(49,I5,2,0,"div",3)(50,b5,2,0,"div",3),N(),F(51,"div")(52,"label",18),U(53,"Im\xE1genes:"),N(),F(54,"input",19),Ee("change",function(o){return r.agregarImagen(o)}),N(),Me(55,C5,2,0,"div",3),N(),F(56,"div",20),Me(57,T5,2,1,"div",3)(58,D5,3,0,"div",3),N(),F(59,"button",21),U(60,"Registrar Especialista"),N()()),t&2&&(W("formGroup",r.especialistaForm),z(5),W("ngIf",r.mostrarError("nombre","required")),z(),W("ngIf",r.mostrarError("nombre","pattern")),z(5),W("ngIf",r.mostrarError("apellido","required")),z(),W("ngIf",r.mostrarError("apellido","pattern")),z(5),W("ngIf",r.mostrarError("edad","required")),z(),W("ngIf",r.mostrarError("edad","min")),z(),W("ngIf",r.mostrarError("edad","max")),z(5),W("ngIf",r.mostrarError("dni","required")),z(),W("ngIf",r.mostrarError("dni","pattern")),z(4),W("ngForOf",r.especialidades),z(),W("ngIf",r.especialidades.length===0),z(),W("ngIf",r.mostrarError("especialidades","required")),z(7),W("ngIf",r.mostrarError("nuevaEspecialidad","required")),z(5),W("ngIf",r.mostrarError("email","required")),z(),W("ngIf",r.mostrarError("email","email")),z(5),W("ngIf",r.mostrarError("password","required")),z(),W("ngIf",r.mostrarError("password","minlength")),z(5),W("ngIf",r.mostrarError("imagenes","required")),z(2),W("ngIf",!r.captchaValido),z(),W("ngIf",r.captchaValido),z(),W("disabled",!r.captchaValido))},dependencies:[$D,io,To,jr,Ps,bo,Co,ks,Os],styles:['@charset "UTF-8";form[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;padding:30px;border:2px solid #007bff;border-radius:15px;background-color:#e0f7fa;box-shadow:0 4px 20px #0003}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#007bff}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #007bff;border-radius:6px;font-size:16px;margin-bottom:15px;box-sizing:border-box;transition:border-color .3s,background-color .3s;background-color:#f1f1f1}input[type=text][_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus, input[type=email][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{border-color:#0056b3;outline:none;background-color:#fff}input[type=file][_ngcontent-%COMP%]{margin-bottom:10px}div[ngIf][_ngcontent-%COMP%]{color:#dc3545;font-size:.9em;margin-top:-10px;margin-bottom:10px}button[type=submit][_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:12px 15px;border:none;border-radius:6px;cursor:pointer;transition:background-color .3s,transform .2s;width:100%;font-size:1em}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:translateY(-2px)}div[_ngcontent-%COMP%]{margin-bottom:20px}']})};var un=qd(Zl());function S5(n,e){n&1&&(F(0,"div"),U(1,"Este campo es obligatorio."),N())}function R5(n,e){n&1&&(F(0,"div"),U(1,"Solo se permiten letras."),N())}function x5(n,e){n&1&&(F(0,"div"),U(1,"Este campo es obligatorio."),N())}function M5(n,e){n&1&&(F(0,"div"),U(1,"Solo se permiten letras."),N())}function N5(n,e){n&1&&(F(0,"div"),U(1,"Este campo es obligatorio."),N())}function P5(n,e){n&1&&(F(0,"div"),U(1,"La edad m\xEDnima es 18 a\xF1os."),N())}function k5(n,e){n&1&&(F(0,"div"),U(1,"La edad m\xE1xima es 99 a\xF1os."),N())}function O5(n,e){n&1&&(F(0,"div"),U(1,"Este campo es obligatorio."),N())}function F5(n,e){n&1&&(F(0,"div"),U(1,"El DNI debe tener 8 d\xEDgitos."),N())}function L5(n,e){n&1&&(F(0,"div"),U(1,"Este campo es obligatorio."),N())}function V5(n,e){n&1&&(F(0,"div"),U(1,"Formato de email inv\xE1lido."),N())}function U5(n,e){n&1&&(F(0,"div"),U(1,"Este campo es obligatorio."),N())}function j5(n,e){n&1&&(F(0,"div"),U(1,"La contrase\xF1a debe tener al menos 6 caracteres."),N())}function B5(n,e){n&1&&(F(0,"div"),U(1,"Debes subir al menos 1 imagen."),N())}function $5(n,e){if(n&1){let t=br();F(0,"div")(1,"div",18),Ee("resolved",function(i){_r(t);let o=Mn();return Er(o.onCaptchaResolved(i))}),N()()}if(n&2){let t=Mn();z(),Ir("data-sitekey",t.siteKey)}}function H5(n,e){n&1&&(F(0,"div")(1,"span"),U(2,"Captcha completado con \xE9xito"),N()())}var Ym=class n{constructor(e,t,r){this.fb=e;this.authService=t;this.router=r;this.adminForm=this.fb.group({nombre:["",[ce.required,ce.pattern("^[a-zA-Z ]*$")]],apellido:["",[ce.required,ce.pattern("^[a-zA-Z ]*$")]],edad:["",[ce.required,ce.min(18),ce.max(99)]],dni:["",[ce.required,ce.pattern("^[0-9]{8,8}$")]],email:["",[ce.required,ce.email]],password:["",[ce.required,ce.minLength(6)]],imagenes:this.fb.array([],[ce.required])})}adminForm;allowedFileTypes=["image/jpeg","image/png","image/gif"];maxFileSize=2*1024*1024;captchaValido=!1;siteKey="6LeSo3oqAAAAAIQ5hamDg0b7J9m9D7QuO2Jj0fXc";agregarImagen(e){let t=e.target,r=this.adminForm.get("imagenes");if(t.files&&t.files.length>0){let i=t.files[0];if(!this.allowedFileTypes.includes(i.type)){un.default.fire("Tipo de archivo no v\xE1lido","Por favor, sube una imagen en formato JPEG, PNG o GIF.","error");return}if(i.size>this.maxFileSize){un.default.fire("Tama\xF1o de archivo excedido","El tama\xF1o m\xE1ximo permitido es de 2 MB.","error");return}r.length<1?r.push(this.fb.control(i)):un.default.fire("Error","Solo se permite subir una imagen.","error")}}uploadImage(e){return b(this,null,function*(){try{return yield this.authService.uploadImage(e)}catch(t){throw console.error("Error al subir la imagen:",t),un.default.fire("Error al subir la imagen","Hubo un problema al subir la imagen. Por favor, intenta de nuevo.","error"),t}})}mostrarError(e,t){let r=this.adminForm.get(e);return r?r.hasError(t)&&(r.dirty||r.touched):!1}guardarAdmin(){return b(this,null,function*(){if(this.adminForm.valid&&this.captchaValido){let e=this.adminForm.get("imagenes");if(e.length!==1){un.default.fire("Error","Debes subir exactamente 1 imagen.","error");return}let t=e.at(0).value;un.default.fire({title:"Cargando...",text:"Por favor, espera un momento.",allowOutsideClick:!1,didOpen:()=>{un.default.showLoading()}});try{let r=yield this.uploadImage(t),i=le(j({},this.adminForm.value),{role:"administrador",imageUrl:r});delete i.imagenes,yield this.authService.registerUser(i.email,i.password,i,"administrador"),un.default.fire("Registro exitoso","El administrador ha sido registrado correctamente","success"),this.adminForm.reset(),this.router.navigate(["/bienvenida"])}catch{un.default.fire("Error","Ha ocurrido un error durante el registro","error")}finally{un.default.close()}}else un.default.fire("Formulario inv\xE1lido","Por favor, completa todos los campos","warning")})}onCaptchaResolved(e){e?(this.captchaValido=!0,un.default.fire("Captcha validado","Captcha verificado correctamente","success")):(this.captchaValido=!1,un.default.fire("Captcha inv\xE1lido","Por favor, resuelve el CAPTCHA correctamente","error"))}static \u0275fac=function(t){return new(t||n)(Q(kc),Q(kn),Q(Rt))};static \u0275cmp=rn({type:n,selectors:[["app-registro-admin"]],decls:48,vars:18,consts:[[3,"ngSubmit","formGroup"],["for","nombre"],["id","nombre","formControlName","nombre"],[4,"ngIf"],["for","apellido"],["id","apellido","formControlName","apellido"],["for","edad"],["id","edad","type","number","formControlName","edad"],["for","dni"],["id","dni","formControlName","dni"],["for","email"],["id","email","formControlName","email"],["for","password"],["id","password","type","password","formControlName","password"],["for","imagen"],["type","file",3,"change"],[1,"captcha-container"],["type","submit",3,"disabled"],[1,"g-recaptcha",3,"resolved"]],template:function(t,r){t&1&&(F(0,"form",0),Ee("ngSubmit",function(){return r.guardarAdmin()}),F(1,"div")(2,"label",1),U(3,"Nombre:"),N(),ve(4,"input",2),Me(5,S5,2,0,"div",3)(6,R5,2,0,"div",3),N(),F(7,"div")(8,"label",4),U(9,"Apellido:"),N(),ve(10,"input",5),Me(11,x5,2,0,"div",3)(12,M5,2,0,"div",3),N(),F(13,"div")(14,"label",6),U(15,"Edad:"),N(),ve(16,"input",7),Me(17,N5,2,0,"div",3)(18,P5,2,0,"div",3)(19,k5,2,0,"div",3),N(),F(20,"div")(21,"label",8),U(22,"DNI:"),N(),ve(23,"input",9),Me(24,O5,2,0,"div",3)(25,F5,2,0,"div",3),N(),F(26,"div")(27,"label",10),U(28,"Email:"),N(),ve(29,"input",11),Me(30,L5,2,0,"div",3)(31,V5,2,0,"div",3),N(),F(32,"div")(33,"label",12),U(34,"Contrase\xF1a:"),N(),ve(35,"input",13),Me(36,U5,2,0,"div",3)(37,j5,2,0,"div",3),N(),F(38,"div")(39,"label",14),U(40,"Sube 1 imagen:"),N(),F(41,"input",15),Ee("change",function(o){return r.agregarImagen(o)}),N(),Me(42,B5,2,0,"div",3),N(),F(43,"div",16),Me(44,$5,2,1,"div",3)(45,H5,3,0,"div",3),N(),F(46,"button",17),U(47,"Registrar Administrador"),N()()),t&2&&(W("formGroup",r.adminForm),z(5),W("ngIf",r.mostrarError("nombre","required")),z(),W("ngIf",r.mostrarError("nombre","pattern")),z(5),W("ngIf",r.mostrarError("apellido","required")),z(),W("ngIf",r.mostrarError("apellido","pattern")),z(5),W("ngIf",r.mostrarError("edad","required")),z(),W("ngIf",r.mostrarError("edad","min")),z(),W("ngIf",r.mostrarError("edad","max")),z(5),W("ngIf",r.mostrarError("dni","required")),z(),W("ngIf",r.mostrarError("dni","pattern")),z(5),W("ngIf",r.mostrarError("email","required")),z(),W("ngIf",r.mostrarError("email","email")),z(5),W("ngIf",r.mostrarError("password","required")),z(),W("ngIf",r.mostrarError("password","minlength")),z(5),W("ngIf",r.mostrarError("imagenes","required")),z(2),W("ngIf",!r.captchaValido),z(),W("ngIf",r.captchaValido),z(),W("disabled",!r.captchaValido))},dependencies:[io,To,jr,Ps,bo,Co,ks,Os],styles:['@charset "UTF-8";form[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;padding:30px;border:1px solid #007bff;border-radius:10px;background-color:#e0f7fa;box-shadow:0 4px 20px #0003}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:8px;display:block;color:#007bff}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #007bff;border-radius:6px;margin-bottom:15px;box-sizing:border-box;transition:border-color .3s,background-color .3s;background-color:#f1f1f1}input[type=text][_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus, input[type=email][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus{border-color:#0056b3;outline:none;background-color:#fff}div[ngIf][_ngcontent-%COMP%]{color:#dc3545;font-size:.9em;margin-top:-10px;margin-bottom:10px}button[type=submit][_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:12px 15px;border:none;border-radius:6px;cursor:pointer;transition:background-color .3s,transform .2s;width:100%;font-size:1em}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:translateY(-2px)}input[type=text][_ngcontent-%COMP%]:hover, input[type=number][_ngcontent-%COMP%]:hover, input[type=email][_ngcontent-%COMP%]:hover, input[type=password][_ngcontent-%COMP%]:hover{border-color:#0056b3}']})};function z5(n,e){if(n&1){let t=br();F(0,"button",2),Ee("click",function(){_r(t);let i=Mn();return Er(i.cambiarTipoUsuario("administrador"))}),ve(1,"img",8),F(2,"span"),U(3,"Administrador"),N()()}}function G5(n,e){n&1&&(F(0,"div")(1,"h2",9),U(2,"Registro del Especialista"),N(),ve(3,"app-registro-especialista"),N())}function W5(n,e){n&1&&(F(0,"div")(1,"h2",9),U(2,"Registro del Paciente"),N(),ve(3,"app-registro-paciente"),N())}function K5(n,e){n&1&&(F(0,"div")(1,"h2",9),U(2,"Registro del Administrador"),N(),ve(3,"app-registro-admin"),N())}function Q5(n,e){if(n&1){let t=br();F(0,"div",10)(1,"span"),U(2,"\xBFYa tienes una cuenta?"),N(),F(3,"a",11),Ee("click",function(){_r(t);let i=Mn();return Er(i.goTo("/authentication/login"))}),U(4,"Iniciar sesi\xF3n"),N()()}}var Zm=class n{constructor(e,t){this.authService=e;this.router=t}tipoUsuario="paciente";esAdmin=!1;ngOnInit(){this.authService.getUser().subscribe(e=>{e&&e.role==="administrador"&&(this.esAdmin=!0)})}cambiarTipoUsuario(e){this.tipoUsuario=e}goTo(e){this.router.navigate([e])}static \u0275fac=function(t){return new(t||n)(Q(kn),Q(Rt))};static \u0275cmp=rn({type:n,selectors:[["app-registro"]],decls:16,vars:5,consts:[[1,"registro-titulo"],[1,"user-type-selection"],[1,"user-type-button",3,"click"],["src","logoPaciente.png","alt","Paciente"],["src","logoEspecialista.png","alt","Especialista"],["class","user-type-button",3,"click",4,"ngIf"],[4,"ngIf"],["class","text-center mt-3 cuenta-texto",4,"ngIf"],["src","logoAdministrador.png","alt","Administrador"],[1,"registro-subtitulo"],[1,"text-center","mt-3","cuenta-texto"],["id","iniciar-sesion",1,"text-decoration-none","iniciar-sesion-link",3,"click"]],template:function(t,r){t&1&&(F(0,"h2",0),U(1,"Bienvenido al Registro"),N(),F(2,"div",1)(3,"button",2),Ee("click",function(){return r.cambiarTipoUsuario("paciente")}),ve(4,"img",3),F(5,"span"),U(6,"Paciente"),N()(),F(7,"button",2),Ee("click",function(){return r.cambiarTipoUsuario("especialista")}),ve(8,"img",4),F(9,"span"),U(10,"Especialista"),N()(),Me(11,z5,4,0,"button",5),N(),Me(12,G5,4,0,"div",6)(13,W5,4,0,"div",6)(14,K5,4,0,"div",6)(15,Q5,5,0,"div",7)),t&2&&(z(11),W("ngIf",r.esAdmin),z(),W("ngIf",r.tipoUsuario==="especialista"),z(),W("ngIf",r.tipoUsuario==="paciente"),z(),W("ngIf",r.tipoUsuario==="administrador"),z(),W("ngIf",r.tipoUsuario!="administrador"))},dependencies:[io,Gm,Qm,Ym],styles:[".registro-titulo[_ngcontent-%COMP%]{text-align:center;color:#154360;font-size:1.8rem;font-weight:700}.registro-subtitulo[_ngcontent-%COMP%]{text-align:center;color:#1e8449;font-size:1.5rem;font-weight:700;margin-top:1.5rem}.user-type-selection[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1.5rem;margin-top:2rem}.user-type-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:1rem;width:150px;height:200px;border:none;background-color:#f2f3f4;border-radius:8px;box-shadow:0 4px 8px #0000001a;cursor:pointer;transition:transform .2s ease,background-color .2s ease}.user-type-button[_ngcontent-%COMP%]:hover{background-color:#60db94;transform:scale(1.05)}img[_ngcontent-%COMP%]{width:80px;height:80px;margin-bottom:.5rem}span[_ngcontent-%COMP%]{font-weight:700;color:#071721;margin-top:.5rem}.cuenta-texto[_ngcontent-%COMP%]{font-size:.9rem;color:#154360;text-align:center;margin-top:1rem}.iniciar-sesion-link[_ngcontent-%COMP%]{color:#0b311b;font-weight:700;text-decoration:none;margin-left:.3rem}.iniciar-sesion-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.captcha-container[_ngcontent-%COMP%]{margin-top:15px}.captcha-label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-control[_ngcontent-%COMP%]{padding:10px;width:100%;border-radius:5px;border:1px solid #ddd}"]})};var Lb=qd(Zl());var Jm=class n{constructor(e,t){this.authService=e;this.router=t}userMail="";userPWD="";msjError="";Login(){this.authService.login(this.userMail,this.userPWD).then(()=>{Lb.default.fire({icon:"success",title:"\xA1Bienvenido!",text:"Has iniciado sesi\xF3n con \xE9xito.",timer:2e3,showConfirmButton:!1}),this.router.navigate(["/bienvenida"])}).catch(e=>{this.manejarErrores(e)})}manejarErrores(e){switch(e.code){case"auth/invalid-email":this.msjError="Email inv\xE1lido. Por favor, verifica el formato del correo.";break;case"auth/user-not-found":this.msjError="Usuario no encontrado. Por favor, revisa tus credenciales.";break;case"auth/wrong-password":this.msjError="Contrase\xF1a incorrecta. Vuelve a intentarlo.";break;case"auth/missing-password":this.msjError="Se necesita la contrase\xF1a.";break;case"auth/invalid-credential":this.msjError="Las credenciales no son v\xE1lidas.";break;default:this.msjError="Error: "+e.message;break}Lb.default.fire({icon:"error",title:"Error en el inicio de sesi\xF3n",text:this.msjError,showConfirmButton:!0})}goTo(e){this.router.navigate([e])}setQuickAccess(e,t){this.userMail=e,this.userPWD=t}static \u0275fac=function(t){return new(t||n)(Q(kn),Q(Rt))};static \u0275cmp=rn({type:n,selectors:[["app-login"]],decls:37,vars:2,consts:[[1,"overlay","d-flex","justify-content-center","align-items-center","vh-100"],[1,"card","p-4","shadow-lg",2,"width","600px","border-radius","20px"],[1,"text-center","mb-4"],[1,"quick-access-container","text-center","mb-3"],["type","button",1,"btn","quick-access-btn",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/prog2-c4fdc.appspot.com/o/images%2Fadmin1.jpeg?alt=media&token=a57cbd55-f2e1-4757-af16-eff8bdafa8bb","alt","Admin",1,"profile-image"],["src","https://firebasestorage.googleapis.com/v0/b/prog2-c4fdc.appspot.com/o/images%2FprimerPaciente2.jpeg?alt=media&token=99602e1f-cbf5-4875-9578-4abed68d326e","alt","Paciente 1",1,"profile-image"],["src","https://firebasestorage.googleapis.com/v0/b/prog2-c4fdc.appspot.com/o/images%2FsegundoPaciente2.jpeg?alt=media&token=5810d4e8-b42d-4700-92f7-9c2b0555f6e5","alt","Paciente 2",1,"profile-image"],["src","https://firebasestorage.googleapis.com/v0/b/prog2-c4fdc.appspot.com/o/images%2FtercerPaciente2.jpeg?alt=media&token=2db42b31-2a1c-4089-9cbb-83e135bde901","alt","Paciente 3",1,"profile-image"],["src","https://firebasestorage.googleapis.com/v0/b/prog2-c4fdc.appspot.com/o/images%2Fespecialista1.jpeg?alt=media&token=bf238ea3-3895-4bce-8c26-f4d0230180ec","alt","Especialista 1",1,"profile-image"],["src","https://firebasestorage.googleapis.com/v0/b/prog2-c4fdc.appspot.com/o/images%2Fespecialista2.jpeg?alt=media&token=6f0acb41-2667-4bf3-b506-c2a4da7a2e21","alt","Especialista 2",1,"profile-image"],[3,"ngSubmit"],[1,"form-group"],["for","nombre"],["type","email","id","nombre","name","email","placeholder","Ingrese su email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","clave"],["type","password","id","clave","name","password","placeholder","Ingrese su contrase\xF1a","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-center","mb-3"],["id","olvido-contrasena",1,"text-decoration-none"],["type","submit",1,"btn","btn-warning","btn-block","rounded-pill","font-weight-bold"],[1,"text-center","mt-3"],["id","registrarse",1,"text-decoration-none",3,"click"]],template:function(t,r){t&1&&(F(0,"div",0)(1,"div",1)(2,"h1",2),U(3,"Inicio Sesi\xF3n"),N(),F(4,"div",3)(5,"button",4),Ee("click",function(){return r.setQuickAccess("celusal704@gmail.com","123456")}),ve(6,"img",5),N(),F(7,"button",4),Ee("click",function(){return r.setQuickAccess("demaiojuanpablo05@gmail.com","123456")}),ve(8,"img",6),N(),F(9,"button",4),Ee("click",function(){return r.setQuickAccess("whole.bovid.bmlb@flashpost.net","123456")}),ve(10,"img",7),N(),F(11,"button",4),Ee("click",function(){return r.setQuickAccess("surprising.amphibian.jhgc@flashpost.net","123456")}),ve(12,"img",8),N(),F(13,"button",4),Ee("click",function(){return r.setQuickAccess("demaiojuanpablo2005@gmail.com","123456")}),ve(14,"img",9),N(),F(15,"button",4),Ee("click",function(){return r.setQuickAccess("integral.pig.qzgk@flashpost.net","123456")}),ve(16,"img",10),N()(),F(17,"form",11),Ee("ngSubmit",function(){return r.Login()}),F(18,"div",12)(19,"label",13),U(20,"Email"),N(),F(21,"input",14),Tf("ngModelChange",function(o){return Pv(r.userMail,o)||(r.userMail=o),o}),N()(),F(22,"div",12)(23,"label",15),U(24,"Contrase\xF1a"),N(),F(25,"input",16),Tf("ngModelChange",function(o){return Pv(r.userPWD,o)||(r.userPWD=o),o}),N()(),F(26,"div",17)(27,"a",18),U(28,"\xBFOlvid\xF3 su contrase\xF1a?"),N()(),F(29,"button",19),U(30,"Ingresar"),N(),F(31,"div",20)(32,"div")(33,"span"),U(34,"\xBFNo tienes una cuenta?"),N(),F(35,"a",21),Ee("click",function(){return r.goTo("/authentication/registro")}),U(36,"Registrarse"),N()()()()()()),t&2&&(z(21),Cf("ngModel",r.userMail),z(4),Cf("ngModel",r.userPWD))},dependencies:[To,jr,bo,Co,Ob,kb,Pb],styles:['@charset "UTF-8";body[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Oswald,sans-serif;background-color:#2a2a2a}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(#000000b3,#000000b3);display:flex;justify-content:center;align-items:center;z-index:-1}.card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#b7f4f9e6;border:none;box-shadow:0 4px 8px #0003;border-radius:20px;padding:40px;width:600px;height:auto;max-width:90%;min-height:600px;margin:20px auto;text-align:center}h1[_ngcontent-%COMP%]{color:#333;text-align:center;margin-bottom:25px}.form-control[_ngcontent-%COMP%]{padding:15px;background-color:#fff;border-radius:10px;border:2px solid #ddd;transition:all .3s ease;text-align:center;width:250px}.form-control[_ngcontent-%COMP%]:focus{border-color:#fc0;box-shadow:0 0 8px #ffcc0080}label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;display:block}#registrarse[_ngcontent-%COMP%], #olvido-contrasena[_ngcontent-%COMP%]{margin:5px 0;font-weight:700;color:#000;text-decoration:none}#registrarse[_ngcontent-%COMP%]:hover, #olvido-contrasena[_ngcontent-%COMP%]:hover{color:#fc0;cursor:pointer}span[_ngcontent-%COMP%]{font-weight:700}button[_ngcontent-%COMP%]{background-color:#fc0;border-radius:50px;padding:10px 20px;font-weight:700;border:none;transition:all .3s ease;box-shadow:0 4px 6px #0003;margin:10px}button[_ngcontent-%COMP%]:hover{background-color:#ffcc0083;transform:scale(1.05);box-shadow:0 6px 8px #0000004d}button[_ngcontent-%COMP%]:focus{outline:none}.quick-access-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:20px;width:100%;flex-wrap:wrap}.quick-access-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#fff;color:#333;border:2px solid #ddd;border-radius:10px;padding:8px;text-decoration:none;margin:5px;width:80px;transition:all .3s ease;font-size:.9em}.quick-access-btn[_ngcontent-%COMP%]:hover{background-color:#fc0;color:#fff}.quick-access-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:33px;border-radius:50%}']})};var Y5=[{path:"registro",component:Zm},{path:"login",component:Jm}],Xm=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Ze({type:n});static \u0275inj=Ye({imports:[Qa.forChild(Y5),Qa]})};var Z5=[],eg=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Ze({type:n});static \u0275inj=Ye({imports:[Qa.forChild(Z5),Qa]})};var tg=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Ze({type:n});static \u0275inj=Ye({imports:[Fa,eg,ON,zm,iA]})};var FN=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Ze({type:n});static \u0275inj=Ye({imports:[Fa,MN,xN,Xm,tg,zm]})};export{pe as a,J as b,Ye as c,K as d,rn as e,Ze as f,_r as g,Er as h,qe as i,vK as j,z as k,Q as l,Me as m,W as n,F as o,N as p,ve as q,br as r,Ee as s,Mn as t,RL as u,U as v,NL as w,bf as x,PL as y,kL as z,Cf as A,Pv as B,Tf as C,_D as D,IK as E,bK as F,CK as G,TK as H,DK as I,AK as J,XK as K,$D as L,io as M,eQ as N,Fa as O,TQ as P,_2 as Q,Rt as R,WQ as S,Qa as T,jr as U,ce as V,bo as W,Co as X,Pb as Y,kb as Z,To as _,ks as $,Os as aa,AN as ba,uee as ca,lee as da,kc as ea,xN as fa,MN as ga,OY as ha,FY as ia,RZ as ja,xZ as ka,Ei as la,lX as ma,Ll as na,Vr as oa,bm as pa,Cm as qa,dX as ra,hX as sa,Tm as ta,fX as ua,kn as va,Zl as wa,Km as xa,Zm as ya,FN as za};
