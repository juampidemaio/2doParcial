var Sx=Object.create;var Cp=Object.defineProperty,Ax=Object.defineProperties,Rx=Object.getOwnPropertyDescriptor,xx=Object.getOwnPropertyDescriptors,Nx=Object.getOwnPropertyNames,AI=Object.getOwnPropertySymbols,xI=Object.getPrototypeOf,NI=Object.prototype.hasOwnProperty,Px=Object.prototype.propertyIsEnumerable,Mx=Reflect.get;var RI=(t,e,n)=>e in t?Cp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,B=(t,e)=>{for(var n in e||={})NI.call(e,n)&&RI(t,n,e[n]);if(AI)for(var n of AI(e))Px.call(e,n)&&RI(t,n,e[n]);return t},xe=(t,e)=>Ax(t,xx(e));var kx=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Ox=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Nx(e))!NI.call(t,i)&&i!==n&&Cp(t,i,{get:()=>e[i],enumerable:!(r=Rx(e,i))||r.enumerable});return t};var pq=(t,e,n)=>(n=t!=null?Sx(xI(t)):{},Ox(e||!t||!t.__esModule?Cp(n,"default",{value:t,enumerable:!0}):n,t));var ni=(t,e,n)=>Mx(xI(t),n,e);var T=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(d){i(d)}},o=u=>{try{a(n.throw(u))}catch(d){i(d)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(t,e)).next())});var lq=kx((ur,_I)=>{"use strict";(function(t,e){typeof ur=="object"&&typeof _I<"u"?_I.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.Sweetalert2=e())})(ur,function(){"use strict";function t(l,h,y){if(typeof l=="function"?l===h:l.has(h))return arguments.length<3?h:y;throw new TypeError("Private element is not present on this object")}function e(l,h){if(h.has(l))throw new TypeError("Cannot initialize the same private elements twice on an object")}function n(l,h){return l.get(t(l,h))}function r(l,h,y){e(l,h),h.set(l,y)}function i(l,h,y){return l.set(t(l,h),y),y}let s=100,o={},a=()=>{o.previousActiveElement instanceof HTMLElement?(o.previousActiveElement.focus(),o.previousActiveElement=null):document.body&&document.body.focus()},u=l=>new Promise(h=>{if(!l)return h();let y=window.scrollX,w=window.scrollY;o.restoreFocusTimeout=setTimeout(()=>{a(),h()},s),window.scrollTo(y,w)}),d="swal2-",g=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((l,h)=>(l[h]=d+h,l),{}),E=["success","warning","info","question","error"].reduce((l,h)=>(l[h]=d+h,l),{}),N="SweetAlert2:",O=l=>l.charAt(0).toUpperCase()+l.slice(1),k=l=>{console.warn(`${N} ${typeof l=="object"?l.join(" "):l}`)},U=l=>{console.error(`${N} ${l}`)},G=[],q=l=>{G.includes(l)||(G.push(l),k(l))},W=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;q(`"${l}" is deprecated and will be removed in the next major release.${h?` Use "${h}" instead.`:""}`)},Te=l=>typeof l=="function"?l():l,Y=l=>l&&typeof l.toPromise=="function",C=l=>Y(l)?l.toPromise():Promise.resolve(l),I=l=>l&&Promise.resolve(l)===l,b=()=>document.body.querySelector(`.${g.container}`),S=l=>{let h=b();return h?h.querySelector(l):null},A=l=>S(`.${l}`),R=()=>A(g.popup),D=()=>A(g.icon),hn=()=>A(g["icon-content"]),Vr=()=>A(g.title),xa=()=>A(g["html-container"]),Ur=()=>A(g.image),lr=()=>A(g["progress-steps"]),jr=()=>A(g["validation-message"]),$t=()=>S(`.${g.actions} .${g.confirm}`),Br=()=>S(`.${g.actions} .${g.cancel}`),_t=()=>S(`.${g.actions} .${g.deny}`),lt=()=>A(g["input-label"]),$r=()=>S(`.${g.loader}`),fn=()=>A(g.actions),Uu=()=>A(g.footer),xn=()=>A(g["timer-progress-bar"]),Na=()=>A(g.close),ap=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Hr=()=>{let l=R();if(!l)return[];let h=l.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),y=Array.from(h).sort(($,ce)=>{let Se=parseInt($.getAttribute("tabindex")||"0"),Ve=parseInt(ce.getAttribute("tabindex")||"0");return Se>Ve?1:Se<Ve?-1:0}),w=l.querySelectorAll(ap),P=Array.from(w).filter($=>$.getAttribute("tabindex")!=="-1");return[...new Set(y.concat(P))].filter($=>yt($))},qr=()=>Ht(document.body,g.shown)&&!Ht(document.body,g["toast-shown"])&&!Ht(document.body,g["no-backdrop"]),zr=()=>{let l=R();return l?Ht(l,g.toast):!1},Pa=()=>{let l=R();return l?l.hasAttribute("data-loading"):!1},mt=(l,h)=>{if(l.textContent="",h){let w=new DOMParser().parseFromString(h,"text/html"),P=w.querySelector("head");P&&Array.from(P.childNodes).forEach(ce=>{l.appendChild(ce)});let $=w.querySelector("body");$&&Array.from($.childNodes).forEach(ce=>{ce instanceof HTMLVideoElement||ce instanceof HTMLAudioElement?l.appendChild(ce.cloneNode(!0)):l.appendChild(ce)})}},Ht=(l,h)=>{if(!h)return!1;let y=h.split(/\s+/);for(let w=0;w<y.length;w++)if(!l.classList.contains(y[w]))return!1;return!0},ju=(l,h)=>{Array.from(l.classList).forEach(y=>{!Object.values(g).includes(y)&&!Object.values(E).includes(y)&&!Object.values(h.showClass||{}).includes(y)&&l.classList.remove(y)})},It=(l,h,y)=>{if(ju(l,h),!h.customClass)return;let w=h.customClass[y];if(w){if(typeof w!="string"&&!w.forEach){k(`Invalid type of customClass.${y}! Expected string or iterable object, got "${typeof w}"`);return}he(l,w)}},js=(l,h)=>{if(!h)return null;switch(h){case"select":case"textarea":case"file":return l.querySelector(`.${g.popup} > .${g[h]}`);case"checkbox":return l.querySelector(`.${g.popup} > .${g.checkbox} input`);case"radio":return l.querySelector(`.${g.popup} > .${g.radio} input:checked`)||l.querySelector(`.${g.popup} > .${g.radio} input:first-child`);case"range":return l.querySelector(`.${g.popup} > .${g.range} input`);default:return l.querySelector(`.${g.popup} > .${g.input}`)}},Ma=l=>{if(l.focus(),l.type!=="file"){let h=l.value;l.value="",l.value=h}},ka=(l,h,y)=>{!l||!h||(typeof h=="string"&&(h=h.split(/\s+/).filter(Boolean)),h.forEach(w=>{Array.isArray(l)?l.forEach(P=>{y?P.classList.add(w):P.classList.remove(w)}):y?l.classList.add(w):l.classList.remove(w)}))},he=(l,h)=>{ka(l,h,!0)},qt=(l,h)=>{ka(l,h,!1)},Nn=(l,h)=>{let y=Array.from(l.children);for(let w=0;w<y.length;w++){let P=y[w];if(P instanceof HTMLElement&&Ht(P,h))return P}},pn=(l,h,y)=>{y===`${parseInt(y)}`&&(y=parseInt(y)),y||parseInt(y)===0?l.style.setProperty(h,typeof y=="number"?`${y}px`:y):l.style.removeProperty(h)},$e=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";l&&(l.style.display=h)},Qe=l=>{l&&(l.style.display="none")},Ye=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";l&&new MutationObserver(()=>{Pn(l,l.innerHTML,h)}).observe(l,{childList:!0,subtree:!0})},dt=(l,h,y,w)=>{let P=l.querySelector(h);P&&P.style.setProperty(y,w)},Pn=function(l,h){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";h?$e(l,y):Qe(l)},yt=l=>!!(l&&(l.offsetWidth||l.offsetHeight||l.getClientRects().length)),Bu=()=>!yt($t())&&!yt(_t())&&!yt(Br()),$u=l=>l.scrollHeight>l.clientHeight,Gr=l=>{let h=window.getComputedStyle(l),y=parseFloat(h.getPropertyValue("animation-duration")||"0"),w=parseFloat(h.getPropertyValue("transition-duration")||"0");return y>0||w>0},Bs=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=xn();y&&yt(y)&&(h&&(y.style.transition="none",y.style.width="100%"),setTimeout(()=>{y.style.transition=`width ${l/1e3}s linear`,y.style.width="0%"},10))},Hu=()=>{let l=xn();if(!l)return;let h=parseInt(window.getComputedStyle(l).width);l.style.removeProperty("transition"),l.style.width="100%";let y=parseInt(window.getComputedStyle(l).width),w=h/y*100;l.style.width=`${w}%`},Oa=()=>typeof window>"u"||typeof document>"u",cp=`
 <div aria-labelledby="${g.title}" aria-describedby="${g["html-container"]}" class="${g.popup}" tabindex="-1">
   <button type="button" class="${g.close}"></button>
   <ul class="${g["progress-steps"]}"></ul>
   <div class="${g.icon}"></div>
   <img class="${g.image}" />
   <h2 class="${g.title}" id="${g.title}"></h2>
   <div class="${g["html-container"]}" id="${g["html-container"]}"></div>
   <input class="${g.input}" id="${g.input}" />
   <input type="file" class="${g.file}" />
   <div class="${g.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${g.select}" id="${g.select}"></select>
   <div class="${g.radio}"></div>
   <label class="${g.checkbox}">
     <input type="checkbox" id="${g.checkbox}" />
     <span class="${g.label}"></span>
   </label>
   <textarea class="${g.textarea}" id="${g.textarea}"></textarea>
   <div class="${g["validation-message"]}" id="${g["validation-message"]}"></div>
   <div class="${g.actions}">
     <div class="${g.loader}"></div>
     <button type="button" class="${g.confirm}"></button>
     <button type="button" class="${g.deny}"></button>
     <button type="button" class="${g.cancel}"></button>
   </div>
   <div class="${g.footer}"></div>
   <div class="${g["timer-progress-bar-container"]}">
     <div class="${g["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),up=()=>{let l=b();return l?(l.remove(),qt([document.documentElement,document.body],[g["no-backdrop"],g["toast-shown"],g["has-column"]]),!0):!1},gn=()=>{o.currentInstance.resetValidationMessage()},qu=()=>{let l=R(),h=Nn(l,g.input),y=Nn(l,g.file),w=l.querySelector(`.${g.range} input`),P=l.querySelector(`.${g.range} output`),$=Nn(l,g.select),ce=l.querySelector(`.${g.checkbox} input`),Se=Nn(l,g.textarea);h.oninput=gn,y.onchange=gn,$.onchange=gn,ce.onchange=gn,Se.oninput=gn,w.oninput=()=>{gn(),P.value=w.value},w.onchange=()=>{gn(),P.value=w.value}},zu=l=>typeof l=="string"?document.querySelector(l):l,Mi=l=>{let h=R();h.setAttribute("role",l.toast?"alert":"dialog"),h.setAttribute("aria-live",l.toast?"polite":"assertive"),l.toast||h.setAttribute("aria-modal","true")},La=l=>{window.getComputedStyle(l).direction==="rtl"&&he(b(),g.rtl)},Fa=l=>{let h=up();if(Oa()){U("SweetAlert2 requires document to initialize");return}let y=document.createElement("div");y.className=g.container,h&&he(y,g["no-transition"]),mt(y,cp);let w=zu(l.target);w.appendChild(y),Mi(l),La(w),qu()},mn=(l,h)=>{l instanceof HTMLElement?h.appendChild(l):typeof l=="object"?Gu(l,h):l&&mt(h,l)},Gu=(l,h)=>{l.jquery?$s(h,l):mt(h,l.toString())},$s=(l,h)=>{if(l.textContent="",0 in h)for(let y=0;y in h;y++)l.appendChild(h[y].cloneNode(!0));else l.appendChild(h.cloneNode(!0))},Wu=(l,h)=>{let y=fn(),w=$r();!y||!w||(!h.showConfirmButton&&!h.showDenyButton&&!h.showCancelButton?Qe(y):$e(y),It(y,h,"actions"),ki(y,w,h),mt(w,h.loaderHtml||""),It(w,h,"loader"))};function ki(l,h,y){let w=$t(),P=_t(),$=Br();!w||!P||!$||(it(w,"confirm",y),it(P,"deny",y),it($,"cancel",y),Ku(w,P,$,y),y.reverseButtons&&(y.toast?(l.insertBefore($,w),l.insertBefore(P,w)):(l.insertBefore($,h),l.insertBefore(P,h),l.insertBefore(w,h))))}function Ku(l,h,y,w){if(!w.buttonsStyling){qt([l,h,y],g.styled);return}he([l,h,y],g.styled),w.confirmButtonColor&&(l.style.backgroundColor=w.confirmButtonColor,he(l,g["default-outline"])),w.denyButtonColor&&(h.style.backgroundColor=w.denyButtonColor,he(h,g["default-outline"])),w.cancelButtonColor&&(y.style.backgroundColor=w.cancelButtonColor,he(y,g["default-outline"]))}function it(l,h,y){let w=O(h);Pn(l,y[`show${w}Button`],"inline-block"),mt(l,y[`${h}ButtonText`]||""),l.setAttribute("aria-label",y[`${h}ButtonAriaLabel`]||""),l.className=g[h],It(l,y,`${h}Button`)}let Qu=(l,h)=>{let y=Na();y&&(mt(y,h.closeButtonHtml||""),It(y,h,"closeButton"),Pn(y,h.showCloseButton),y.setAttribute("aria-label",h.closeButtonAriaLabel||""))},Oi=(l,h)=>{let y=b();y&&(Li(y,h.backdrop),lp(y,h.position),dp(y,h.grow),It(y,h,"container"))};function Li(l,h){typeof h=="string"?l.style.background=h:h||he([document.documentElement,document.body],g["no-backdrop"])}function lp(l,h){h&&(h in g?he(l,g[h]):(k('The "position" parameter is not valid, defaulting to "center"'),he(l,g.center)))}function dp(l,h){h&&he(l,g[`grow-${h}`])}var Ie={innerParams:new WeakMap,domCache:new WeakMap};let hp=["input","file","range","select","radio","checkbox","textarea"],fp=(l,h)=>{let y=R();if(!y)return;let w=Ie.innerParams.get(l),P=!w||h.input!==w.input;hp.forEach($=>{let ce=Nn(y,g[$]);ce&&(Va($,h.inputAttributes),ce.className=g[$],P&&Qe(ce))}),h.input&&(P&&Hs(h),qs(h))},Hs=l=>{if(!l.input)return;if(!ke[l.input]){U(`Unexpected type of input! Expected ${Object.keys(ke).join(" | ")}, got "${l.input}"`);return}let h=Ua(l.input);if(!h)return;let y=ke[l.input](h,l);$e(h),l.inputAutoFocus&&setTimeout(()=>{Ma(y)})},Yu=l=>{for(let h=0;h<l.attributes.length;h++){let y=l.attributes[h].name;["id","type","value","style"].includes(y)||l.removeAttribute(y)}},Va=(l,h)=>{let y=R();if(!y)return;let w=js(y,l);if(w){Yu(w);for(let P in h)w.setAttribute(P,h[P])}},qs=l=>{if(!l.input)return;let h=Ua(l.input);h&&It(h,l,"input")},tn=(l,h)=>{!l.placeholder&&h.inputPlaceholder&&(l.placeholder=h.inputPlaceholder)},Wr=(l,h,y)=>{if(y.inputLabel){let w=document.createElement("label"),P=g["input-label"];w.setAttribute("for",l.id),w.className=P,typeof y.customClass=="object"&&he(w,y.customClass.inputLabel),w.innerText=y.inputLabel,h.insertAdjacentElement("beforebegin",w)}},Ua=l=>{let h=R();if(h)return Nn(h,g[l]||g.input)},Kr=(l,h)=>{["string","number"].includes(typeof h)?l.value=`${h}`:I(h)||k(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof h}"`)},ke={};ke.text=ke.email=ke.password=ke.number=ke.tel=ke.url=ke.search=ke.date=ke["datetime-local"]=ke.time=ke.week=ke.month=(l,h)=>(Kr(l,h.inputValue),Wr(l,l,h),tn(l,h),l.type=h.input,l),ke.file=(l,h)=>(Wr(l,l,h),tn(l,h),l),ke.range=(l,h)=>{let y=l.querySelector("input"),w=l.querySelector("output");return Kr(y,h.inputValue),y.type=h.input,Kr(w,h.inputValue),Wr(y,l,h),l},ke.select=(l,h)=>{if(l.textContent="",h.inputPlaceholder){let y=document.createElement("option");mt(y,h.inputPlaceholder),y.value="",y.disabled=!0,y.selected=!0,l.appendChild(y)}return Wr(l,l,h),l},ke.radio=l=>(l.textContent="",l),ke.checkbox=(l,h)=>{let y=js(R(),"checkbox");y.value="1",y.checked=!!h.inputValue;let w=l.querySelector("span");return mt(w,h.inputPlaceholder||h.inputLabel),y},ke.textarea=(l,h)=>{Kr(l,h.inputValue),tn(l,h),Wr(l,l,h);let y=w=>parseInt(window.getComputedStyle(w).marginLeft)+parseInt(window.getComputedStyle(w).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let w=parseInt(window.getComputedStyle(R()).width),P=()=>{if(!document.body.contains(l))return;let $=l.offsetWidth+y(l);$>w?R().style.width=`${$}px`:pn(R(),"width",h.width)};new MutationObserver(P).observe(l,{attributes:!0,attributeFilter:["style"]})}}),l};let Zu=(l,h)=>{let y=xa();y&&(Ye(y),It(y,h,"htmlContainer"),h.html?(mn(h.html,y),$e(y,"block")):h.text?(y.textContent=h.text,$e(y,"block")):Qe(y),fp(l,h))},Ju=(l,h)=>{let y=Uu();y&&(Ye(y),Pn(y,h.footer,"block"),h.footer&&mn(h.footer,y),It(y,h,"footer"))},pp=(l,h)=>{let y=Ie.innerParams.get(l),w=D();if(w){if(y&&h.icon===y.icon){Mn(w,h),Fi(w,h);return}if(!h.icon&&!h.iconHtml){Qe(w);return}if(h.icon&&Object.keys(E).indexOf(h.icon)===-1){U(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${h.icon}"`),Qe(w);return}$e(w),Mn(w,h),Fi(w,h),he(w,h.showClass&&h.showClass.icon)}},Fi=(l,h)=>{for(let[y,w]of Object.entries(E))h.icon!==y&&qt(l,w);he(l,h.icon&&E[h.icon]),Ba(l,h),Xu(),It(l,h,"icon")},Xu=()=>{let l=R();if(!l)return;let h=window.getComputedStyle(l).getPropertyValue("background-color"),y=l.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let w=0;w<y.length;w++)y[w].style.backgroundColor=h},ja=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Vi=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Mn=(l,h)=>{if(!h.icon&&!h.iconHtml)return;let y=l.innerHTML,w="";h.iconHtml?w=el(h.iconHtml):h.icon==="success"?(w=ja,y=y.replace(/ style=".*?"/g,"")):h.icon==="error"?w=Vi:h.icon&&(w=el({question:"?",warning:"!",info:"i"}[h.icon])),y.trim()!==w.trim()&&mt(l,w)},Ba=(l,h)=>{if(h.iconColor){l.style.color=h.iconColor,l.style.borderColor=h.iconColor;for(let y of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])dt(l,y,"background-color",h.iconColor);dt(l,".swal2-success-ring","border-color",h.iconColor)}},el=l=>`<div class="${g["icon-content"]}">${l}</div>`,tl=(l,h)=>{let y=Ur();if(y){if(!h.imageUrl){Qe(y);return}$e(y,""),y.setAttribute("src",h.imageUrl),y.setAttribute("alt",h.imageAlt||""),pn(y,"width",h.imageWidth),pn(y,"height",h.imageHeight),y.className=g.image,It(y,h,"image")}},nl=(l,h)=>{let y=b(),w=R();if(!(!y||!w)){if(h.toast){pn(y,"width",h.width),w.style.width="100%";let P=$r();P&&w.insertBefore(P,D())}else pn(w,"width",h.width);pn(w,"padding",h.padding),h.color&&(w.style.color=h.color),h.background&&(w.style.background=h.background),Qe(jr()),rl(w,h)}},rl=(l,h)=>{let y=h.showClass||{};l.className=`${g.popup} ${yt(l)?y.popup:""}`,h.toast?(he([document.documentElement,document.body],g["toast-shown"]),he(l,g.toast)):he(l,g.modal),It(l,h,"popup"),typeof h.customClass=="string"&&he(l,h.customClass),h.icon&&he(l,g[`icon-${h.icon}`])},$a=(l,h)=>{let y=lr();if(!y)return;let{progressSteps:w,currentProgressStep:P}=h;if(!w||w.length===0||P===void 0){Qe(y);return}$e(y),y.textContent="",P>=w.length&&k("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),w.forEach(($,ce)=>{let Se=Ha($);if(y.appendChild(Se),ce===P&&he(Se,g["active-progress-step"]),ce!==w.length-1){let Ve=il(h);y.appendChild(Ve)}})},Ha=l=>{let h=document.createElement("li");return he(h,g["progress-step"]),mt(h,l),h},il=l=>{let h=document.createElement("li");return he(h,g["progress-step-line"]),l.progressStepsDistance&&pn(h,"width",l.progressStepsDistance),h},sl=(l,h)=>{let y=Vr();y&&(Ye(y),Pn(y,h.title||h.titleText,"block"),h.title&&mn(h.title,y),h.titleText&&(y.innerText=h.titleText),It(y,h,"title"))},ol=(l,h)=>{nl(l,h),Oi(l,h),$a(l,h),pp(l,h),tl(l,h),sl(l,h),Qu(l,h),Zu(l,h),Wu(l,h),Ju(l,h);let y=R();typeof h.didRender=="function"&&y&&h.didRender(y),o.eventEmitter.emit("didRender",y)},gp=()=>yt(R()),qa=()=>{var l;return(l=$t())===null||l===void 0?void 0:l.click()},al=()=>{var l;return(l=_t())===null||l===void 0?void 0:l.click()},mp=()=>{var l;return(l=Br())===null||l===void 0?void 0:l.click()},Ot=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),nn=l=>{l.keydownTarget&&l.keydownHandlerAdded&&(l.keydownTarget.removeEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!1)},zs=(l,h,y)=>{nn(l),h.toast||(l.keydownHandler=w=>Gs(h,w,y),l.keydownTarget=h.keydownListenerCapture?window:R(),l.keydownListenerCapture=h.keydownListenerCapture,l.keydownTarget.addEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!0)},Qr=(l,h)=>{var y;let w=Hr();if(w.length){l=l+h,l===w.length?l=0:l===-1&&(l=w.length-1),w[l].focus();return}(y=R())===null||y===void 0||y.focus()},za=["ArrowRight","ArrowDown"],Pe=["ArrowLeft","ArrowUp"],Gs=(l,h,y)=>{l&&(h.isComposing||h.keyCode===229||(l.stopKeydownPropagation&&h.stopPropagation(),h.key==="Enter"?Ui(h,l):h.key==="Tab"?ji(h):[...za,...Pe].includes(h.key)?yp(h.key):h.key==="Escape"&&cl(h,l,y)))},Ui=(l,h)=>{if(!Te(h.allowEnterKey))return;let y=js(R(),h.input);if(l.target&&y&&l.target instanceof HTMLElement&&l.target.outerHTML===y.outerHTML){if(["textarea","file"].includes(h.input))return;qa(),l.preventDefault()}},ji=l=>{let h=l.target,y=Hr(),w=-1;for(let P=0;P<y.length;P++)if(h===y[P]){w=P;break}l.shiftKey?Qr(w,-1):Qr(w,1),l.stopPropagation(),l.preventDefault()},yp=l=>{let h=fn(),y=$t(),w=_t(),P=Br();if(!h||!y||!w||!P)return;let $=[y,w,P];if(document.activeElement instanceof HTMLElement&&!$.includes(document.activeElement))return;let ce=za.includes(l)?"nextElementSibling":"previousElementSibling",Se=document.activeElement;if(Se){for(let Ve=0;Ve<h.children.length;Ve++){if(Se=Se[ce],!Se)return;if(Se instanceof HTMLButtonElement&&yt(Se))break}Se instanceof HTMLButtonElement&&Se.focus()}},cl=(l,h,y)=>{Te(h.allowEscapeKey)&&(l.preventDefault(),y(Ot.esc))};var Yr={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let vp=()=>{let l=b();Array.from(document.body.children).forEach(y=>{y.contains(l)||(y.hasAttribute("aria-hidden")&&y.setAttribute("data-previous-aria-hidden",y.getAttribute("aria-hidden")||""),y.setAttribute("aria-hidden","true"))})},ul=()=>{Array.from(document.body.children).forEach(h=>{h.hasAttribute("data-previous-aria-hidden")?(h.setAttribute("aria-hidden",h.getAttribute("data-previous-aria-hidden")||""),h.removeAttribute("data-previous-aria-hidden")):h.removeAttribute("aria-hidden")})},ll=typeof window<"u"&&!!window.GestureEvent,Bi=()=>{if(ll&&!Ht(document.body,g.iosfix)){let l=document.body.scrollTop;document.body.style.top=`${l*-1}px`,he(document.body,g.iosfix),kn()}},kn=()=>{let l=b();if(!l)return;let h;l.ontouchstart=y=>{h=dl(y)},l.ontouchmove=y=>{h&&(y.preventDefault(),y.stopPropagation())}},dl=l=>{let h=l.target,y=b(),w=xa();return!y||!w||hl(l)||fl(l)?!1:h===y||!$u(y)&&h instanceof HTMLElement&&h.tagName!=="INPUT"&&h.tagName!=="TEXTAREA"&&!($u(w)&&w.contains(h))},hl=l=>l.touches&&l.touches.length&&l.touches[0].touchType==="stylus",fl=l=>l.touches&&l.touches.length>1,Zr=()=>{if(Ht(document.body,g.iosfix)){let l=parseInt(document.body.style.top,10);qt(document.body,g.iosfix),document.body.style.top="",document.body.scrollTop=l*-1}},wp=()=>{let l=document.createElement("div");l.className=g["scrollbar-measure"],document.body.appendChild(l);let h=l.getBoundingClientRect().width-l.clientWidth;return document.body.removeChild(l),h},Jr=null,_p=l=>{Jr===null&&(document.body.scrollHeight>window.innerHeight||l==="scroll")&&(Jr=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Jr+wp()}px`)},On=()=>{Jr!==null&&(document.body.style.paddingRight=`${Jr}px`,Jr=null)};function pl(l,h,y,w){zr()?Oe(l,w):(u(y).then(()=>Oe(l,w)),nn(o)),ll?(h.setAttribute("style","display:none !important"),h.removeAttribute("class"),h.innerHTML=""):h.remove(),qr()&&(On(),Zr(),ul()),Ip()}function Ip(){qt([document.documentElement,document.body],[g.shown,g["height-auto"],g["no-backdrop"],g["toast-shown"]])}function Lt(l){l=$i(l);let h=Yr.swalPromiseResolve.get(this),y=Ws(this);this.isAwaitingPromise?l.isDismissed||(yn(this),h(l)):y&&h(l)}let Ws=l=>{let h=R();if(!h)return!1;let y=Ie.innerParams.get(l);if(!y||Ht(h,y.hideClass.popup))return!1;qt(h,y.showClass.popup),he(h,y.hideClass.popup);let w=b();return qt(w,y.showClass.backdrop),he(w,y.hideClass.backdrop),gl(l,h,y),!0};function Ga(l){let h=Yr.swalPromiseReject.get(this);yn(this),h&&h(l)}let yn=l=>{l.isAwaitingPromise&&(delete l.isAwaitingPromise,Ie.innerParams.get(l)||l._destroy())},$i=l=>typeof l>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},l),gl=(l,h,y)=>{let w=b(),P=Gr(h);typeof y.willClose=="function"&&y.willClose(h),o.eventEmitter.emit("willClose",h),P?Wa(l,h,w,y.returnFocus,y.didClose):pl(l,w,y.returnFocus,y.didClose)},Wa=(l,h,y,w,P)=>{o.swalCloseEventFinishedCallback=pl.bind(null,l,y,w,P);let $=function(ce){ce.target===h&&(o.swalCloseEventFinishedCallback(),delete o.swalCloseEventFinishedCallback,h.removeEventListener("animationend",$),h.removeEventListener("transitionend",$))};h.addEventListener("animationend",$),h.addEventListener("transitionend",$)},Oe=(l,h)=>{setTimeout(()=>{typeof h=="function"&&h.bind(l.params)(),o.eventEmitter.emit("didClose"),l._destroy&&l._destroy()})},Xr=l=>{let h=R();if(h||new xl,h=R(),!h)return;let y=$r();zr()?Qe(D()):Ep(h,l),$e(y),h.setAttribute("data-loading","true"),h.setAttribute("aria-busy","true"),h.focus()},Ep=(l,h)=>{let y=fn(),w=$r();!y||!w||(!h&&yt($t())&&(h=$t()),$e(y),h&&(Qe(h),w.setAttribute("data-button-to-replace",h.className),y.insertBefore(w,h)),he([l,y],g.loading))},ml=(l,h)=>{h.input==="select"||h.input==="radio"?vn(l,h):["text","email","number","tel","textarea"].some(y=>y===h.input)&&(Y(h.inputValue)||I(h.inputValue))&&(Xr($t()),_l(l,h))},yl=(l,h)=>{let y=l.getInput();if(!y)return null;switch(h.input){case"checkbox":return vl(y);case"radio":return Ks(y);case"file":return wl(y);default:return h.inputAutoTrim?y.value.trim():y.value}},vl=l=>l.checked?1:0,Ks=l=>l.checked?l.value:null,wl=l=>l.files&&l.files.length?l.getAttribute("multiple")!==null?l.files:l.files[0]:null,vn=(l,h)=>{let y=R();if(!y)return;let w=P=>{h.input==="select"?bp(y,qi(P),h):h.input==="radio"&&Hi(y,qi(P),h)};Y(h.inputOptions)||I(h.inputOptions)?(Xr($t()),C(h.inputOptions).then(P=>{l.hideLoading(),w(P)})):typeof h.inputOptions=="object"?w(h.inputOptions):U(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof h.inputOptions}`)},_l=(l,h)=>{let y=l.getInput();y&&(Qe(y),C(h.inputValue).then(w=>{y.value=h.input==="number"?`${parseFloat(w)||0}`:`${w}`,$e(y),y.focus(),l.hideLoading()}).catch(w=>{U(`Error in inputValue promise: ${w}`),y.value="",$e(y),y.focus(),l.hideLoading()}))};function bp(l,h,y){let w=Nn(l,g.select);if(!w)return;let P=($,ce,Se)=>{let Ve=document.createElement("option");Ve.value=Se,mt(Ve,ce),Ve.selected=Qs(Se,y.inputValue),$.appendChild(Ve)};h.forEach($=>{let ce=$[0],Se=$[1];if(Array.isArray(Se)){let Ve=document.createElement("optgroup");Ve.label=ce,Ve.disabled=!1,w.appendChild(Ve),Se.forEach(Xs=>P(Ve,Xs[1],Xs[0]))}else P(w,Se,ce)}),w.focus()}function Hi(l,h,y){let w=Nn(l,g.radio);if(!w)return;h.forEach($=>{let ce=$[0],Se=$[1],Ve=document.createElement("input"),Xs=document.createElement("label");Ve.type="radio",Ve.name=g.radio,Ve.value=ce,Qs(ce,y.inputValue)&&(Ve.checked=!0);let Dp=document.createElement("span");mt(Dp,Se),Dp.className=g.label,Xs.appendChild(Ve),Xs.appendChild(Dp),w.appendChild(Xs)});let P=w.querySelectorAll("input");P.length&&P[0].focus()}let qi=l=>{let h=[];return l instanceof Map?l.forEach((y,w)=>{let P=y;typeof P=="object"&&(P=qi(P)),h.push([w,P])}):Object.keys(l).forEach(y=>{let w=l[y];typeof w=="object"&&(w=qi(w)),h.push([y,w])}),h},Qs=(l,h)=>!!h&&h.toString()===l.toString(),Ys=l=>{let h=Ie.innerParams.get(l);l.disableButtons(),h.input?El(l,"confirm"):zi(l,!0)},Il=l=>{let h=Ie.innerParams.get(l);l.disableButtons(),h.returnInputValueOnDeny?El(l,"deny"):dr(l,!1)},Zs=(l,h)=>{l.disableButtons(),h(Ot.cancel)},El=(l,h)=>{let y=Ie.innerParams.get(l);if(!y.input){U(`The "input" parameter is needed to be set when using returnInputValueOn${O(h)}`);return}let w=l.getInput(),P=yl(l,y);y.inputValidator?bl(l,P,h):w&&!w.checkValidity()?(l.enableButtons(),l.showValidationMessage(y.validationMessage||w.validationMessage)):h==="deny"?dr(l,P):zi(l,P)},bl=(l,h,y)=>{let w=Ie.innerParams.get(l);l.disableInput(),Promise.resolve().then(()=>C(w.inputValidator(h,w.validationMessage))).then($=>{l.enableButtons(),l.enableInput(),$?l.showValidationMessage($):y==="deny"?dr(l,h):zi(l,h)})},dr=(l,h)=>{let y=Ie.innerParams.get(l||void 0);y.showLoaderOnDeny&&Xr(_t()),y.preDeny?(l.isAwaitingPromise=!0,Promise.resolve().then(()=>C(y.preDeny(h,y.validationMessage))).then(P=>{P===!1?(l.hideLoading(),yn(l)):l.close({isDenied:!0,value:typeof P>"u"?h:P})}).catch(P=>Qa(l||void 0,P))):l.close({isDenied:!0,value:h})},Ka=(l,h)=>{l.close({isConfirmed:!0,value:h})},Qa=(l,h)=>{l.rejectPromise(h)},zi=(l,h)=>{let y=Ie.innerParams.get(l||void 0);y.showLoaderOnConfirm&&Xr(),y.preConfirm?(l.resetValidationMessage(),l.isAwaitingPromise=!0,Promise.resolve().then(()=>C(y.preConfirm(h,y.validationMessage))).then(P=>{yt(jr())||P===!1?(l.hideLoading(),yn(l)):Ka(l,typeof P>"u"?h:P)}).catch(P=>Qa(l||void 0,P))):Ka(l,h)};function ei(){let l=Ie.innerParams.get(this);if(!l)return;let h=Ie.domCache.get(this);Qe(h.loader),zr()?l.icon&&$e(D()):Tl(h),qt([h.popup,h.actions],g.loading),h.popup.removeAttribute("aria-busy"),h.popup.removeAttribute("data-loading"),h.confirmButton.disabled=!1,h.denyButton.disabled=!1,h.cancelButton.disabled=!1}let Tl=l=>{let h=l.popup.getElementsByClassName(l.loader.getAttribute("data-button-to-replace"));h.length?$e(h[0],"inline-block"):Bu()&&Qe(l.actions)};function Gi(){let l=Ie.innerParams.get(this),h=Ie.domCache.get(this);return h?js(h.popup,l.input):null}function Ya(l,h,y){let w=Ie.domCache.get(l);h.forEach(P=>{w[P].disabled=y})}function Za(l,h){let y=R();if(!(!y||!l))if(l.type==="radio"){let w=y.querySelectorAll(`[name="${g.radio}"]`);for(let P=0;P<w.length;P++)w[P].disabled=h}else l.disabled=h}function Ln(){Ya(this,["confirmButton","denyButton","cancelButton"],!1)}function Ja(){Ya(this,["confirmButton","denyButton","cancelButton"],!0)}function Xa(){Za(this.getInput(),!1)}function ec(){Za(this.getInput(),!0)}function tc(l){let h=Ie.domCache.get(this),y=Ie.innerParams.get(this);mt(h.validationMessage,l),h.validationMessage.className=g["validation-message"],y.customClass&&y.customClass.validationMessage&&he(h.validationMessage,y.customClass.validationMessage),$e(h.validationMessage);let w=this.getInput();w&&(w.setAttribute("aria-invalid","true"),w.setAttribute("aria-describedby",g["validation-message"]),Ma(w),he(w,g.inputerror))}function Wi(){let l=Ie.domCache.get(this);l.validationMessage&&Qe(l.validationMessage);let h=this.getInput();h&&(h.removeAttribute("aria-invalid"),h.removeAttribute("aria-describedby"),qt(h,g.inputerror))}let Ze={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Dl=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Cl={allowEnterKey:void 0},ti=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],c=l=>Object.prototype.hasOwnProperty.call(Ze,l),f=l=>Dl.indexOf(l)!==-1,m=l=>Cl[l],v=l=>{c(l)||k(`Unknown parameter "${l}"`)},x=l=>{ti.includes(l)&&k(`The parameter "${l}" is incompatible with toasts`)},M=l=>{let h=m(l);h&&W(l,h)},V=l=>{l.backdrop===!1&&l.allowOutsideClick&&k('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let h in l)v(h),l.toast&&x(h),M(h)};function Ce(l){let h=R(),y=Ie.innerParams.get(this);if(!h||Ht(h,y.hideClass.popup)){k("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let w=st(l),P=Object.assign({},y,w);ol(this,P),Ie.innerParams.set(this,P),Object.defineProperties(this,{params:{value:Object.assign({},this.params,l),writable:!1,enumerable:!0}})}let st=l=>{let h={};return Object.keys(l).forEach(y=>{f(y)?h[y]=l[y]:k(`Invalid parameter to update: ${y}`)}),h};function ye(){let l=Ie.domCache.get(this),h=Ie.innerParams.get(this);if(!h){ot(this);return}l.popup&&o.swalCloseEventFinishedCallback&&(o.swalCloseEventFinishedCallback(),delete o.swalCloseEventFinishedCallback),typeof h.didDestroy=="function"&&h.didDestroy(),o.eventEmitter.emit("didDestroy"),ht(this)}let ht=l=>{ot(l),delete l.params,delete o.keydownHandler,delete o.keydownTarget,delete o.currentInstance},ot=l=>{l.isAwaitingPromise?(Fn(Ie,l),l.isAwaitingPromise=!0):(Fn(Yr,l),Fn(Ie,l),delete l.isAwaitingPromise,delete l.disableButtons,delete l.enableButtons,delete l.getInput,delete l.disableInput,delete l.enableInput,delete l.hideLoading,delete l.disableLoading,delete l.showValidationMessage,delete l.resetValidationMessage,delete l.close,delete l.closePopup,delete l.closeModal,delete l.closeToast,delete l.rejectPromise,delete l.update,delete l._destroy)},Fn=(l,h)=>{for(let y in l)l[y].delete(h)};var zt=Object.freeze({__proto__:null,_destroy:ye,close:Lt,closeModal:Lt,closePopup:Lt,closeToast:Lt,disableButtons:Ja,disableInput:ec,disableLoading:ei,enableButtons:Ln,enableInput:Xa,getInput:Gi,handleAwaitingPromise:yn,hideLoading:ei,rejectPromise:Ga,resetValidationMessage:Wi,showValidationMessage:tc,update:Ce});let Js=(l,h,y)=>{l.toast?nc(l,h,y):(BR(h),$R(h),HR(l,h,y))},nc=(l,h,y)=>{h.popup.onclick=()=>{l&&(jR(l)||l.timer||l.input)||y(Ot.close)}},jR=l=>!!(l.showConfirmButton||l.showDenyButton||l.showCancelButton||l.showCloseButton),Sl=!1,BR=l=>{l.popup.onmousedown=()=>{l.container.onmouseup=function(h){l.container.onmouseup=()=>{},h.target===l.container&&(Sl=!0)}}},$R=l=>{l.container.onmousedown=h=>{h.target===l.container&&h.preventDefault(),l.popup.onmouseup=function(y){l.popup.onmouseup=()=>{},(y.target===l.popup||y.target instanceof HTMLElement&&l.popup.contains(y.target))&&(Sl=!0)}}},HR=(l,h,y)=>{h.container.onclick=w=>{if(Sl){Sl=!1;return}w.target===h.container&&Te(l.allowOutsideClick)&&y(Ot.backdrop)}},qR=l=>typeof l=="object"&&l.jquery,II=l=>l instanceof Element||qR(l),zR=l=>{let h={};return typeof l[0]=="object"&&!II(l[0])?Object.assign(h,l[0]):["title","html","icon"].forEach((y,w)=>{let P=l[w];typeof P=="string"||II(P)?h[y]=P:P!==void 0&&U(`Unexpected type of ${y}! Expected "string" or "Element", got ${typeof P}`)}),h};function GR(){for(var l=arguments.length,h=new Array(l),y=0;y<l;y++)h[y]=arguments[y];return new this(...h)}function WR(l){class h extends this{_main(w,P){return super._main(w,Object.assign({},l,P))}}return h}let KR=()=>o.timeout&&o.timeout.getTimerLeft(),EI=()=>{if(o.timeout)return Hu(),o.timeout.stop()},bI=()=>{if(o.timeout){let l=o.timeout.start();return Bs(l),l}},QR=()=>{let l=o.timeout;return l&&(l.running?EI():bI())},YR=l=>{if(o.timeout){let h=o.timeout.increase(l);return Bs(h,!0),h}},ZR=()=>!!(o.timeout&&o.timeout.isRunning()),TI=!1,Tp={};function JR(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Tp[l]=this,TI||(document.body.addEventListener("click",XR),TI=!0)}let XR=l=>{for(let h=l.target;h&&h!==document;h=h.parentNode)for(let y in Tp){let w=h.getAttribute(y);if(w){Tp[y].fire({template:w});return}}};class ex{constructor(){this.events={}}_getHandlersByEventName(h){return typeof this.events[h]>"u"&&(this.events[h]=[]),this.events[h]}on(h,y){let w=this._getHandlersByEventName(h);w.includes(y)||w.push(y)}once(h,y){var w=this;let P=function(){w.removeListener(h,P);for(var $=arguments.length,ce=new Array($),Se=0;Se<$;Se++)ce[Se]=arguments[Se];y.apply(w,ce)};this.on(h,P)}emit(h){for(var y=arguments.length,w=new Array(y>1?y-1:0),P=1;P<y;P++)w[P-1]=arguments[P];this._getHandlersByEventName(h).forEach($=>{try{$.apply(this,w)}catch(ce){console.error(ce)}})}removeListener(h,y){let w=this._getHandlersByEventName(h),P=w.indexOf(y);P>-1&&w.splice(P,1)}removeAllListeners(h){this.events[h]!==void 0&&(this.events[h].length=0)}reset(){this.events={}}}o.eventEmitter=new ex;var tx=Object.freeze({__proto__:null,argsToParams:zR,bindClickHandler:JR,clickCancel:mp,clickConfirm:qa,clickDeny:al,enableLoading:Xr,fire:GR,getActions:fn,getCancelButton:Br,getCloseButton:Na,getConfirmButton:$t,getContainer:b,getDenyButton:_t,getFocusableElements:Hr,getFooter:Uu,getHtmlContainer:xa,getIcon:D,getIconContent:hn,getImage:Ur,getInputLabel:lt,getLoader:$r,getPopup:R,getProgressSteps:lr,getTimerLeft:KR,getTimerProgressBar:xn,getTitle:Vr,getValidationMessage:jr,increaseTimer:YR,isDeprecatedParameter:m,isLoading:Pa,isTimerRunning:ZR,isUpdatableParameter:f,isValidParameter:c,isVisible:gp,mixin:WR,off:(l,h)=>{if(!l){o.eventEmitter.reset();return}h?o.eventEmitter.removeListener(l,h):o.eventEmitter.removeAllListeners(l)},on:(l,h)=>{o.eventEmitter.on(l,h)},once:(l,h)=>{o.eventEmitter.once(l,h)},resumeTimer:bI,showLoading:Xr,stopTimer:EI,toggleTimer:QR});class nx{constructor(h,y){this.callback=h,this.remaining=y,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(h){let y=this.running;return y&&this.stop(),this.remaining+=h,y&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let DI=["swal-title","swal-html","swal-footer"],rx=l=>{let h=typeof l.template=="string"?document.querySelector(l.template):l.template;if(!h)return{};let y=h.content;return dx(y),Object.assign(ix(y),sx(y),ox(y),ax(y),cx(y),ux(y),lx(y,DI))},ix=l=>{let h={};return Array.from(l.querySelectorAll("swal-param")).forEach(w=>{Ki(w,["name","value"]);let P=w.getAttribute("name"),$=w.getAttribute("value");!P||!$||(typeof Ze[P]=="boolean"?h[P]=$!=="false":typeof Ze[P]=="object"?h[P]=JSON.parse($):h[P]=$)}),h},sx=l=>{let h={};return Array.from(l.querySelectorAll("swal-function-param")).forEach(w=>{let P=w.getAttribute("name"),$=w.getAttribute("value");!P||!$||(h[P]=new Function(`return ${$}`)())}),h},ox=l=>{let h={};return Array.from(l.querySelectorAll("swal-button")).forEach(w=>{Ki(w,["type","color","aria-label"]);let P=w.getAttribute("type");!P||!["confirm","cancel","deny"].includes(P)||(h[`${P}ButtonText`]=w.innerHTML,h[`show${O(P)}Button`]=!0,w.hasAttribute("color")&&(h[`${P}ButtonColor`]=w.getAttribute("color")),w.hasAttribute("aria-label")&&(h[`${P}ButtonAriaLabel`]=w.getAttribute("aria-label")))}),h},ax=l=>{let h={},y=l.querySelector("swal-image");return y&&(Ki(y,["src","width","height","alt"]),y.hasAttribute("src")&&(h.imageUrl=y.getAttribute("src")||void 0),y.hasAttribute("width")&&(h.imageWidth=y.getAttribute("width")||void 0),y.hasAttribute("height")&&(h.imageHeight=y.getAttribute("height")||void 0),y.hasAttribute("alt")&&(h.imageAlt=y.getAttribute("alt")||void 0)),h},cx=l=>{let h={},y=l.querySelector("swal-icon");return y&&(Ki(y,["type","color"]),y.hasAttribute("type")&&(h.icon=y.getAttribute("type")),y.hasAttribute("color")&&(h.iconColor=y.getAttribute("color")),h.iconHtml=y.innerHTML),h},ux=l=>{let h={},y=l.querySelector("swal-input");y&&(Ki(y,["type","label","placeholder","value"]),h.input=y.getAttribute("type")||"text",y.hasAttribute("label")&&(h.inputLabel=y.getAttribute("label")),y.hasAttribute("placeholder")&&(h.inputPlaceholder=y.getAttribute("placeholder")),y.hasAttribute("value")&&(h.inputValue=y.getAttribute("value")));let w=Array.from(l.querySelectorAll("swal-input-option"));return w.length&&(h.inputOptions={},w.forEach(P=>{Ki(P,["value"]);let $=P.getAttribute("value");if(!$)return;let ce=P.innerHTML;h.inputOptions[$]=ce})),h},lx=(l,h)=>{let y={};for(let w in h){let P=h[w],$=l.querySelector(P);$&&(Ki($,[]),y[P.replace(/^swal-/,"")]=$.innerHTML.trim())}return y},dx=l=>{let h=DI.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(l.children).forEach(y=>{let w=y.tagName.toLowerCase();h.includes(w)||k(`Unrecognized element <${w}>`)})},Ki=(l,h)=>{Array.from(l.attributes).forEach(y=>{h.indexOf(y.name)===-1&&k([`Unrecognized attribute "${y.name}" on <${l.tagName.toLowerCase()}>.`,`${h.length?`Allowed attributes are: ${h.join(", ")}`:"To set the value, use HTML within the element."}`])})},CI=10,hx=l=>{let h=b(),y=R();typeof l.willOpen=="function"&&l.willOpen(y),o.eventEmitter.emit("willOpen",y);let P=window.getComputedStyle(document.body).overflowY;gx(h,y,l),setTimeout(()=>{fx(h,y)},CI),qr()&&(px(h,l.scrollbarPadding,P),vp()),!zr()&&!o.previousActiveElement&&(o.previousActiveElement=document.activeElement),typeof l.didOpen=="function"&&setTimeout(()=>l.didOpen(y)),o.eventEmitter.emit("didOpen",y),qt(h,g["no-transition"])},Al=l=>{let h=R();if(l.target!==h)return;let y=b();h.removeEventListener("animationend",Al),h.removeEventListener("transitionend",Al),y.style.overflowY="auto"},fx=(l,h)=>{Gr(h)?(l.style.overflowY="hidden",h.addEventListener("animationend",Al),h.addEventListener("transitionend",Al)):l.style.overflowY="auto"},px=(l,h,y)=>{Bi(),h&&y!=="hidden"&&_p(y),setTimeout(()=>{l.scrollTop=0})},gx=(l,h,y)=>{he(l,y.showClass.backdrop),y.animation?(h.style.setProperty("opacity","0","important"),$e(h,"grid"),setTimeout(()=>{he(h,y.showClass.popup),h.style.removeProperty("opacity")},CI)):$e(h,"grid"),he([document.documentElement,document.body],g.shown),y.heightAuto&&y.backdrop&&!y.toast&&he([document.documentElement,document.body],g["height-auto"])};var SI={email:(l,h)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid email address"),url:(l,h)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid URL")};function mx(l){l.inputValidator||(l.input==="email"&&(l.inputValidator=SI.email),l.input==="url"&&(l.inputValidator=SI.url))}function yx(l){(!l.target||typeof l.target=="string"&&!document.querySelector(l.target)||typeof l.target!="string"&&!l.target.appendChild)&&(k('Target parameter is not valid, defaulting to "body"'),l.target="body")}function vx(l){mx(l),l.showLoaderOnConfirm&&!l.preConfirm&&k(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),yx(l),typeof l.title=="string"&&(l.title=l.title.split(`
`).join("<br />")),Fa(l)}let Vn;var Rl=new WeakMap;class Ge{constructor(){if(r(this,Rl,void 0),typeof window>"u")return;Vn=this;for(var h=arguments.length,y=new Array(h),w=0;w<h;w++)y[w]=arguments[w];let P=Object.freeze(this.constructor.argsToParams(y));this.params=P,this.isAwaitingPromise=!1,i(Rl,this,this._main(Vn.params))}_main(h){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(V(Object.assign({},y,h)),o.currentInstance){let $=Yr.swalPromiseResolve.get(o.currentInstance),{isAwaitingPromise:ce}=o.currentInstance;o.currentInstance._destroy(),ce||$({isDismissed:!0}),qr()&&ul()}o.currentInstance=Vn;let w=_x(h,y);vx(w),Object.freeze(w),o.timeout&&(o.timeout.stop(),delete o.timeout),clearTimeout(o.restoreFocusTimeout);let P=Ix(Vn);return ol(Vn,w),Ie.innerParams.set(Vn,w),wx(Vn,P,w)}then(h){return n(Rl,this).then(h)}finally(h){return n(Rl,this).finally(h)}}let wx=(l,h,y)=>new Promise((w,P)=>{let $=ce=>{l.close({isDismissed:!0,dismiss:ce})};Yr.swalPromiseResolve.set(l,w),Yr.swalPromiseReject.set(l,P),h.confirmButton.onclick=()=>{Ys(l)},h.denyButton.onclick=()=>{Il(l)},h.cancelButton.onclick=()=>{Zs(l,$)},h.closeButton.onclick=()=>{$(Ot.close)},Js(y,h,$),zs(o,y,$),ml(l,y),hx(y),Ex(o,y,$),bx(h,y),setTimeout(()=>{h.container.scrollTop=0})}),_x=(l,h)=>{let y=rx(l),w=Object.assign({},Ze,h,y,l);return w.showClass=Object.assign({},Ze.showClass,w.showClass),w.hideClass=Object.assign({},Ze.hideClass,w.hideClass),w.animation===!1&&(w.showClass={backdrop:"swal2-noanimation"},w.hideClass={}),w},Ix=l=>{let h={popup:R(),container:b(),actions:fn(),confirmButton:$t(),denyButton:_t(),cancelButton:Br(),loader:$r(),closeButton:Na(),validationMessage:jr(),progressSteps:lr()};return Ie.domCache.set(l,h),h},Ex=(l,h,y)=>{let w=xn();Qe(w),h.timer&&(l.timeout=new nx(()=>{y("timer"),delete l.timeout},h.timer),h.timerProgressBar&&($e(w),It(w,h,"timerProgressBar"),setTimeout(()=>{l.timeout&&l.timeout.running&&Bs(h.timer)})))},bx=(l,h)=>{if(!h.toast){if(!Te(h.allowEnterKey)){W("allowEnterKey"),Cx();return}Tx(l)||Dx(l,h)||Qr(-1,1)}},Tx=l=>{let h=l.popup.querySelectorAll("[autofocus]");for(let y of h)if(y instanceof HTMLElement&&yt(y))return y.focus(),!0;return!1},Dx=(l,h)=>h.focusDeny&&yt(l.denyButton)?(l.denyButton.focus(),!0):h.focusCancel&&yt(l.cancelButton)?(l.cancelButton.focus(),!0):h.focusConfirm&&yt(l.confirmButton)?(l.confirmButton.focus(),!0):!1,Cx=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let l=new Date,h=localStorage.getItem("swal-initiation");h?(l.getTime()-Date.parse(h))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let y=document.createElement("audio");y.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",y.loop=!0,document.body.appendChild(y),setTimeout(()=>{y.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${l}`)}Ge.prototype.disableButtons=Ja,Ge.prototype.enableButtons=Ln,Ge.prototype.getInput=Gi,Ge.prototype.disableInput=ec,Ge.prototype.enableInput=Xa,Ge.prototype.hideLoading=ei,Ge.prototype.disableLoading=ei,Ge.prototype.showValidationMessage=tc,Ge.prototype.resetValidationMessage=Wi,Ge.prototype.close=Lt,Ge.prototype.closePopup=Lt,Ge.prototype.closeModal=Lt,Ge.prototype.closeToast=Lt,Ge.prototype.rejectPromise=Ga,Ge.prototype.update=Ce,Ge.prototype._destroy=ye,Object.assign(Ge,tx),Object.keys(zt).forEach(l=>{Ge[l]=function(){return Vn&&Vn[l]?Vn[l](...arguments):null}}),Ge.DismissReason=Ot,Ge.version="11.14.4";let xl=Ge;return xl.default=xl,xl});typeof ur<"u"&&ur.Sweetalert2&&(ur.swal=ur.sweetAlert=ur.Swal=ur.SweetAlert=ur.Sweetalert2);typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});function PI(t,e){return Object.is(t,e)}var at=null,Nl=!1,Pl=1,hr=Symbol("SIGNAL");function Ee(t){let e=at;return at=t,e}function MI(){return at}var ic={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Rp(t){if(Nl)throw new Error("");if(at===null)return;at.consumerOnSignalRead(t);let e=at.nextProducerIndex++;if(Ll(at),e<at.producerNode.length&&at.producerNode[e]!==t&&rc(at)){let n=at.producerNode[e];Ol(n,at.producerIndexOfThis[e])}at.producerNode[e]!==t&&(at.producerNode[e]=t,at.producerIndexOfThis[e]=rc(at)?FI(t,at,e):0),at.producerLastReadVersion[e]=t.version}function Lx(){Pl++}function kI(t){if(!(rc(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Pl)){if(!t.producerMustRecompute(t)&&!Np(t)){t.dirty=!1,t.lastCleanEpoch=Pl;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Pl}}function OI(t){if(t.liveConsumerNode===void 0)return;let e=Nl;Nl=!0;try{for(let n of t.liveConsumerNode)n.dirty||Fx(n)}finally{Nl=e}}function LI(){return at?.consumerAllowSignalWrites!==!1}function Fx(t){t.dirty=!0,OI(t),t.consumerMarkedDirty?.(t)}function kl(t){return t&&(t.nextProducerIndex=0),Ee(t)}function xp(t,e){if(Ee(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(rc(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Ol(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Np(t){Ll(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(kI(n),r!==n.version))return!0}return!1}function Pp(t){if(Ll(t),rc(t))for(let e=0;e<t.producerNode.length;e++)Ol(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function FI(t,e,n){if(VI(t),t.liveConsumerNode.length===0&&UI(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=FI(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Ol(t,e){if(VI(t),t.liveConsumerNode.length===1&&UI(t))for(let r=0;r<t.producerNode.length;r++)Ol(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ll(i),i.producerIndexOfThis[r]=e}}function rc(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ll(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function VI(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function UI(t){return t.producerNode!==void 0}function jI(t){let e=Object.create(Vx);e.computation=t;let n=()=>{if(kI(e),Rp(e),e.value===Ml)throw e.error;return e.value};return n[hr]=e,n}var Sp=Symbol("UNSET"),Ap=Symbol("COMPUTING"),Ml=Symbol("ERRORED"),Vx=xe(B({},ic),{value:Sp,dirty:!0,error:null,equal:PI,producerMustRecompute(t){return t.value===Sp||t.value===Ap},producerRecomputeValue(t){if(t.value===Ap)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Ap;let n=kl(t),r;try{r=t.computation()}catch(i){r=Ml,t.error=i}finally{xp(t,n)}if(e!==Sp&&e!==Ml&&r!==Ml&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function Ux(){throw new Error}var BI=Ux;function $I(){BI()}function HI(t){BI=t}var jx=null;function qI(t){let e=Object.create(GI);e.value=t;let n=()=>(Rp(e),e.value);return n[hr]=e,n}function Mp(t,e){LI()||$I(),t.equal(t.value,e)||(t.value=e,Bx(t))}function zI(t,e){LI()||$I(),Mp(t,e(t.value))}var GI=xe(B({},ic),{equal:PI,value:void 0});function Bx(t){t.version++,Lx(),OI(t),jx?.()}function se(t){return typeof t=="function"}function eo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Fl=eo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Qi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var He=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(se(r))try{r()}catch(s){e=s instanceof Fl?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{WI(s)}catch(o){e=e??[],o instanceof Fl?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Fl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)WI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Qi(n,e)}remove(e){let{_finalizers:n}=this;n&&Qi(n,e),e instanceof t&&e._removeParent(this)}};He.EMPTY=(()=>{let t=new He;return t.closed=!0,t})();var kp=He.EMPTY;function Vl(t){return t instanceof He||t&&"closed"in t&&se(t.remove)&&se(t.add)&&se(t.unsubscribe)}function WI(t){se(t)?t():t.unsubscribe()}var wn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var to={setTimeout(t,e,...n){let{delegate:r}=to;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=to;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ul(t){to.setTimeout(()=>{let{onUnhandledError:e}=wn;if(e)e(t);else throw t})}function sc(){}var KI=Op("C",void 0,void 0);function QI(t){return Op("E",void 0,t)}function YI(t){return Op("N",t,void 0)}function Op(t,e,n){return{kind:t,value:e,error:n}}var Yi=null;function no(t){if(wn.useDeprecatedSynchronousErrorHandling){let e=!Yi;if(e&&(Yi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Yi;if(Yi=null,n)throw r}}else t()}function ZI(t){wn.useDeprecatedSynchronousErrorHandling&&Yi&&(Yi.errorThrown=!0,Yi.error=t)}var Zi=class extends He{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Vl(e)&&e.add(this)):this.destination=qx}static create(e,n,r){return new ro(e,n,r)}next(e){this.isStopped?Fp(YI(e),this):this._next(e)}error(e){this.isStopped?Fp(QI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Fp(KI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},$x=Function.prototype.bind;function Lp(t,e){return $x.call(t,e)}var Vp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){jl(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){jl(r)}else jl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){jl(n)}}},ro=class extends Zi{constructor(e,n,r){super();let i;if(se(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&wn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Lp(e.next,s),error:e.error&&Lp(e.error,s),complete:e.complete&&Lp(e.complete,s)}):i=e}this.destination=new Vp(i)}};function jl(t){wn.useDeprecatedSynchronousErrorHandling?ZI(t):Ul(t)}function Hx(t){throw t}function Fp(t,e){let{onStoppedNotification:n}=wn;n&&to.setTimeout(()=>n(t,e))}var qx={closed:!0,next:sc,error:Hx,complete:sc};var io=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Gt(t){return t}function Up(...t){return jp(t)}function jp(t){return t.length===0?Gt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ve=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=Gx(n)?n:new ro(n,r,i);return no(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=JI(r),new r((i,s)=>{let o=new ro({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[io](){return this}pipe(...n){return jp(n)(this)}toPromise(n){return n=JI(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function JI(t){var e;return(e=t??wn.Promise)!==null&&e!==void 0?e:Promise}function zx(t){return t&&se(t.next)&&se(t.error)&&se(t.complete)}function Gx(t){return t&&t instanceof Zi||zx(t)&&Vl(t)}function Bp(t){return se(t?.lift)}function we(t){return e=>{if(Bp(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function fe(t,e,n,r,i){return new $p(t,e,n,r,i)}var $p=class extends Zi{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function so(){return we((t,e)=>{let n=null;t._refCount++;let r=fe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var oo=class extends ve{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Bp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new He;let n=this.getSubject();e.add(this.source.subscribe(fe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=He.EMPTY)}return e}refCount(){return so()(this)}};var XI=eo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var St=(()=>{class t extends ve{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Bl(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new XI}next(n){no(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){no(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){no(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?kp:(this.currentObservers=null,s.push(n),new He(()=>{this.currentObservers=null,Qi(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new ve;return n.source=this,n}}return t.create=(e,n)=>new Bl(e,n),t})(),Bl=class extends St{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:kp}};var ct=class extends St{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Hp={now(){return(Hp.delegate||Date).now()},delegate:void 0};var $l=class extends He{constructor(e,n){super()}schedule(e,n=0){return this}};var oc={setInterval(t,e,...n){let{delegate:r}=oc;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=oc;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ao=class extends $l{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return oc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&oc.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Qi(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var co=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};co.now=Hp.now;var uo=class extends co{constructor(e,n=co.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var qp=new uo(ao);var Hl=class extends ao{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var ql=class extends uo{};var zp=new ql(Hl);var Wt=new ve(t=>t.complete());function eE(t){return t&&se(t.schedule)}function tE(t){return t[t.length-1]}function zl(t){return se(tE(t))?t.pop():void 0}function ri(t){return eE(tE(t))?t.pop():void 0}function Gp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function rE(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(p){try{d(r.next(p))}catch(g){o(g)}}function u(p){try{d(r.throw(p))}catch(g){o(g)}}function d(p){p.done?s(p.value):i(p.value).then(a,u)}d((r=r.apply(t,e||[])).next())})}function nE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ji(t){return this instanceof Ji?(this.v=t,this):new Ji(t)}function iE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(E){return function(N){return Promise.resolve(N).then(E,g)}}function a(E,N){r[E]&&(i[E]=function(O){return new Promise(function(k,U){s.push([E,O,k,U])>1||u(E,O)})},N&&(i[E]=N(i[E])))}function u(E,N){try{d(r[E](N))}catch(O){_(s[0][3],O)}}function d(E){E.value instanceof Ji?Promise.resolve(E.value.v).then(p,g):_(s[0][2],E)}function p(E){u("next",E)}function g(E){u("throw",E)}function _(E,N){E(N),s.shift(),s.length&&u(s[0][0],s[0][1])}}function sE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof nE=="function"?nE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(d){s({value:d,done:a})},o)}}var Gl=t=>t&&typeof t.length=="number"&&typeof t!="function";function Wl(t){return se(t?.then)}function Kl(t){return se(t[io])}function Ql(t){return Symbol.asyncIterator&&se(t?.[Symbol.asyncIterator])}function Yl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Wx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Zl=Wx();function Jl(t){return se(t?.[Zl])}function Xl(t){return iE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Ji(n.read());if(i)return yield Ji(void 0);yield yield Ji(r)}}finally{n.releaseLock()}})}function ed(t){return se(t?.getReader)}function Je(t){if(t instanceof ve)return t;if(t!=null){if(Kl(t))return Kx(t);if(Gl(t))return Qx(t);if(Wl(t))return Yx(t);if(Ql(t))return oE(t);if(Jl(t))return Zx(t);if(ed(t))return Jx(t)}throw Yl(t)}function Kx(t){return new ve(e=>{let n=t[io]();if(se(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Qx(t){return new ve(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Yx(t){return new ve(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ul)})}function Zx(t){return new ve(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function oE(t){return new ve(e=>{Xx(t,e).catch(n=>e.error(n))})}function Jx(t){return oE(Xl(t))}function Xx(t,e){var n,r,i,s;return rE(this,void 0,void 0,function*(){try{for(n=sE(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ft(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function ii(t,e=0){return we((n,r)=>{n.subscribe(fe(r,i=>Ft(r,t,()=>r.next(i),e),()=>Ft(r,t,()=>r.complete(),e),i=>Ft(r,t,()=>r.error(i),e)))})}function si(t,e=0){return we((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function aE(t,e){return Je(t).pipe(si(e),ii(e))}function cE(t,e){return Je(t).pipe(si(e),ii(e))}function uE(t,e){return new ve(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function lE(t,e){return new ve(n=>{let r;return Ft(n,e,()=>{r=t[Zl](),Ft(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>se(r?.return)&&r.return()})}function td(t,e){if(!t)throw new Error("Iterable cannot be null");return new ve(n=>{Ft(n,e,()=>{let r=t[Symbol.asyncIterator]();Ft(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function dE(t,e){return td(Xl(t),e)}function hE(t,e){if(t!=null){if(Kl(t))return aE(t,e);if(Gl(t))return uE(t,e);if(Wl(t))return cE(t,e);if(Ql(t))return td(t,e);if(Jl(t))return lE(t,e);if(ed(t))return dE(t,e)}throw Yl(t)}function We(t,e){return e?hE(t,e):Je(t)}function ne(...t){let e=ri(t);return We(t,e)}function lo(t,e){let n=se(t)?t:()=>t,r=i=>i.error(n());return new ve(e?i=>e.schedule(r,0,i):r)}function Wp(t){return!!t&&(t instanceof ve||se(t.lift)&&se(t.subscribe))}var fr=eo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function pe(t,e){return we((n,r)=>{let i=0;n.subscribe(fe(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:eN}=Array;function tN(t,e){return eN(e)?t(...e):t(e)}function nd(t){return pe(e=>tN(t,e))}var{isArray:nN}=Array,{getPrototypeOf:rN,prototype:iN,keys:sN}=Object;function rd(t){if(t.length===1){let e=t[0];if(nN(e))return{args:e,keys:null};if(oN(e)){let n=sN(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function oN(t){return t&&typeof t=="object"&&rN(t)===iN}function id(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ac(...t){let e=ri(t),n=zl(t),{args:r,keys:i}=rd(t);if(r.length===0)return We([],e);let s=new ve(aN(r,e,i?o=>id(i,o):Gt));return n?s.pipe(nd(n)):s}function aN(t,e,n=Gt){return r=>{fE(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)fE(e,()=>{let d=We(t[u],e),p=!1;d.subscribe(fe(r,g=>{s[u]=g,p||(p=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function fE(t,e,n){t?Ft(n,t,e):e()}function pE(t,e,n,r,i,s,o,a){let u=[],d=0,p=0,g=!1,_=()=>{g&&!u.length&&!d&&e.complete()},E=O=>d<r?N(O):u.push(O),N=O=>{s&&e.next(O),d++;let k=!1;Je(n(O,p++)).subscribe(fe(e,U=>{i?.(U),s?E(U):e.next(U)},()=>{k=!0},void 0,()=>{if(k)try{for(d--;u.length&&d<r;){let U=u.shift();o?Ft(e,o,()=>N(U)):N(U)}_()}catch(U){e.error(U)}}))};return t.subscribe(fe(e,E,()=>{g=!0,_()})),()=>{a?.()}}function Xe(t,e,n=1/0){return se(e)?Xe((r,i)=>pe((s,o)=>e(r,s,i,o))(Je(t(r,i))),n):(typeof e=="number"&&(n=e),we((r,i)=>pE(r,i,t,n)))}function ho(t=1/0){return Xe(Gt,t)}function gE(){return ho(1)}function fo(...t){return gE()(We(t,ri(t)))}function sd(t){return new ve(e=>{Je(t()).subscribe(e)})}function cN(...t){let e=zl(t),{args:n,keys:r}=rd(t),i=new ve(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,d=o;for(let p=0;p<o;p++){let g=!1;Je(n[p]).subscribe(fe(s,_=>{g||(g=!0,d--),a[p]=_},()=>u--,void 0,()=>{(!u||!g)&&(d||s.next(r?id(r,a):a),s.complete())}))}});return e?i.pipe(nd(e)):i}function rn(t,e){return we((n,r)=>{let i=0;n.subscribe(fe(r,s=>t.call(e,s,i++)&&r.next(s)))})}function oi(t){return we((e,n)=>{let r=null,i=!1,s;r=e.subscribe(fe(n,void 0,void 0,o=>{s=Je(t(o,oi(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function mE(t,e,n,r,i){return(s,o)=>{let a=n,u=e,d=0;s.subscribe(fe(o,p=>{let g=d++;u=a?t(u,p,g):(a=!0,p),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function Xi(t,e){return se(e)?Xe(t,e,1):Xe(t,1)}function ai(t){return we((e,n)=>{let r=!1;e.subscribe(fe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function pr(t){return t<=0?()=>Wt:we((e,n)=>{let r=0;e.subscribe(fe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Kp(t){return pe(()=>t)}function od(t=uN){return we((e,n)=>{let r=!1;e.subscribe(fe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function uN(){return new fr}function cc(t){return we((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Un(t,e){let n=arguments.length>=2;return r=>r.pipe(t?rn((i,s)=>t(i,s,r)):Gt,pr(1),n?ai(e):od(()=>new fr))}function po(t){return t<=0?()=>Wt:we((e,n)=>{let r=[];e.subscribe(fe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Qp(t,e){let n=arguments.length>=2;return r=>r.pipe(t?rn((i,s)=>t(i,s,r)):Gt,po(1),n?ai(e):od(()=>new fr))}function Yp(t,e){return we(mE(t,e,arguments.length>=2,!0))}function Zp(...t){let e=ri(t);return we((n,r)=>{(e?fo(t,n,e):fo(t,n)).subscribe(r)})}function sn(t,e){return we((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(fe(r,u=>{i?.unsubscribe();let d=0,p=s++;Je(t(u,p)).subscribe(i=fe(r,g=>r.next(e?e(u,g,p,d++):g),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Jp(t){return we((e,n)=>{Je(t).subscribe(fe(n,()=>n.complete(),sc)),!n.closed&&e.subscribe(n)})}function ut(t,e,n){let r=se(t)||e||n?{next:t,error:e,complete:n}:t;return r?we((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(fe(s,u=>{var d;(d=r.next)===null||d===void 0||d.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var d;a=!1,(d=r.error)===null||d===void 0||d.call(r,u),s.error(u)},()=>{var u,d;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):Gt}var eb="https://g.co/ng/security#xss",Z=class extends Error{constructor(e,n){super(nm(e,n)),this.code=e}};function nm(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function yc(t){return{toString:t}.toString()}var ad="__parameters__";function lN(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function tb(t,e,n){return yc(()=>{let r=lN(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,d,p){let g=u.hasOwnProperty(ad)?u[ad]:Object.defineProperty(u,ad,{value:[]})[ad];for(;g.length<=p;)g.push(null);return(g[p]=g[p]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Me(t){for(let e in t)if(t[e]===Me)return e;throw Error("Could not find renamed property on target object.")}function dN(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function xt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(xt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function yE(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var hN=Me({__forward_ref__:Me});function nb(t){return t.__forward_ref__=nb,t.toString=function(){return xt(this())},t}function At(t){return rb(t)?t():t}function rb(t){return typeof t=="function"&&t.hasOwnProperty(hN)&&t.__forward_ref__===nb}function K(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function vc(t){return{providers:t.providers||[],imports:t.imports||[]}}function Bd(t){return vE(t,sb)||vE(t,ob)}function ib(t){return Bd(t)!==null}function vE(t,e){return t.hasOwnProperty(e)?t[e]:null}function fN(t){let e=t&&(t[sb]||t[ob]);return e||null}function wE(t){return t&&(t.hasOwnProperty(_E)||t.hasOwnProperty(pN))?t[_E]:null}var sb=Me({\u0275prov:Me}),_E=Me({\u0275inj:Me}),ob=Me({ngInjectableDef:Me}),pN=Me({ngInjectorDef:Me}),X=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=K({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function ab(t){return t&&!!t.\u0275providers}var gN=Me({\u0275cmp:Me}),mN=Me({\u0275dir:Me}),yN=Me({\u0275pipe:Me}),vN=Me({\u0275mod:Me}),md=Me({\u0275fac:Me}),lc=Me({__NG_ELEMENT_ID__:Me}),IE=Me({__NG_ENV_ID__:Me});function gr(t){return typeof t=="string"?t:t==null?"":String(t)}function wN(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():gr(t)}function _N(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Z(-200,t)}function rm(t,e){throw new Z(-201,!1)}var ue=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ue||{}),hg;function cb(){return hg}function Vt(t){let e=hg;return hg=t,e}function ub(t,e,n){let r=Bd(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ue.Optional)return null;if(e!==void 0)return e;rm(t,"Injector")}var IN={},dc=IN,fg="__NG_DI_FLAG__",yd="ngTempTokenPath",EN="ngTokenPath",bN=/\n/gm,TN="\u0275",EE="__source",wo;function DN(){return wo}function ci(t){let e=wo;return wo=t,e}function CN(t,e=ue.Default){if(wo===void 0)throw new Z(-203,!1);return wo===null?ub(t,void 0,e):wo.get(t,e&ue.Optional?null:void 0,e)}function ee(t,e=ue.Default){return(cb()||CN)(At(t),e)}function j(t,e=ue.Default){return ee(t,$d(e))}function $d(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function pg(t){let e=[];for(let n=0;n<t.length;n++){let r=At(t[n]);if(Array.isArray(r)){if(r.length===0)throw new Z(900,!1);let i,s=ue.Default;for(let o=0;o<r.length;o++){let a=r[o],u=SN(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(ee(i,s))}else e.push(ee(r))}return e}function lb(t,e){return t[fg]=e,t.prototype[fg]=e,t}function SN(t){return t[fg]}function AN(t,e,n,r){let i=t[yd];throw e[EE]&&i.unshift(e[EE]),t.message=RN(`
`+t.message,i,n,r),t[EN]=i,t[yd]=null,t}function RN(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==TN?t.slice(2):t;let i=xt(e);if(Array.isArray(e))i=e.map(xt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):xt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(bN,`
  `)}`}var bt=lb(tb("Optional"),8);var im=lb(tb("SkipSelf"),4);function ts(t,e){let n=t.hasOwnProperty(md);return n?t[md]:null}function sm(t,e){t.forEach(n=>Array.isArray(n)?sm(n,e):e(n))}function db(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function vd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function xN(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function NN(t,e,n){let r=wc(t,e);return r>=0?t[r|1]=n:(r=~r,xN(t,r,e,n)),r}function Xp(t,e){let n=wc(t,e);if(n>=0)return t[n|1]}function wc(t,e){return PN(t,e,1)}function PN(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Io={},on=[],Eo=new X(""),hb=new X("",-1),fb=new X(""),wd=class{get(e,n=dc){if(n===dc){let r=new Error(`NullInjectorError: No provider for ${xt(e)}!`);throw r.name="NullInjectorError",r}return n}},pb=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(pb||{}),$n=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}($n||{}),di=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(di||{});function MN(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function gg(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];ON(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function kN(t){return t===3||t===4||t===6}function ON(t){return t.charCodeAt(0)===64}function hc(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?bE(t,n,i,null,e[++r]):bE(t,n,i,null,null))}}return t}function bE(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var gb="ng-template";function LN(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&MN(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(om(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function om(t){return t.type===4&&t.value!==gb}function FN(t,e,n){let r=t.type===4&&!n?gb:t.value;return e===r}function VN(t,e,n){let r=4,i=t.attrs,s=i!==null?BN(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!_n(r)&&!_n(u))return!1;if(o&&_n(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!FN(t,u,n)||u===""&&e.length===1){if(_n(r))return!1;o=!0}}else if(r&8){if(i===null||!LN(t,i,u,n)){if(_n(r))return!1;o=!0}}else{let d=e[++a],p=UN(u,i,om(t),n);if(p===-1){if(_n(r))return!1;o=!0;continue}if(d!==""){let g;if(p>s?g="":g=i[p+1].toLowerCase(),r&2&&d!==g){if(_n(r))return!1;o=!0}}}}return _n(r)||o}function _n(t){return(t&1)===0}function UN(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return $N(e,t)}function jN(t,e,n=!1){for(let r=0;r<e.length;r++)if(VN(t,e[r],n))return!0;return!1}function BN(t){for(let e=0;e<t.length;e++){let n=t[e];if(kN(n))return e}return t.length}function $N(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function TE(t,e){return t?":not("+e.trim()+")":e}function HN(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!_n(o)&&(e+=TE(s,i),i=""),r=o,s=s||!_n(r);n++}return i!==""&&(e+=TE(s,i)),e}function qN(t){return t.map(HN).join(",")}function zN(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!_n(i))break;i=s}r++}return{attrs:e,classes:n}}function mb(t){return yc(()=>{let e=Eb(t),n=xe(B({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===pb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||$n.Emulated,styles:t.styles||on,_:null,schemas:t.schemas||null,tView:null,id:""});bb(n);let r=t.dependencies;return n.directiveDefs=CE(r,!1),n.pipeDefs=CE(r,!0),n.id=KN(n),n})}function GN(t){return hi(t)||vb(t)}function WN(t){return t!==null}function _c(t){return yc(()=>({type:t.type,bootstrap:t.bootstrap||on,declarations:t.declarations||on,imports:t.imports||on,exports:t.exports||on,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function DE(t,e){if(t==null)return Io;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=di.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==di.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Mo(t){return yc(()=>{let e=Eb(t);return bb(e),e})}function yb(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function hi(t){return t[gN]||null}function vb(t){return t[mN]||null}function wb(t){return t[yN]||null}function _b(t){let e=hi(t)||vb(t)||wb(t);return e!==null?e.standalone:!1}function Ib(t,e){let n=t[vN]||null;if(!n&&e===!0)throw new Error(`Type ${xt(t)} does not have '\u0275mod' property.`);return n}function Eb(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Io,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||on,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:DE(t.inputs,e),outputs:DE(t.outputs),debugInfo:null}}function bb(t){t.features?.forEach(e=>e(t))}function CE(t,e){if(!t)return null;let n=e?wb:GN;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(WN)}function KN(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Wn(t){return{\u0275providers:t}}function QN(...t){return{\u0275providers:Tb(!0,t),\u0275fromNgModule:!0}}function Tb(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return sm(e,o=>{let a=o;mg(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Db(i,s),n}function Db(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];am(i,s=>{e(s,r)})}}function mg(t,e,n,r){if(t=At(t),!t)return!1;let i=null,s=wE(t),o=!s&&hi(t);if(!s&&!o){let u=t.ngModule;if(s=wE(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let d of u)mg(d,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let d;try{sm(s.imports,p=>{mg(p,e,n,r)&&(d||=[],d.push(p))})}finally{}d!==void 0&&Db(d,e)}if(!a){let d=ts(i)||(()=>new i);e({provide:i,useFactory:d,deps:on},i),e({provide:fb,useValue:i,multi:!0},i),e({provide:Eo,useValue:()=>ee(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let d=t;am(u,p=>{e(p,d)})}}else return!1;return i!==t&&t.providers!==void 0}function am(t,e){for(let n of t)ab(n)&&(n=n.\u0275providers),Array.isArray(n)?am(n,e):e(n)}var YN=Me({provide:String,useValue:Me});function Cb(t){return t!==null&&typeof t=="object"&&YN in t}function ZN(t){return!!(t&&t.useExisting)}function JN(t){return!!(t&&t.useFactory)}function bo(t){return typeof t=="function"}function XN(t){return!!t.useClass}var Hd=new X(""),dd={},eP={},eg;function cm(){return eg===void 0&&(eg=new wd),eg}var Kt=class{},fc=class extends Kt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,vg(e,o=>this.processProvider(o)),this.records.set(hb,go(void 0,this)),i.has("environment")&&this.records.set(Kt,go(void 0,this));let s=this.records.get(Hd);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(fb,on,ue.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ee(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ee(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=ci(this),r=Vt(void 0),i;try{return e()}finally{ci(n),Vt(r)}}get(e,n=dc,r=ue.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(IE))return e[IE](this);r=$d(r);let i,s=ci(this),o=Vt(void 0);try{if(!(r&ue.SkipSelf)){let u=this.records.get(e);if(u===void 0){let d=sP(e)&&Bd(e);d&&this.injectableDefInScope(d)?u=go(yg(e),dd):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ue.Self?cm():this.parent;return n=r&ue.Optional&&n===dc?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[yd]=a[yd]||[]).unshift(xt(e)),s)throw a;return AN(a,e,"R3InjectorError",this.source)}else throw a}finally{Vt(o),ci(s)}}resolveInjectorInitializers(){let e=Ee(null),n=ci(this),r=Vt(void 0),i;try{let s=this.get(Eo,on,ue.Self);for(let o of s)o()}finally{ci(n),Vt(r),Ee(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(xt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Z(205,!1)}processProvider(e){e=At(e);let n=bo(e)?e:At(e&&e.provide),r=nP(e);if(!bo(e)&&e.multi===!0){let i=this.records.get(n);i||(i=go(void 0,dd,!0),i.factory=()=>pg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Ee(null);try{return n.value===dd&&(n.value=eP,n.value=n.factory()),typeof n.value=="object"&&n.value&&iP(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ee(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=At(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function yg(t){let e=Bd(t),n=e!==null?e.factory:ts(t);if(n!==null)return n;if(t instanceof X)throw new Z(204,!1);if(t instanceof Function)return tP(t);throw new Z(204,!1)}function tP(t){if(t.length>0)throw new Z(204,!1);let n=fN(t);return n!==null?()=>n.factory(t):()=>new t}function nP(t){if(Cb(t))return go(void 0,t.useValue);{let e=Sb(t);return go(e,dd)}}function Sb(t,e,n){let r;if(bo(t)){let i=At(t);return ts(i)||yg(i)}else if(Cb(t))r=()=>At(t.useValue);else if(JN(t))r=()=>t.useFactory(...pg(t.deps||[]));else if(ZN(t))r=()=>ee(At(t.useExisting));else{let i=At(t&&(t.useClass||t.provide));if(rP(t))r=()=>new i(...pg(t.deps));else return ts(i)||yg(i)}return r}function go(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function rP(t){return!!t.deps}function iP(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function sP(t){return typeof t=="function"||typeof t=="object"&&t instanceof X}function vg(t,e){for(let n of t)Array.isArray(n)?vg(n,e):n&&ab(n)?vg(n.\u0275providers,e):e(n)}function Kn(t,e){t instanceof fc&&t.assertNotDestroyed();let n,r=ci(t),i=Vt(void 0);try{return e()}finally{ci(r),Vt(i)}}function Ab(){return cb()!==void 0||DN()!=null}function oP(t){if(!Ab())throw new Z(-203,!1)}function aP(t){return typeof t=="function"}var wr=0,de=1,re=2,Nt=3,In=4,bn=5,_d=6,Id=7,En=8,To=9,Hn=10,et=11,pc=12,SE=13,ko=14,qn=15,Do=16,mo=17,Co=18,qd=19,Rb=20,ui=21,tg=22,an=23,zn=25,xb=1;var ns=7,Ed=8,bd=9,cn=10,Td=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Td||{});function li(t){return Array.isArray(t)&&typeof t[xb]=="object"}function _r(t){return Array.isArray(t)&&t[xb]===!0}function Nb(t){return(t.flags&4)!==0}function zd(t){return t.componentOffset>-1}function um(t){return(t.flags&1)===1}function fi(t){return!!t.template}function wg(t){return(t[re]&512)!==0}var _g=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Pb(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Gd(){return Mb}function Mb(t){return t.type.prototype.ngOnChanges&&(t.setInput=uP),cP}Gd.ngInherit=!0;function cP(){let t=Ob(this),e=t?.current;if(e){let n=t.previous;if(n===Io)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function uP(t,e,n,r,i){let s=this.declaredInputs[r],o=Ob(t)||lP(t,{previous:Io,current:null}),a=o.current||(o.current={}),u=o.previous,d=u[s];a[s]=new _g(d&&d.currentValue,n,u===Io),Pb(t,e,i,n)}var kb="__ngSimpleChanges__";function Ob(t){return t[kb]||null}function lP(t,e){return t[kb]=e}var AE=null;var jn=function(t,e,n){AE?.(t,e,n)},dP="svg",hP="math";function Gn(t){for(;Array.isArray(t);)t=t[wr];return t}function Lb(t,e){return Gn(e[t])}function un(t,e){return Gn(e[t.index])}function Fb(t,e){return t.data[e]}function fP(t,e){return t[e]}function mi(t,e){let n=e[t];return li(n)?n:n[wr]}function lm(t){return(t[re]&128)===128}function pP(t){return _r(t[Nt])}function Dd(t,e){return e==null?null:t[e]}function Vb(t){t[mo]=0}function Ub(t){t[re]&1024||(t[re]|=1024,lm(t)&&Kd(t))}function gP(t,e){for(;t>0;)e=e[ko],t--;return e}function Wd(t){return!!(t[re]&9216||t[an]?.dirty)}function Ig(t){t[Hn].changeDetectionScheduler?.notify(8),t[re]&64&&(t[re]|=1024),Wd(t)&&Kd(t)}function Kd(t){t[Hn].changeDetectionScheduler?.notify(0);let e=rs(t);for(;e!==null&&!(e[re]&8192||(e[re]|=8192,!lm(e)));)e=rs(e)}function jb(t,e){if((t[re]&256)===256)throw new Z(911,!1);t[ui]===null&&(t[ui]=[]),t[ui].push(e)}function mP(t,e){if(t[ui]===null)return;let n=t[ui].indexOf(e);n!==-1&&t[ui].splice(n,1)}function rs(t){let e=t[Nt];return _r(e)?e[Nt]:e}var le={lFrame:Yb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Bb=!1;function yP(){return le.lFrame.elementDepthCount}function vP(){le.lFrame.elementDepthCount++}function wP(){le.lFrame.elementDepthCount--}function $b(){return le.bindingsEnabled}function _P(){return le.skipHydrationRootTNode!==null}function IP(t){return le.skipHydrationRootTNode===t}function EP(){le.skipHydrationRootTNode=null}function be(){return le.lFrame.lView}function Pt(){return le.lFrame.tView}function M3(t){return le.lFrame.contextLView=t,t[En]}function k3(t){return le.lFrame.contextLView=null,t}function Ut(){let t=Hb();for(;t!==null&&t.type===64;)t=t.parent;return t}function Hb(){return le.lFrame.currentTNode}function bP(){let t=le.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ic(t,e){let n=le.lFrame;n.currentTNode=t,n.isParent=e}function qb(){return le.lFrame.isParent}function TP(){le.lFrame.isParent=!1}function zb(){return Bb}function RE(t){Bb=t}function Qd(){let t=le.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Gb(){return le.lFrame.bindingIndex}function DP(t){return le.lFrame.bindingIndex=t}function Yd(){return le.lFrame.bindingIndex++}function dm(t){let e=le.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function CP(){return le.lFrame.inI18n}function SP(t,e){let n=le.lFrame;n.bindingIndex=n.bindingRootIndex=t,Eg(e)}function AP(){return le.lFrame.currentDirectiveIndex}function Eg(t){le.lFrame.currentDirectiveIndex=t}function RP(t){let e=le.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Wb(t){le.lFrame.currentQueryIndex=t}function xP(t){let e=t[de];return e.type===2?e.declTNode:e.type===1?t[bn]:null}function Kb(t,e,n){if(n&ue.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&ue.Host);)if(i=xP(s),i===null||(s=s[ko],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=le.lFrame=Qb();return r.currentTNode=e,r.lView=t,!0}function hm(t){let e=Qb(),n=t[de];le.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Qb(){let t=le.lFrame,e=t===null?null:t.child;return e===null?Yb(t):e}function Yb(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Zb(){let t=le.lFrame;return le.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Jb=Zb;function fm(){let t=Zb();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function NP(t){return(le.lFrame.contextLView=gP(t,le.lFrame.contextLView))[En]}function yi(){return le.lFrame.selectedIndex}function is(t){le.lFrame.selectedIndex=t}function Zd(){let t=le.lFrame;return Fb(t.tView,t.selectedIndex)}function PP(){return le.lFrame.currentNamespace}var Xb=!0;function pm(){return Xb}function gm(t){Xb=t}function MP(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=Mb(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function mm(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:p}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),p!=null&&(t.destroyHooks??=[]).push(n,p)}}function hd(t,e,n){eT(t,e,3,n)}function fd(t,e,n,r){(t[re]&3)===n&&eT(t,e,n,r)}function ng(t,e){let n=t[re];(n&3)===e&&(n&=16383,n+=1,t[re]=n)}function eT(t,e,n,r){let i=r!==void 0?t[mo]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[mo]+=65536),(a<s||s==-1)&&(kP(t,n,e,u),t[mo]=(t[mo]&4294901760)+u+2),u++}function xE(t,e){jn(4,t,e);let n=Ee(null);try{e.call(t)}finally{Ee(n),jn(5,t,e)}}function kP(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[re]>>14<t[mo]>>16&&(t[re]&3)===e&&(t[re]+=16384,xE(a,s)):xE(a,s)}var _o=-1,ss=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function OP(t){return t instanceof ss}function LP(t){return(t.flags&8)!==0}function FP(t){return(t.flags&16)!==0}var rg={},bg=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=$d(r);let i=this.injector.get(e,rg,r);return i!==rg||n===rg?i:this.parentInjector.get(e,n,r)}};function tT(t){return t!==_o}function Cd(t){return t&32767}function VP(t){return t>>16}function Sd(t,e){let n=VP(t),r=e;for(;n>0;)r=r[ko],n--;return r}var Tg=!0;function Ad(t){let e=Tg;return Tg=t,e}var UP=256,nT=UP-1,rT=5,jP=0,Bn={};function BP(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(lc)&&(r=n[lc]),r==null&&(r=n[lc]=jP++);let i=r&nT,s=1<<i;e.data[t+(i>>rT)]|=s}function Rd(t,e){let n=iT(t,e);if(n!==-1)return n;let r=e[de];r.firstCreatePass&&(t.injectorIndex=e.length,ig(r.data,t),ig(e,null),ig(r.blueprint,null));let i=ym(t,e),s=t.injectorIndex;if(tT(i)){let o=Cd(i),a=Sd(i,e),u=a[de].data;for(let d=0;d<8;d++)e[s+d]=a[o+d]|u[o+d]}return e[s+8]=i,s}function ig(t,e){t.push(0,0,0,0,0,0,0,0,e)}function iT(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function ym(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=uT(i),r===null)return _o;if(n++,i=i[ko],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return _o}function Dg(t,e,n){BP(t,e,n)}function sT(t,e,n){if(n&ue.Optional||t!==void 0)return t;rm(e,"NodeInjector")}function oT(t,e,n,r){if(n&ue.Optional&&r===void 0&&(r=null),!(n&(ue.Self|ue.Host))){let i=t[To],s=Vt(void 0);try{return i?i.get(e,r,n&ue.Optional):ub(e,r,n&ue.Optional)}finally{Vt(s)}}return sT(r,e,n)}function aT(t,e,n,r=ue.Default,i){if(t!==null){if(e[re]&2048&&!(r&ue.Self)){let o=GP(t,e,n,r,Bn);if(o!==Bn)return o}let s=cT(t,e,n,r,Bn);if(s!==Bn)return s}return oT(e,n,r,i)}function cT(t,e,n,r,i){let s=qP(n);if(typeof s=="function"){if(!Kb(e,t,r))return r&ue.Host?sT(i,n,r):oT(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&ue.Optional))rm(n);else return o}finally{Jb()}}else if(typeof s=="number"){let o=null,a=iT(t,e),u=_o,d=r&ue.Host?e[qn][bn]:null;for((a===-1||r&ue.SkipSelf)&&(u=a===-1?ym(t,e):e[a+8],u===_o||!PE(r,!1)?a=-1:(o=e[de],a=Cd(u),e=Sd(u,e)));a!==-1;){let p=e[de];if(NE(s,a,p.data)){let g=$P(a,e,n,o,r,d);if(g!==Bn)return g}u=e[a+8],u!==_o&&PE(r,e[de].data[a+8]===d)&&NE(s,a,e)?(o=p,a=Cd(u),e=Sd(u,e)):a=-1}}return i}function $P(t,e,n,r,i,s){let o=e[de],a=o.data[t+8],u=r==null?zd(a)&&Tg:r!=o&&(a.type&3)!==0,d=i&ue.Host&&s===a,p=HP(a,o,n,u,d);return p!==null?So(e,o,p,a):Bn}function HP(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,d=t.directiveEnd,p=s>>20,g=r?a:a+p,_=i?a+p:d;for(let E=g;E<_;E++){let N=o[E];if(E<u&&n===N||E>=u&&N.type===n)return E}if(i){let E=o[u];if(E&&fi(E)&&E.type===n)return u}return null}function So(t,e,n,r){let i=t[n],s=e.data;if(OP(i)){let o=i;o.resolving&&_N(wN(s[n]));let a=Ad(o.canSeeViewProviders);o.resolving=!0;let u,d=o.injectImpl?Vt(o.injectImpl):null,p=Kb(t,r,ue.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&MP(n,s[n],e)}finally{d!==null&&Vt(d),Ad(a),o.resolving=!1,Jb()}}return i}function qP(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(lc)?t[lc]:void 0;return typeof e=="number"?e>=0?e&nT:zP:e}function NE(t,e,n){let r=1<<t;return!!(n[e+(t>>rT)]&r)}function PE(t,e){return!(t&ue.Self)&&!(t&ue.Host&&e)}var es=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return aT(this._tNode,this._lView,e,$d(r),n)}};function zP(){return new es(Ut(),be())}function vm(t){return yc(()=>{let e=t.prototype.constructor,n=e[md]||Cg(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[md]||Cg(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Cg(t){return rb(t)?()=>{let e=Cg(At(t));return e&&e()}:ts(t)}function GP(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[re]&2048&&!(o[re]&512);){let a=cT(s,o,n,r|ue.Self,Bn);if(a!==Bn)return a;let u=s.parent;if(!u){let d=o[Rb];if(d){let p=d.get(n,Bn,r);if(p!==Bn)return p}u=uT(o),o=o[ko]}s=u}return i}function uT(t){let e=t[de],n=e.type;return n===2?e.declTNode:n===1?t[bn]:null}function ME(t,e=null,n=null,r){let i=lT(t,e,n,r);return i.resolveInjectorInitializers(),i}function lT(t,e=null,n=null,r,i=new Set){let s=[n||on,QN(t)];return r=r||(typeof t=="object"?void 0:xt(t)),new fc(s,e||cm(),r||null,i)}var Et=class t{static{this.THROW_IF_NOT_FOUND=dc}static{this.NULL=new wd}static create(e,n){if(Array.isArray(e))return ME({name:""},n,e,"");{let r=e.name??"";return ME({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=K({token:t,providedIn:"any",factory:()=>ee(hb)})}static{this.__NG_ELEMENT_ID__=-1}};var WP=new X("");WP.__NG_ELEMENT_ID__=t=>{let e=Ut();if(e===null)throw new Z(204,!1);if(e.type&2)return e.value;if(t&ue.Optional)return null;throw new Z(204,!1)};var KP="ngOriginalError";function sg(t){return t[KP]}var dT=!0,wm=(()=>{class t{static{this.__NG_ELEMENT_ID__=QP}static{this.__NG_ENV_ID__=n=>n}}return t})(),Sg=class extends wm{constructor(e){super(),this._lView=e}onDestroy(e){return jb(this._lView,e),()=>mP(this._lView,e)}};function QP(){return new Sg(be())}var Oo=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ct(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=K({token:t,providedIn:"root",factory:()=>new t})}}return t})();var Ag=class extends St{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,Ab()&&(this.destroyRef=j(wm,{optional:!0})??void 0,this.pendingTasks=j(Oo,{optional:!0})??void 0)}emit(e){let n=Ee(null);try{super.next(e)}finally{Ee(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof He&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Rt=Ag;function xd(...t){}function hT(t){let e,n;function r(){t=xd;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function kE(t){return queueMicrotask(()=>t()),()=>{t=xd}}var _m="isAngularZone",Nd=_m+"_ID",YP=0,Ae=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Rt(!1),this.onMicrotaskEmpty=new Rt(!1),this.onStable=new Rt(!1),this.onError=new Rt(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=dT}=e;if(typeof Zone>"u")throw new Z(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,XP(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(_m)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Z(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Z(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,ZP,xd,xd);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},ZP={};function Im(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function JP(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){hT(()=>{t.callbackScheduled=!1,Rg(t),t.isCheckStableRunning=!0,Im(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Rg(t)}function XP(t){let e=()=>{JP(t)},n=YP++;t._inner=t._inner.fork({name:"angular",properties:{[_m]:!0,[Nd]:n,[Nd+n]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(eM(u))return r.invokeTask(s,o,a,u);try{return OE(t),r.invokeTask(s,o,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),LE(t)}},onInvoke:(r,i,s,o,a,u,d)=>{try{return OE(t),r.invoke(s,o,a,u,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!tM(u)&&e(),LE(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Rg(t),Im(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Rg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function OE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function LE(t){t._nesting--,Im(t)}var xg=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Rt,this.onMicrotaskEmpty=new Rt,this.onStable=new Rt,this.onError=new Rt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function eM(t){return fT(t,"__ignore_ng_zone__")}function tM(t){return fT(t,"__scheduler_tick__")}function fT(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var mr=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&sg(e);for(;n&&sg(n);)n=sg(n);return n||null}},nM=new X("",{providedIn:"root",factory:()=>{let t=j(Ae),e=j(mr);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function rM(){return Jd(Ut(),be())}function Jd(t,e){return new Ec(un(t,e))}var Ec=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=rM}}return t})();function pT(t){return(t.flags&128)===128}var gT=new Map,iM=0;function sM(){return iM++}function oM(t){gT.set(t[qd],t)}function Ng(t){gT.delete(t[qd])}var FE="__ngContext__";function os(t,e){li(e)?(t[FE]=e[qd],oM(e)):t[FE]=e}function mT(t){return vT(t[pc])}function yT(t){return vT(t[In])}function vT(t){for(;t!==null&&!_r(t);)t=t[In];return t}var Pg;function wT(t){Pg=t}function aM(){if(Pg!==void 0)return Pg;if(typeof document<"u")return document;throw new Z(210,!1)}var Em=new X("",{providedIn:"root",factory:()=>cM}),cM="ng",bm=new X(""),Qn=new X("",{providedIn:"platform",factory:()=>"unknown"});var Tm=new X("",{providedIn:"root",factory:()=>aM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var uM="h",lM="b";var dM=()=>null;function Dm(t,e,n=!1){return dM(t,e,n)}var _T=!1,hM=new X("",{providedIn:"root",factory:()=>_T});var Pd=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${eb})`}};function Xd(t){return t instanceof Pd?t.changingThisBreaksApplicationSecurity:t}function IT(t,e){let n=fM(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${eb})`)}return n===e}function fM(t){return t instanceof Pd&&t.getTypeName()||null}var pM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ET(t){return t=String(t),t.match(pM)?t:"unsafe:"+t}var Cm=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Cm||{});function O3(t){let e=gM();return e?e.sanitize(Cm.URL,t)||"":IT(t,"URL")?Xd(t):ET(gr(t))}function gM(){let t=be();return t&&t[Hn].sanitizer}function bT(t){return t instanceof Function?t():t}function mM(t){return(t??j(Et)).get(Qn)==="browser"}var yr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(yr||{}),yM;function Sm(t,e){return yM(t,e)}function yo(t,e,n,r,i){if(r!=null){let s,o=!1;_r(r)?s=r:li(r)&&(o=!0,r=r[wr]);let a=Gn(r);t===0&&n!==null?i==null?AT(e,n,a):Md(e,n,a,i||null,!0):t===1&&n!==null?Md(e,n,a,i||null,!0):t===2?PM(e,a,o):t===3&&e.destroyNode(a),s!=null&&kM(e,t,s,n,i)}}function vM(t,e){return t.createText(e)}function wM(t,e,n){t.setValue(e,n)}function TT(t,e,n){return t.createElement(e,n)}function _M(t,e){DT(t,e),e[wr]=null,e[bn]=null}function IM(t,e,n,r,i,s){r[wr]=i,r[bn]=e,eh(t,r,n,1,i,s)}function DT(t,e){e[Hn].changeDetectionScheduler?.notify(9),eh(t,e,e[et],2,null,null)}function EM(t){let e=t[pc];if(!e)return og(t[de],t);for(;e;){let n=null;if(li(e))n=e[pc];else{let r=e[cn];r&&(n=r)}if(!n){for(;e&&!e[In]&&e!==t;)li(e)&&og(e[de],e),e=e[Nt];e===null&&(e=t),li(e)&&og(e[de],e),n=e&&e[In]}e=n}}function bM(t,e,n,r){let i=cn+r,s=n.length;r>0&&(n[i-1][In]=e),r<s-cn?(e[In]=n[i],db(n,cn+r,e)):(n.push(e),e[In]=null),e[Nt]=n;let o=e[Do];o!==null&&n!==o&&CT(o,e);let a=e[Co];a!==null&&a.insertView(t),Ig(e),e[re]|=128}function CT(t,e){let n=t[bd],r=e[Nt];if(li(r))t[re]|=Td.HasTransplantedViews;else{let i=r[Nt][qn];e[qn]!==i&&(t[re]|=Td.HasTransplantedViews)}n===null?t[bd]=[e]:n.push(e)}function Am(t,e){let n=t[bd],r=n.indexOf(e);n.splice(r,1)}function Mg(t,e){if(t.length<=cn)return;let n=cn+e,r=t[n];if(r){let i=r[Do];i!==null&&i!==t&&Am(i,r),e>0&&(t[n-1][In]=r[In]);let s=vd(t,cn+e);_M(r[de],r);let o=s[Co];o!==null&&o.detachView(s[de]),r[Nt]=null,r[In]=null,r[re]&=-129}return r}function ST(t,e){if(!(e[re]&256)){let n=e[et];n.destroyNode&&eh(t,e,n,3,null,null),EM(e)}}function og(t,e){if(e[re]&256)return;let n=Ee(null);try{e[re]&=-129,e[re]|=256,e[an]&&Pp(e[an]),DM(t,e),TM(t,e),e[de].type===1&&e[et].destroy();let r=e[Do];if(r!==null&&_r(e[Nt])){r!==e[Nt]&&Am(r,e);let i=e[Co];i!==null&&i.detachView(t)}Ng(e)}finally{Ee(n)}}function TM(t,e){let n=t.cleanup,r=e[Id];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Id]=null);let i=e[ui];if(i!==null){e[ui]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function DM(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ss)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];jn(4,a,u);try{u.call(a)}finally{jn(5,a,u)}}else{jn(4,i,s);try{s.call(i)}finally{jn(5,i,s)}}}}}function CM(t,e,n){return SM(t,e.parent,n)}function SM(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[wr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===$n.None||s===$n.Emulated)return null}return un(r,n)}}function Md(t,e,n,r,i){t.insertBefore(e,n,r,i)}function AT(t,e,n){t.appendChild(e,n)}function VE(t,e,n,r,i){r!==null?Md(t,e,n,r,i):AT(t,e,n)}function RT(t,e){return t.parentNode(e)}function AM(t,e){return t.nextSibling(e)}function RM(t,e,n){return NM(t,e,n)}function xM(t,e,n){return t.type&40?un(t,n):null}var NM=xM,UE;function Rm(t,e,n,r){let i=CM(t,r,e),s=e[et],o=r.parent||e[bn],a=RM(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)VE(s,i,n[u],a,!1);else VE(s,i,n,a,!1);UE!==void 0&&UE(s,r,e,n,i)}function uc(t,e){if(e!==null){let n=e.type;if(n&3)return un(e,t);if(n&4)return kg(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return uc(t,r);{let i=t[e.index];return _r(i)?kg(-1,i):Gn(i)}}else{if(n&128)return uc(t,e.next);if(n&32)return Sm(e,t)()||Gn(t[e.index]);{let r=xT(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=rs(t[qn]);return uc(i,r)}else return uc(t,e.next)}}}return null}function xT(t,e){if(e!==null){let r=t[qn][bn],i=e.projection;return r.projection[i]}return null}function kg(t,e){let n=cn+t+1;if(n<e.length){let r=e[n],i=r[de].firstChild;if(i!==null)return uc(r,i)}return e[ns]}function PM(t,e,n){t.removeChild(null,e,n)}function xm(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(o&&e===0&&(a&&os(Gn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)xm(t,e,n.child,r,i,s,!1),yo(e,t,i,a,s);else if(u&32){let d=Sm(n,r),p;for(;p=d();)yo(e,t,i,p,s);yo(e,t,i,a,s)}else u&16?MM(t,e,r,n,i,s):yo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function eh(t,e,n,r,i,s){xm(n,r,t.firstChild,e,i,s,!1)}function MM(t,e,n,r,i,s){let o=n[qn],u=o[bn].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let p=u[d];yo(e,t,i,p,s)}else{let d=u,p=o[Nt];pT(r)&&(d.flags|=128),xm(t,e,d,p,i,s,!0)}}function kM(t,e,n,r,i){let s=n[ns],o=Gn(n);s!==o&&yo(e,t,r,s,i);for(let a=cn;a<n.length;a++){let u=n[a];eh(u[de],u,t,e,r,s)}}function OM(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:yr.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=yr.Important),t.setStyle(n,r,i,s))}}function LM(t,e,n){t.setAttribute(e,"style",n)}function NT(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function PT(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&gg(t,e,r),i!==null&&NT(t,e,i),s!==null&&LM(t,e,s)}var Qt={};function L3(t=1){MT(Pt(),be(),yi()+t,!1)}function MT(t,e,n,r){if(!r)if((e[re]&3)===3){let s=t.preOrderCheckHooks;s!==null&&hd(e,s,n)}else{let s=t.preOrderHooks;s!==null&&fd(e,s,0,n)}is(n)}function Yt(t,e=ue.Default){let n=be();if(n===null)return ee(t,e);let r=Ut();return aT(r,n,At(t),e)}function kT(){let t="invalid";throw new Error(t)}function OT(t,e,n,r,i,s){let o=Ee(null);try{let a=null;i&di.SignalBased&&(a=e[r][hr]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&di.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):Pb(e,a,r,s)}finally{Ee(o)}}function FM(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)is(~i);else{let s=i,o=n[++r],a=n[++r];SP(o,s);let u=e[s];a(2,u)}}}finally{is(-1)}}function th(t,e,n,r,i,s,o,a,u,d,p){let g=e.blueprint.slice();return g[wr]=i,g[re]=r|4|128|8|64,(d!==null||t&&t[re]&2048)&&(g[re]|=2048),Vb(g),g[Nt]=g[ko]=t,g[En]=n,g[Hn]=o||t&&t[Hn],g[et]=a||t&&t[et],g[To]=u||t&&t[To]||null,g[bn]=s,g[qd]=sM(),g[_d]=p,g[Rb]=d,g[qn]=e.type==2?t[qn]:g,g}function nh(t,e,n,r,i){let s=t.data[e];if(s===null)s=VM(t,e,n,r,i),CP()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=bP();s.injectorIndex=o===null?-1:o.injectorIndex}return Ic(s,!0),s}function VM(t,e,n,r,i){let s=Hb(),o=qb(),a=o?s:s&&s.parent,u=t.data[e]=HM(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function LT(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function FT(t,e,n,r,i){let s=yi(),o=r&2;try{is(-1),o&&e.length>zn&&MT(t,e,zn,!1),jn(o?2:0,i),n(r,i)}finally{is(s),jn(o?3:1,i)}}function VT(t,e,n){if(Nb(e)){let r=Ee(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{Ee(r)}}}function UT(t,e,n){$b()&&(QM(t,e,n,un(n,e)),(n.flags&64)===64&&qT(t,e,n))}function jT(t,e,n=un){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function BT(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Nm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Nm(t,e,n,r,i,s,o,a,u,d,p){let g=zn+r,_=g+i,E=UM(g,_),N=typeof d=="function"?d():d;return E[de]={type:t,blueprint:E,template:n,queries:null,viewQuery:a,declTNode:e,data:E.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:N,incompleteFirstPass:!1,ssrId:p}}function UM(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Qt);return n}function jM(t,e,n,r){let s=r.get(hM,_T)||n===$n.ShadowDom,o=t.selectRootElement(e,s);return BM(o),o}function BM(t){$M(t)}var $M=()=>null;function HM(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return _P()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function jE(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=di.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let d=s;if(i!==null){if(!i.hasOwnProperty(s))continue;d=i[s]}t===0?BE(r,n,d,a,u):BE(r,n,d,a)}return r}function BE(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function qM(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,d=null;for(let p=r;p<i;p++){let g=s[p],_=n?n.get(g):null,E=_?_.inputs:null,N=_?_.outputs:null;u=jE(0,g.inputs,p,u,E),d=jE(1,g.outputs,p,d,N);let O=u!==null&&o!==null&&!om(e)?ok(u,p,o):null;a.push(O)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=d}function zM(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Pm(t,e,n,r,i,s,o,a){let u=un(e,n),d=e.inputs,p;!a&&d!=null&&(p=d[r])?(Mm(t,n,p,r,i),zd(e)&&GM(n,e.index)):e.type&3?(r=zM(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function GM(t,e){let n=mi(e,t);n[re]&16||(n[re]|=64)}function $T(t,e,n,r){if($b()){let i=r===null?null:{"":-1},s=ZM(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&HT(t,e,n,o,i,a),i&&JM(n,r,i)}n.mergedAttrs=hc(n.mergedAttrs,n.attrs)}function HT(t,e,n,r,i,s){for(let d=0;d<r.length;d++)Dg(Rd(n,e),t,r[d].type);ek(n,t.data.length,r.length);for(let d=0;d<r.length;d++){let p=r[d];p.providersResolver&&p.providersResolver(p)}let o=!1,a=!1,u=LT(t,e,r.length,null);for(let d=0;d<r.length;d++){let p=r[d];n.mergedAttrs=hc(n.mergedAttrs,p.hostAttrs),tk(t,n,e,u,p),XM(u,p,i),p.contentQueries!==null&&(n.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(n.flags|=64);let g=p.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}qM(t,n,s)}function WM(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;KM(o)!=a&&o.push(a),o.push(n,r,s)}}function KM(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function QM(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;zd(n)&&nk(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Rd(n,e),os(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],d=So(e,t,a,n);if(os(d,e),o!==null&&sk(e,a-i,d,u,n,o),fi(u)){let p=mi(n.index,e);p[En]=So(e,t,a,n)}}}function qT(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=AP();try{is(s);for(let a=r;a<i;a++){let u=t.data[a],d=e[a];Eg(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&YM(u,d)}}finally{is(-1),Eg(o)}}function YM(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function ZM(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(jN(e,o.selectors,!1))if(r||(r=[]),fi(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;Og(t,e,u)}else r.unshift(o),Og(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Og(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function JM(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new Z(-301,!1);r.push(e[i],s)}}}function XM(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;fi(e)&&(n[""]=t)}}function ek(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function tk(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=ts(i.type,!0)),o=new ss(s,fi(i),Yt);t.blueprint[r]=o,n[r]=o,WM(t,e,r,LT(t,n,i.hostVars,Qt),i)}function nk(t,e,n){let r=un(e,t),i=BT(n),s=t[Hn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=rh(t,th(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function rk(t,e,n,r,i,s){let o=un(t,e);ik(e[et],o,s,t.value,n,r,i)}function ik(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?gr(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function sk(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],d=o[a++],p=o[a++],g=o[a++];OT(r,n,u,d,p,g)}}function ok(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function zT(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function GT(t,e){let n=t.contentQueries;if(n!==null){let r=Ee(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];Wb(s),a.contentQueries(2,e[o],o)}}}finally{Ee(r)}}}function rh(t,e){return t[pc]?t[SE][In]=e:t[pc]=e,t[SE]=e,e}function Lg(t,e,n){Wb(0);let r=Ee(null);try{e(t,n)}finally{Ee(r)}}function ak(t){return t[Id]??=[]}function ck(t){return t.cleanup??=[]}function WT(t,e){let n=t[To],r=n?n.get(mr,null):null;r&&r.handleError(e)}function Mm(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],d=e[o],p=t.data[o];OT(p,d,r,a,u,i)}}function km(t,e,n){let r=Lb(e,t);wM(t[et],r,n)}function uk(t,e){let n=mi(e,t),r=n[de];lk(r,n);let i=n[wr];i!==null&&n[_d]===null&&(n[_d]=Dm(i,n[To])),Om(r,n,n[En])}function lk(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Om(t,e,n){hm(e);try{let r=t.viewQuery;r!==null&&Lg(1,r,n);let i=t.template;i!==null&&FT(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Co]?.finishViewCreation(t),t.staticContentQueries&&GT(t,e),t.staticViewQueries&&Lg(2,t.viewQuery,n);let s=t.components;s!==null&&dk(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[re]&=-5,fm()}}function dk(t,e){for(let n=0;n<e.length;n++)uk(t,e[n])}function hk(t,e,n,r){let i=Ee(null);try{let s=e.tView,a=t[re]&4096?4096:16,u=th(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=t[e.index];u[Do]=d;let p=t[Co];return p!==null&&(u[Co]=p.createEmbeddedView(s)),Om(s,u,n),u}finally{Ee(i)}}function $E(t,e){return!e||e.firstChild===null||pT(t)}function fk(t,e,n,r=!0){let i=e[de];if(bM(i,e,t,n),r){let o=kg(n,t),a=e[et],u=RT(a,t[ns]);u!==null&&IM(i,t[bn],a,e,u,o)}let s=e[_d];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function kd(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(Gn(s)),_r(s)&&pk(s,r);let o=n.type;if(o&8)kd(t,e,n.child,r);else if(o&32){let a=Sm(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=xT(e,n);if(Array.isArray(a))r.push(...a);else{let u=rs(e[qn]);kd(u[de],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function pk(t,e){for(let n=cn;n<t.length;n++){let r=t[n],i=r[de].firstChild;i!==null&&kd(r[de],r,i,e)}t[ns]!==t[wr]&&e.push(t[ns])}var KT=[];function gk(t){return t[an]??mk(t)}function mk(t){let e=KT.pop()??Object.create(vk);return e.lView=t,e}function yk(t){t.lView[an]!==t&&(t.lView=null,KT.push(t))}var vk=xe(B({},ic),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Kd(t.lView)},consumerOnSignalRead(){this.lView[an]=this}});function wk(t){let e=t[an]??Object.create(_k);return e.lView=t,e}var _k=xe(B({},ic),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=rs(t.lView);for(;e&&!QT(e[de]);)e=rs(e);e&&Ub(e)},consumerOnSignalRead(){this.lView[an]=this}});function QT(t){return t.type!==2}var Ik=100;function YT(t,e=!0,n=0){let r=t[Hn],i=r.rendererFactory,s=!1;s||i.begin?.();try{Ek(t,n)}catch(o){throw e&&WT(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function Ek(t,e){let n=zb();try{RE(!0),Fg(t,e);let r=0;for(;Wd(t);){if(r===Ik)throw new Z(103,!1);r++,Fg(t,1)}}finally{RE(n)}}function bk(t,e,n,r){let i=e[re];if((i&256)===256)return;let s=!1,o=!1;!s&&e[Hn].inlineEffectRunner?.flush(),hm(e);let a=!0,u=null,d=null;s||(QT(t)?(d=gk(e),u=kl(d)):MI()===null?(a=!1,d=wk(e),u=kl(d)):e[an]&&(Pp(e[an]),e[an]=null));try{Vb(e),DP(t.bindingStartIndex),n!==null&&FT(t,e,n,2,r);let p=(i&3)===3;if(!s)if(p){let E=t.preOrderCheckHooks;E!==null&&hd(e,E,null)}else{let E=t.preOrderHooks;E!==null&&fd(e,E,0,null),ng(e,0)}if(o||Tk(e),ZT(e,0),t.contentQueries!==null&&GT(t,e),!s)if(p){let E=t.contentCheckHooks;E!==null&&hd(e,E)}else{let E=t.contentHooks;E!==null&&fd(e,E,1),ng(e,1)}FM(t,e);let g=t.components;g!==null&&XT(e,g,0);let _=t.viewQuery;if(_!==null&&Lg(2,_,r),!s)if(p){let E=t.viewCheckHooks;E!==null&&hd(e,E)}else{let E=t.viewHooks;E!==null&&fd(e,E,2),ng(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[tg]){for(let E of e[tg])E();e[tg]=null}s||(e[re]&=-73)}catch(p){throw s||Kd(e),p}finally{d!==null&&(xp(d,u),a&&yk(d)),fm()}}function ZT(t,e){for(let n=mT(t);n!==null;n=yT(n))for(let r=cn;r<n.length;r++){let i=n[r];JT(i,e)}}function Tk(t){for(let e=mT(t);e!==null;e=yT(e)){if(!(e[re]&Td.HasTransplantedViews))continue;let n=e[bd];for(let r=0;r<n.length;r++){let i=n[r];Ub(i)}}}function Dk(t,e,n){let r=mi(e,t);JT(r,n)}function JT(t,e){lm(t)&&Fg(t,e)}function Fg(t,e){let r=t[de],i=t[re],s=t[an],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Np(s)),o||=!1,s&&(s.dirty=!1),t[re]&=-9217,o)bk(r,t,r.template,t[En]);else if(i&8192){ZT(t,1);let a=r.components;a!==null&&XT(t,a,1)}}function XT(t,e,n){for(let r=0;r<e.length;r++)Dk(t,e[r],n)}function Lm(t,e){let n=zb()?64:1088;for(t[Hn].changeDetectionScheduler?.notify(e);t;){t[re]|=n;let r=rs(t);if(wg(t)&&!r)return t;t=r}return null}var as=class{get rootNodes(){let e=this._lView,n=e[de];return kd(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[En]}set context(e){this._lView[En]=e}get destroyed(){return(this._lView[re]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Nt];if(_r(e)){let n=e[Ed],r=n?n.indexOf(this):-1;r>-1&&(Mg(e,r),vd(n,r))}this._attachedToViewContainer=!1}ST(this._lView[de],this._lView)}onDestroy(e){jb(this._lView,e)}markForCheck(){Lm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[re]&=-129}reattach(){Ig(this._lView),this._lView[re]|=128}detectChanges(){this._lView[re]|=1024,YT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=wg(this._lView),n=this._lView[Do];n!==null&&!e&&Am(n,this._lView),DT(this._lView[de],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Z(902,!1);this._appRef=e;let n=wg(this._lView),r=this._lView[Do];r!==null&&!n&&CT(r,this._lView),Ig(this._lView)}},ih=(()=>{class t{static{this.__NG_ELEMENT_ID__=Ak}}return t})(),Ck=ih,Sk=class extends Ck{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=hk(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new as(i)}};function Ak(){return Rk(Ut(),be())}function Rk(t,e){return t.type&4?new Sk(e,t,Jd(t,e)):null}var V3=new RegExp(`^(\\d+)*(${lM}|${uM})*(.*)`);var xk=()=>null;function HE(t,e){return xk(t,e)}var Ao=class{},sh=new X("",{providedIn:"root",factory:()=>!1});var eD=new X(""),tD=new X(""),Vg=class{},Od=class{};function Nk(t){let e=Error(`No component factory found for ${xt(t)}.`);return e[Pk]=t,e}var Pk="ngComponent";var Ug=class{resolveComponentFactory(e){throw Nk(e)}},Ro=class{static{this.NULL=new Ug}},xo=class{},oh=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>Mk()}}return t})();function Mk(){let t=be(),e=Ut(),n=mi(e.index,t);return(li(n)?n:t)[et]}var kk=(()=>{class t{static{this.\u0275prov=K({token:t,providedIn:"root",factory:()=>null})}}return t})();function jg(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=yE(i,a);else if(s==2){let u=a,d=e[++o];r=yE(r,u+": "+d+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Ld=class extends Ro{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=hi(e);return new No(n,this.ngModule)}};function qE(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:di.None;e?n.push({propName:o,templateName:r,isSignal:(a&di.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function Ok(t){let e=t.toLowerCase();return e==="svg"?dP:e==="math"?hP:null}var No=class extends Od{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=qE(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return qE(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=qN(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=Ee(null);try{i=i||this.ngModule;let o=i instanceof Kt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new bg(e,o):e,u=a.get(xo,null);if(u===null)throw new Z(407,!1);let d=a.get(kk,null),p=a.get(Ao,null),g={rendererFactory:u,sanitizer:d,inlineEffectRunner:null,changeDetectionScheduler:p},_=u.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",N=r?jM(_,r,this.componentDef.encapsulation,a):TT(_,E,Ok(E)),O=512;this.componentDef.signals?O|=4096:this.componentDef.onPush||(O|=16);let k=null;N!==null&&(k=Dm(N,a,!0));let U=Nm(0,null,null,1,0,null,null,null,null,null,null),G=th(null,U,null,O,null,null,g,_,a,null,k);hm(G);let q,W,Te=null;try{let Y=this.componentDef,C,I=null;Y.findHostDirectiveDefs?(C=[],I=new Map,Y.findHostDirectiveDefs(Y,C,I),C.push(Y)):C=[Y];let b=Lk(G,N);Te=Fk(b,N,Y,C,G,g,_),W=Fb(U,zn),N&&jk(_,Y,N,r),n!==void 0&&Bk(W,this.ngContentSelectors,n),q=Uk(Te,Y,C,I,G,[$k]),Om(U,G,null)}catch(Y){throw Te!==null&&Ng(Te),Ng(G),Y}finally{fm()}return new Bg(this.componentType,q,Jd(W,G),G,W)}finally{Ee(s)}}},Bg=class extends Vg{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new as(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Mm(s[de],s,i,e,n),this.previousInputValues.set(e,n);let o=mi(this._tNode.index,s);Lm(o,1)}}get injector(){return new es(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Lk(t,e){let n=t[de],r=zn;return t[r]=e,nh(n,r,2,"#host",null)}function Fk(t,e,n,r,i,s,o){let a=i[de];Vk(r,t,e,o);let u=null;e!==null&&(u=Dm(e,i[To]));let d=s.rendererFactory.createRenderer(e,n),p=16;n.signals?p=4096:n.onPush&&(p=64);let g=th(i,BT(n),null,p,i[t.index],t,s,d,null,null,u);return a.firstCreatePass&&Og(a,t,r.length-1),rh(i,g),i[t.index]=g}function Vk(t,e,n,r){for(let i of t)e.mergedAttrs=hc(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(jg(e,e.mergedAttrs,!0),n!==null&&PT(r,n,e))}function Uk(t,e,n,r,i,s){let o=Ut(),a=i[de],u=un(o,i);HT(a,i,o,n,null,r);for(let p=0;p<n.length;p++){let g=o.directiveStart+p,_=So(i,a,g,o);os(_,i)}qT(a,i,o),u&&os(u,i);let d=So(i,a,o.directiveStart+o.componentOffset,o);if(t[En]=i[En]=d,s!==null)for(let p of s)p(d,e);return VT(a,o,i),d}function jk(t,e,n,r){if(r)gg(t,n,["ng-version","18.2.9"]);else{let{attrs:i,classes:s}=zN(e.selectors[0]);i&&gg(t,n,i),s&&s.length>0&&NT(t,n,s.join(" "))}}function Bk(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function $k(){let t=Ut();mm(be()[de],t)}var Lo=(()=>{class t{static{this.__NG_ELEMENT_ID__=Hk}}return t})();function Hk(){let t=Ut();return zk(t,be())}var qk=Lo,nD=class extends qk{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Jd(this._hostTNode,this._hostLView)}get injector(){return new es(this._hostTNode,this._hostLView)}get parentInjector(){let e=ym(this._hostTNode,this._hostLView);if(tT(e)){let n=Sd(e,this._hostLView),r=Cd(e),i=n[de].data[r+8];return new es(i,n)}else return new es(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=zE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-cn}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=HE(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,$E(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!aP(e),a;if(o)a=n;else{let N=n||{};a=N.index,r=N.injector,i=N.projectableNodes,s=N.environmentInjector||N.ngModuleRef}let u=o?e:new No(hi(e)),d=r||this.parentInjector;if(!s&&u.ngModule==null){let O=(o?d:this.parentInjector).get(Kt,null);O&&(s=O)}let p=hi(u.componentType??{}),g=HE(this._lContainer,p?.id??null),_=g?.firstChild??null,E=u.create(d,i,_,s);return this.insertImpl(E.hostView,a,$E(this._hostTNode,g)),E}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(pP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Nt],d=new nD(u,u[bn],u[Nt]);d.detach(d.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return fk(o,i,s,r),e.attachToViewContainerRef(),db(ag(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=zE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Mg(this._lContainer,n);r&&(vd(ag(this._lContainer),n),ST(r[de],r))}detach(e){let n=this._adjustIndex(e,-1),r=Mg(this._lContainer,n);return r&&vd(ag(this._lContainer),n)!=null?new as(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function zE(t){return t[Ed]}function ag(t){return t[Ed]||(t[Ed]=[])}function zk(t,e){let n,r=e[t.index];return _r(r)?n=r:(n=zT(r,e,null,t),e[t.index]=n,rh(e,n)),Wk(n,e,t,r),new nD(n,t,e)}function Gk(t,e){let n=t[et],r=n.createComment(""),i=un(e,t),s=RT(n,i);return Md(n,s,r,AM(n,i),!1),r}var Wk=Yk,Kk=()=>!1;function Qk(t,e,n){return Kk(t,e,n)}function Yk(t,e,n,r){if(t[ns])return;let i;n.type&8?i=Gn(r):i=Gk(e,n),t[ns]=i}var GE=new Set;function Fo(t){GE.has(t)||(GE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Zk(t){return typeof t=="function"&&t[hr]!==void 0}function j3(t,e){Fo("NgSignals");let n=qI(t),r=n[hr];return e?.equal&&(r.equal=e.equal),n.set=i=>Mp(r,i),n.update=i=>zI(r,i),n.asReadonly=Jk.bind(n),n}function Jk(){let t=this[hr];if(t.readonlyFn===void 0){let e=()=>this();e[hr]=t,t.readonlyFn=e}return t.readonlyFn}function rD(t){return Zk(t)&&typeof t.set=="function"}function Xk(t){return Object.getPrototypeOf(t.prototype).constructor}function eO(t){let e=Xk(t.type),n=!0,r=[t];for(;e;){let i;if(fi(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Z(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=cd(t.inputs),o.inputTransforms=cd(t.inputTransforms),o.declaredInputs=cd(t.declaredInputs),o.outputs=cd(t.outputs);let a=i.hostBindings;a&&sO(t,a);let u=i.viewQuery,d=i.contentQueries;if(u&&rO(t,u),d&&iO(t,d),tO(t,i),dN(t.outputs,i.outputs),fi(i)&&i.data.animation){let p=t.data;p.animation=(p.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===eO&&(n=!1)}}e=Object.getPrototypeOf(e)}nO(r)}function tO(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function nO(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=hc(i.hostAttrs,n=hc(n,i.hostAttrs))}}function cd(t){return t===Io?{}:t===on?[]:t}function rO(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function iO(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function sO(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var pi=class{},gc=class{};var $g=class extends pi{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ld(this);let s=Ib(e);this._bootstrapComponents=bT(s.bootstrap),this._r3Injector=lT(e,n,[{provide:pi,useValue:this},{provide:Ro,useValue:this.componentFactoryResolver},...r],xt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Hg=class extends gc{constructor(e){super(),this.moduleType=e}create(e){return new $g(this.moduleType,e,[])}};var Fd=class extends pi{constructor(e){super(),this.componentFactoryResolver=new Ld(this),this.instance=null;let n=new fc([...e.providers,{provide:pi,useValue:this},{provide:Ro,useValue:this.componentFactoryResolver}],e.parent||cm(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ah(t,e,n=null){return new Fd({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function iD(t){return aO(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function oO(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function aO(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Fm(t,e,n){return t[e]=n}function cO(t,e){return t[e]}function vr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Vm(t,e,n,r){let i=vr(t,e,n);return vr(t,e+1,r)||i}function uO(t,e,n,r,i){let s=Vm(t,e,n,r);return vr(t,e+2,i)||s}function lO(t){return(t.flags&32)===32}function dO(t,e,n,r,i,s,o,a,u){let d=e.consts,p=nh(e,t,4,o||null,a||null);$T(e,n,p,Dd(d,u)),mm(e,p);let g=p.tView=Nm(2,p,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,p),g.queries=e.queries.embeddedTView(p)),p}function hO(t,e,n,r,i,s,o,a,u,d){let p=n+zn,g=e.firstCreatePass?dO(p,e,t,r,i,s,o,a,u):e.data[p];Ic(g,!1);let _=pO(e,t,g,n);pm()&&Rm(e,t,_,g),os(_,t);let E=zT(_,t,_,g);return t[p]=E,rh(t,E),Qk(E,g,t),um(g)&&UT(e,t,g),u!=null&&jT(t,g,d),g}function fO(t,e,n,r,i,s,o,a){let u=be(),d=Pt(),p=Dd(d.consts,s);return hO(u,d,t,e,n,r,i,p,o,a),fO}var pO=gO;function gO(t,e,n,r){return gm(!0),e[et].createComment("")}var vo=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(vo||{}),sD=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=K({token:t,providedIn:"root",factory:()=>new t})}}return t})(),qg=class t{constructor(){this.ngZone=j(Ae),this.scheduler=j(Ao),this.errorHandler=j(mr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[vo.EarlyRead,vo.Write,vo.MixedReadWrite,vo.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=K({token:t,providedIn:"root",factory:()=>new t})}},zg=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function Um(t,e){!e?.injector&&oP(Um);let n=e?.injector??j(Et);return mM(n)?(Fo("NgAfterNextRender"),yO(t,n,e,!0)):vO}function mO(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function yO(t,e,n,r){let i=e.get(sD);i.impl??=e.get(qg);let s=n?.phase??vo.MixedReadWrite,o=n?.manualCleanup!==!0?e.get(wm):null,a=new zg(i.impl,mO(t,s),r,o);return i.impl.register(a),a}var vO={destroy(){}};function oD(t,e,n,r){let i=be(),s=Yd();if(vr(i,s,e)){let o=Pt(),a=Zd();rk(a,i,t,e,n,r)}return oD}function aD(t,e,n,r){return vr(t,Yd(),n)?e+gr(n)+r:Qt}function wO(t,e,n,r,i,s){let o=Gb(),a=Vm(t,o,n,i);return dm(2),a?e+gr(n)+r+gr(i)+s:Qt}function _O(t,e,n,r,i,s,o,a){let u=Gb(),d=uO(t,u,n,i,o);return dm(3),d?e+gr(n)+r+gr(i)+s+gr(o)+a:Qt}function ud(t,e){return t<<17|e<<2}function cs(t){return t>>17&32767}function IO(t){return(t&2)==2}function EO(t,e){return t&131071|e<<17}function Gg(t){return t|2}function Po(t){return(t&131068)>>2}function cg(t,e){return t&-131069|e<<2}function bO(t){return(t&1)===1}function Wg(t){return t|1}function TO(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=cs(o),u=Po(o);t[r]=n;let d=!1,p;if(Array.isArray(n)){let g=n;p=g[1],(p===null||wc(g,p)>0)&&(d=!0)}else p=n;if(i)if(u!==0){let _=cs(t[a+1]);t[r+1]=ud(_,a),_!==0&&(t[_+1]=cg(t[_+1],r)),t[a+1]=EO(t[a+1],r)}else t[r+1]=ud(a,0),a!==0&&(t[a+1]=cg(t[a+1],r)),a=r;else t[r+1]=ud(u,0),a===0?a=r:t[u+1]=cg(t[u+1],r),u=r;d&&(t[r+1]=Gg(t[r+1])),WE(t,p,r,!0),WE(t,p,r,!1),DO(e,p,t,r,s),o=ud(a,u),s?e.classBindings=o:e.styleBindings=o}function DO(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&wc(s,e)>=0&&(n[r+1]=Wg(n[r+1]))}function WE(t,e,n,r){let i=t[n+1],s=e===null,o=r?cs(i):Po(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],d=t[o+1];CO(u,e)&&(a=!0,t[o+1]=r?Wg(d):Gg(d)),o=r?cs(d):Po(d)}a&&(t[n+1]=r?Gg(i):Wg(i))}function CO(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?wc(t,e)>=0:!1}function SO(t,e,n){let r=be(),i=Yd();if(vr(r,i,e)){let s=Pt(),o=Zd();Pm(s,o,r,t,e,r[et],n,!1)}return SO}function KE(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Mm(t,n,s[o],o,r)}function AO(t,e){return RO(t,e,null,!0),AO}function RO(t,e,n,r){let i=be(),s=Pt(),o=dm(2);if(s.firstUpdatePass&&NO(s,t,o,r),e!==Qt&&vr(i,o,e)){let a=s.data[yi()];LO(s,a,i,i[et],t,i[o+1]=FO(e,n),r,o)}}function xO(t,e){return e>=t.expandoStartIndex}function NO(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[yi()],o=xO(t,n);VO(s,r)&&e===null&&!o&&(e=!1),e=PO(i,s,e,r),TO(i,s,e,n,o,r)}}function PO(t,e,n,r){let i=RP(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=ug(null,t,e,n,r),n=mc(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=ug(i,t,e,n,r),s===null){let u=MO(t,e,r);u!==void 0&&Array.isArray(u)&&(u=ug(null,t,e,u[1],r),u=mc(u,e.attrs,r),kO(t,e,r,u))}else s=OO(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function MO(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Po(r)!==0)return t[cs(r)]}function kO(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[cs(i)]=r}function OO(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=mc(r,o,n)}return mc(r,e.attrs,n)}function ug(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=mc(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function mc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),NN(t,o,n?!0:e[++s]))}return t===void 0?null:t}function LO(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,d=u[a+1],p=bO(d)?QE(u,e,n,i,Po(d),o):void 0;if(!Vd(p)){Vd(s)||IO(d)&&(s=QE(u,null,n,i,a,o));let g=Lb(yi(),n);OM(r,o,g,i,s)}}function QE(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],d=Array.isArray(u),p=d?u[1]:u,g=p===null,_=n[i+1];_===Qt&&(_=g?on:void 0);let E=g?Xp(_,r):p===r?_:void 0;if(d&&!Vd(E)&&(E=Xp(u,r)),Vd(E)&&(a=E,o))return a;let N=t[i+1];i=o?cs(N):Po(N)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=Xp(u,r))}return a}function Vd(t){return t!==void 0}function FO(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=xt(Xd(t)))),t}function VO(t,e){return(t.flags&(e?8:16))!==0}function UO(t,e,n,r,i,s){let o=e.consts,a=Dd(o,i),u=nh(e,t,2,r,a);return $T(e,n,u,Dd(o,s)),u.attrs!==null&&jg(u,u.attrs,!1),u.mergedAttrs!==null&&jg(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function cD(t,e,n,r){let i=be(),s=Pt(),o=zn+t,a=i[et],u=s.firstCreatePass?UO(o,s,i,e,n,r):s.data[o],d=jO(s,i,u,a,e,t);i[o]=d;let p=um(u);return Ic(u,!0),PT(a,d,u),!lO(u)&&pm()&&Rm(s,i,d,u),yP()===0&&os(d,i),vP(),p&&(UT(s,i,u),VT(s,u,i)),r!==null&&jT(i,u),cD}function uD(){let t=Ut();qb()?TP():(t=t.parent,Ic(t,!1));let e=t;IP(e)&&EP(),wP();let n=Pt();return n.firstCreatePass&&(mm(n,t),Nb(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&LP(e)&&KE(n,e,be(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&FP(e)&&KE(n,e,be(),e.stylesWithoutHost,!1),uD}function jm(t,e,n,r){return cD(t,e,n,r),uD(),jm}var jO=(t,e,n,r,i,s)=>(gm(!0),TT(r,i,PP()));function B3(){return be()}var Ud="en-US";var BO=Ud;function $O(t){typeof t=="string"&&(BO=t.toLowerCase().replace(/_/g,"-"))}var HO=(t,e,n)=>{};function lD(t,e,n,r){let i=be(),s=Pt(),o=Ut();return dD(s,i,i[et],o,t,e,r),lD}function qO(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Id],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function dD(t,e,n,r,i,s,o){let a=um(r),d=t.firstCreatePass&&ck(t),p=e[En],g=ak(e),_=!0;if(r.type&3||o){let O=un(r,e),k=o?o(O):O,U=g.length,G=o?W=>o(Gn(W[r.index])):r.index,q=null;if(!o&&a&&(q=qO(t,e,i,r.index)),q!==null){let W=q.__ngLastListenerFn__||q;W.__ngNextListenerFn__=s,q.__ngLastListenerFn__=s,_=!1}else{s=ZE(r,e,p,s),HO(O,i,s);let W=n.listen(k,i,s);g.push(s,W),d&&d.push(i,G,U,U+1)}}else s=ZE(r,e,p,s);let E=r.outputs,N;if(_&&E!==null&&(N=E[i])){let O=N.length;if(O)for(let k=0;k<O;k+=2){let U=N[k],G=N[k+1],Te=e[U][G].subscribe(s),Y=g.length;g.push(s,Te),d&&d.push(i,r.index,Y,-(Y+1))}}}function YE(t,e,n,r){let i=Ee(null);try{return jn(6,e,n),n(r)!==!1}catch(s){return WT(t,s),!1}finally{jn(7,e,n),Ee(i)}}function ZE(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?mi(t.index,e):e;Lm(o,5);let a=YE(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)a=YE(e,n,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function $3(t=1){return NP(t)}function zO(t,e,n,r,i){let s=be(),o=aD(s,e,n,r);if(o!==Qt){let a=Pt(),u=Zd();Pm(a,u,s,t,o,s[et],i,!1)}return zO}function GO(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function H3(t,e=""){let n=be(),r=Pt(),i=t+zn,s=r.firstCreatePass?nh(r,i,1,e,null):r.data[i],o=WO(r,n,s,e,t);n[i]=o,pm()&&Rm(r,n,o,s),Ic(s,!1)}var WO=(t,e,n,r,i)=>(gm(!0),vM(e[et],r));function KO(t){return hD("",t,""),KO}function hD(t,e,n){let r=be(),i=aD(r,t,e,n);return i!==Qt&&km(r,yi(),i),hD}function QO(t,e,n,r,i){let s=be(),o=wO(s,t,e,n,r,i);return o!==Qt&&km(s,yi(),o),QO}function YO(t,e,n,r,i,s,o){let a=be(),u=_O(a,t,e,n,r,i,s,o);return u!==Qt&&km(a,yi(),u),YO}function ZO(t,e,n){rD(e)&&(e=e());let r=be(),i=Yd();if(vr(r,i,e)){let s=Pt(),o=Zd();Pm(s,o,r,t,e,r[et],n,!1)}return ZO}function q3(t,e){let n=rD(t);return n&&t.set(e),n}function JO(t,e){let n=be(),r=Pt(),i=Ut();return dD(r,n,n[et],i,t,e),JO}function XO(t,e,n){let r=Pt();if(r.firstCreatePass){let i=fi(t);Kg(n,r.data,r.blueprint,i,!0),Kg(e,r.data,r.blueprint,i,!1)}}function Kg(t,e,n,r,i){if(t=At(t),Array.isArray(t))for(let s=0;s<t.length;s++)Kg(t[s],e,n,r,i);else{let s=Pt(),o=be(),a=Ut(),u=bo(t)?t:At(t.provide),d=Sb(t),p=a.providerIndexes&1048575,g=a.directiveStart,_=a.providerIndexes>>20;if(bo(t)||!t.multi){let E=new ss(d,i,Yt),N=dg(u,e,i?p:p+_,g);N===-1?(Dg(Rd(a,o),s,u),lg(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(E),o.push(E)):(n[N]=E,o[N]=E)}else{let E=dg(u,e,p+_,g),N=dg(u,e,p,p+_),O=E>=0&&n[E],k=N>=0&&n[N];if(i&&!k||!i&&!O){Dg(Rd(a,o),s,u);let U=n1(i?t1:e1,n.length,i,r,d);!i&&k&&(n[N].providerFactory=U),lg(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(U),o.push(U)}else{let U=fD(n[i?N:E],d,!i&&r);lg(s,t,E>-1?E:N,U)}!i&&r&&k&&n[N].componentProviders++}}}function lg(t,e,n,r){let i=bo(e),s=XN(e);if(i||s){let u=(s?At(e.useClass):e).prototype.ngOnDestroy;if(u){let d=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let p=d.indexOf(n);p===-1?d.push(n,[r,u]):d[p+1].push(r,u)}else d.push(n,u)}}}function fD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function dg(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function e1(t,e,n,r){return Qg(this.multi,[])}function t1(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=So(n,n[de],this.providerFactory.index,r);s=a.slice(0,o),Qg(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Qg(i,s);return s}function Qg(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function n1(t,e,n,r,i){let s=new ss(t,n,Yt);return s.multi=[],s.index=e,s.componentProviders=0,fD(s,i,r&&!n),s}function z3(t,e=[]){return n=>{n.providersResolver=(r,i)=>XO(r,i?i(t):t,e)}}var r1=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Tb(!1,n.type),i=r.length>0?ah([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=K({token:t,providedIn:"environment",factory:()=>new t(ee(Kt))})}}return t})();function pD(t){Fo("NgStandalone"),t.getStandaloneInjector=e=>e.get(r1).getOrCreateStandaloneInjector(t)}function G3(t,e,n){let r=Qd()+t,i=be();return i[r]===Qt?Fm(i,r,n?e.call(n):e()):cO(i,r)}function W3(t,e,n,r){return mD(be(),Qd(),t,e,n,r)}function K3(t,e,n,r,i){return i1(be(),Qd(),t,e,n,r,i)}function gD(t,e){let n=t[e];return n===Qt?void 0:n}function mD(t,e,n,r,i,s){let o=e+n;return vr(t,o,i)?Fm(t,o+1,s?r.call(s,i):r(i)):gD(t,o+1)}function i1(t,e,n,r,i,s,o){let a=e+n;return Vm(t,a,i,s)?Fm(t,a+2,o?r.call(o,i,s):r(i,s)):gD(t,a+2)}function Q3(t,e){let n=Pt(),r,i=t+zn;n.firstCreatePass?(r=s1(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=ts(r.type,!0)),o,a=Vt(Yt);try{let u=Ad(!1),d=s();return Ad(u),GO(n,be(),i,d),d}finally{Vt(a)}}function s1(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Y3(t,e,n){let r=t+zn,i=be(),s=fP(i,r);return o1(i,r)?mD(i,Qd(),e,s.transform,n,s):s.transform(n)}function o1(t,e){return t[de].data[e].pure}var gi=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},yD=new gi("18.2.9");var ch=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var vD=new X("");function bc(t){return!!t&&typeof t.then=="function"}function wD(t){return!!t&&typeof t.subscribe=="function"}var uh=new X(""),_D=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=j(uh,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=i();if(bc(s))n.push(s);else if(wD(s)){let o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),lh=new X("");function a1(){HI(()=>{throw new Z(600,!1)})}function c1(t){return t.isBoundToModule}var u1=10;function l1(t,e,n){try{let r=n();return bc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var us=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=j(nM),this.afterRenderManager=j(sD),this.zonelessEnabled=j(sh),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new St,this.afterTick=new St,this.componentTypes=[],this.components=[],this.isStable=j(Oo).hasPendingTasks.pipe(pe(n=>!n)),this._injector=j(Kt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Od;if(!this._injector.get(_D).done){let _=!i&&_b(n),E=!1;throw new Z(405,E)}let o;i?o=n:o=this._injector.get(Ro).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let a=c1(o)?void 0:this._injector.get(pi),u=r||o.selector,d=o.create(Et.NULL,[],u,a),p=d.location.nativeElement,g=d.injector.get(vD,null);return g?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),pd(this.components,d),g?.unregisterApplication(p)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Z(101,!1);let n=Ee(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Ee(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(xo,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<u1;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)d1(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Wd(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;pd(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(lh,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>pd(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Z(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function pd(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function d1(t,e,n,r){if(!n&&!Wd(t))return;YT(t,e,n&&!r?0:1)}var Yg=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},dh=(()=>{class t{compileModuleSync(n){return new Hg(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Ib(n),s=bT(i.declarations).reduce((o,a)=>{let u=hi(a);return u&&o.push(new No(u)),o},[]);return new Yg(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var h1=(()=>{class t{constructor(){this.zone=j(Ae),this.changeDetectionScheduler=j(Ao),this.applicationRef=j(us)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),f1=new X("",{factory:()=>!1});function ID({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Ae(xe(B({},ED()),{scheduleInRootZone:n})),[{provide:Ae,useFactory:t},{provide:Eo,multi:!0,useFactory:()=>{let r=j(h1,{optional:!0});return()=>r.initialize()}},{provide:Eo,multi:!0,useFactory:()=>{let r=j(p1);return()=>{r.initialize()}}},e===!0?{provide:eD,useValue:!0}:[],{provide:tD,useValue:n??dT}]}function Z3(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=ID({ngZoneFactory:()=>{let i=ED(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Fo("NgZone_CoalesceEvent"),new Ae(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Wn([{provide:f1,useValue:!0},{provide:sh,useValue:!1},r])}function ED(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var p1=(()=>{class t{constructor(){this.subscription=new He,this.initialized=!1,this.zone=j(Ae),this.pendingTasks=j(Oo)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ae.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var g1=(()=>{class t{constructor(){this.appRef=j(us),this.taskService=j(Oo),this.ngZone=j(Ae),this.zonelessEnabled=j(sh),this.disableScheduling=j(eD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new He,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Nd):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(j(tD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof xg||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?kE:hT;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Nd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,kE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function m1(){return typeof $localize<"u"&&$localize.locale||Ud}var Bm=new X("",{providedIn:"root",factory:()=>j(Bm,ue.Optional|ue.SkipSelf)||m1()});var Zg=new X("");function ld(t){return!t.moduleRef}function y1(t){let e=ld(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ae);return n.run(()=>{ld(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(mr,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),ld(t)){let s=()=>e.destroy(),o=t.platformInjector.get(Zg);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>t.moduleRef.destroy(),o=t.platformInjector.get(Zg);o.add(s),t.moduleRef.onDestroy(()=>{pd(t.allPlatformModules,t.moduleRef),i.unsubscribe(),o.delete(s)})}return l1(r,n,()=>{let s=e.get(_D);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Bm,Ud);if($O(o||Ud),ld(t)){let a=e.get(us);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return v1(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function v1(t,e){let n=t.injector.get(us);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new Z(-403,!1);e.push(t)}var gd=null;function w1(t=[],e){return Et.create({name:e,providers:[{provide:Hd,useValue:"platform"},{provide:Zg,useValue:new Set([()=>gd=null])},...t]})}function _1(t=[]){if(gd)return gd;let e=w1(t);return gd=e,a1(),I1(e),e}function I1(t){t.get(bm,null)?.forEach(n=>n())}var Tc=(()=>{class t{static{this.__NG_ELEMENT_ID__=E1}}return t})();function E1(t){return b1(Ut(),be(),(t&16)===16)}function b1(t,e,n){if(zd(t)&&!n){let r=mi(t.index,e);return new as(r,r)}else if(t.type&175){let r=e[qn];return new as(r,e)}return null}var Jg=class{constructor(){}supports(e){return iD(e)}create(e){return new Xg(e)}},T1=(t,e)=>e,Xg=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||T1}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<JE(r,i,s)?n:r,a=JE(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let d=a-i,p=u-i;if(d!=p){for(let _=0;_<d;_++){let E=_<s.length?s[_]:s[_]=0,N=E+_;p<=N&&N<d&&(s[_]=E+1)}let g=o.previousIndex;s[g]=p-d}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!iD(e))throw new Z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,oO(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new em(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new jd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new jd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},em=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},tm=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},jd=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new tm,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function JE(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function XE(){return new $m([new Jg])}var $m=(()=>{class t{static{this.\u0275prov=K({token:t,providedIn:"root",factory:XE})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||XE()),deps:[[t,new im,new bt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new Z(901,!1)}}return t})();function bD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=_1(r),s=[ID({}),{provide:Ao,useExisting:g1},...n||[]],o=new Fd({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return y1({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function TD(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function J3(t,e){Fo("NgSignals");let n=jI(t);return e?.equal&&(n[hr].equal=e.equal),n}function D1(t){let e=Ee(null);try{return t()}finally{Ee(e)}}function DD(t){let e=hi(t);if(!e)return null;let n=new No(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var ND=null;function Vo(){return ND}function PD(t){ND??=t}var hh=class{};var jt=new X(""),Km=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:()=>j(A1),providedIn:"platform"})}}return t})(),MD=new X(""),A1=(()=>{class t extends Km{constructor(){super(),this._doc=j(jt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Vo().getBaseHref(this._doc)}onPopState(n){let r=Vo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Vo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function Qm(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function CD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Ir(t){return t&&t[0]!=="?"?"?"+t:t}var ls=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:()=>j(Ym),providedIn:"root"})}}return t})(),kD=new X(""),Ym=(()=>{class t extends ls{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??j(jt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Qm(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Ir(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Ir(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Ir(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(ee(Km),ee(kD,8))}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),OD=(()=>{class t extends ls{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Qm(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Ir(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Ir(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(ee(Km),ee(kD,8))}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac})}}return t})(),Uo=(()=>{class t{constructor(n){this._subject=new Rt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=N1(CD(SD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ir(r))}normalize(n){return t.stripTrailingSlash(x1(this._basePath,SD(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ir(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ir(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Ir}static{this.joinWithSlash=Qm}static{this.stripTrailingSlash=CD}static{this.\u0275fac=function(r){return new(r||t)(ee(ls))}}static{this.\u0275prov=K({token:t,factory:()=>R1(),providedIn:"root"})}}return t})();function R1(){return new Uo(ee(ls))}function x1(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function SD(t){return t.replace(/\/index.html$/,"")}function N1(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function LD(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Hm=/\s+/,AD=[],T9=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=AD,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(Hm):AD}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Hm):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Hm).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(Yt(Ec),Yt(oh))}}static{this.\u0275dir=Mo({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var qm=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},D9=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new qm(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),RD(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);RD(s,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(Yt(Lo),Yt(ih),Yt($m))}}static{this.\u0275dir=Mo({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function RD(t,e){t.context.$implicit=e.item}var C9=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new zm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){xD("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){xD("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(Yt(Lo),Yt(ih))}}static{this.\u0275dir=Mo({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),zm=class{constructor(){this.$implicit=null,this.ngIf=null}};function xD(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${xt(e)}'.`)}function P1(t,e){return new Z(2100,!1)}var M1=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,S9=(()=>{class t{transform(n){if(n==null)return null;if(typeof n!="string")throw P1(t,n);return n.replace(M1,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275pipe=yb({name:"titlecase",type:t,pure:!0,standalone:!0})}}return t})();var k1=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=_c({type:t})}static{this.\u0275inj=vc({})}}return t})(),Zm="browser",O1="server";function L1(t){return t===Zm}function Jm(t){return t===O1}var FD=(()=>{class t{static{this.\u0275prov=K({token:t,providedIn:"root",factory:()=>L1(j(Qn))?new Gm(j(jt),window):new Wm})}}return t})(),Gm=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=F1(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function F1(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var Wm=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},fh=class{};var ty=class extends hh{constructor(){super(...arguments),this.supportsDOMEvents=!0}},ny=class t extends ty{static makeCurrent(){PD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=V1();return n==null?null:U1(n)}resetBaseElement(){Cc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return LD(document.cookie,e)}},Cc=null;function V1(){return Cc=Cc||document.querySelector("base"),Cc?Cc.getAttribute("href"):null}function U1(t){return new URL(t,document.baseURI).pathname}var j1=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac})}}return t})(),ry=new X(""),BD=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new Z(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(ee(ry),ee(Ae))}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac})}}return t})(),ph=class{constructor(e){this._doc=e}},Xm="ng-app-id",$D=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Jm(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Xm}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(Xm),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Xm,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(ee(jt),ee(Em),ee(Tm,8),ee(Qn))}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac})}}return t})(),ey={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},sy=/%COMP%/g,HD="%COMP%",B1=`_nghost-${HD}`,$1=`_ngcontent-${HD}`,H1=!0,q1=new X("",{providedIn:"root",factory:()=>H1});function z1(t){return $1.replace(sy,t)}function G1(t){return B1.replace(sy,t)}function qD(t,e){return e.map(n=>n.replace(sy,t))}var VD=(()=>{class t{constructor(n,r,i,s,o,a,u,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Jm(a),this.defaultRenderer=new Sc(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===$n.ShadowDom&&(r=xe(B({},r),{encapsulation:$n.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof gh?i.applyToHost(n):i instanceof Ac&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case $n.Emulated:s=new gh(u,d,r,this.appId,p,o,a,g);break;case $n.ShadowDom:return new iy(u,d,n,r,o,a,this.nonce,g);default:s=new Ac(u,d,r,p,o,a,g);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(ee(BD),ee($D),ee(Em),ee(q1),ee(jt),ee(Qn),ee(Ae),ee(Tm))}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac})}}return t})(),Sc=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(ey[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(UD(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(UD(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Z(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=ey[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=ey[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(yr.DashCase|yr.Important)?e.style.setProperty(n,r,i&yr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&yr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Vo().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function UD(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var iy=class extends Sc{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=qD(i.id,i.styles);for(let p of d){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=p,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ac=class extends Sc{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?qD(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},gh=class extends Ac{constructor(e,n,r,i,s,o,a,u){let d=i+"-"+r.id;super(e,n,r,s,o,a,u,d),this.contentAttr=z1(d),this.hostAttr=G1(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},W1=(()=>{class t extends ph{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(ee(jt))}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac})}}return t})(),jD=["alt","control","meta","shift"],K1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Q1={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Y1=(()=>{class t extends ph{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vo().onAndCancel(n,s.domEventName,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),jD.forEach(d=>{let p=r.indexOf(d);p>-1&&(r.splice(p,1),o+=d+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=K1[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),jD.forEach(o=>{if(o!==i){let a=Q1[o];a(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(ee(jt))}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac})}}return t})();function eW(t,e){return bD(B({rootComponent:t},Z1(e)))}function Z1(t){return{appProviders:[...nL,...t?.providers??[]],platformProviders:tL}}function J1(){ny.makeCurrent()}function X1(){return new mr}function eL(){return wT(document),document}var tL=[{provide:Qn,useValue:Zm},{provide:bm,useValue:J1,multi:!0},{provide:jt,useFactory:eL,deps:[]}];var nL=[{provide:Hd,useValue:"root"},{provide:mr,useFactory:X1,deps:[]},{provide:ry,useClass:W1,multi:!0,deps:[jt,Ae,Qn]},{provide:ry,useClass:Y1,multi:!0,deps:[jt]},VD,$D,BD,{provide:xo,useExisting:VD},{provide:fh,useClass:j1,deps:[]},[]];var zD=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(ee(jt))}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ae="primary",qc=Symbol("RouteTitle"),ly=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function zo(t){return new ly(t)}function iL(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function sL(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Yn(t[n],e[n]))return!1;return!0}function Yn(t,e){let n=t?dy(t):void 0,r=e?dy(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!nC(t[i],e[i]))return!1;return!0}function dy(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function nC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function rC(t){return t.length>0?t[t.length-1]:null}function _i(t){return Wp(t)?t:bc(t)?We(Promise.resolve(t)):ne(t)}var oL={exact:sC,subset:oC},iC={exact:aL,subset:cL,ignored:()=>!0};function GD(t,e,n){return oL[n.paths](t.root,e.root,n.matrixParams)&&iC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function aL(t,e){return Yn(t,e)}function sC(t,e,n){if(!hs(t.segments,e.segments)||!vh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!sC(t.children[r],e.children[r],n))return!1;return!0}function cL(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>nC(t[n],e[n]))}function oC(t,e,n){return aC(t,e,e.segments,n)}function aC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!hs(i,n)||e.hasChildren()||!vh(i,n,r))}else if(t.segments.length===n.length){if(!hs(t.segments,n)||!vh(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!oC(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!hs(t.segments,i)||!vh(t.segments,i,r)||!t.children[ae]?!1:aC(t.children[ae],e,s,r)}}function vh(t,e,n){return e.every((r,i)=>iC[n](t[i].parameters,r.parameters))}var br=class{constructor(e=new Re([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=zo(this.queryParams),this._queryParamMap}toString(){return dL.serialize(this)}},Re=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wh(this)}},ds=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=zo(this.parameters),this._parameterMap}toString(){return uC(this)}};function uL(t,e){return hs(t,e)&&t.every((n,r)=>Yn(n.parameters,e[r].parameters))}function hs(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function lL(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ae&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ae&&(n=n.concat(e(i,r)))}),n}var zc=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:()=>new Go,providedIn:"root"})}}return t})(),Go=class{parse(e){let n=new fy(e);return new br(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Rc(e.root,!0)}`,r=pL(e.queryParams),i=typeof e.fragment=="string"?`#${hL(e.fragment)}`:"";return`${n}${r}${i}`}},dL=new Go;function wh(t){return t.segments.map(e=>uC(e)).join("/")}function Rc(t,e){if(!t.hasChildren())return wh(t);if(e){let n=t.children[ae]?Rc(t.children[ae],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ae&&r.push(`${i}:${Rc(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=lL(t,(r,i)=>i===ae?[Rc(t.children[ae],!1)]:[`${i}:${Rc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ae]!=null?`${wh(t)}/${n[0]}`:`${wh(t)}/(${n.join("//")})`}}function cC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mh(t){return cC(t).replace(/%3B/gi,";")}function hL(t){return encodeURI(t)}function hy(t){return cC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _h(t){return decodeURIComponent(t)}function WD(t){return _h(t.replace(/\+/g,"%20"))}function uC(t){return`${hy(t.path)}${fL(t.parameters)}`}function fL(t){return Object.entries(t).map(([e,n])=>`;${hy(e)}=${hy(n)}`).join("")}function pL(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${mh(n)}=${mh(i)}`).join("&"):`${mh(n)}=${mh(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var gL=/^[^\/()?;#]+/;function oy(t){let e=t.match(gL);return e?e[0]:""}var mL=/^[^\/()?;=#]+/;function yL(t){let e=t.match(mL);return e?e[0]:""}var vL=/^[^=?&#]+/;function wL(t){let e=t.match(vL);return e?e[0]:""}var _L=/^[^&#]+/;function IL(t){let e=t.match(_L);return e?e[0]:""}var fy=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Re([],{}):new Re([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ae]=new Re(e,n)),r}parseSegment(){let e=oy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Z(4009,!1);return this.capture(e),new ds(_h(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=yL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=oy(this.remaining);i&&(r=i,this.capture(r))}e[_h(n)]=_h(r)}parseQueryParam(e){let n=wL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=IL(this.remaining);o&&(r=o,this.capture(r))}let i=WD(n),s=WD(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=oy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Z(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ae);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[ae]:new Re([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Z(4011,!1)}};function lC(t){return t.segments.length>0?new Re([],{[ae]:t}):t}function dC(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=dC(i);if(r===ae&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Re(t.segments,e);return EL(n)}function EL(t){if(t.numberOfChildren===1&&t.children[ae]){let e=t.children[ae];return new Re(t.segments.concat(e.segments),e.children)}return t}function Oc(t){return t instanceof br}function bL(t,e,n=null,r=null){let i=hC(t);return fC(i,e,n,r)}function hC(t){let e;function n(s){let o={};for(let u of s.children){let d=n(u);o[u.outlet]=d}let a=new Re(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=lC(r);return e??i}function fC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return ay(i,i,i,n,r);let s=TL(e);if(s.toRoot())return ay(i,i,new Re([],{}),n,r);let o=DL(s,i,t),a=o.processChildren?Pc(o.segmentGroup,o.index,s.commands):gC(o.segmentGroup,o.index,s.commands);return ay(i,o.segmentGroup,a,n,r)}function Ih(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Lc(t){return typeof t=="object"&&t!=null&&t.outlets}function ay(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,d])=>{s[u]=Array.isArray(d)?d.map(p=>`${p}`):`${d}`});let o;t===e?o=n:o=pC(t,e,n);let a=lC(dC(o));return new br(a,s,i)}function pC(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=pC(s,e,n)}),new Re(t.segments,r)}var Eh=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ih(r[0]))throw new Z(4003,!1);let i=r.find(Lc);if(i&&i!==rC(r))throw new Z(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function TL(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Eh(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,d])=>{a[u]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Eh(n,e,r)}var $o=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function DL(t,e,n){if(t.isAbsolute)return new $o(e,!0,0);if(!n)return new $o(e,!1,NaN);if(n.parent===null)return new $o(n,!0,0);let r=Ih(t.commands[0])?0:1,i=n.segments.length-1+r;return CL(n,i,t.numberOfDoubleDots)}function CL(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Z(4005,!1);i=r.segments.length}return new $o(r,!1,i-s)}function SL(t){return Lc(t[0])?t[0].outlets:{[ae]:t}}function gC(t,e,n){if(t??=new Re([],{}),t.segments.length===0&&t.hasChildren())return Pc(t,e,n);let r=AL(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Re(t.segments.slice(0,r.pathIndex),{});return s.children[ae]=new Re(t.segments.slice(r.pathIndex),t.children),Pc(s,0,i)}else return r.match&&i.length===0?new Re(t.segments,{}):r.match&&!t.hasChildren()?py(t,e,n):r.match?Pc(t,0,i):py(t,e,n)}function Pc(t,e,n){if(n.length===0)return new Re(t.segments,{});{let r=SL(n),i={};if(Object.keys(r).some(s=>s!==ae)&&t.children[ae]&&t.numberOfChildren===1&&t.children[ae].segments.length===0){let s=Pc(t.children[ae],e,n);return new Re(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=gC(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Re(t.segments,i)}}function AL(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Lc(a))break;let u=`${a}`,d=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&d&&typeof d=="object"&&d.outlets===void 0){if(!QD(u,d,o))return s;r+=2}else{if(!QD(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function py(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Lc(s)){let u=RL(s.outlets);return new Re(r,u)}if(i===0&&Ih(n[0])){let u=t.segments[e];r.push(new ds(u.path,KD(n[0]))),i++;continue}let o=Lc(s)?s.outlets[ae]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Ih(a)?(r.push(new ds(o,KD(a))),i+=2):(r.push(new ds(o,{})),i++)}return new Re(r,{})}function RL(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=py(new Re([],{}),0,r))}),e}function KD(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function QD(t,e,n){return t==n.path&&Yn(e,n.parameters)}var Mc="imperative",ft=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ft||{}),ln=class{constructor(e,n){this.id=e,this.url=n}},Wo=class extends ln{constructor(e,n,r="imperative",i=null){super(e,n),this.type=ft.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Tr=class extends ln{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=ft.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Jt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Jt||{}),bh=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(bh||{}),Er=class extends ln{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ft.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},vi=class extends ln{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ft.NavigationSkipped}},Fc=class extends ln{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=ft.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Th=class extends ln{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ft.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gy=class extends ln{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ft.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},my=class extends ln{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=ft.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},yy=class extends ln{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ft.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vy=class extends ln{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ft.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wy=class{constructor(e){this.route=e,this.type=ft.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},_y=class{constructor(e){this.route=e,this.type=ft.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Iy=class{constructor(e){this.snapshot=e,this.type=ft.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ey=class{constructor(e){this.snapshot=e,this.type=ft.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},by=class{constructor(e){this.snapshot=e,this.type=ft.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ty=class{constructor(e){this.snapshot=e,this.type=ft.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dh=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=ft.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Vc=class{},Ko=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function xL(t,e){return t.providers&&!t._injector&&(t._injector=ah(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Tn(t){return t.outlet||ae}function NL(t,e){let n=t.filter(r=>Tn(r)===e);return n.push(...t.filter(r=>Tn(r)!==e)),n}function Gc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Dy=class{get injector(){return Gc(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Wc(this.rootInjector),this.attachRef=null}},Wc=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Dy(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(ee(Kt))}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ch=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Cy(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Cy(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Sy(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Sy(e,this._root).map(n=>n.value)}};function Cy(t,e){if(t===e.value)return e;for(let n of e.children){let r=Cy(t,n);if(r)return r}return null}function Sy(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Sy(t,n);if(r.length)return r.unshift(e),r}return[]}var Zt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Bo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Sh=class extends Ch{constructor(e,n){super(e),this.snapshot=n,Ly(this,e)}toString(){return this.snapshot.toString()}};function mC(t){let e=PL(t),n=new ct([new ds("",{})]),r=new ct({}),i=new ct({}),s=new ct({}),o=new ct(""),a=new fs(n,r,s,o,i,ae,t,e.root);return a.snapshot=e.root,new Sh(new Zt(a,[]),e)}function PL(t){let e={},n={},r={},i="",s=new Ho([],e,r,i,n,ae,t,null,{});return new Rh("",new Zt(s,[]))}var fs=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(pe(d=>d[qc]))??ne(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(pe(e=>zo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(pe(e=>zo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ah(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:B(B({},e.params),t.params),data:B(B({},e.data),t.data),resolve:B(B(B(B({},t.data),e.data),i?.data),t._resolvedData)}:r={params:B({},t.params),data:B({},t.data),resolve:B(B({},t.data),t._resolvedData??{})},i&&vC(i)&&(r.resolve[qc]=i.title),r}var Ho=class{get title(){return this.data?.[qc]}constructor(e,n,r,i,s,o,a,u,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=zo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=zo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Rh=class extends Ch{constructor(e,n){super(n),this.url=e,Ly(this,n)}toString(){return yC(this._root)}};function Ly(t,e){e.value._routerState=t,e.children.forEach(n=>Ly(t,n))}function yC(t){let e=t.children.length>0?` { ${t.children.map(yC).join(", ")} } `:"";return`${t.value}${e}`}function cy(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Yn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Yn(e.params,n.params)||t.paramsSubject.next(n.params),sL(e.url,n.url)||t.urlSubject.next(n.url),Yn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Ay(t,e){let n=Yn(t.params,e.params)&&uL(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Ay(t.parent,e.parent))}function vC(t){return typeof t.title=="string"||t.title===null}var ML=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ae,this.activateEvents=new Rt,this.deactivateEvents=new Rt,this.attachEvents=new Rt,this.detachEvents=new Rt,this.parentContexts=j(Wc),this.location=j(Lo),this.changeDetector=j(Tc),this.inputBinder=j(Mh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Z(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Z(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Ry(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Mo({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Gd]})}}return t})(),Ry=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===fs?this.route:e===Wc?this.childContexts:this.parent.get(e,n)}},Mh=new X(""),YD=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=ac([r.queryParams,r.params,r.data]).pipe(sn(([s,o,a],u)=>(a=B(B(B({},s),o),a),u===0?ne(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let o=DD(r.component);if(!o){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac})}}return t})();function kL(t,e,n){let r=Uc(t,e._root,n?n._root:void 0);return new Sh(r,e)}function Uc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=OL(t,e,n);return new Zt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Uc(t,a)),o}}let r=LL(e.value),i=e.children.map(s=>Uc(t,s));return new Zt(r,i)}}function OL(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Uc(t,r,i);return Uc(t,r)})}function LL(t){return new fs(new ct(t.url),new ct(t.params),new ct(t.queryParams),new ct(t.fragment),new ct(t.data),t.outlet,t.component,t)}var jc=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},wC="ngNavigationCancelingError";function xh(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Oc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=_C(!1,Jt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function _C(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[wC]=!0,n.cancellationCode=e,n}function FL(t){return IC(t)&&Oc(t.url)}function IC(t){return!!t&&t[wC]}var VL=(t,e,n,r)=>pe(i=>(new xy(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),xy=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),cy(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Bo(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Bo(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Bo(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Bo(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Ty(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Ey(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(cy(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),cy(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Nh=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},qo=class{constructor(e,n){this.component=e,this.route=n}};function UL(t,e,n){let r=t._root,i=e?e._root:null;return xc(r,i,n,[r.value])}function jL(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Yo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!ib(t)?t:e.get(t):r}function xc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Bo(e);return t.children.forEach(o=>{BL(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>kc(a,n.getContext(o),i)),i}function BL(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=$L(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Nh(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?xc(t,e,a?a.children:null,r,i):xc(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new qo(a.outlet.component,o))}else o&&kc(e,a,i),i.canActivateChecks.push(new Nh(r)),s.component?xc(t,null,a?a.children:null,r,i):xc(t,null,n,r,i);return i}function $L(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!hs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!hs(t.url,e.url)||!Yn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ay(t,e)||!Yn(t.queryParams,e.queryParams);case"paramsChange":default:return!Ay(t,e)}}function kc(t,e,n){let r=Bo(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?kc(o,e.children.getContext(s),n):kc(o,null,n):kc(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new qo(e.outlet.component,i)):n.canDeactivateChecks.push(new qo(null,i)):n.canDeactivateChecks.push(new qo(null,i))}function Kc(t){return typeof t=="function"}function HL(t){return typeof t=="boolean"}function qL(t){return t&&Kc(t.canLoad)}function zL(t){return t&&Kc(t.canActivate)}function GL(t){return t&&Kc(t.canActivateChild)}function WL(t){return t&&Kc(t.canDeactivate)}function KL(t){return t&&Kc(t.canMatch)}function EC(t){return t instanceof fr||t?.name==="EmptyError"}var yh=Symbol("INITIAL_VALUE");function Qo(){return sn(t=>ac(t.map(e=>e.pipe(pr(1),Zp(yh)))).pipe(pe(e=>{for(let n of e)if(n!==!0){if(n===yh)return yh;if(n===!1||QL(n))return n}return!0}),rn(e=>e!==yh),pr(1)))}function QL(t){return Oc(t)||t instanceof jc}function YL(t,e){return Xe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?ne(xe(B({},n),{guardsResult:!0})):ZL(o,r,i,t).pipe(Xe(a=>a&&HL(a)?JL(r,s,t,e):ne(a)),pe(a=>xe(B({},n),{guardsResult:a})))})}function ZL(t,e,n,r){return We(t).pipe(Xe(i=>rF(i.component,i.route,n,e,r)),Un(i=>i!==!0,!0))}function JL(t,e,n,r){return We(e).pipe(Xi(i=>fo(eF(i.route.parent,r),XL(i.route,r),nF(t,i.path,n),tF(t,i.route,n))),Un(i=>i!==!0,!0))}function XL(t,e){return t!==null&&e&&e(new by(t)),ne(!0)}function eF(t,e){return t!==null&&e&&e(new Iy(t)),ne(!0)}function tF(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ne(!0);let i=r.map(s=>sd(()=>{let o=Gc(e)??n,a=Yo(s,o),u=zL(a)?a.canActivate(e,t):Kn(o,()=>a(e,t));return _i(u).pipe(Un())}));return ne(i).pipe(Qo())}function nF(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>jL(o)).filter(o=>o!==null).map(o=>sd(()=>{let a=o.guards.map(u=>{let d=Gc(o.node)??n,p=Yo(u,d),g=GL(p)?p.canActivateChild(r,t):Kn(d,()=>p(r,t));return _i(g).pipe(Un())});return ne(a).pipe(Qo())}));return ne(s).pipe(Qo())}function rF(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return ne(!0);let o=s.map(a=>{let u=Gc(e)??i,d=Yo(a,u),p=WL(d)?d.canDeactivate(t,e,n,r):Kn(u,()=>d(t,e,n,r));return _i(p).pipe(Un())});return ne(o).pipe(Qo())}function iF(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return ne(!0);let s=i.map(o=>{let a=Yo(o,t),u=qL(a)?a.canLoad(e,n):Kn(t,()=>a(e,n));return _i(u)});return ne(s).pipe(Qo(),bC(r))}function bC(t){return Up(ut(e=>{if(typeof e!="boolean")throw xh(t,e)}),pe(e=>e===!0))}function sF(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return ne(!0);let s=i.map(o=>{let a=Yo(o,t),u=KL(a)?a.canMatch(e,n):Kn(t,()=>a(e,n));return _i(u)});return ne(s).pipe(Qo(),bC(r))}var Bc=class{constructor(e){this.segmentGroup=e||null}},$c=class extends Error{constructor(e){super(),this.urlTree=e}};function jo(t){return lo(new Bc(t))}function oF(t){return lo(new Z(4e3,!1))}function aF(t){return lo(_C(!1,Jt.GuardRejected))}var Ny=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ne(r);if(i.numberOfChildren>1||!i.children[ae])return oF(`${e.redirectTo}`);i=i.children[ae]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:u,fragment:d,routeConfig:p,url:g,outlet:_,params:E,data:N,title:O}=i,k=Kn(s,()=>a({params:E,data:N,queryParams:u,fragment:d,routeConfig:p,url:g,outlet:_,title:O}));if(k instanceof br)throw new $c(k);n=k}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new $c(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new br(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Re(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new Z(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Py={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function cF(t,e,n,r,i){let s=TC(t,e,n);return s.matched?(r=xL(e,r),sF(r,e,n,i).pipe(pe(o=>o===!0?s:B({},Py)))):ne(s)}function TC(t,e,n){if(e.path==="**")return uF(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?B({},Py):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||iL)(n,t,e);if(!i)return B({},Py);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?B(B({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function uF(t){return{matched:!0,parameters:t.length>0?rC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function ZD(t,e,n,r){return n.length>0&&hF(t,n,r)?{segmentGroup:new Re(e,dF(r,new Re(n,t.children))),slicedSegments:[]}:n.length===0&&fF(t,n,r)?{segmentGroup:new Re(t.segments,lF(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Re(t.segments,t.children),slicedSegments:n}}function lF(t,e,n,r){let i={};for(let s of n)if(kh(t,e,s)&&!r[Tn(s)]){let o=new Re([],{});i[Tn(s)]=o}return B(B({},r),i)}function dF(t,e){let n={};n[ae]=e;for(let r of t)if(r.path===""&&Tn(r)!==ae){let i=new Re([],{});n[Tn(r)]=i}return n}function hF(t,e,n){return n.some(r=>kh(t,e,r)&&Tn(r)!==ae)}function fF(t,e,n){return n.some(r=>kh(t,e,r))}function kh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function pF(t,e,n){return e.length===0&&!t.children[n]}var My=class{};function gF(t,e,n,r,i,s,o="emptyOnly"){return new ky(t,e,n,r,i,o,s).recognize()}var mF=31,ky=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Ny(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Z(4002,`'${e.segmentGroup}'`)}recognize(){let e=ZD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(pe(({children:n,rootSnapshot:r})=>{let i=new Zt(r,n),s=new Rh("",i),o=bL(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new Ho([],Object.freeze({}),Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ae,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ae,n).pipe(pe(r=>({children:r,rootSnapshot:n})),oi(r=>{if(r instanceof $c)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Bc?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(pe(o=>o instanceof Zt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return We(s).pipe(Xi(o=>{let a=r.children[o],u=NL(n,o);return this.processSegmentGroup(e,u,a,o,i)}),Yp((o,a)=>(o.push(...a),o)),ai(null),Qp(),Xe(o=>{if(o===null)return jo(r);let a=DC(o);return yF(a),ne(a)}))}processSegment(e,n,r,i,s,o,a){return We(n).pipe(Xi(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,a).pipe(oi(d=>{if(d instanceof Bc)return ne(null);throw d}))),Un(u=>!!u),oi(u=>{if(EC(u))return pF(r,i,s)?ne(new My):jo(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,u){return Tn(r)!==o&&(o===ae||!kh(i,s,r))?jo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):jo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:u,parameters:d,consumedSegments:p,positionalParamSegments:g,remainingSegments:_}=TC(n,i,s);if(!u)return jo(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>mF&&(this.allowRedirects=!1));let E=new Ho(s,d,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,JD(i),Tn(i),i.component??i._loadedComponent??null,i,XD(i)),N=Ah(E,a,this.paramsInheritanceStrategy);E.params=Object.freeze(N.params),E.data=Object.freeze(N.data);let O=this.applyRedirects.applyRedirectCommands(p,i.redirectTo,g,E,e);return this.applyRedirects.lineralizeSegments(i,O).pipe(Xe(k=>this.processSegment(e,r,n,k.concat(_),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=cF(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(sn(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(sn(({routes:d})=>{let p=r._loadedInjector??e,{parameters:g,consumedSegments:_,remainingSegments:E}=u,N=new Ho(_,g,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,JD(r),Tn(r),r.component??r._loadedComponent??null,r,XD(r)),O=Ah(N,o,this.paramsInheritanceStrategy);N.params=Object.freeze(O.params),N.data=Object.freeze(O.data);let{segmentGroup:k,slicedSegments:U}=ZD(n,_,E,d);if(U.length===0&&k.hasChildren())return this.processChildren(p,d,k,N).pipe(pe(q=>new Zt(N,q)));if(d.length===0&&U.length===0)return ne(new Zt(N,[]));let G=Tn(r)===s;return this.processSegment(p,d,k,U,G?ae:s,!0,N).pipe(pe(q=>new Zt(N,q instanceof Zt?[q]:[])))}))):jo(n)))}getChildConfig(e,n,r){return n.children?ne({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ne({routes:n._loadedRoutes,injector:n._loadedInjector}):iF(e,n,r,this.urlSerializer).pipe(Xe(i=>i?this.configLoader.loadChildren(e,n).pipe(ut(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):aF(n))):ne({routes:[],injector:e})}};function yF(t){t.sort((e,n)=>e.value.outlet===ae?-1:n.value.outlet===ae?1:e.value.outlet.localeCompare(n.value.outlet))}function vF(t){let e=t.value.routeConfig;return e&&e.path===""}function DC(t){let e=[],n=new Set;for(let r of t){if(!vF(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=DC(r.children);e.push(new Zt(r.value,i))}return e.filter(r=>!n.has(r))}function JD(t){return t.data||{}}function XD(t){return t.resolve||{}}function wF(t,e,n,r,i,s){return Xe(o=>gF(t,e,n,r,o.extractedUrl,i,s).pipe(pe(({state:a,tree:u})=>xe(B({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function _F(t,e){return Xe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ne(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let d of CC(u))o.add(d);let a=0;return We(o).pipe(Xi(u=>s.has(u)?IF(u,r,t,e):(u.data=Ah(u,u.parent,t).resolve,ne(void 0))),ut(()=>a++),po(1),Xe(u=>a===o.size?ne(n):Wt))})}function CC(t){let e=t.children.map(n=>CC(n)).flat();return[t,...e]}function IF(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!vC(i)&&(s[qc]=i.title),EF(s,t,e,r).pipe(pe(o=>(t._resolvedData=o,t.data=Ah(t,t.parent,n).resolve,null)))}function EF(t,e,n,r){let i=dy(t);if(i.length===0)return ne({});let s={};return We(i).pipe(Xe(o=>bF(t[o],e,n,r).pipe(Un(),ut(a=>{if(a instanceof jc)throw xh(new Go,a);s[o]=a}))),po(1),Kp(s),oi(o=>EC(o)?Wt:lo(o)))}function bF(t,e,n,r){let i=Gc(e)??r,s=Yo(t,i),o=s.resolve?s.resolve(e,n):Kn(i,()=>s(e,n));return _i(o)}function uy(t){return sn(e=>{let n=t(e);return n?We(n).pipe(pe(()=>e)):ne(e)})}var SC=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ae);return r}getResolvedTitleForRoute(n){return n.data[qc]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:()=>j(TF),providedIn:"root"})}}return t})(),TF=(()=>{class t extends SC{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(ee(zD))}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Qc=new X("",{providedIn:"root",factory:()=>({})}),DF=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=mb({type:t,selectors:[["ng-component"]],standalone:!0,features:[pD],decls:1,vars:0,template:function(r,i){r&1&&jm(0,"router-outlet")},dependencies:[ML],encapsulation:2})}}return t})();function Fy(t){let e=t.children&&t.children.map(Fy),n=e?xe(B({},t),{children:e}):B({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ae&&(n.component=DF),n}var Hc=new X(""),Vy=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=j(dh)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ne(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=_i(n.loadComponent()).pipe(pe(AC),ut(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),cc(()=>{this.componentLoaders.delete(n)})),i=new oo(r,()=>new St).pipe(so());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ne({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=CF(r,this.compiler,n,this.onLoadEndListener).pipe(cc(()=>{this.childrenLoaders.delete(r)})),o=new oo(s,()=>new St).pipe(so());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function CF(t,e,n,r){return _i(t.loadChildren()).pipe(pe(AC),Xe(i=>i instanceof gc||Array.isArray(i)?ne(i):We(e.compileModuleAsync(i))),pe(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Hc,[],{optional:!0,self:!0}).flat()),{routes:o.map(Fy),injector:s}}))}function SF(t){return t&&typeof t=="object"&&"default"in t}function AC(t){return SF(t)?t.default:t}var Uy=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:()=>j(AF),providedIn:"root"})}}return t})(),AF=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),RC=new X(""),xC=new X("");function RF(t,e,n){let r=t.get(xC),i=t.get(jt);return t.get(Ae).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(d=>setTimeout(d));let s,o=new Promise(d=>{s=d}),a=i.startViewTransition(()=>(s(),xF(t))),{onViewTransitionCreated:u}=r;return u&&Kn(t,()=>u({transition:a,from:e,to:n})),o})}function xF(t){return new Promise(e=>{Um({read:()=>setTimeout(e)},{injector:t})})}var NF=new X(""),jy=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new St,this.transitionAbortSubject=new St,this.configLoader=j(Vy),this.environmentInjector=j(Kt),this.urlSerializer=j(zc),this.rootContexts=j(Wc),this.location=j(Uo),this.inputBindingEnabled=j(Mh,{optional:!0})!==null,this.titleStrategy=j(SC),this.options=j(Qc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=j(Uy),this.createViewTransition=j(RC,{optional:!0}),this.navigationErrorHandler=j(NF,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ne(void 0),this.rootComponentType=null;let n=i=>this.events.next(new wy(i)),r=i=>this.events.next(new _y(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(xe(B(B({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new ct({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Mc,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(rn(s=>s.id!==0),pe(s=>xe(B({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),sn(s=>{let o=!1,a=!1;return ne(s).pipe(sn(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Jt.SupersededByNewNavigation),Wt;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?xe(B({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!d&&p!=="reload"){let g="";return this.events.next(new vi(u.id,this.urlSerializer.serialize(u.rawUrl),g,bh.IgnoredSameUrlNavigation)),u.resolve(!1),Wt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return ne(u).pipe(sn(g=>{let _=this.transitions?.getValue();return this.events.next(new Wo(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),_!==this.transitions?.getValue()?Wt:Promise.resolve(g)}),wF(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ut(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=xe(B({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let _=new Th(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:g,extractedUrl:_,source:E,restoredState:N,extras:O}=u,k=new Wo(g,this.urlSerializer.serialize(_),E,N);this.events.next(k);let U=mC(this.rootComponentType).snapshot;return this.currentTransition=s=xe(B({},u),{targetSnapshot:U,urlAfterRedirects:_,extras:xe(B({},O),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,ne(s)}else{let g="";return this.events.next(new vi(u.id,this.urlSerializer.serialize(u.extractedUrl),g,bh.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Wt}}),ut(u=>{let d=new gy(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),pe(u=>(this.currentTransition=s=xe(B({},u),{guards:UL(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),YL(this.environmentInjector,u=>this.events.next(u)),ut(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw xh(this.urlSerializer,u.guardsResult);let d=new my(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),rn(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Jt.GuardRejected),!1)),uy(u=>{if(u.guards.canActivateChecks.length)return ne(u).pipe(ut(d=>{let p=new yy(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),sn(d=>{let p=!1;return ne(d).pipe(_F(this.paramsInheritanceStrategy,this.environmentInjector),ut({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(d,"",Jt.NoDataFromResolver)}}))}),ut(d=>{let p=new vy(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}))}),uy(u=>{let d=p=>{let g=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(p.routeConfig).pipe(ut(_=>{p.component=_}),pe(()=>{})));for(let _ of p.children)g.push(...d(_));return g};return ac(d(u.targetSnapshot.root)).pipe(ai(null),pr(1))}),uy(()=>this.afterPreactivation()),sn(()=>{let{currentSnapshot:u,targetSnapshot:d}=s,p=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return p?We(p).pipe(pe(()=>s)):ne(s)}),pe(u=>{let d=kL(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=xe(B({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,s}),ut(()=>{this.events.next(new Vc)}),VL(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),pr(1),ut({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Tr(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),Jp(this.transitionAbortSubject.pipe(ut(u=>{throw u}))),cc(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",Jt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),oi(u=>{if(a=!0,IC(u))this.events.next(new Er(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),FL(u)?this.events.next(new Ko(u.url,u.navigationBehaviorOptions)):s.resolve(!1);else{let d=new Fc(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0);try{let p=Kn(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(p instanceof jc){let{message:g,cancellationCode:_}=xh(this.urlSerializer,p);this.events.next(new Er(s.id,this.urlSerializer.serialize(s.extractedUrl),g,_)),this.events.next(new Ko(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(d);let g=n.errorHandler(u);s.resolve(!!g)}}catch(p){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(p)}}return Wt}))}))}cancelNavigationTransition(n,r,i){let s=new Er(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function PF(t){return t!==Mc}var MF=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:()=>j(kF),providedIn:"root"})}}return t})(),Oy=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},kF=(()=>{class t extends Oy{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=vm(t)))(i||t)}})()}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),NC=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:()=>j(OF),providedIn:"root"})}}return t})(),OF=(()=>{class t extends NC{constructor(){super(...arguments),this.location=j(Uo),this.urlSerializer=j(zc),this.options=j(Qc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=j(Uy),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new br,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=mC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Wo)this.stateMemento=this.createStateMemento();else if(n instanceof vi)this.rawUrlTree=r.initialUrl;else if(n instanceof Th){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Vc?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Er&&(n.code===Jt.GuardRejected||n.code===Jt.NoDataFromResolver)?this.restoreHistory(r):n instanceof Fc?this.restoreHistory(r,!0):n instanceof Tr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof br?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=B(B({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=B(B({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=vm(t)))(i||t)}})()}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Nc=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Nc||{});function PC(t,e){t.events.pipe(rn(n=>n instanceof Tr||n instanceof Er||n instanceof Fc||n instanceof vi),pe(n=>n instanceof Tr||n instanceof vi?Nc.COMPLETE:(n instanceof Er?n.code===Jt.Redirect||n.code===Jt.SupersededByNewNavigation:!1)?Nc.REDIRECTING:Nc.FAILED),rn(n=>n!==Nc.REDIRECTING),pr(1)).subscribe(()=>{e()})}function LF(t){throw t}var FF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},VF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},wi=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=j(ch),this.stateManager=j(NC),this.options=j(Qc,{optional:!0})||{},this.pendingTasks=j(Oo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=j(jy),this.urlSerializer=j(zc),this.location=j(Uo),this.urlHandlingStrategy=j(Uy),this._events=new St,this.errorHandler=this.options.errorHandler||LF,this.navigated=!1,this.routeReuseStrategy=j(MF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=j(Hc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!j(Mh,{optional:!0}),this.eventsSubscription=new He,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Er&&r.code!==Jt.Redirect&&r.code!==Jt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Tr)this.navigated=!0;else if(r instanceof Ko){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=B({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||PF(i.source)},o);this.scheduleNavigation(a,Mc,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}jF(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Mc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=B({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Fy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,d=u?this.currentUrlTree.fragment:o,p=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":p=B(B({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let g;try{let _=i?i.snapshot:this.routerState.snapshot.root;g=hC(_)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),g=this.currentUrlTree.root}return fC(g,n,p,d??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Oc(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Mc,null,r)}navigate(n,r={skipLocationChange:!1}){return UF(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=B({},FF):r===!1?i=B({},VF):i=r,Oc(n))return GD(this.currentUrlTree,n,i);let s=this.parseUrl(n);return GD(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,d;o?(a=o.resolve,u=o.reject,d=o.promise):d=new Promise((g,_)=>{a=g,u=_});let p=this.pendingTasks.add();return PC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function UF(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Z(4008,!1)}function jF(t){return!(t instanceof Vc)&&!(t instanceof Ko)}var Ph=class{};var BF=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(rn(n=>n instanceof Tr),Xi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=ah(s.providers,n,`Route: ${s.path}`));let o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return We(i).pipe(ho())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=ne(null);let s=i.pipe(Xe(o=>o===null?ne(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return We([s,o]).pipe(ho())}else return s})}static{this.\u0275fac=function(r){return new(r||t)(ee(wi),ee(dh),ee(Kt),ee(Ph),ee(Vy))}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),MC=new X(""),$F=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Wo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Tr?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof vi&&n.code===bh.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Dh&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Dh(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){kT()}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac})}}return t})();function EW(t,...e){return Wn([{provide:Hc,multi:!0,useValue:t},[],{provide:fs,useFactory:kC,deps:[wi]},{provide:lh,multi:!0,useFactory:OC},e.map(n=>n.\u0275providers)])}function kC(t){return t.routerState.root}function Yc(t,e){return{\u0275kind:t,\u0275providers:e}}function OC(){let t=j(Et);return e=>{let n=t.get(us);if(e!==n.components[0])return;let r=t.get(wi),i=t.get(LC);t.get(By)===1&&r.initialNavigation(),t.get(FC,null,ue.Optional)?.setUpPreloading(),t.get(MC,null,ue.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var LC=new X("",{factory:()=>new St}),By=new X("",{providedIn:"root",factory:()=>1});function HF(){return Yc(2,[{provide:By,useValue:0},{provide:uh,multi:!0,deps:[Et],useFactory:e=>{let n=e.get(MD,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(wi),s=e.get(LC);PC(i,()=>{r(!0)}),e.get(jy).afterPreactivation=()=>(r(!0),s.closed?ne(void 0):s),i.initialNavigation()}))}}])}function qF(){return Yc(3,[{provide:uh,multi:!0,useFactory:()=>{let e=j(wi);return()=>{e.setUpLocationChangeListener()}}},{provide:By,useValue:2}])}var FC=new X("");function zF(t){return Yc(0,[{provide:FC,useExisting:BF},{provide:Ph,useExisting:t}])}function GF(){return Yc(8,[YD,{provide:Mh,useExisting:YD}])}function WF(t){let e=[{provide:RC,useValue:RF},{provide:xC,useValue:B({skipNextTransition:!!t?.skipInitialTransition},t)}];return Yc(9,e)}var eC=new X("ROUTER_FORROOT_GUARD"),KF=[Uo,{provide:zc,useClass:Go},wi,Wc,{provide:fs,useFactory:kC,deps:[wi]},Vy,[]],bW=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[KF,[],{provide:Hc,multi:!0,useValue:n},{provide:eC,useFactory:JF,deps:[[wi,new bt,new im]]},{provide:Qc,useValue:r||{}},r?.useHash?YF():ZF(),QF(),r?.preloadingStrategy?zF(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?XF(r):[],r?.bindToComponentInputs?GF().\u0275providers:[],r?.enableViewTransitions?WF().\u0275providers:[],e2()]}}static forChild(n){return{ngModule:t,providers:[{provide:Hc,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)(ee(eC,8))}}static{this.\u0275mod=_c({type:t})}static{this.\u0275inj=vc({})}}return t})();function QF(){return{provide:MC,useFactory:()=>{let t=j(FD),e=j(Ae),n=j(Qc),r=j(jy),i=j(zc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new $F(i,r,t,e,n)}}}function YF(){return{provide:ls,useClass:OD}}function ZF(){return{provide:ls,useClass:Ym}}function JF(t){return"guarded"}function XF(t){return[t.initialNavigation==="disabled"?qF().\u0275providers:[],t.initialNavigation==="enabledBlocking"?HF().\u0275providers:[]]}var tC=new X("");function e2(){return[{provide:tC,useFactory:OC},{provide:lh,multi:!0,useExisting:tC}]}var UC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},t2=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},jC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,p=s>>2,g=(s&3)<<4|a>>4,_=(a&15)<<2|d>>6,E=d&63;u||(E=64,o||(_=64)),r.push(n[p],n[g],n[_],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(UC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):t2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let d=i<t.length?n[t.charAt(i)]:64;++i;let g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||d==null||g==null)throw new Hy;let _=s<<2|a>>4;if(r.push(_),d!==64){let E=a<<4&240|d>>2;if(r.push(E),g!==64){let N=d<<6&192|g;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Hy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},n2=function(t){let e=UC(t);return jC.encodeByteArray(e,!0)},Zc=function(t){return n2(t).replace(/\./g,"")},zy=function(t){try{return jC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function r2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var i2=()=>r2().__FIREBASE_DEFAULTS__,s2=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},o2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&zy(t[1]);return e&&JSON.parse(e)},Lh=()=>{try{return i2()||s2()||o2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Gy=t=>{var e,n;return(n=(e=Lh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Fh=t=>{let e=Gy(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Wy=()=>{var t;return(t=Lh())===null||t===void 0?void 0:t.config},Ky=t=>{var e;return(e=Lh())===null||e===void 0?void 0:e[`_${t}`]};var Oh=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Vh(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zc(JSON.stringify(n)),Zc(JSON.stringify(o)),""].join(".")}function pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pt())}function a2(){var t;let e=(t=Lh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $C(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zC(){let t=pt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function GC(){return!a2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qy(){try{return typeof indexedDB=="object"}catch{return!1}}function WC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var c2="FirebaseError",Mt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=c2,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dr.prototype.create)}},Dr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?u2(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Mt(i,a,r)}};function u2(t,e){return t.replace(l2,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var l2=/\{\$([^}]+)}/g;function KC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ps(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(VC(s)&&VC(o)){if(!ps(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function VC(t){return t!==null&&typeof t=="object"}function Jc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Zo(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Jo(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function QC(t,e){let n=new qy(t,e);return n.subscribe.bind(n)}var qy=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");d2(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=$y),i.error===void 0&&(i.error=$y),i.complete===void 0&&(i.complete=$y);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function d2(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $y(){}var CW=4*60*60*1e3;function Le(t){return t&&t._delegate?t._delegate:t}var Bt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var gs="[DEFAULT]";var Yy=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Oh;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(f2(e))try{this.getOrInitializeService({instanceIdentifier:gs})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return T(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=gs){return this.instances.has(e)}getOptions(e=gs){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:h2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=gs){return this.component?this.component.multipleInstances?e:gs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function h2(t){return t===gs?void 0:t}function f2(t){return t.instantiationMode==="EAGER"}var Uh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Yy(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var p2=[],ge=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ge||{}),g2={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},m2=ge.INFO,y2={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},v2=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=y2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ii=class{constructor(e){this.name=e,this._logLevel=m2,this._logHandler=v2,this._userLogHandler=null,p2.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?g2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}};var w2=(t,e)=>e.some(n=>t instanceof n),YC,ZC;function _2(){return YC||(YC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function I2(){return ZC||(ZC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var JC=new WeakMap,Jy=new WeakMap,XC=new WeakMap,Zy=new WeakMap,ev=new WeakMap;function E2(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Zn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&JC.set(n,t)}).catch(()=>{}),ev.set(e,t),e}function b2(t){if(Jy.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Jy.set(t,e)}var Xy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||XC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function e0(t){Xy=t(Xy)}function T2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(jh(this),e,...n);return XC.set(r,e.sort?e.sort():[e]),Zn(r)}:I2().includes(t)?function(...e){return t.apply(jh(this),e),Zn(JC.get(this))}:function(...e){return Zn(t.apply(jh(this),e))}}function D2(t){return typeof t=="function"?T2(t):(t instanceof IDBTransaction&&b2(t),w2(t,_2())?new Proxy(t,Xy):t)}function Zn(t){if(t instanceof IDBRequest)return E2(t);if(Zy.has(t))return Zy.get(t);let e=D2(t);return e!==t&&(Zy.set(t,e),ev.set(e,t)),e}var jh=t=>ev.get(t);function n0(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Zn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Zn(o.result),u.oldVersion,u.newVersion,Zn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}var C2=["get","getKey","getAll","getAllKeys","count"],S2=["put","add","delete","clear"],tv=new Map;function t0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tv.get(e))return tv.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=S2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||C2.includes(n)))return;let s=function(o,...a){return T(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),d=u.store;return r&&(d=d.index(a.shift())),(yield Promise.all([d[n](...a),i&&u.done]))[0]})};return tv.set(e,s),s}e0(t=>xe(B({},t),{get:(e,n,r)=>t0(e,n)||t.get(e,n,r),has:(e,n)=>!!t0(e,n)||t.has(e,n)}));var rv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(A2(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function A2(t){let e=t.getComponent();return e?.type==="VERSION"}var iv="@firebase/app",r0="0.10.13";var Cr=new Ii("@firebase/app"),R2="@firebase/app-compat",x2="@firebase/analytics-compat",N2="@firebase/analytics",P2="@firebase/app-check-compat",M2="@firebase/app-check",k2="@firebase/auth",O2="@firebase/auth-compat",L2="@firebase/database",F2="@firebase/data-connect",V2="@firebase/database-compat",U2="@firebase/functions",j2="@firebase/functions-compat",B2="@firebase/installations",$2="@firebase/installations-compat",H2="@firebase/messaging",q2="@firebase/messaging-compat",z2="@firebase/performance",G2="@firebase/performance-compat",W2="@firebase/remote-config",K2="@firebase/remote-config-compat",Q2="@firebase/storage",Y2="@firebase/storage-compat",Z2="@firebase/firestore",J2="@firebase/vertexai-preview",X2="@firebase/firestore-compat",eV="firebase",tV="10.14.1";var sv="[DEFAULT]",nV={[iv]:"fire-core",[R2]:"fire-core-compat",[N2]:"fire-analytics",[x2]:"fire-analytics-compat",[M2]:"fire-app-check",[P2]:"fire-app-check-compat",[k2]:"fire-auth",[O2]:"fire-auth-compat",[L2]:"fire-rtdb",[F2]:"fire-data-connect",[V2]:"fire-rtdb-compat",[U2]:"fire-fn",[j2]:"fire-fn-compat",[B2]:"fire-iid",[$2]:"fire-iid-compat",[H2]:"fire-fcm",[q2]:"fire-fcm-compat",[z2]:"fire-perf",[G2]:"fire-perf-compat",[W2]:"fire-rc",[K2]:"fire-rc-compat",[Q2]:"fire-gcs",[Y2]:"fire-gcs-compat",[Z2]:"fire-fst",[X2]:"fire-fst-compat",[J2]:"fire-vertex","fire-js":"fire-js",[eV]:"fire-js-all"};var Xc=new Map,rV=new Map,ov=new Map;function i0(t,e){try{t.container.addComponent(e)}catch(n){Cr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Jn(t){let e=t.name;if(ov.has(e))return Cr.debug(`There were multiple attempts to register component ${e}.`),!1;ov.set(e,t);for(let n of Xc.values())i0(n,t);for(let n of rV.values())i0(n,t);return!0}function ms(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Dn(t){return t.settings!==void 0}var iV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ei=new Dr("app","Firebase",iV);var av=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}};var Xn=tV;function lv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:sv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ei.create("bad-app-name",{appName:String(i)});if(n||(n=Wy()),!n)throw Ei.create("no-options");let s=Xc.get(i);if(s){if(ps(n,s.options)&&ps(r,s.config))return s;throw Ei.create("duplicate-app",{appName:i})}let o=new Uh(i);for(let u of ov.values())o.addComponent(u);let a=new av(n,r,o);return Xc.set(i,a),a}function bi(t=sv){let e=Xc.get(t);if(!e&&t===sv&&Wy())return lv();if(!e)throw Ei.create("no-app",{appName:t});return e}function Bh(){return Array.from(Xc.values())}function Ue(t,e,n){var r;let i=(r=nV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cr.warn(a.join(" "));return}Jn(new Bt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var sV="firebase-heartbeat-database",oV=1,eu="firebase-heartbeat-store",nv=null;function c0(){return nv||(nv=n0(sV,oV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(eu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ei.create("idb-open",{originalErrorMessage:t.message})})),nv}function aV(t){return T(this,null,function*(){try{let n=(yield c0()).transaction(eu),r=yield n.objectStore(eu).get(u0(t));return yield n.done,r}catch(e){if(e instanceof Mt)Cr.warn(e.message);else{let n=Ei.create("idb-get",{originalErrorMessage:e?.message});Cr.warn(n.message)}}})}function s0(t,e){return T(this,null,function*(){try{let r=(yield c0()).transaction(eu,"readwrite");yield r.objectStore(eu).put(e,u0(t)),yield r.done}catch(n){if(n instanceof Mt)Cr.warn(n.message);else{let r=Ei.create("idb-set",{originalErrorMessage:n?.message});Cr.warn(r.message)}}})}function u0(t){return`${t.name}!${t.options.appId}`}var cV=1024,uV=30*24*60*60*1e3,cv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new uv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return T(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=o0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=uV}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Cr.warn(r)}})}getHeartbeatsHeader(){return T(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=o0(),{heartbeatsToSend:r,unsentEntries:i}=lV(this._heartbeatsCache.heartbeats),s=Zc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Cr.warn(n),""}})}};function o0(){return new Date().toISOString().substring(0,10)}function lV(t,e=cV){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),a0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),a0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var uv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return T(this,null,function*(){return Qy()?WC().then(()=>!0).catch(()=>!1):!1})}read(){return T(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield aV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return T(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return s0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return T(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return s0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function a0(t){return Zc(JSON.stringify({version:2,heartbeats:t})).length}function dV(t){Jn(new Bt("platform-logger",e=>new rv(e),"PRIVATE")),Jn(new Bt("heartbeat",e=>new cv(e),"PRIVATE")),Ue(iv,r0,t),Ue(iv,r0,"esm2017"),Ue("fire-js","")}dV("");var hV="firebase",fV="10.14.1";Ue(hV,fV,"app");var Ti=new gi("ANGULARFIRE2_VERSION");function tu(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ea=(t,e)=>{let n=e?[e]:Bh(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},vs=class{constructor(){return ea(pV)}},pV="app-check";function Xo(){}var $h=class{zone;delegate;constructor(e,n=zp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},dv=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xo,{},Xo,Xo)),n.pipe(ut({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ws=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new $h(Zone.current)),this.insideAngular=n.run(()=>new $h(Zone.current,qp)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(ee(Ae))};static \u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Hh(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function gV(t){return Hh().ngZone.runOutsideAngular(()=>t())}function ys(t){return Hh().ngZone.run(()=>t())}function mV(t){return yV(Hh())(t)}function yV(t){return function(n){return n=n.lift(new dv(t.ngZone)),n.pipe(si(t.outsideAngular),ii(t.insideAngular))}}var vV=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ys(()=>t.apply(void 0,r))},je=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=ys(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xo,{},Xo,Xo))),r[s]=vV(r[s],n));let i=gV(()=>t.apply(this,r));if(!e)if(i instanceof ve){let s=Hh();return i.pipe(si(s.outsideAngular),ii(s.insideAngular))}else return ys(()=>i);return i instanceof ve?i.pipe(mV):i instanceof Promise?ys(()=>new Promise((s,o)=>i.then(a=>ys(()=>s(a)),a=>ys(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:ys(()=>i)};var Sr=class{constructor(e){return e}},_s=class{constructor(){return Bh()}};function wV(t){return t&&t.length===1?t[0]:new Sr(bi())}var hv=new X("angularfire2._apps"),_V={provide:Sr,useFactory:wV,deps:[[new bt,hv]]},IV={provide:_s,deps:[[new bt,hv]]};function EV(t){return(e,n)=>{let r=n.get(Qn);Ue("angularfire",Ti.full,"core"),Ue("angularfire",Ti.full,"app"),Ue("angular",yD.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Sr(i)}}function h8(t,...e){return Wn([_V,IV,{provide:hv,useFactory:EV(t),multi:!0,deps:[Ae,Et,ws,...e]}])}var f8=je(lv,!0);function C0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var S0=C0,A0=new Dr("auth","Firebase",C0());var Qh=new Ii("@firebase/auth");function bV(t,...e){Qh.logLevel<=ge.WARN&&Qh.warn(`Auth (${Xn}): ${t}`,...e)}function zh(t,...e){Qh.logLevel<=ge.ERROR&&Qh.error(`Auth (${Xn}): ${t}`,...e)}function tr(t,...e){throw Ov(t,...e)}function Is(t,...e){return Ov(t,...e)}function R0(t,e,n){let r=Object.assign(Object.assign({},S0()),{[e]:n});return new Dr("auth","Firebase",r).create(e,{appName:t.name})}function xr(t){return R0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ov(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return A0.create(t,...e)}function J(t,e,...n){if(!t)throw Ov(e,...n)}function Ar(t){let e="INTERNAL ASSERTION FAILED: "+t;throw zh(e),new Error(e)}function Ci(t,e){t||Ar(e)}function mv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function TV(){return l0()==="http:"||l0()==="https:"}function l0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function DV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TV()||HC()||"connection"in navigator)?navigator.onLine:!0}function CV(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Es=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ci(n>e,"Short delay should be less than long delay!"),this.isMobile=BC()||qC()}get(){return DV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Lv(t,e){Ci(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Yh=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var SV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var AV=new Es(3e4,6e4);function Nr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Pr(s,o,a,u){return T(this,arguments,function*(t,e,n,r,i={}){return x0(t,i,()=>T(this,null,function*(){let d={},p={};r&&(e==="GET"?p=r:d={body:JSON.stringify(r)});let g=Jc(Object.assign({key:t.config.apiKey},p)).slice(1),_=yield t._getAdditionalHeaders();_["Content-Type"]="application/json",t.languageCode&&(_["X-Firebase-Locale"]=t.languageCode);let E=Object.assign({method:e,headers:_},d);return $C()||(E.referrerPolicy="no-referrer"),Yh.fetch()(N0(t,t.config.apiHost,n,g),E)}))})}function x0(t,e,n){return T(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},SV),e);try{let i=new yv(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw qh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,d]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw qh(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw qh(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw qh(t,"user-disabled",o);let p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw R0(t,p,d);tr(t,p)}}catch(i){if(i instanceof Mt)throw i;tr(t,"network-request-failed",{message:String(i)})}})}function uu(s,o,a,u){return T(this,arguments,function*(t,e,n,r,i={}){let d=yield Pr(t,e,n,r,i);return"mfaPendingCredential"in d&&tr(t,"multi-factor-auth-required",{_serverResponse:d}),d})}function N0(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Lv(t.config,i):`${t.config.apiScheme}://${i}`}function RV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var yv=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Is(this.auth,"network-request-failed")),AV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function qh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Is(t,e,r);return i.customData._tokenResponse=n,i}function d0(t){return t!==void 0&&t.enterprise!==void 0}var vv=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return RV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function xV(t,e){return T(this,null,function*(){return Pr(t,"GET","/v2/recaptchaConfig",Nr(t,e))})}function NV(t,e){return T(this,null,function*(){return Pr(t,"POST","/v1/accounts:delete",e)})}function P0(t,e){return T(this,null,function*(){return Pr(t,"POST","/v1/accounts:lookup",e)})}function nu(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Fv(t,e=!1){return T(this,null,function*(){let n=Le(t),r=yield n.getIdToken(e),i=Vv(r);J(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:nu(fv(i.auth_time)),issuedAtTime:nu(fv(i.iat)),expirationTime:nu(fv(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function fv(t){return Number(t)*1e3}function Vv(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return zh("JWT malformed, contained fewer than 3 sections"),null;try{let i=zy(n);return i?JSON.parse(i):(zh("Failed to decode base64 JWT payload"),null)}catch(i){return zh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function h0(t){let e=Vv(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function iu(t,e,n=!1){return T(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Mt&&PV(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function PV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var wv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>T(this,null,function*(){yield this.iteration()}),n)}iteration(){return T(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var su=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nu(this.lastLoginAt),this.creationTime=nu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Zh(t){return T(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield iu(t,P0(n,{idToken:r}));J(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?M0(s.providerUserInfo):[],a=MV(t.providerData,o),u=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!a?.length,p=u?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new su(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,g)})}function Uv(t){return T(this,null,function*(){let e=Le(t);yield Zh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function MV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function M0(t){return t.map(e=>{var{providerId:n}=e,r=Gp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function kV(t,e){return T(this,null,function*(){let n=yield x0(t,{},()=>T(this,null,function*(){let r=Jc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=N0(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Yh.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function OV(t,e){return T(this,null,function*(){return Pr(t,"POST","/v2/accounts:revokeToken",Nr(t,e))})}var ru=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):h0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){J(e.length!==0,"internal-error");let n=h0(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return T(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return T(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield kV(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(J(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(J(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(J(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Ar("not implemented")}};function Di(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ta=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Gp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new su(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return T(this,null,function*(){let n=yield iu(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Fv(this,e)}reload(){return Uv(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return T(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Zh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return T(this,null,function*(){if(Dn(this.auth.app))return Promise.reject(xr(this.auth));let e=yield this.getIdToken();return yield iu(this,NV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,d,p;let g=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,E=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,N=(o=n.photoURL)!==null&&o!==void 0?o:void 0,O=(a=n.tenantId)!==null&&a!==void 0?a:void 0,k=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,U=(d=n.createdAt)!==null&&d!==void 0?d:void 0,G=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:q,emailVerified:W,isAnonymous:Te,providerData:Y,stsTokenManager:C}=n;J(q&&C,e,"internal-error");let I=ru.fromJSON(this.name,C);J(typeof q=="string",e,"internal-error"),Di(g,e.name),Di(_,e.name),J(typeof W=="boolean",e,"internal-error"),J(typeof Te=="boolean",e,"internal-error"),Di(E,e.name),Di(N,e.name),Di(O,e.name),Di(k,e.name),Di(U,e.name),Di(G,e.name);let b=new t({uid:q,auth:e,email:_,emailVerified:W,displayName:g,isAnonymous:Te,photoURL:N,phoneNumber:E,tenantId:O,stsTokenManager:I,createdAt:U,lastLoginAt:G});return Y&&Array.isArray(Y)&&(b.providerData=Y.map(S=>Object.assign({},S))),k&&(b._redirectEventId=k),b}static _fromIdTokenResponse(e,n,r=!1){return T(this,null,function*(){let i=new ru;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Zh(s),s})}static _fromGetAccountInfoResponse(e,n,r){return T(this,null,function*(){let i=n.users[0];J(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?M0(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new ru;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new su(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,d),u})}};var f0=new Map;function Rr(t){Ci(t instanceof Function,"Expected a class definition");let e=f0.get(t);return e?(Ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,f0.set(t,e),e)}var LV=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return T(this,null,function*(){return!0})}_set(n,r){return T(this,null,function*(){this.storage[n]=r})}_get(n){return T(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return T(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),_v=LV;function Gh(t,e,n){return`firebase:${t}:${e}:${n}`}var Jh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Gh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Gh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return T(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ta._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return T(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return T(this,null,function*(){if(!n.length)return new t(Rr(_v),e,r);let i=(yield Promise.all(n.map(d=>T(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),s=i[0]||Rr(_v),o=Gh(r,e.config.apiKey,e.name),a=null;for(let d of n)try{let p=yield d._get(o);if(p){let g=ta._fromJSON(e,p);d!==s&&(a=g),s=d;break}}catch{}let u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(d=>T(this,null,function*(){if(d!==s)try{yield d._remove(o)}catch{}}))),new t(s,e,r))})}};function p0(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(F0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(k0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(U0(e))return"Blackberry";if(j0(e))return"Webos";if(O0(e))return"Safari";if((e.includes("chrome/")||L0(e))&&!e.includes("edge/"))return"Chrome";if(V0(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function k0(t=pt()){return/firefox\//i.test(t)}function O0(t=pt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function L0(t=pt()){return/crios\//i.test(t)}function F0(t=pt()){return/iemobile/i.test(t)}function V0(t=pt()){return/android/i.test(t)}function U0(t=pt()){return/blackberry/i.test(t)}function j0(t=pt()){return/webos/i.test(t)}function jv(t=pt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function FV(t=pt()){var e;return jv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function VV(){return zC()&&document.documentMode===10}function B0(t=pt()){return jv(t)||V0(t)||j0(t)||U0(t)||/windows phone/i.test(t)||F0(t)}function $0(t,e=[]){let n;switch(t){case"Browser":n=p0(pt());break;case"Worker":n=`${p0(pt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xn}/${r}`}var Iv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return T(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function UV(n){return T(this,arguments,function*(t,e={}){return Pr(t,"GET","/v2/passwordPolicy",Nr(t,e))})}var jV=6,Ev=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:jV,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var bv=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xh(this),this.idTokenSubscription=new Xh(this),this.beforeStateQueue=new Iv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=A0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rr(n)),this._initializationPromise=this.queue(()=>T(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Jh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return T(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return T(this,null,function*(){try{let n=yield P0(this,{idToken:e}),r=yield ta._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return T(this,null,function*(){var n;if(Dn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return T(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return T(this,null,function*(){try{yield Zh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=CV()}_delete(){return T(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return T(this,null,function*(){if(Dn(this.app))return Promise.reject(xr(this));let n=e?Le(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return T(this,null,function*(){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>T(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return T(this,null,function*(){return Dn(this.app)?Promise.reject(xr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Dn(this.app)?Promise.reject(xr(this)):this.queue(()=>T(this,null,function*(){yield this.assertedPersistence.setPersistence(Rr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return T(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return T(this,null,function*(){let e=yield UV(this),n=new Ev(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Dr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return T(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield OV(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return T(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return T(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Rr(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=yield Jh.create(this,[Rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return T(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>T(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return T(this,null,function*(){if(e===this.currentUser)return this.queue(()=>T(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return T(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return T(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return T(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&bV(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Ts(t){return Le(t)}var Xh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=QC(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var af={loadJS(){return T(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BV(t){af=t}function H0(t){return af.loadJS(t)}function $V(){return af.recaptchaEnterpriseScript}function HV(){return af.gapiScript}function q0(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var qV="recaptcha-enterprise",zV="NO_RECAPTCHA",Tv=class{constructor(e){this.type=qV,this.auth=Ts(e)}verify(e="verify",n=!1){return T(this,null,function*(){function r(s){return T(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>T(this,null,function*(){xV(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let d=new vv(u);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;d0(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(d=>{o(d)}).catch(()=>{o(zV)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&d0(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=$V();u.length!==0&&(u+=a),H0(u).then(()=>{i(a,s,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})})}};function g0(t,e,n,r=!1){return T(this,null,function*(){let i=new Tv(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Dv(t,e,n,r){return T(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield g0(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>T(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield g0(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function Bv(t,e){let n=ms(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(ps(s,e??{}))return i;tr(i,"already-initialized")}return n.initialize({options:e})}function GV(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Rr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function $v(t,e,n){let r=Ts(t);J(r._canInitEmulator,r,"emulator-config-failed"),J(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=z0(e),{host:o,port:a}=WV(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||KV()}function z0(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function WV(t){let e=z0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:m0(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:m0(o)}}}function m0(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function KV(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var ou=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ar("not implemented")}_getIdTokenResponse(e){return Ar("not implemented")}_linkToIdToken(e,n){return Ar("not implemented")}_getReauthenticationResolver(e){return Ar("not implemented")}};function QV(t,e){return T(this,null,function*(){return Pr(t,"POST","/v1/accounts:signUp",e)})}function YV(t,e){return T(this,null,function*(){return uu(t,"POST","/v1/accounts:signInWithPassword",Nr(t,e))})}function ZV(t,e){return T(this,null,function*(){return Pr(t,"POST","/v1/accounts:sendOobCode",Nr(t,e))})}function JV(t,e){return T(this,null,function*(){return ZV(t,e)})}function XV(t,e){return T(this,null,function*(){return uu(t,"POST","/v1/accounts:signInWithEmailLink",Nr(t,e))})}function eU(t,e){return T(this,null,function*(){return uu(t,"POST","/v1/accounts:signInWithEmailLink",Nr(t,e))})}var au=class t extends ou{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return T(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dv(e,n,"signInWithPassword",YV);case"emailLink":return XV(e,{email:this._email,oobCode:this._password});default:tr(e,"internal-error")}})}_linkToIdToken(e,n){return T(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dv(e,r,"signUpPassword",QV);case"emailLink":return eU(e,{idToken:n,email:this._email,oobCode:this._password});default:tr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function pv(t,e){return T(this,null,function*(){return uu(t,"POST","/v1/accounts:signInWithIdp",Nr(t,e))})}function tU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nU(t){let e=Zo(Jo(t)).link,n=e?Zo(Jo(e)).deep_link_id:null,r=Zo(Jo(t)).deep_link_id;return(r?Zo(Jo(r)).link:null)||r||n||e||t}var ef=class t{constructor(e){var n,r,i,s,o,a;let u=Zo(Jo(e)),d=(n=u.apiKey)!==null&&n!==void 0?n:null,p=(r=u.oobCode)!==null&&r!==void 0?r:null,g=tU((i=u.mode)!==null&&i!==void 0?i:null);J(d&&p&&g,"argument-error"),this.apiKey=d,this.operation=g,this.code=p,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=nU(e);try{return new t(n)}catch{return null}}};var G0=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return au._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=ef.parseLink(r);return J(i,"argument-error"),au._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),tf=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Cv=class extends tf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function rU(t,e){return T(this,null,function*(){return uu(t,"POST","/v1/accounts:signUp",Nr(t,e))})}var na=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return T(this,null,function*(){let s=yield ta._fromIdTokenResponse(e,r,i),o=y0(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return T(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=y0(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function y0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Sv=class t extends Mt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function W0(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Sv._fromErrorAndOperation(t,s,e,r):s})}function iU(t,e,n=!1){return T(this,null,function*(){let r=yield iu(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return na._forOperation(t,"link",r)})}function sU(t,e,n=!1){return T(this,null,function*(){let{auth:r}=t;if(Dn(r.app))return Promise.reject(xr(r));let i="reauthenticate";try{let s=yield iu(t,W0(r,i,e,t),n);J(s.idToken,r,"internal-error");let o=Vv(s.idToken);J(o,r,"internal-error");let{sub:a}=o;return J(t.uid===a,r,"user-mismatch"),na._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&tr(r,"user-mismatch"),s}})}function K0(t,e,n=!1){return T(this,null,function*(){if(Dn(t.app))return Promise.reject(xr(t));let r="signIn",i=yield W0(t,r,e),s=yield na._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Hv(t,e){return T(this,null,function*(){return K0(Ts(t),e)})}function oU(t,e,n){var r;J(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),J(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(J(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(J(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function Q0(t){return T(this,null,function*(){let e=Ts(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function qv(t,e,n){return T(this,null,function*(){if(Dn(t.app))return Promise.reject(xr(t));let r=Ts(t),o=yield Dv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rU).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&Q0(t),u}),a=yield na._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function zv(t,e,n){return Dn(t.app)?Promise.reject(xr(t)):Hv(Le(t),G0.credential(e,n)).catch(r=>T(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&Q0(t),r}))}function Gv(t,e){return T(this,null,function*(){let n=Le(t),i={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&oU(n.auth,i,e);let{email:s}=yield JV(n.auth,i);s!==t.email&&(yield t.reload())})}function Wv(t,e,n,r){return Le(t).onIdTokenChanged(e,n,r)}function Kv(t,e,n){return Le(t).beforeAuthStateChanged(e,n)}function Qv(t){return Le(t).signOut()}var nf="__sak";var rf=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nf,"1"),this.storage.removeItem(nf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var aU=1e3,cU=10,uU=(()=>{class t extends rf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=B0(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,d)=>{this.notifyListeners(a,d)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);VV()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,cU):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},aU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return T(this,null,function*(){yield ni(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return T(this,null,function*(){let r=yield ni(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return T(this,null,function*(){yield ni(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),Y0=uU;var lU=(()=>{class t extends rf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Yv=lU;function dU(t){return Promise.all(t.map(e=>T(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var hU=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return T(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(p=>T(this,null,function*(){return p(r.origin,o)})),d=yield dU(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:d})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Z0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Av=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return T(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let d=Z0("",20);i.port1.start();let p=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){let _=g;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(_.data.response);break;default:clearTimeout(p),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function er(){return window}function fU(t){er().location.href=t}function J0(){return typeof er().WorkerGlobalScope<"u"&&typeof er().importScripts=="function"}function pU(){return T(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function gU(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function mU(){return J0()?self:null}var X0="firebaseLocalStorageDb",yU=1,sf="firebaseLocalStorage",eS="fbase_key",bs=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function cf(t,e){return t.transaction([sf],e?"readwrite":"readonly").objectStore(sf)}function vU(){let t=indexedDB.deleteDatabase(X0);return new bs(t).toPromise()}function Rv(){let t=indexedDB.open(X0,yU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(sf,{keyPath:eS})}catch(i){n(i)}}),t.addEventListener("success",()=>T(this,null,function*(){let r=t.result;r.objectStoreNames.contains(sf)?e(r):(r.close(),yield vU(),e(yield Rv()))}))})}function v0(t,e,n){return T(this,null,function*(){let r=cf(t,!0).put({[eS]:e,value:n});return new bs(r).toPromise()})}function wU(t,e){return T(this,null,function*(){let n=cf(t,!1).get(e),r=yield new bs(n).toPromise();return r===void 0?null:r.value})}function w0(t,e){let n=cf(t,!0).delete(e);return new bs(n).toPromise()}var _U=800,IU=3,EU=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return T(this,null,function*(){return this.db?this.db:(this.db=yield Rv(),this.db)})}_withRetries(n){return T(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>IU)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return T(this,null,function*(){return J0()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return T(this,null,function*(){this.receiver=hU._getInstance(mU()),this.receiver._subscribe("keyChanged",(n,r)=>T(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>T(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return T(this,null,function*(){var n,r;if(this.activeServiceWorker=yield pU(),!this.activeServiceWorker)return;this.sender=new Av(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return T(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||gU()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return T(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Rv();return yield v0(n,nf,"1"),yield w0(n,nf),!0}catch{}return!1})}_withPendingWrite(n){return T(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return T(this,null,function*(){return this._withPendingWrite(()=>T(this,null,function*(){return yield this._withRetries(i=>v0(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return T(this,null,function*(){let r=yield this._withRetries(i=>wU(i,n));return this.localCache[n]=r,r})}_remove(n){return T(this,null,function*(){return this._withPendingWrite(()=>T(this,null,function*(){return yield this._withRetries(r=>w0(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return T(this,null,function*(){let n=yield this._withRetries(s=>{let o=cf(s,!1).getAll();return new bs(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>T(this,null,function*(){return this._poll()}),_U)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),tS=EU;var I8=q0("rcb"),E8=new Es(3e4,6e4);function bU(t,e){return e?Rr(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var cu=class extends ou{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pv(e,this._buildIdpRequest())}_linkToIdToken(e,n){return pv(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return pv(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function TU(t){return K0(t.auth,new cu(t),t.bypassAuthState)}function DU(t){let{auth:e,user:n}=t;return J(n,e,"internal-error"),sU(n,new cu(t),t.bypassAuthState)}function CU(t){return T(this,null,function*(){let{auth:e,user:n}=t;return J(n,e,"internal-error"),iU(n,new cu(t),t.bypassAuthState)})}var xv=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>T(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return T(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(d){this.reject(d)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TU;case"linkViaPopup":case"linkViaRedirect":return CU;case"reauthViaPopup":case"reauthViaRedirect":return DU;default:tr(this.auth,"internal-error")}}resolve(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var b8=new Es(2e3,1e4);var SU="pendingRedirect",Wh=new Map,Nv=class t extends xv{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return T(this,null,function*(){let e=Wh.get(this.auth._key());if(!e){try{let r=(yield AU(this.resolver,this.auth))?yield ni(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Wh.set(this.auth._key(),e)}return this.bypassAuthState||Wh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return T(this,null,function*(){if(e.type==="signInViaRedirect")return ni(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,ni(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return T(this,null,function*(){})}cleanUp(){}};function AU(t,e){return T(this,null,function*(){let n=NU(e),r=xU(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function RU(t,e){Wh.set(t._key(),e)}function xU(t){return Rr(t._redirectPersistence)}function NU(t){return Gh(SU,t.config.apiKey,t.name)}function PU(t,e,n=!1){return T(this,null,function*(){if(Dn(t.app))return Promise.reject(xr(t));let r=Ts(t),i=bU(r,e),o=yield new Nv(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var MU=10*60*1e3,Pv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!nS(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Is(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MU&&this.cachedEventUids.clear(),this.cachedEventUids.has(_0(e))}saveEventToCache(e){this.cachedEventUids.add(_0(e)),this.lastProcessedEventTime=Date.now()}};function _0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function nS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function kU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nS(t);default:return!1}}function OU(n){return T(this,arguments,function*(t,e={}){return Pr(t,"GET","/v1/projects",e)})}var LU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FU=/^https?/;function VU(t){return T(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield OU(t);for(let n of e)try{if(UU(n))return}catch{}tr(t,"unauthorized-domain")})}function UU(t){let e=mv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!FU.test(n))return!1;if(LU.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var jU=new Es(3e4,6e4);function I0(){let t=er().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function BU(t){return new Promise((e,n)=>{var r,i,s;function o(){I0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{I0(),n(Is(t,"network-request-failed"))},timeout:jU.get()})}if(!((i=(r=er().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=er().gapi)===null||s===void 0)&&s.load)o();else{let a=q0("iframefcb");return er()[a]=()=>{gapi.load?o():n(Is(t,"network-request-failed"))},H0(`${HV()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Kh=null,e})}var Kh=null;function $U(t){return Kh=Kh||BU(t),Kh}var HU=new Es(5e3,15e3),qU="__/auth/iframe",zU="emulator/auth/iframe",GU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KU(t){let e=t.config;J(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Lv(e,zU):`https://${t.config.authDomain}/${qU}`,r={apiKey:e.apiKey,appName:t.name,v:Xn},i=WU.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Jc(r).slice(1)}`}function QU(t){return T(this,null,function*(){let e=yield $U(t),n=er().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:KU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GU,dontclear:!0},r=>new Promise((i,s)=>T(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Is(t,"network-request-failed"),a=er().setTimeout(()=>{s(o)},HU.get());function u(){er().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var YU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZU=500,JU=600,XU="_blank",ej="http://localhost",of=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function tj(t,e,n,r=ZU,i=JU){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},YU),{width:r.toString(),height:i.toString(),top:s,left:o}),d=pt().toLowerCase();n&&(a=L0(d)?XU:n),k0(d)&&(e=e||ej,u.scrollbars="yes");let p=Object.entries(u).reduce((_,[E,N])=>`${_}${E}=${N},`,"");if(FV(d)&&a!=="_self")return nj(e||"",a),new of(null);let g=window.open(e||"",a,p);J(g,t,"popup-blocked");try{g.focus()}catch{}return new of(g)}function nj(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var rj="__/auth/handler",ij="emulator/auth/handler",sj=encodeURIComponent("fac");function E0(t,e,n,r,i,s){return T(this,null,function*(){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Xn,eventId:i};if(e instanceof tf){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",KC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[p,g]of Object.entries(s||{}))o[p]=g}if(e instanceof Cv){let p=e.getScopes().filter(g=>g!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let p of Object.keys(a))a[p]===void 0&&delete a[p];let u=yield t._getAppCheckToken(),d=u?`#${sj}=${encodeURIComponent(u)}`:"";return`${oj(t)}?${Jc(a).slice(1)}${d}`})}function oj({config:t}){return t.emulator?Lv(t,ij):`https://${t.authDomain}/${rj}`}var gv="webStorageSupport",Mv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yv,this._completeRedirectFn=PU,this._overrideRedirectResult=RU}_openPopup(e,n,r,i){return T(this,null,function*(){var s;Ci((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield E0(e,n,r,mv(),i);return tj(e,o,Z0())})}_openRedirect(e,n,r,i){return T(this,null,function*(){yield this._originValidation(e);let s=yield E0(e,n,r,mv(),i);return fU(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ci(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return T(this,null,function*(){let n=yield QU(e),r=new Pv(e);return n.register("authEvent",i=>(J(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gv,{type:gv},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[gv];o!==void 0&&n(!!o),tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return B0()||O0()||jv()}},rS=Mv;var b0="@firebase/auth",T0="1.7.9";var kv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return T(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function aj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cj(t){Jn(new Bt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;J(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$0(t)},d=new bv(r,i,s,u);return GV(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Jn(new Bt("auth-internal",e=>{let n=Ts(e.getProvider("auth").getImmediate());return(r=>new kv(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ue(b0,T0,aj(t)),Ue(b0,T0,"esm2017")}var uj=5*60,lj=Ky("authIdTokenMaxAge")||uj,D0=null,dj=t=>e=>T(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>lj)return;let i=n?.token;D0!==i&&(D0=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Zv(t=bi()){let e=ms(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Bv(t,{popupRedirectResolver:rS,persistence:[tS,Y0,Yv]}),r=Ky("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=dj(s.toString());Kv(n,o,()=>o(n.currentUser)),Wv(n,a=>o(a))}}let i=Gy("auth");return i&&$v(n,`http://${i}`),n}function hj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}BV({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Is("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",hj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cj("Browser");var iS="auth",Ds=class{constructor(e){return e}},lu=class{constructor(){return ea(iS)}};var Jv=new X("angularfire2.auth-instances");function tB(t,e){let n=tu(iS,t,e);return n&&new Ds(n)}function nB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ds(r)}}var rB={provide:lu,deps:[[new bt,Jv]]},iB={provide:Ds,useFactory:tB,deps:[[new bt,Jv],Sr]};function oK(t,...e){return Ue("angularfire",Ti.full,"auth"),Wn([iB,rB,{provide:Jv,useFactory:nB(t),multi:!0,deps:[Ae,Et,ws,_s,[new bt,vs],...e]}])}var sS=je(qv,!0);var aK=je(Zv,!0);var oS=je(Gv,!0);var aS=je(zv,!0);var cS=je(Qv,!0);var uS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lS={};var Si,Xv;(function(){var t;function e(C,I){function b(){}b.prototype=I.prototype,C.D=I.prototype,C.prototype=new b,C.prototype.constructor=C,C.C=function(S,A,R){for(var D=Array(arguments.length-2),hn=2;hn<arguments.length;hn++)D[hn-2]=arguments[hn];return I.prototype[A].apply(S,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,I,b){b||(b=0);var S=Array(16);if(typeof I=="string")for(var A=0;16>A;++A)S[A]=I.charCodeAt(b++)|I.charCodeAt(b++)<<8|I.charCodeAt(b++)<<16|I.charCodeAt(b++)<<24;else for(A=0;16>A;++A)S[A]=I[b++]|I[b++]<<8|I[b++]<<16|I[b++]<<24;I=C.g[0],b=C.g[1],A=C.g[2];var R=C.g[3],D=I+(R^b&(A^R))+S[0]+3614090360&4294967295;I=b+(D<<7&4294967295|D>>>25),D=R+(A^I&(b^A))+S[1]+3905402710&4294967295,R=I+(D<<12&4294967295|D>>>20),D=A+(b^R&(I^b))+S[2]+606105819&4294967295,A=R+(D<<17&4294967295|D>>>15),D=b+(I^A&(R^I))+S[3]+3250441966&4294967295,b=A+(D<<22&4294967295|D>>>10),D=I+(R^b&(A^R))+S[4]+4118548399&4294967295,I=b+(D<<7&4294967295|D>>>25),D=R+(A^I&(b^A))+S[5]+1200080426&4294967295,R=I+(D<<12&4294967295|D>>>20),D=A+(b^R&(I^b))+S[6]+2821735955&4294967295,A=R+(D<<17&4294967295|D>>>15),D=b+(I^A&(R^I))+S[7]+4249261313&4294967295,b=A+(D<<22&4294967295|D>>>10),D=I+(R^b&(A^R))+S[8]+1770035416&4294967295,I=b+(D<<7&4294967295|D>>>25),D=R+(A^I&(b^A))+S[9]+2336552879&4294967295,R=I+(D<<12&4294967295|D>>>20),D=A+(b^R&(I^b))+S[10]+4294925233&4294967295,A=R+(D<<17&4294967295|D>>>15),D=b+(I^A&(R^I))+S[11]+2304563134&4294967295,b=A+(D<<22&4294967295|D>>>10),D=I+(R^b&(A^R))+S[12]+1804603682&4294967295,I=b+(D<<7&4294967295|D>>>25),D=R+(A^I&(b^A))+S[13]+4254626195&4294967295,R=I+(D<<12&4294967295|D>>>20),D=A+(b^R&(I^b))+S[14]+2792965006&4294967295,A=R+(D<<17&4294967295|D>>>15),D=b+(I^A&(R^I))+S[15]+1236535329&4294967295,b=A+(D<<22&4294967295|D>>>10),D=I+(A^R&(b^A))+S[1]+4129170786&4294967295,I=b+(D<<5&4294967295|D>>>27),D=R+(b^A&(I^b))+S[6]+3225465664&4294967295,R=I+(D<<9&4294967295|D>>>23),D=A+(I^b&(R^I))+S[11]+643717713&4294967295,A=R+(D<<14&4294967295|D>>>18),D=b+(R^I&(A^R))+S[0]+3921069994&4294967295,b=A+(D<<20&4294967295|D>>>12),D=I+(A^R&(b^A))+S[5]+3593408605&4294967295,I=b+(D<<5&4294967295|D>>>27),D=R+(b^A&(I^b))+S[10]+38016083&4294967295,R=I+(D<<9&4294967295|D>>>23),D=A+(I^b&(R^I))+S[15]+3634488961&4294967295,A=R+(D<<14&4294967295|D>>>18),D=b+(R^I&(A^R))+S[4]+3889429448&4294967295,b=A+(D<<20&4294967295|D>>>12),D=I+(A^R&(b^A))+S[9]+568446438&4294967295,I=b+(D<<5&4294967295|D>>>27),D=R+(b^A&(I^b))+S[14]+3275163606&4294967295,R=I+(D<<9&4294967295|D>>>23),D=A+(I^b&(R^I))+S[3]+4107603335&4294967295,A=R+(D<<14&4294967295|D>>>18),D=b+(R^I&(A^R))+S[8]+1163531501&4294967295,b=A+(D<<20&4294967295|D>>>12),D=I+(A^R&(b^A))+S[13]+2850285829&4294967295,I=b+(D<<5&4294967295|D>>>27),D=R+(b^A&(I^b))+S[2]+4243563512&4294967295,R=I+(D<<9&4294967295|D>>>23),D=A+(I^b&(R^I))+S[7]+1735328473&4294967295,A=R+(D<<14&4294967295|D>>>18),D=b+(R^I&(A^R))+S[12]+2368359562&4294967295,b=A+(D<<20&4294967295|D>>>12),D=I+(b^A^R)+S[5]+4294588738&4294967295,I=b+(D<<4&4294967295|D>>>28),D=R+(I^b^A)+S[8]+2272392833&4294967295,R=I+(D<<11&4294967295|D>>>21),D=A+(R^I^b)+S[11]+1839030562&4294967295,A=R+(D<<16&4294967295|D>>>16),D=b+(A^R^I)+S[14]+4259657740&4294967295,b=A+(D<<23&4294967295|D>>>9),D=I+(b^A^R)+S[1]+2763975236&4294967295,I=b+(D<<4&4294967295|D>>>28),D=R+(I^b^A)+S[4]+1272893353&4294967295,R=I+(D<<11&4294967295|D>>>21),D=A+(R^I^b)+S[7]+4139469664&4294967295,A=R+(D<<16&4294967295|D>>>16),D=b+(A^R^I)+S[10]+3200236656&4294967295,b=A+(D<<23&4294967295|D>>>9),D=I+(b^A^R)+S[13]+681279174&4294967295,I=b+(D<<4&4294967295|D>>>28),D=R+(I^b^A)+S[0]+3936430074&4294967295,R=I+(D<<11&4294967295|D>>>21),D=A+(R^I^b)+S[3]+3572445317&4294967295,A=R+(D<<16&4294967295|D>>>16),D=b+(A^R^I)+S[6]+76029189&4294967295,b=A+(D<<23&4294967295|D>>>9),D=I+(b^A^R)+S[9]+3654602809&4294967295,I=b+(D<<4&4294967295|D>>>28),D=R+(I^b^A)+S[12]+3873151461&4294967295,R=I+(D<<11&4294967295|D>>>21),D=A+(R^I^b)+S[15]+530742520&4294967295,A=R+(D<<16&4294967295|D>>>16),D=b+(A^R^I)+S[2]+3299628645&4294967295,b=A+(D<<23&4294967295|D>>>9),D=I+(A^(b|~R))+S[0]+4096336452&4294967295,I=b+(D<<6&4294967295|D>>>26),D=R+(b^(I|~A))+S[7]+1126891415&4294967295,R=I+(D<<10&4294967295|D>>>22),D=A+(I^(R|~b))+S[14]+2878612391&4294967295,A=R+(D<<15&4294967295|D>>>17),D=b+(R^(A|~I))+S[5]+4237533241&4294967295,b=A+(D<<21&4294967295|D>>>11),D=I+(A^(b|~R))+S[12]+1700485571&4294967295,I=b+(D<<6&4294967295|D>>>26),D=R+(b^(I|~A))+S[3]+2399980690&4294967295,R=I+(D<<10&4294967295|D>>>22),D=A+(I^(R|~b))+S[10]+4293915773&4294967295,A=R+(D<<15&4294967295|D>>>17),D=b+(R^(A|~I))+S[1]+2240044497&4294967295,b=A+(D<<21&4294967295|D>>>11),D=I+(A^(b|~R))+S[8]+1873313359&4294967295,I=b+(D<<6&4294967295|D>>>26),D=R+(b^(I|~A))+S[15]+4264355552&4294967295,R=I+(D<<10&4294967295|D>>>22),D=A+(I^(R|~b))+S[6]+2734768916&4294967295,A=R+(D<<15&4294967295|D>>>17),D=b+(R^(A|~I))+S[13]+1309151649&4294967295,b=A+(D<<21&4294967295|D>>>11),D=I+(A^(b|~R))+S[4]+4149444226&4294967295,I=b+(D<<6&4294967295|D>>>26),D=R+(b^(I|~A))+S[11]+3174756917&4294967295,R=I+(D<<10&4294967295|D>>>22),D=A+(I^(R|~b))+S[2]+718787259&4294967295,A=R+(D<<15&4294967295|D>>>17),D=b+(R^(A|~I))+S[9]+3951481745&4294967295,C.g[0]=C.g[0]+I&4294967295,C.g[1]=C.g[1]+(A+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+A&4294967295,C.g[3]=C.g[3]+R&4294967295}r.prototype.u=function(C,I){I===void 0&&(I=C.length);for(var b=I-this.blockSize,S=this.B,A=this.h,R=0;R<I;){if(A==0)for(;R<=b;)i(this,C,R),R+=this.blockSize;if(typeof C=="string"){for(;R<I;)if(S[A++]=C.charCodeAt(R++),A==this.blockSize){i(this,S),A=0;break}}else for(;R<I;)if(S[A++]=C[R++],A==this.blockSize){i(this,S),A=0;break}}this.h=A,this.o+=I},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var I=1;I<C.length-8;++I)C[I]=0;var b=8*this.o;for(I=C.length-8;I<C.length;++I)C[I]=b&255,b/=256;for(this.u(C),C=Array(16),I=b=0;4>I;++I)for(var S=0;32>S;S+=8)C[b++]=this.g[I]>>>S&255;return C};function s(C,I){var b=a;return Object.prototype.hasOwnProperty.call(b,C)?b[C]:b[C]=I(C)}function o(C,I){this.h=I;for(var b=[],S=!0,A=C.length-1;0<=A;A--){var R=C[A]|0;S&&R==I||(b[A]=R,S=!1)}this.g=b}var a={};function u(C){return-128<=C&&128>C?s(C,function(I){return new o([I|0],0>I?-1:0)}):new o([C|0],0>C?-1:0)}function d(C){if(isNaN(C)||!isFinite(C))return g;if(0>C)return k(d(-C));for(var I=[],b=1,S=0;C>=b;S++)I[S]=C/b|0,b*=4294967296;return new o(I,0)}function p(C,I){if(C.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(C.charAt(0)=="-")return k(p(C.substring(1),I));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=d(Math.pow(I,8)),S=g,A=0;A<C.length;A+=8){var R=Math.min(8,C.length-A),D=parseInt(C.substring(A,A+R),I);8>R?(R=d(Math.pow(I,R)),S=S.j(R).add(d(D))):(S=S.j(b),S=S.add(d(D)))}return S}var g=u(0),_=u(1),E=u(16777216);t=o.prototype,t.m=function(){if(O(this))return-k(this).m();for(var C=0,I=1,b=0;b<this.g.length;b++){var S=this.i(b);C+=(0<=S?S:4294967296+S)*I,I*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(N(this))return"0";if(O(this))return"-"+k(this).toString(C);for(var I=d(Math.pow(C,6)),b=this,S="";;){var A=W(b,I).g;b=U(b,A.j(I));var R=((0<b.g.length?b.g[0]:b.h)>>>0).toString(C);if(b=A,N(b))return R+S;for(;6>R.length;)R="0"+R;S=R+S}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function N(C){if(C.h!=0)return!1;for(var I=0;I<C.g.length;I++)if(C.g[I]!=0)return!1;return!0}function O(C){return C.h==-1}t.l=function(C){return C=U(this,C),O(C)?-1:N(C)?0:1};function k(C){for(var I=C.g.length,b=[],S=0;S<I;S++)b[S]=~C.g[S];return new o(b,~C.h).add(_)}t.abs=function(){return O(this)?k(this):this},t.add=function(C){for(var I=Math.max(this.g.length,C.g.length),b=[],S=0,A=0;A<=I;A++){var R=S+(this.i(A)&65535)+(C.i(A)&65535),D=(R>>>16)+(this.i(A)>>>16)+(C.i(A)>>>16);S=D>>>16,R&=65535,D&=65535,b[A]=D<<16|R}return new o(b,b[b.length-1]&-2147483648?-1:0)};function U(C,I){return C.add(k(I))}t.j=function(C){if(N(this)||N(C))return g;if(O(this))return O(C)?k(this).j(k(C)):k(k(this).j(C));if(O(C))return k(this.j(k(C)));if(0>this.l(E)&&0>C.l(E))return d(this.m()*C.m());for(var I=this.g.length+C.g.length,b=[],S=0;S<2*I;S++)b[S]=0;for(S=0;S<this.g.length;S++)for(var A=0;A<C.g.length;A++){var R=this.i(S)>>>16,D=this.i(S)&65535,hn=C.i(A)>>>16,Vr=C.i(A)&65535;b[2*S+2*A]+=D*Vr,G(b,2*S+2*A),b[2*S+2*A+1]+=R*Vr,G(b,2*S+2*A+1),b[2*S+2*A+1]+=D*hn,G(b,2*S+2*A+1),b[2*S+2*A+2]+=R*hn,G(b,2*S+2*A+2)}for(S=0;S<I;S++)b[S]=b[2*S+1]<<16|b[2*S];for(S=I;S<2*I;S++)b[S]=0;return new o(b,0)};function G(C,I){for(;(C[I]&65535)!=C[I];)C[I+1]+=C[I]>>>16,C[I]&=65535,I++}function q(C,I){this.g=C,this.h=I}function W(C,I){if(N(I))throw Error("division by zero");if(N(C))return new q(g,g);if(O(C))return I=W(k(C),I),new q(k(I.g),k(I.h));if(O(I))return I=W(C,k(I)),new q(k(I.g),I.h);if(30<C.g.length){if(O(C)||O(I))throw Error("slowDivide_ only works with positive integers.");for(var b=_,S=I;0>=S.l(C);)b=Te(b),S=Te(S);var A=Y(b,1),R=Y(S,1);for(S=Y(S,2),b=Y(b,2);!N(S);){var D=R.add(S);0>=D.l(C)&&(A=A.add(b),R=D),S=Y(S,1),b=Y(b,1)}return I=U(C,A.j(I)),new q(A,I)}for(A=g;0<=C.l(I);){for(b=Math.max(1,Math.floor(C.m()/I.m())),S=Math.ceil(Math.log(b)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),R=d(b),D=R.j(I);O(D)||0<D.l(C);)b-=S,R=d(b),D=R.j(I);N(R)&&(R=_),A=A.add(R),C=U(C,D)}return new q(A,C)}t.A=function(C){return W(this,C).h},t.and=function(C){for(var I=Math.max(this.g.length,C.g.length),b=[],S=0;S<I;S++)b[S]=this.i(S)&C.i(S);return new o(b,this.h&C.h)},t.or=function(C){for(var I=Math.max(this.g.length,C.g.length),b=[],S=0;S<I;S++)b[S]=this.i(S)|C.i(S);return new o(b,this.h|C.h)},t.xor=function(C){for(var I=Math.max(this.g.length,C.g.length),b=[],S=0;S<I;S++)b[S]=this.i(S)^C.i(S);return new o(b,this.h^C.h)};function Te(C){for(var I=C.g.length+1,b=[],S=0;S<I;S++)b[S]=C.i(S)<<1|C.i(S-1)>>>31;return new o(b,C.h)}function Y(C,I){var b=I>>5;I%=32;for(var S=C.g.length-b,A=[],R=0;R<S;R++)A[R]=0<I?C.i(R+b)>>>I|C.i(R+b+1)<<32-I:C.i(R+b);return new o(A,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Xv=lS.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=p,Si=lS.Integer=o}).apply(typeof uS<"u"?uS:typeof self<"u"?self:typeof window<"u"?window:{});var uf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mr={};var ew,oB,ra,tw,du,lf,nw,rw,iw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,f,m){return c==Array.prototype||c==Object.prototype||(c[f]=m.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof uf=="object"&&uf];for(var f=0;f<c.length;++f){var m=c[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(c,f){if(f)e:{var m=r;c=c.split(".");for(var v=0;v<c.length-1;v++){var x=c[v];if(!(x in m))break e;m=m[x]}c=c[c.length-1],v=m[c],f=f(v),f!=v&&f!=null&&e(m,c,{configurable:!0,writable:!0,value:f})}}function s(c,f){c instanceof String&&(c+="");var m=0,v=!1,x={next:function(){if(!v&&m<c.length){var M=m++;return{value:f(M,c[M]),done:!1}}return v=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}i("Array.prototype.values",function(c){return c||function(){return s(this,function(f,m){return m})}});var o=o||{},a=this||self;function u(c){var f=typeof c;return f=f!="object"?f:c?Array.isArray(c)?"array":f:"null",f=="array"||f=="object"&&typeof c.length=="number"}function d(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function p(c,f,m){return c.call.apply(c.bind,arguments)}function g(c,f,m){if(!c)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,v),c.apply(f,x)}}return function(){return c.apply(f,arguments)}}function _(c,f,m){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,_.apply(null,arguments)}function E(c,f){var m=Array.prototype.slice.call(arguments,1);return function(){var v=m.slice();return v.push.apply(v,arguments),c.apply(this,v)}}function N(c,f){function m(){}m.prototype=f.prototype,c.aa=f.prototype,c.prototype=new m,c.prototype.constructor=c,c.Qb=function(v,x,M){for(var V=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)V[Ce-2]=arguments[Ce];return f.prototype[x].apply(v,V)}}function O(c){let f=c.length;if(0<f){let m=Array(f);for(let v=0;v<f;v++)m[v]=c[v];return m}return[]}function k(c,f){for(let m=1;m<arguments.length;m++){let v=arguments[m];if(u(v)){let x=c.length||0,M=v.length||0;c.length=x+M;for(let V=0;V<M;V++)c[x+V]=v[V]}else c.push(v)}}class U{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function G(c){return/^[\s\xa0]*$/.test(c)}function q(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function W(c){return W[" "](c),c}W[" "]=function(){};var Te=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function Y(c,f,m){for(let v in c)f.call(m,c[v],v,c)}function C(c,f){for(let m in c)f.call(void 0,c[m],m,c)}function I(c){let f={};for(let m in c)f[m]=c[m];return f}let b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(c,f){let m,v;for(let x=1;x<arguments.length;x++){v=arguments[x];for(m in v)c[m]=v[m];for(let M=0;M<b.length;M++)m=b[M],Object.prototype.hasOwnProperty.call(v,m)&&(c[m]=v[m])}}function A(c){var f=1;c=c.split(":");let m=[];for(;0<f&&c.length;)m.push(c.shift()),f--;return c.length&&m.push(c.join(":")),m}function R(c){a.setTimeout(()=>{throw c},0)}function D(){var c=jr;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class hn{constructor(){this.h=this.g=null}add(f,m){let v=Vr.get();v.set(f,m),this.h?this.h.next=v:this.g=v,this.h=v}}var Vr=new U(()=>new xa,c=>c.reset());class xa{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Ur,lr=!1,jr=new hn,$t=()=>{let c=a.Promise.resolve(void 0);Ur=()=>{c.then(Br)}};var Br=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(m){R(m)}var f=Vr;f.j(c),100>f.h&&(f.h++,c.next=f.g,f.g=c)}lr=!1};function _t(){this.s=this.s,this.C=this.C}_t.prototype.s=!1,_t.prototype.ma=function(){this.s||(this.s=!0,this.N())},_t.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var $r=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return c}();function fn(c,f){if(lt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var m=this.type=c.type,v=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget){if(Te){e:{try{W(f.nodeName);var x=!0;break e}catch{}x=!1}x||(f=null)}}else m=="mouseover"?f=c.fromElement:m=="mouseout"&&(f=c.toElement);this.relatedTarget=f,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Uu[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&fn.aa.h.call(this)}}N(fn,lt);var Uu={2:"touch",3:"pen",4:"mouse"};fn.prototype.h=function(){fn.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var xn="closure_listenable_"+(1e6*Math.random()|0),Na=0;function ap(c,f,m,v,x){this.listener=c,this.proxy=null,this.src=f,this.type=m,this.capture=!!v,this.ha=x,this.key=++Na,this.da=this.fa=!1}function Hr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function qr(c){this.src=c,this.g={},this.h=0}qr.prototype.add=function(c,f,m,v,x){var M=c.toString();c=this.g[M],c||(c=this.g[M]=[],this.h++);var V=Pa(c,f,v,x);return-1<V?(f=c[V],m||(f.fa=!1)):(f=new ap(f,this.src,M,!!v,x),f.fa=m,c.push(f)),f};function zr(c,f){var m=f.type;if(m in c.g){var v=c.g[m],x=Array.prototype.indexOf.call(v,f,void 0),M;(M=0<=x)&&Array.prototype.splice.call(v,x,1),M&&(Hr(f),c.g[m].length==0&&(delete c.g[m],c.h--))}}function Pa(c,f,m,v){for(var x=0;x<c.length;++x){var M=c[x];if(!M.da&&M.listener==f&&M.capture==!!m&&M.ha==v)return x}return-1}var mt="closure_lm_"+(1e6*Math.random()|0),Ht={};function ju(c,f,m,v,x){if(v&&v.once)return Ma(c,f,m,v,x);if(Array.isArray(f)){for(var M=0;M<f.length;M++)ju(c,f[M],m,v,x);return null}return m=Qe(m),c&&c[xn]?c.K(f,m,d(v)?!!v.capture:!!v,x):It(c,f,m,!1,v,x)}function It(c,f,m,v,x,M){if(!f)throw Error("Invalid event type");var V=d(x)?!!x.capture:!!x,Ce=pn(c);if(Ce||(c[mt]=Ce=new qr(c)),m=Ce.add(f,m,v,V,M),m.proxy)return m;if(v=js(),m.proxy=v,v.src=c,v.listener=m,c.addEventListener)$r||(x=V),x===void 0&&(x=!1),c.addEventListener(f.toString(),v,x);else if(c.attachEvent)c.attachEvent(qt(f.toString()),v);else if(c.addListener&&c.removeListener)c.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return m}function js(){function c(m){return f.call(c.src,c.listener,m)}let f=Nn;return c}function Ma(c,f,m,v,x){if(Array.isArray(f)){for(var M=0;M<f.length;M++)Ma(c,f[M],m,v,x);return null}return m=Qe(m),c&&c[xn]?c.L(f,m,d(v)?!!v.capture:!!v,x):It(c,f,m,!0,v,x)}function ka(c,f,m,v,x){if(Array.isArray(f))for(var M=0;M<f.length;M++)ka(c,f[M],m,v,x);else v=d(v)?!!v.capture:!!v,m=Qe(m),c&&c[xn]?(c=c.i,f=String(f).toString(),f in c.g&&(M=c.g[f],m=Pa(M,m,v,x),-1<m&&(Hr(M[m]),Array.prototype.splice.call(M,m,1),M.length==0&&(delete c.g[f],c.h--)))):c&&(c=pn(c))&&(f=c.g[f.toString()],c=-1,f&&(c=Pa(f,m,v,x)),(m=-1<c?f[c]:null)&&he(m))}function he(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[xn])zr(f.i,c);else{var m=c.type,v=c.proxy;f.removeEventListener?f.removeEventListener(m,v,c.capture):f.detachEvent?f.detachEvent(qt(m),v):f.addListener&&f.removeListener&&f.removeListener(v),(m=pn(f))?(zr(m,c),m.h==0&&(m.src=null,f[mt]=null)):Hr(c)}}}function qt(c){return c in Ht?Ht[c]:Ht[c]="on"+c}function Nn(c,f){if(c.da)c=!0;else{f=new fn(f,this);var m=c.listener,v=c.ha||c.src;c.fa&&he(c),c=m.call(v,f)}return c}function pn(c){return c=c[mt],c instanceof qr?c:null}var $e="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qe(c){return typeof c=="function"?c:(c[$e]||(c[$e]=function(f){return c.handleEvent(f)}),c[$e])}function Ye(){_t.call(this),this.i=new qr(this),this.M=this,this.F=null}N(Ye,_t),Ye.prototype[xn]=!0,Ye.prototype.removeEventListener=function(c,f,m,v){ka(this,c,f,m,v)};function dt(c,f){var m,v=c.F;if(v)for(m=[];v;v=v.F)m.push(v);if(c=c.M,v=f.type||f,typeof f=="string")f=new lt(f,c);else if(f instanceof lt)f.target=f.target||c;else{var x=f;f=new lt(v,c),S(f,x)}if(x=!0,m)for(var M=m.length-1;0<=M;M--){var V=f.g=m[M];x=Pn(V,v,!0,f)&&x}if(V=f.g=c,x=Pn(V,v,!0,f)&&x,x=Pn(V,v,!1,f)&&x,m)for(M=0;M<m.length;M++)V=f.g=m[M],x=Pn(V,v,!1,f)&&x}Ye.prototype.N=function(){if(Ye.aa.N.call(this),this.i){var c=this.i,f;for(f in c.g){for(var m=c.g[f],v=0;v<m.length;v++)Hr(m[v]);delete c.g[f],c.h--}}this.F=null},Ye.prototype.K=function(c,f,m,v){return this.i.add(String(c),f,!1,m,v)},Ye.prototype.L=function(c,f,m,v){return this.i.add(String(c),f,!0,m,v)};function Pn(c,f,m,v){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();for(var x=!0,M=0;M<f.length;++M){var V=f[M];if(V&&!V.da&&V.capture==m){var Ce=V.listener,st=V.ha||V.src;V.fa&&zr(c.i,V),x=Ce.call(st,v)!==!1&&x}}return x&&!v.defaultPrevented}function yt(c,f,m){if(typeof c=="function")m&&(c=_(c,m));else if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(c,f||0)}function Bu(c){c.g=yt(()=>{c.g=null,c.i&&(c.i=!1,Bu(c))},c.l);let f=c.h;c.h=null,c.m.apply(null,f)}class $u extends _t{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Bu(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gr(c){_t.call(this),this.h=c,this.g={}}N(Gr,_t);var Bs=[];function Hu(c){Y(c.g,function(f,m){this.g.hasOwnProperty(m)&&he(f)},c),c.g={}}Gr.prototype.N=function(){Gr.aa.N.call(this),Hu(this)},Gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oa=a.JSON.stringify,cp=a.JSON.parse,up=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function gn(){}gn.prototype.h=null;function qu(c){return c.h||(c.h=c.i())}function zu(){}var Mi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function La(){lt.call(this,"d")}N(La,lt);function Fa(){lt.call(this,"c")}N(Fa,lt);var mn={},Gu=null;function $s(){return Gu=Gu||new Ye}mn.La="serverreachability";function Wu(c){lt.call(this,mn.La,c)}N(Wu,lt);function ki(c){let f=$s();dt(f,new Wu(f))}mn.STAT_EVENT="statevent";function Ku(c,f){lt.call(this,mn.STAT_EVENT,c),this.stat=f}N(Ku,lt);function it(c){let f=$s();dt(f,new Ku(f,c))}mn.Ma="timingevent";function Qu(c,f){lt.call(this,mn.Ma,c),this.size=f}N(Qu,lt);function Oi(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},f)}function Li(){this.g=!0}Li.prototype.xa=function(){this.g=!1};function lp(c,f,m,v,x,M){c.info(function(){if(c.g)if(M)for(var V="",Ce=M.split("&"),st=0;st<Ce.length;st++){var ye=Ce[st].split("=");if(1<ye.length){var ht=ye[0];ye=ye[1];var ot=ht.split("_");V=2<=ot.length&&ot[1]=="type"?V+(ht+"="+ye+"&"):V+(ht+"=redacted&")}}else V=null;else V=M;return"XMLHTTP REQ ("+v+") [attempt "+x+"]: "+f+`
`+m+`
`+V})}function dp(c,f,m,v,x,M,V){c.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+x+"]: "+f+`
`+m+`
`+M+" "+V})}function Ie(c,f,m,v){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+fp(c,m)+(v?" "+v:"")})}function hp(c,f){c.info(function(){return"TIMEOUT: "+f})}Li.prototype.info=function(){};function fp(c,f){if(!c.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(c=0;c<m.length;c++)if(Array.isArray(m[c])){var v=m[c];if(!(2>v.length)){var x=v[1];if(Array.isArray(x)&&!(1>x.length)){var M=x[0];if(M!="noop"&&M!="stop"&&M!="close")for(var V=1;V<x.length;V++)x[V]=""}}}}return Oa(m)}catch{return f}}var Hs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Yu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Va;function qs(){}N(qs,gn),qs.prototype.g=function(){return new XMLHttpRequest},qs.prototype.i=function(){return{}},Va=new qs;function tn(c,f,m,v){this.j=c,this.i=f,this.l=m,this.R=v||1,this.U=new Gr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wr}function Wr(){this.i=null,this.g="",this.h=!1}var Ua={},Kr={};function ke(c,f,m){c.L=1,c.v=Gs(nn(f)),c.m=m,c.P=!0,Zu(c,null)}function Zu(c,f){c.F=Date.now(),Fi(c),c.A=nn(c.v);var m=c.A,v=c.R;Array.isArray(v)||(v=[String(v)]),fl(m.i,"t",v),c.C=0,m=c.j.J,c.h=new Wr,c.g=ec(c.j,m?f:null,!c.m),0<c.O&&(c.M=new $u(_(c.Y,c,c.g),c.O)),f=c.U,m=c.g,v=c.ca;var x="readystatechange";Array.isArray(x)||(x&&(Bs[0]=x.toString()),x=Bs);for(var M=0;M<x.length;M++){var V=ju(m,x[M],v||f.handleEvent,!1,f.h||f);if(!V)break;f.g[V.key]=V}f=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,f)):(c.u="GET",c.g.ea(c.A,c.u,null,f)),ki(),lp(c.i,c.u,c.A,c.l,c.R,c.m)}tn.prototype.ca=function(c){c=c.target;let f=this.M;f&&vn(c)==3?f.j():this.Y(c)},tn.prototype.Y=function(c){try{if(c==this.g)e:{let ot=vn(this.g);var f=this.g.Ba();let Fn=this.g.Z();if(!(3>ot)&&(ot!=3||this.g&&(this.h.h||this.g.oa()||_l(this.g)))){this.J||ot!=4||f==7||(f==8||0>=Fn?ki(3):ki(2)),ja(this);var m=this.g.Z();this.X=m;t:if(Ju(this)){var v=_l(this.g);c="";var x=v.length,M=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mn(this),Vi(this);var V="";break t}this.h.i=new a.TextDecoder}for(f=0;f<x;f++)this.h.h=!0,c+=this.h.i.decode(v[f],{stream:!(M&&f==x-1)});v.length=0,this.h.g+=c,this.C=0,V=this.h.g}else V=this.g.oa();if(this.o=m==200,dp(this.i,this.u,this.A,this.l,this.R,ot,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Ce,st=this.g;if((Ce=st.g?st.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Ce)){var ye=Ce;break t}}ye=null}if(m=ye)Ie(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ba(this,m);else{this.o=!1,this.s=3,it(12),Mn(this),Vi(this);break e}}if(this.P){m=!0;let zt;for(;!this.J&&this.C<V.length;)if(zt=pp(this,V),zt==Kr){ot==4&&(this.s=4,it(14),m=!1),Ie(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Ua){this.s=4,it(15),Ie(this.i,this.l,V,"[Invalid Chunk]"),m=!1;break}else Ie(this.i,this.l,zt,null),Ba(this,zt);if(Ju(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||V.length!=0||this.h.h||(this.s=1,it(16),m=!1),this.o=this.o&&m,!m)Ie(this.i,this.l,V,"[Invalid Chunked Response]"),Mn(this),Vi(this);else if(0<V.length&&!this.W){this.W=!0;var ht=this.j;ht.g==this&&ht.ba&&!ht.M&&(ht.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),ei(ht),ht.M=!0,it(11))}}else Ie(this.i,this.l,V,null),Ba(this,V);ot==4&&Mn(this),this.o&&!this.J&&(ot==4?Ya(this.j,this):(this.o=!1,Fi(this)))}else bp(this.g),m==400&&0<V.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),Mn(this),Vi(this)}}}catch{}finally{}};function Ju(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function pp(c,f){var m=c.C,v=f.indexOf(`
`,m);return v==-1?Kr:(m=Number(f.substring(m,v)),isNaN(m)?Ua:(v+=1,v+m>f.length?Kr:(f=f.slice(v,v+m),c.C=v+m,f)))}tn.prototype.cancel=function(){this.J=!0,Mn(this)};function Fi(c){c.S=Date.now()+c.I,Xu(c,c.I)}function Xu(c,f){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Oi(_(c.ba,c),f)}function ja(c){c.B&&(a.clearTimeout(c.B),c.B=null)}tn.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(hp(this.i,this.A),this.L!=2&&(ki(),it(17)),Mn(this),this.s=2,Vi(this)):Xu(this,this.S-c)};function Vi(c){c.j.G==0||c.J||Ya(c.j,c)}function Mn(c){ja(c);var f=c.M;f&&typeof f.ma=="function"&&f.ma(),c.M=null,Hu(c.U),c.g&&(f=c.g,c.g=null,f.abort(),f.ma())}function Ba(c,f){try{var m=c.j;if(m.G!=0&&(m.g==c||$a(m.h,c))){if(!c.K&&$a(m.h,c)&&m.G==3){try{var v=m.Da.g.parse(f)}catch{v=null}if(Array.isArray(v)&&v.length==3){var x=v;if(x[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<c.F)Gi(m),Ys(m);else break e;zi(m),it(18)}}else m.za=x[1],0<m.za-m.T&&37500>x[2]&&m.F&&m.v==0&&!m.C&&(m.C=Oi(_(m.Za,m),6e3));if(1>=rl(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Ln(m,11)}else if((c.K||m.g==c)&&Gi(m),!G(f))for(x=m.Da.g.parse(f),f=0;f<x.length;f++){let ye=x[f];if(m.T=ye[0],ye=ye[1],m.G==2)if(ye[0]=="c"){m.K=ye[1],m.ia=ye[2];let ht=ye[3];ht!=null&&(m.la=ht,m.j.info("VER="+m.la));let ot=ye[4];ot!=null&&(m.Aa=ot,m.j.info("SVER="+m.Aa));let Fn=ye[5];Fn!=null&&typeof Fn=="number"&&0<Fn&&(v=1.5*Fn,m.L=v,m.j.info("backChannelRequestTimeoutMs_="+v)),v=m;let zt=c.g;if(zt){let Js=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Js){var M=v.h;M.g||Js.indexOf("spdy")==-1&&Js.indexOf("quic")==-1&&Js.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Ha(M,M.h),M.h=null))}if(v.D){let nc=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;nc&&(v.ya=nc,Pe(v.I,v.D,nc))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-c.F,m.j.info("Handshake RTT: "+m.R+"ms")),v=m;var V=c;if(v.qa=Xa(v,v.J?v.ia:null,v.W),V.K){il(v.h,V);var Ce=V,st=v.L;st&&(Ce.I=st),Ce.B&&(ja(Ce),Fi(Ce)),v.g=V}else Qa(v);0<m.i.length&&Zs(m)}else ye[0]!="stop"&&ye[0]!="close"||Ln(m,7);else m.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?Ln(m,7):Qs(m):ye[0]!="noop"&&m.l&&m.l.ta(ye),m.v=0)}}ki(4)}catch{}}var el=class{constructor(c,f){this.g=c,this.map=f}};function tl(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function rl(c){return c.h?1:c.g?c.g.size:0}function $a(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function Ha(c,f){c.g?c.g.add(f):c.h=f}function il(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}tl.prototype.cancel=function(){if(this.i=sl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function sl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let f=c.i;for(let m of c.g.values())f=f.concat(m.D);return f}return O(c.i)}function ol(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var f=[],m=c.length,v=0;v<m;v++)f.push(c[v]);return f}f=[],m=0;for(v in c)f[m++]=c[v];return f}function gp(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var f=[];c=c.length;for(var m=0;m<c;m++)f.push(m);return f}f=[],m=0;for(let v in c)f[m++]=v;return f}}}function qa(c,f){if(c.forEach&&typeof c.forEach=="function")c.forEach(f,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,f,void 0);else for(var m=gp(c),v=ol(c),x=v.length,M=0;M<x;M++)f.call(void 0,v[M],m&&m[M],c)}var al=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mp(c,f){if(c){c=c.split("&");for(var m=0;m<c.length;m++){var v=c[m].indexOf("="),x=null;if(0<=v){var M=c[m].substring(0,v);x=c[m].substring(v+1)}else M=c[m];f(M,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function Ot(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ot){this.h=c.h,zs(this,c.j),this.o=c.o,this.g=c.g,Qr(this,c.s),this.l=c.l;var f=c.i,m=new Bi;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),za(this,m),this.m=c.m}else c&&(f=String(c).match(al))?(this.h=!1,zs(this,f[1]||"",!0),this.o=Ui(f[2]||""),this.g=Ui(f[3]||"",!0),Qr(this,f[4]),this.l=Ui(f[5]||"",!0),za(this,f[6]||"",!0),this.m=Ui(f[7]||"")):(this.h=!1,this.i=new Bi(null,this.h))}Ot.prototype.toString=function(){var c=[],f=this.j;f&&c.push(ji(f,cl,!0),":");var m=this.g;return(m||f=="file")&&(c.push("//"),(f=this.o)&&c.push(ji(f,cl,!0),"@"),c.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&c.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&c.push("/"),c.push(ji(m,m.charAt(0)=="/"?vp:Yr,!0))),(m=this.i.toString())&&c.push("?",m),(m=this.m)&&c.push("#",ji(m,ll)),c.join("")};function nn(c){return new Ot(c)}function zs(c,f,m){c.j=m?Ui(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function Qr(c,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);c.s=f}else c.s=null}function za(c,f,m){f instanceof Bi?(c.i=f,wp(c.i,c.h)):(m||(f=ji(f,ul)),c.i=new Bi(f,c.h))}function Pe(c,f,m){c.i.set(f,m)}function Gs(c){return Pe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ui(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ji(c,f,m){return typeof c=="string"?(c=encodeURI(c).replace(f,yp),m&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function yp(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var cl=/[#\/\?@]/g,Yr=/[#\?:]/g,vp=/[#\?]/g,ul=/[#\?@]/g,ll=/#/g;function Bi(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function kn(c){c.g||(c.g=new Map,c.h=0,c.i&&mp(c.i,function(f,m){c.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=Bi.prototype,t.add=function(c,f){kn(this),this.i=null,c=Zr(this,c);var m=this.g.get(c);return m||this.g.set(c,m=[]),m.push(f),this.h+=1,this};function dl(c,f){kn(c),f=Zr(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function hl(c,f){return kn(c),f=Zr(c,f),c.g.has(f)}t.forEach=function(c,f){kn(this),this.g.forEach(function(m,v){m.forEach(function(x){c.call(f,x,v,this)},this)},this)},t.na=function(){kn(this);let c=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let v=0;v<f.length;v++){let x=c[v];for(let M=0;M<x.length;M++)m.push(f[v])}return m},t.V=function(c){kn(this);let f=[];if(typeof c=="string")hl(this,c)&&(f=f.concat(this.g.get(Zr(this,c))));else{c=Array.from(this.g.values());for(let m=0;m<c.length;m++)f=f.concat(c[m])}return f},t.set=function(c,f){return kn(this),this.i=null,c=Zr(this,c),hl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},t.get=function(c,f){return c?(c=this.V(c),0<c.length?String(c[0]):f):f};function fl(c,f,m){dl(c,f),0<m.length&&(c.i=null,c.g.set(Zr(c,f),O(m)),c.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var v=f[m];let M=encodeURIComponent(String(v)),V=this.V(v);for(v=0;v<V.length;v++){var x=M;V[v]!==""&&(x+="="+encodeURIComponent(String(V[v]))),c.push(x)}}return this.i=c.join("&")};function Zr(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function wp(c,f){f&&!c.j&&(kn(c),c.i=null,c.g.forEach(function(m,v){var x=v.toLowerCase();v!=x&&(dl(this,v),fl(this,x,m))},c)),c.j=f}function Jr(c,f){let m=new Li;if(a.Image){let v=new Image;v.onload=E(On,m,"TestLoadImage: loaded",!0,f,v),v.onerror=E(On,m,"TestLoadImage: error",!1,f,v),v.onabort=E(On,m,"TestLoadImage: abort",!1,f,v),v.ontimeout=E(On,m,"TestLoadImage: timeout",!1,f,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=c}else f(!1)}function _p(c,f){let m=new Li,v=new AbortController,x=setTimeout(()=>{v.abort(),On(m,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:v.signal}).then(M=>{clearTimeout(x),M.ok?On(m,"TestPingServer: ok",!0,f):On(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(x),On(m,"TestPingServer: error",!1,f)})}function On(c,f,m,v,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),v(m)}catch{}}function pl(){this.g=new up}function Ip(c,f,m){let v=m||"";try{qa(c,function(x,M){let V=x;d(x)&&(V=Oa(x)),f.push(v+M+"="+encodeURIComponent(V))})}catch(x){throw f.push(v+"type="+encodeURIComponent("_badmap")),x}}function Lt(c){this.l=c.Ub||null,this.j=c.eb||!1}N(Lt,gn),Lt.prototype.g=function(){return new Ws(this.l,this.j)},Lt.prototype.i=function(c){return function(){return c}}({});function Ws(c,f){Ye.call(this),this.D=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Ws,Ye),t=Ws.prototype,t.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=f,this.readyState=1,$i(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(f.body=c),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yn(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$i(this)),this.g&&(this.readyState=3,$i(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ga(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ga(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?yn(this):$i(this),this.readyState==3&&Ga(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,yn(this))},t.Qa=function(c){this.g&&(this.response=c,yn(this))},t.ga=function(){this.g&&yn(this)};function yn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,$i(c)}t.setRequestHeader=function(c,f){this.u.append(c,f)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,c.push(m[0]+": "+m[1]),m=f.next();return c.join(`\r
`)};function $i(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ws.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function gl(c){let f="";return Y(c,function(m,v){f+=v,f+=":",f+=m,f+=`\r
`}),f}function Wa(c,f,m){e:{for(v in m){var v=!1;break e}v=!0}v||(m=gl(m),typeof c=="string"?m!=null&&encodeURIComponent(String(m)):Pe(c,f,m))}function Oe(c){Ye.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Oe,Ye);var Xr=/^https?$/i,Ep=["POST","PUT"];t=Oe.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,f,m,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Va.g(),this.v=this.o?qu(this.o):qu(Va),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(M){ml(this,M);return}if(c=m||"",m=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var x in v)m.set(x,v[x]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let M of v.keys())m.set(M,v.get(M));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(m.keys()).find(M=>M.toLowerCase()=="content-type"),x=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Ep,f,void 0))||v||x||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[M,V]of m)this.g.setRequestHeader(M,V);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wl(this),this.u=!0,this.g.send(c),this.u=!1}catch(M){ml(this,M)}};function ml(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.m=5,yl(c),Ks(c)}function yl(c){c.A||(c.A=!0,dt(c,"complete"),dt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,dt(this,"complete"),dt(this,"abort"),Ks(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ks(this,!0)),Oe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?vl(this):this.bb())},t.bb=function(){vl(this)};function vl(c){if(c.h&&typeof o<"u"&&(!c.v[1]||vn(c)!=4||c.Z()!=2)){if(c.u&&vn(c)==4)yt(c.Ea,0,c);else if(dt(c,"readystatechange"),vn(c)==4){c.h=!1;try{let V=c.Z();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var v;if(v=V===0){var x=String(c.D).match(al)[1]||null;!x&&a.self&&a.self.location&&(x=a.self.location.protocol.slice(0,-1)),v=!Xr.test(x?x.toLowerCase():"")}m=v}if(m)dt(c,"complete"),dt(c,"success");else{c.m=6;try{var M=2<vn(c)?c.g.statusText:""}catch{M=""}c.l=M+" ["+c.Z()+"]",yl(c)}}finally{Ks(c)}}}}function Ks(c,f){if(c.g){wl(c);let m=c.g,v=c.v[0]?()=>{}:null;c.g=null,c.v=null,f||dt(c,"ready");try{m.onreadystatechange=v}catch{}}}function wl(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function vn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),cp(f)}};function _l(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function bp(c){let f={};c=(c.g&&2<=vn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<c.length;v++){if(G(c[v]))continue;var m=A(c[v]);let x=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();let M=f[x]||[];f[x]=M,M.push(m)}C(f,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hi(c,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[c]||f}function qi(c){this.Aa=0,this.i=[],this.j=new Li,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hi("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hi("baseRetryDelayMs",5e3,c),this.cb=Hi("retryDelaySeedMs",1e4,c),this.Wa=Hi("forwardChannelMaxRetries",2,c),this.wa=Hi("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new tl(c&&c.concurrentRequestLimit),this.Da=new pl,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=qi.prototype,t.la=8,t.G=1,t.connect=function(c,f,m,v){it(0),this.W=c,this.H=f||{},m&&v!==void 0&&(this.H.OSID=m,this.H.OAID=v),this.F=this.X,this.I=Xa(this,null,this.W),Zs(this)};function Qs(c){if(Il(c),c.G==3){var f=c.U++,m=nn(c.I);if(Pe(m,"SID",c.K),Pe(m,"RID",f),Pe(m,"TYPE","terminate"),dr(c,m),f=new tn(c,c.j,f),f.L=2,f.v=Gs(nn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=ec(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Fi(f)}Ja(c)}function Ys(c){c.g&&(ei(c),c.g.cancel(),c.g=null)}function Il(c){Ys(c),c.u&&(a.clearTimeout(c.u),c.u=null),Gi(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Zs(c){if(!nl(c.h)&&!c.s){c.s=!0;var f=c.Ga;Ur||$t(),lr||(Ur(),lr=!0),jr.add(f,c),c.B=0}}function El(c,f){return rl(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=f.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Oi(_(c.Ga,c,f),Za(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let x=new tn(this,this.j,c),M=this.o;if(this.S&&(M?(M=I(M),S(M,this.S)):M=this.S),this.m!==null||this.O||(x.H=M,M=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var v=this.i[m];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(f+=v,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=Ka(this,x,f),m=nn(this.I),Pe(m,"RID",c),Pe(m,"CVER",22),this.D&&Pe(m,"X-HTTP-Session-Id",this.D),dr(this,m),M&&(this.O?f="headers="+encodeURIComponent(String(gl(M)))+"&"+f:this.m&&Wa(m,this.m,M)),Ha(this.h,x),this.Ua&&Pe(m,"TYPE","init"),this.P?(Pe(m,"$req",f),Pe(m,"SID","null"),x.T=!0,ke(x,m,null)):ke(x,m,f),this.G=2}}else this.G==3&&(c?bl(this,c):this.i.length==0||nl(this.h)||bl(this))};function bl(c,f){var m;f?m=f.l:m=c.U++;let v=nn(c.I);Pe(v,"SID",c.K),Pe(v,"RID",m),Pe(v,"AID",c.T),dr(c,v),c.m&&c.o&&Wa(v,c.m,c.o),m=new tn(c,c.j,m,c.B+1),c.m===null&&(m.H=c.o),f&&(c.i=f.D.concat(c.i)),f=Ka(c,m,1e3),m.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ha(c.h,m),ke(m,v,f)}function dr(c,f){c.H&&Y(c.H,function(m,v){Pe(f,v,m)}),c.l&&qa({},function(m,v){Pe(f,v,m)})}function Ka(c,f,m){m=Math.min(c.i.length,m);var v=c.l?_(c.l.Na,c.l,c):null;e:{var x=c.i;let M=-1;for(;;){let V=["count="+m];M==-1?0<m?(M=x[0].g,V.push("ofs="+M)):M=0:V.push("ofs="+M);let Ce=!0;for(let st=0;st<m;st++){let ye=x[st].g,ht=x[st].map;if(ye-=M,0>ye)M=Math.max(0,x[st].g-100),Ce=!1;else try{Ip(ht,V,"req"+ye+"_")}catch{v&&v(ht)}}if(Ce){v=V.join("&");break e}}}return c=c.i.splice(0,m),f.D=c,v}function Qa(c){if(!c.g&&!c.u){c.Y=1;var f=c.Fa;Ur||$t(),lr||(Ur(),lr=!0),jr.add(f,c),c.v=0}}function zi(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Oi(_(c.Fa,c),Za(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Tl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Oi(_(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),Ys(this),Tl(this))};function ei(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Tl(c){c.g=new tn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var f=nn(c.qa);Pe(f,"RID","rpc"),Pe(f,"SID",c.K),Pe(f,"AID",c.T),Pe(f,"CI",c.F?"0":"1"),!c.F&&c.ja&&Pe(f,"TO",c.ja),Pe(f,"TYPE","xmlhttp"),dr(c,f),c.m&&c.o&&Wa(f,c.m,c.o),c.L&&(c.g.I=c.L);var m=c.g;c=c.ia,m.L=1,m.v=Gs(nn(f)),m.m=null,m.P=!0,Zu(m,c)}t.Za=function(){this.C!=null&&(this.C=null,Ys(this),zi(this),it(19))};function Gi(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Ya(c,f){var m=null;if(c.g==f){Gi(c),ei(c),c.g=null;var v=2}else if($a(c.h,f))m=f.D,il(c.h,f),v=1;else return;if(c.G!=0){if(f.o)if(v==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var x=c.B;v=$s(),dt(v,new Qu(v,m)),Zs(c)}else Qa(c);else if(x=f.s,x==3||x==0&&0<f.X||!(v==1&&El(c,f)||v==2&&zi(c)))switch(m&&0<m.length&&(f=c.h,f.i=f.i.concat(m)),x){case 1:Ln(c,5);break;case 4:Ln(c,10);break;case 3:Ln(c,6);break;default:Ln(c,2)}}}function Za(c,f){let m=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(m*=2),m*f}function Ln(c,f){if(c.j.info("Error code "+f),f==2){var m=_(c.fb,c),v=c.Xa;let x=!v;v=new Ot(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||zs(v,"https"),Gs(v),x?Jr(v.toString(),m):_p(v.toString(),m)}else it(2);c.G=0,c.l&&c.l.sa(f),Ja(c),Il(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function Ja(c){if(c.G=0,c.ka=[],c.l){let f=sl(c.h);(f.length!=0||c.i.length!=0)&&(k(c.ka,f),k(c.ka,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.ra()}}function Xa(c,f,m){var v=m instanceof Ot?nn(m):new Ot(m);if(v.g!="")f&&(v.g=f+"."+v.g),Qr(v,v.s);else{var x=a.location;v=x.protocol,f=f?f+"."+x.hostname:x.hostname,x=+x.port;var M=new Ot(null);v&&zs(M,v),f&&(M.g=f),x&&Qr(M,x),m&&(M.l=m),v=M}return m=c.D,f=c.ya,m&&f&&Pe(v,m,f),Pe(v,"VER",c.la),dr(c,v),v}function ec(c,f,m){if(f&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Ca&&!c.pa?new Oe(new Lt({eb:m})):new Oe(c.pa),f.Ha(c.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function tc(){}t=tc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Wi(){}Wi.prototype.g=function(c,f){return new Ze(c,f)};function Ze(c,f){Ye.call(this),this.g=new qi(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(c?c["X-WebChannel-Client-Profile"]=f.va:c={"X-WebChannel-Client-Profile":f.va}),this.g.S=c,(c=f&&f.Sb)&&!G(c)&&(this.g.m=c),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!G(f)&&(this.g.D=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new ti(this)}N(Ze,Ye),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){Qs(this.g)},Ze.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var m={};m.__data__=c,c=m}else this.u&&(m={},m.__data__=Oa(c),c=m);f.i.push(new el(f.Ya++,c)),f.G==3&&Zs(f)},Ze.prototype.N=function(){this.g.l=null,delete this.j,Qs(this.g),delete this.g,Ze.aa.N.call(this)};function Dl(c){La.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(let m in f){c=m;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}N(Dl,La);function Cl(){Fa.call(this),this.status=1}N(Cl,Fa);function ti(c){this.g=c}N(ti,tc),ti.prototype.ua=function(){dt(this.g,"a")},ti.prototype.ta=function(c){dt(this.g,new Dl(c))},ti.prototype.sa=function(c){dt(this.g,new Cl)},ti.prototype.ra=function(){dt(this.g,"b")},Wi.prototype.createWebChannel=Wi.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,iw=Mr.createWebChannelTransport=function(){return new Wi},rw=Mr.getStatEventTarget=function(){return $s()},nw=Mr.Event=mn,lf=Mr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hs.NO_ERROR=0,Hs.TIMEOUT=8,Hs.HTTP_ERROR=6,du=Mr.ErrorCode=Hs,Yu.COMPLETE="complete",tw=Mr.EventType=Yu,zu.EventType=Mi,Mi.OPEN="a",Mi.CLOSE="b",Mi.ERROR="c",Mi.MESSAGE="d",Ye.prototype.listen=Ye.prototype.K,ra=Mr.WebChannel=zu,oB=Mr.FetchXmlHttpFactory=Lt,Oe.prototype.listenOnce=Oe.prototype.L,Oe.prototype.getLastError=Oe.prototype.Ka,Oe.prototype.getLastErrorCode=Oe.prototype.Ba,Oe.prototype.getStatus=Oe.prototype.Z,Oe.prototype.getResponseJson=Oe.prototype.Oa,Oe.prototype.getResponseText=Oe.prototype.oa,Oe.prototype.send=Oe.prototype.ea,Oe.prototype.setWithCredentials=Oe.prototype.Ha,ew=Mr.XhrIo=Oe}).apply(typeof uf<"u"?uf:typeof self<"u"?self:typeof window<"u"?window:{});var dS="@firebase/firestore";var gt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};gt.UNAUTHENTICATED=new gt(null),gt.GOOGLE_CREDENTIALS=new gt("google-credentials-uid"),gt.FIRST_PARTY=new gt("first-party-uid"),gt.MOCK_USER=new gt("mock-user");var Ta="10.14.0";var Rs=new Ii("@firebase/firestore");function hu(){return Rs.logLevel}function z(t,...e){if(Rs.logLevel<=ge.DEBUG){let n=e.map(B_);Rs.debug(`Firestore (${Ta}): ${t}`,...n)}}function kr(t,...e){if(Rs.logLevel<=ge.ERROR){let n=e.map(B_);Rs.error(`Firestore (${Ta}): ${t}`,...n)}}function la(t,...e){if(Rs.logLevel<=ge.WARN){let n=e.map(B_);Rs.warn(`Firestore (${Ta}): ${t}`,...n)}}function B_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function te(t="Unexpected state"){let e=`FIRESTORE (${Ta}) INTERNAL ASSERTION FAILED: `+t;throw kr(e),new Error(e)}function Ne(t,e){t||te()}function ie(t,e){return t}var L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends Mt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Cn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var gf=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},uw=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gt.UNAUTHENTICATED))}shutdown(){}},lw=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},dw=class{constructor(e){this.t=e,this.currentUser=gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ne(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new Cn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Cn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>T(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Cn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne(typeof r.accessToken=="string"),new gf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ne(e===null||typeof e=="string"),new gt(e)}},hw=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=gt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},fw=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new hw(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},pw=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},gw=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ne(this.o===void 0);let r=s=>{s.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ne(typeof n.token=="string"),this.R=n.token,new pw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function aB(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var mf=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=aB(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function De(t,e){return t<e?-1:t>e?1:0}function da(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var vt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var oe=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new vt(0,0))}static max(){return new t(new vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var yf=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&te(),r===void 0?r=e.length-n:r>e.length-n&&te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Be=class t extends yf{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new H(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},cB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,en=class t extends yf{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return cB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new H(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new H(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var Q=class t{constructor(e){this.path=e}static fromPath(e){return new t(Be.fromString(e))}static fromName(e){return new t(Be.fromString(e).popFirst(5))}static empty(){return new t(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Be(e.slice()))}};var mw=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};mw.UNKNOWN_ID=-1;function uB(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=oe.fromTimestamp(r===1e9?new vt(n+1,0):new vt(n,r));return new xs(i,Q.empty(),e)}function lB(t){return new xs(t.readTime,t.key,-1)}var xs=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(oe.min(),Q.empty(),-1)}static max(){return new t(oe.max(),Q.empty(),-1)}};function dB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:De(t.largestBatchId,e.largestBatchId))}var hB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",yw=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function xu(t){return T(this,null,function*(){if(t.code!==L.FAILED_PRECONDITION||t.message!==hB)throw t;z("LocalStore","Unexpectedly lost primary lease")})}var F=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let d=u;n(e[d]).next(p=>{o[d]=p,++a,a===s&&r(o)},p=>i(p))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function fB(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Nu(t){return t.name==="IndexedDbTransactionError"}var zS=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Qf(t){return t==null}function vu(t){return t===0&&1/t==-1/0}function pB(t){return typeof t=="number"&&Number.isInteger(t)&&!vu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var gB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],_K=[...gB,"documentOverlays"],mB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],yB=mB,vB=[...yB,"indexConfiguration","indexState","indexEntries"];var IK=[...vB,"globals"];function hS(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fs(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function GS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var qe=class t{constructor(e,n){this.comparator=e,this.root=n||rr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new aa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new aa(this.root,e,this.comparator,!1)}getReverseIterator(){return new aa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new aa(this.root,e,this.comparator,!0)}},aa=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},rr=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw te();let e=this.left.check();if(e!==this.right.check())throw te();return e+(this.isRed()?0:1)}};rr.EMPTY=null,rr.RED=!0,rr.BLACK=!1;rr.EMPTY=new class{constructor(){this.size=0}get key(){throw te()}get value(){throw te()}get color(){throw te()}get left(){throw te()}get right(){throw te()}copy(e,n,r,i,s){return this}insert(e,n,r){return new rr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Dt=class t{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vf(this.data.getIterator())}getIteratorFrom(e){return new vf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},vf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var dn=class t{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new t([])}unionWith(e){let n=new Dt(en.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return da(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var wf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ct=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new wf("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ct.EMPTY_BYTE_STRING=new Ct("");var wB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(t){if(Ne(!!t),typeof t=="string"){let e=0,n=wB.exec(t);if(Ne(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fe(t.seconds),nanos:Fe(t.nanos)}}function Fe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xi(t){return typeof t=="string"?Ct.fromBase64String(t):Ct.fromUint8Array(t)}function $_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function H_(t){let e=t.mapValue.fields.__previous_value__;return $_(e)?H_(e):e}function wu(t){let e=Or(t.mapValue.fields.__local_write_time__.timestampValue);return new vt(e.seconds,e.nanos)}var vw=class{constructor(e,n,r,i,s,o,a,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=d}},_f=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var df={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ns(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$_(t)?4:KS(t)?9007199254740991:WS(t)?10:11:te()}function or(t,e){if(t===e)return!0;let n=Ns(t);if(n!==Ns(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wu(t).isEqual(wu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Or(i.timestampValue),a=Or(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return xi(i.bytesValue).isEqual(xi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Fe(i.geoPointValue.latitude)===Fe(s.geoPointValue.latitude)&&Fe(i.geoPointValue.longitude)===Fe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Fe(i.integerValue)===Fe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Fe(i.doubleValue),a=Fe(s.doubleValue);return o===a?vu(o)===vu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return da(t.arrayValue.values||[],e.arrayValue.values||[],or);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(hS(o)!==hS(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!or(o[u],a[u])))return!1;return!0}(t,e);default:return te()}}function _u(t,e){return(t.values||[]).find(n=>or(n,e))!==void 0}function ha(t,e){if(t===e)return 0;let n=Ns(t),r=Ns(e);if(n!==r)return De(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return De(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Fe(s.integerValue||s.doubleValue),u=Fe(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return fS(t.timestampValue,e.timestampValue);case 4:return fS(wu(t),wu(e));case 5:return De(t.stringValue,e.stringValue);case 6:return function(s,o){let a=xi(s),u=xi(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let d=0;d<a.length&&d<u.length;d++){let p=De(a[d],u[d]);if(p!==0)return p}return De(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=De(Fe(s.latitude),Fe(o.latitude));return a!==0?a:De(Fe(s.longitude),Fe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return pS(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,d,p;let g=s.fields||{},_=o.fields||{},E=(a=g.value)===null||a===void 0?void 0:a.arrayValue,N=(u=_.value)===null||u===void 0?void 0:u.arrayValue,O=De(((d=E?.values)===null||d===void 0?void 0:d.length)||0,((p=N?.values)===null||p===void 0?void 0:p.length)||0);return O!==0?O:pS(E,N)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===df.mapValue&&o===df.mapValue)return 0;if(s===df.mapValue)return 1;if(o===df.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),d=o.fields||{},p=Object.keys(d);u.sort(),p.sort();for(let g=0;g<u.length&&g<p.length;++g){let _=De(u[g],p[g]);if(_!==0)return _;let E=ha(a[u[g]],d[p[g]]);if(E!==0)return E}return De(u.length,p.length)}(t.mapValue,e.mapValue);default:throw te()}}function fS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return De(t,e);let n=Or(t),r=Or(e),i=De(n.seconds,r.seconds);return i!==0?i:De(n.nanos,r.nanos)}function pS(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=ha(n[i],r[i]);if(s)return s}return De(n.length,r.length)}function fa(t){return ww(t)}function ww(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Or(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return xi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=ww(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${ww(n.fields[o])}`;return i+"}"}(t.mapValue):te()}function gS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function _w(t){return!!t&&"integerValue"in t}function q_(t){return!!t&&"arrayValue"in t}function mS(t){return!!t&&"nullValue"in t}function yS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ff(t){return!!t&&"mapValue"in t}function WS(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function pu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Fs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=pu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function KS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Xt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ff(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pu(n)}setAll(e){let n=en.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=pu(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());ff(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return or(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ff(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Fs(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(pu(this.value))}};function QS(t){let e=[];return Fs(t.fields,(n,r)=>{let i=new en([n]);if(ff(r)){let s=QS(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new dn(e)}var Sn=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,oe.min(),oe.min(),oe.min(),Xt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,oe.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,oe.min(),oe.min(),Xt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,oe.min(),oe.min(),Xt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var pa=class{constructor(e,n){this.position=e,this.inclusive=n}};function vS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Q.comparator(Q.fromName(o.referenceValue),n.key):r=ha(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function wS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!or(t.position[n],e.position[n]))return!1;return!0}var ga=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function _B(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var If=class{},rt=class t extends If{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Ew(e,n,r):n==="array-contains"?new Dw(e,r):n==="in"?new Cw(e,r):n==="not-in"?new Sw(e,r):n==="array-contains-any"?new Aw(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new bw(e,r):new Tw(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ha(n,this.value)):n!==null&&Ns(this.value)===Ns(n)&&this.matchesComparison(ha(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},An=class t extends If{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return YS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function YS(t){return t.op==="and"}function ZS(t){return IB(t)&&YS(t)}function IB(t){for(let e of t.filters)if(e instanceof An)return!1;return!0}function Iw(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+fa(t.value);if(ZS(t))return t.filters.map(e=>Iw(e)).join(",");{let e=t.filters.map(n=>Iw(n)).join(",");return`${t.op}(${e})`}}function JS(t,e){return t instanceof rt?function(r,i){return i instanceof rt&&r.op===i.op&&r.field.isEqual(i.field)&&or(r.value,i.value)}(t,e):t instanceof An?function(r,i){return i instanceof An&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&JS(o,i.filters[a]),!0):!1}(t,e):void te()}function XS(t){return t instanceof rt?function(n){return`${n.field.canonicalString()} ${n.op} ${fa(n.value)}`}(t):t instanceof An?function(n){return n.op.toString()+" {"+n.getFilters().map(XS).join(" ,")+"}"}(t):"Filter"}var Ew=class extends rt{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){let n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}},bw=class extends rt{constructor(e,n){super(e,"in",n),this.keys=eA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Tw=class extends rt{constructor(e,n){super(e,"not-in",n),this.keys=eA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function eA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}var Dw=class extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return q_(n)&&_u(n.arrayValue,this.value)}},Cw=class extends rt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&_u(this.value.arrayValue,n)}},Sw=class extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(_u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!_u(this.value.arrayValue,n)}},Aw=class extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!q_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>_u(this.value.arrayValue,r))}};var Rw=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function _S(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Rw(t,e,n,r,i,s,o)}function z_(t){let e=ie(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Iw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Qf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fa(r)).join(",")),e.ue=n}return e.ue}function G_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_B(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!JS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!wS(t.startAt,e.startAt)&&wS(t.endAt,e.endAt)}function xw(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ps=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function EB(t,e,n,r,i,s,o,a){return new Ps(t,e,n,r,i,s,o,a)}function W_(t){return new Ps(t)}function IS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function tA(t){return t.collectionGroup!==null}function gu(t){let e=ie(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Dt(en.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new ga(s,r))}),n.has(en.keyField().canonicalString())||e.ce.push(new ga(en.keyField(),r))}return e.ce}function ir(t){let e=ie(t);return e.le||(e.le=bB(e,gu(t))),e.le}function bB(t,e){if(t.limitType==="F")return _S(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new ga(i.field,s)});let n=t.endAt?new pa(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new pa(t.startAt.position,t.startAt.inclusive):null;return _S(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Nw(t,e){let n=t.filters.concat([e]);return new Ps(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Pw(t,e,n){return new Ps(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Yf(t,e){return G_(ir(t),ir(e))&&t.limitType===e.limitType}function nA(t){return`${z_(ir(t))}|lt:${t.limitType}`}function ia(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>XS(i)).join(", ")}]`),Qf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>fa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>fa(i)).join(",")),`Target(${r})`}(ir(t))}; limitType=${t.limitType})`}function Zf(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of gu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let d=vS(o,a,u);return o.inclusive?d<=0:d<0}(r.startAt,gu(r),i)||r.endAt&&!function(o,a,u){let d=vS(o,a,u);return o.inclusive?d>=0:d>0}(r.endAt,gu(r),i))}(t,e)}function TB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function rA(t){return(e,n)=>{let r=!1;for(let i of gu(t)){let s=DB(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function DB(t,e,n){let r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),d=a.data.field(s);return u!==null&&d!==null?ha(u,d):te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return te()}}var Ni=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fs(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return GS(this.inner)}size(){return this.innerSize}};var CB=new qe(Q.comparator);function Lr(){return CB}var iA=new qe(Q.comparator);function fu(...t){let e=iA;for(let n of t)e=e.insert(n.key,n);return e}function sA(t){let e=iA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Cs(){return mu()}function oA(){return mu()}function mu(){return new Ni(t=>t.toString(),(t,e)=>t.isEqual(e))}var SB=new qe(Q.comparator),AB=new Dt(Q.comparator);function me(...t){let e=AB;for(let n of t)e=e.add(n);return e}var RB=new Dt(De);function xB(){return RB}function K_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vu(e)?"-0":e}}function aA(t){return{integerValue:""+t}}function NB(t,e){return pB(e)?aA(e):K_(t,e)}var ma=class{constructor(){this._=void 0}};function PB(t,e,n){return t instanceof ya?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&$_(s)&&(s=H_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ms?uA(t,e):t instanceof ks?lA(t,e):function(i,s){let o=cA(i,s),a=ES(o)+ES(i.Pe);return _w(o)&&_w(i.Pe)?aA(a):K_(i.serializer,a)}(t,e)}function MB(t,e,n){return t instanceof Ms?uA(t,e):t instanceof ks?lA(t,e):n}function cA(t,e){return t instanceof va?function(r){return _w(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var ya=class extends ma{},Ms=class extends ma{constructor(e){super(),this.elements=e}};function uA(t,e){let n=dA(e);for(let r of t.elements)n.some(i=>or(i,r))||n.push(r);return{arrayValue:{values:n}}}var ks=class extends ma{constructor(e){super(),this.elements=e}};function lA(t,e){let n=dA(e);for(let r of t.elements)n=n.filter(i=>!or(i,r));return{arrayValue:{values:n}}}var va=class extends ma{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function ES(t){return Fe(t.integerValue||t.doubleValue)}function dA(t){return q_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function kB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ms&&i instanceof Ms||r instanceof ks&&i instanceof ks?da(r.elements,i.elements,or):r instanceof va&&i instanceof va?or(r.Pe,i.Pe):r instanceof ya&&i instanceof ya}(t.transform,e.transform)}var Mw=class{constructor(e,n){this.version=e,this.transformResults=n}},Ai=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function pf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var wa=class{};function hA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ef(t.key,Ai.none()):new Os(t.key,t.data,Ai.none());{let n=t.data,r=Xt.empty(),i=new Dt(en.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ar(t.key,r,new dn(i.toArray()),Ai.none())}}function OB(t,e,n){t instanceof Os?function(i,s,o){let a=i.value.clone(),u=TS(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ar?function(i,s,o){if(!pf(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=TS(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(fA(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function yu(t,e,n,r){return t instanceof Os?function(s,o,a,u){if(!pf(s.precondition,o))return a;let d=s.value.clone(),p=DS(s.fieldTransforms,u,o);return d.setAll(p),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof ar?function(s,o,a,u){if(!pf(s.precondition,o))return a;let d=DS(s.fieldTransforms,u,o),p=o.data;return p.setAll(fA(s)),p.setAll(d),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,o,a){return pf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function LB(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=cA(r.transform,i||null);s!=null&&(n===null&&(n=Xt.empty()),n.set(r.field,s))}return n||null}function bS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&da(r,i,(s,o)=>kB(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Os=class extends wa{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ar=class extends wa{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function fA(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function TS(t,e,n){let r=new Map;Ne(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,MB(o,a,n[i]))}return r}function DS(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,PB(s,o,e))}return r}var Ef=class extends wa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},kw=class extends wa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Ow=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&OB(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=yu(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=yu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=oA();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=hA(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&da(this.mutations,e.mutations,(n,r)=>bS(n,r))&&da(this.baseMutations,e.baseMutations,(n,r)=>bS(n,r))}},Lw=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ne(e.mutations.length===r.length);let i=function(){return SB}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Fw=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Vw=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var tt,_e;function FB(t){switch(t){default:return te();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function pA(t){if(t===void 0)return kr("GRPC error has no .code"),L.UNKNOWN;switch(t){case tt.OK:return L.OK;case tt.CANCELLED:return L.CANCELLED;case tt.UNKNOWN:return L.UNKNOWN;case tt.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case tt.INTERNAL:return L.INTERNAL;case tt.UNAVAILABLE:return L.UNAVAILABLE;case tt.UNAUTHENTICATED:return L.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case tt.NOT_FOUND:return L.NOT_FOUND;case tt.ALREADY_EXISTS:return L.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return L.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case tt.ABORTED:return L.ABORTED;case tt.OUT_OF_RANGE:return L.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return L.UNIMPLEMENTED;case tt.DATA_LOSS:return L.DATA_LOSS;default:return te()}}(_e=tt||(tt={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";var CS=null;function VB(){return new TextEncoder}var UB=new Si([4294967295,4294967295],0);function SS(t){let e=VB().encode(t),n=new Xv;return n.update(e),new Uint8Array(n.digest())}function AS(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Si([n,r],0),new Si([i,s],0)]}var Uw=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ss(`Invalid padding: ${n}`);if(r<0)throw new Ss(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ss(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ss(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Si.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Si.fromNumber(r)));return i.compare(UB)===1&&(i=new Si([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=SS(e),[r,i]=AS(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=SS(e),[r,i]=AS(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Ss=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var bf=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Iu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(oe.min(),i,new qe(De),Lr(),me())}},Iu=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,me(),me(),me())}};var ca=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Tf=class{constructor(e,n){this.targetId=e,this.me=n}},Df=class{constructor(e,n,r=Ct.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Cf=class{constructor(){this.fe=0,this.ge=xS(),this.pe=Ct.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=me(),n=me(),r=me();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:te()}}),new Iu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=xS()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ne(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},jw=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Lr(),this.qe=RS(),this.Qe=new qe(De)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(xw(s))if(r===0){let o=new Q(s.path);this.Ue(n,o,Sn.newNoDocument(o,oe.min()))}else Ne(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);let d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}CS?.et(function(p,g,_,E,N){var O,k,U,G,q,W;let Te={localCacheCount:p,existenceFilterCount:g.count,databaseId:_.database,projectId:_.projectId},Y=g.unchangedNames;return Y&&(Te.bloomFilter={applied:N===0,hashCount:(O=Y?.hashCount)!==null&&O!==void 0?O:0,bitmapLength:(G=(U=(k=Y?.bits)===null||k===void 0?void 0:k.bitmap)===null||U===void 0?void 0:U.length)!==null&&G!==void 0?G:0,padding:(W=(q=Y?.bits)===null||q===void 0?void 0:q.padding)!==null&&W!==void 0?W:0,mightContain:C=>{var I;return(I=E?.mightContain(C))!==null&&I!==void 0&&I}}),Te}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=xi(r).toUint8Array()}catch(u){if(u instanceof wf)return la("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Uw(o,i,s)}catch(u){return la(u instanceof Ss?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&xw(a.target)){let u=new Q(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Sn.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=me();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let d=this.Je(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new bf(e,n,this.Qe,this.ke,r);return this.ke=Lr(),this.qe=RS(),this.Qe=new qe(De),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Cf,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Dt(De),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||z("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Cf),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function RS(){return new qe(Q.comparator)}function xS(){return new qe(Q.comparator)}var jB={asc:"ASCENDING",desc:"DESCENDING"},BB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$B={and:"AND",or:"OR"},Bw=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function $w(t,e){return t.useProto3Json||Qf(e)?e:{value:e}}function Sf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function HB(t,e){return Sf(t,e.toTimestamp())}function sr(t){return Ne(!!t),oe.fromTimestamp(function(n){let r=Or(n);return new vt(r.seconds,r.nanos)}(t))}function Q_(t,e){return Hw(t,e).canonicalString()}function Hw(t,e){let n=function(i){return new Be(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function mA(t){let e=Be.fromString(t);return Ne(IA(e)),e}function qw(t,e){return Q_(t.databaseId,e.path)}function sw(t,e){let n=mA(e);if(n.get(1)!==t.databaseId.projectId)throw new H(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(vA(n))}function yA(t,e){return Q_(t.databaseId,e)}function qB(t){let e=mA(t);return e.length===4?Be.emptyPath():vA(e)}function zw(t){return new Be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vA(t){return Ne(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function NS(t,e,n){return{name:qw(t,e),fields:n.value.mapValue.fields}}function zB(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:te()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,p){return d.useProto3Json?(Ne(p===void 0||typeof p=="string"),Ct.fromBase64String(p||"")):(Ne(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Ct.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){let p=d.code===void 0?L.UNKNOWN:pA(d.code);return new H(p,d.message||"")}(o);n=new Df(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=sw(t,r.document.name),s=sr(r.document.updateTime),o=r.document.createTime?sr(r.document.createTime):oe.min(),a=new Xt({mapValue:{fields:r.document.fields}}),u=Sn.newFoundDocument(i,s,o,a),d=r.targetIds||[],p=r.removedTargetIds||[];n=new ca(d,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=sw(t,r.document),s=r.readTime?sr(r.readTime):oe.min(),o=Sn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ca([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=sw(t,r.document),s=r.removedTargetIds||[];n=new ca([],s,i,null)}else{if(!("filter"in e))return te();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new Vw(i,s),a=r.targetId;n=new Tf(a,o)}}return n}function GB(t,e){let n;if(e instanceof Os)n={update:NS(t,e.key,e.value)};else if(e instanceof Ef)n={delete:qw(t,e.key)};else if(e instanceof ar)n={update:NS(t,e.key,e.data),updateMask:t$(e.fieldMask)};else{if(!(e instanceof kw))return te();n={verify:qw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof ya)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ms)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ks)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof va)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw te()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:HB(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:te()}(t,e.precondition)),n}function WB(t,e){return t&&t.length>0?(Ne(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?sr(i.updateTime):sr(s);return o.isEqual(oe.min())&&(o=sr(s)),new Mw(o,i.transformResults||[])}(n,e))):[]}function KB(t,e){return{documents:[yA(t,e.path)]}}function QB(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=yA(t,i);let s=function(d){if(d.length!==0)return _A(An.create(d,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(d){if(d.length!==0)return d.map(p=>function(_){return{field:sa(_.field),direction:JB(_.dir)}}(p))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=$w(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:i}}function YB(t){let e=qB(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ne(r===1);let p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(g){let _=wA(g);return _ instanceof An&&ZS(_)?_.getFilters():[_]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(_=>function(N){return new ga(oa(N.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(_))}(n.orderBy));let a=null;n.limit&&(a=function(g){let _;return _=typeof g=="object"?g.value:g,Qf(_)?null:_}(n.limit));let u=null;n.startAt&&(u=function(g){let _=!!g.before,E=g.values||[];return new pa(E,_)}(n.startAt));let d=null;return n.endAt&&(d=function(g){let _=!g.before,E=g.values||[];return new pa(E,_)}(n.endAt)),EB(e,i,o,s,a,"F",u,d)}function ZB(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=oa(n.unaryFilter.field);return rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=oa(n.unaryFilter.field);return rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=oa(n.unaryFilter.field);return rt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=oa(n.unaryFilter.field);return rt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return te()}}(t):t.fieldFilter!==void 0?function(n){return rt.create(oa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return te()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return An.create(n.compositeFilter.filters.map(r=>wA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return te()}}(n.compositeFilter.op))}(t):te()}function JB(t){return jB[t]}function XB(t){return BB[t]}function e$(t){return $B[t]}function sa(t){return{fieldPath:t.canonicalString()}}function oa(t){return en.fromServerFormat(t.fieldPath)}function _A(t){return t instanceof rt?function(n){if(n.op==="=="){if(yS(n.value))return{unaryFilter:{field:sa(n.field),op:"IS_NAN"}};if(mS(n.value))return{unaryFilter:{field:sa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yS(n.value))return{unaryFilter:{field:sa(n.field),op:"IS_NOT_NAN"}};if(mS(n.value))return{unaryFilter:{field:sa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sa(n.field),op:XB(n.op),value:n.value}}}(t):t instanceof An?function(n){let r=n.getFilters().map(i=>_A(i));return r.length===1?r[0]:{compositeFilter:{op:e$(n.op),filters:r}}}(t):te()}function t$(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function IA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Eu=class t{constructor(e,n,r,i,s=oe.min(),o=oe.min(),a=Ct.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Gw=class{constructor(e){this.ct=e}};function n$(t){let e=YB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Pw(e,e.limit,"L"):e}var Af=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Fe(e.integerValue));else if("doubleValue"in e){let r=Fe(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),vu(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Or(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(xi(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?KS(e)?this.dt(n,Number.MAX_SAFE_INTEGER):WS(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):te()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Fe(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),Q.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Af.vt=new Af;var Ww=class{constructor(){this.un=new Kw}addToCollectionParentIndex(e,n){return this.un.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(xs.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(xs.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}},Kw=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Dt(Be.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dt(Be.comparator)).toArray()}};var bK=new Uint8Array(0);var nr=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};nr.DEFAULT_COLLECTION_PERCENTILE=10,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nr.DEFAULT=new nr(41943040,nr.DEFAULT_COLLECTION_PERCENTILE,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nr.DISABLED=new nr(-1,0,0);var bu=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Qw=class{constructor(){this.changes=new Ni(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Yw=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Zw=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&yu(r.mutation,i,dn.empty(),vt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=me()){let i=Cs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=fu();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Cs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,me()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Lr(),o=mu(),a=function(){return mu()}();return n.forEach((u,d)=>{let p=r.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof ar)?s=s.insert(d.key,d):p!==void 0?(o.set(d.key,p.mutation.getFieldMask()),yu(p.mutation,d,p.mutation.getFieldMask(),vt.now())):o.set(d.key,dn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((d,p)=>o.set(d,p)),n.forEach((d,p)=>{var g;return a.set(d,new Yw(p,(g=o.get(d))!==null&&g!==void 0?g:null))}),a))}recalculateAndSaveOverlays(e,n){let r=mu(),i=new qe((o,a)=>o-a),s=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let d=n.get(u);if(d===null)return;let p=r.get(u)||dn.empty();p=a.applyToLocalView(d,p),r.set(u,p);let g=(i.get(a.batchId)||me()).add(u);i=i.insert(a.batchId,g)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),d=u.key,p=u.value,g=oA();p.forEach(_=>{if(!s.has(_)){let E=hA(n.get(_),r.get(_));E!==null&&g.set(_,E),s=s.add(_)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,g))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):tA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):F.resolve(Cs()),a=-1,u=s;return o.next(d=>F.forEach(d,(p,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),s.get(p)?F.resolve():this.remoteDocumentCache.getEntry(e,p).next(_=>{u=u.insert(p,_)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,u,d,me())).next(p=>({batchId:a,changes:sA(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=fu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=fu();return this.indexManager.getCollectionParents(e,s).next(a=>F.forEach(a,u=>{let d=function(g,_){return new Ps(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(p=>{p.forEach((g,_)=>{o=o.insert(g,_)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,d)=>{let p=d.getKey();o.get(p)===null&&(o=o.insert(p,Sn.newInvalidDocument(p)))});let a=fu();return o.forEach((u,d)=>{let p=s.get(u);p!==void 0&&yu(p.mutation,d,dn.empty(),vt.now()),Zf(n,d)&&(a=a.insert(u,d))}),a})}};var Jw=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return F.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:sr(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:n$(i.bundledQuery),readTime:sr(i.readTime)}}(n)),F.resolve()}};var Xw=class{constructor(){this.overlays=new qe(Q.comparator),this.Ir=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Cs();return F.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),F.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){let i=Cs(),s=n.length+1,o=new Q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new qe((d,p)=>d-p),o=this.overlays.getIterator();for(;o.hasNext();){let d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let p=s.get(d.largestBatchId);p===null&&(p=Cs(),s=s.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}let a=Cs(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,p)=>a.set(d,p)),!(a.size()>=i)););return F.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Fw(n,r));let s=this.Ir.get(n);s===void 0&&(s=me(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var e_=class{constructor(){this.sessionToken=Ct.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}};var Tu=class{constructor(){this.Tr=new Dt(nt.Er),this.dr=new Dt(nt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new nt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new nt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new Q(new Be([])),r=new nt(n,e),i=new nt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new Q(new Be([])),r=new nt(n,e),i=new nt(n,e+1),s=me();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new nt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},nt=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Q.comparator(e.key,n.key)||De(e.wr,n.wr)}static Ar(e,n){return De(e.wr,n.wr)||Q.comparator(e.key,n.key)}};var t_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Dt(nt.Er)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Ow(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new nt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return F.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new nt(n,0),i=new nt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),F.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Dt(De);return n.forEach(i=>{let s=new nt(i,0),o=new nt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),F.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;Q.isDocumentKey(s)||(s=s.child(""));let o=new nt(new Q(s),0),a=new Dt(De);return this.br.forEachWhile(u=>{let d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(u.wr)),!0)},o),F.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ne(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return F.forEach(n.mutations,i=>{let s=new nt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new nt(n,0),i=this.br.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var n_=class{constructor(e){this.Mr=e,this.docs=function(){return new qe(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():Sn.newInvalidDocument(n))}getEntries(e,n){let r=Lr();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Sn.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Lr(),o=n.path,a=new Q(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:d,value:{document:p}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||dB(lB(p),r)<=0||(i.has(p.key)||Zf(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return F.resolve(s)}getAllFromCollectionGroup(e,n,r,i){te()}Or(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new r_(this)}getSize(e){return F.resolve(this.size)}},r_=class extends Qw{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var i_=class{constructor(e){this.persistence=e,this.Nr=new Ni(n=>z_(n),G_),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Tu,this.targetCount=0,this.kr=bu.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),F.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new bu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Kn(n),F.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(s).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),F.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),F.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.Br.containsKey(n))}};var s_=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new zS(0),this.Kr=!1,this.Kr=!0,this.$r=new e_,this.referenceDelegate=e(this),this.Ur=new i_(this),this.indexManager=new Ww,this.remoteDocumentCache=function(i){return new n_(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Gw(n),this.Gr=new Jw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Xw,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new t_(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){z("MemoryPersistence","Starting transaction:",e);let i=new o_(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return F.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},o_=class extends yw{constructor(e){super(),this.currentSequenceNumber=e}},a_=class t{constructor(e){this.persistence=e,this.Jr=new Tu,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw te()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),F.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Xr,r=>{let i=Q.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,oe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return F.or([()=>F.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var c_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=me(),i=me();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var u_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var l_=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return GC()?8:fB(pt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new u_;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(hu()<=ge.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",ia(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),F.resolve()):(hu()<=ge.DEBUG&&z("QueryEngine","Query:",ia(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(hu()<=ge.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",ia(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ir(n))):F.resolve())}Yi(e,n){if(IS(n))return F.resolve(null);let r=ir(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Pw(n,null,"F"),r=ir(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=me(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let d=this.ts(n,a);return this.ns(n,d,o,u.readTime)?this.Yi(e,Pw(n,null,"F")):this.rs(e,d,n,u)}))})))}Zi(e,n,r,i){return IS(n)||i.isEqual(oe.min())?F.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?F.resolve(null):(hu()<=ge.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ia(n)),this.rs(e,o,n,uB(i,-1)).next(a=>a))})}ts(e,n){let r=new Dt(rA(e));return n.forEach((i,s)=>{Zf(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return hu()<=ge.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",ia(n)),this.Ji.getDocumentsMatchingQuery(e,n,xs.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var d_=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new qe(De),this._s=new Ni(s=>z_(s),G_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Zw(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function r$(t,e,n,r){return new d_(t,e,n,r)}function EA(t,e){return T(this,null,function*(){let n=ie(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=me();for(let d of i){o.push(d.batchId);for(let p of d.mutations)u=u.add(p.key)}for(let d of s){a.push(d.batchId);for(let p of d.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:a}))})})})}function i$(t,e){let n=ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,d,p){let g=d.batch,_=g.keys(),E=F.resolve();return _.forEach(N=>{E=E.next(()=>p.getEntry(u,N)).next(O=>{let k=d.docVersions.get(N);Ne(k!==null),O.version.compareTo(k)<0&&(g.applyToRemoteDocument(O,d),O.isValidDocument()&&(O.setReadTime(d.commitVersion),p.addEntry(O)))})}),E.next(()=>a.mutationQueue.removeMutationBatch(u,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=me();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(u=u.add(a.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function bA(t){let e=ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function s$(t,e){let n=ie(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((p,g)=>{let _=i.get(g);if(!_)return;a.push(n.Ur.removeMatchingKeys(s,p.removedDocuments,g).next(()=>n.Ur.addMatchingKeys(s,p.addedDocuments,g)));let E=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?E=E.withResumeToken(Ct.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):p.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(p.resumeToken,r)),i=i.insert(g,E),function(O,k,U){return O.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(_,E,p)&&a.push(n.Ur.updateTargetData(s,E))});let u=Lr(),d=me();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),a.push(o$(s,o,e.documentUpdates).next(p=>{u=p.Ps,d=p.Is})),!r.isEqual(oe.min())){let p=n.Ur.getLastRemoteSnapshotVersion(s).next(g=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(p)}return F.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,d)).next(()=>u)}).then(s=>(n.os=i,s))}function o$(t,e,n){let r=me(),i=me();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Lr();return n.forEach((a,u)=>{let d=s.get(a);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(oe.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):z("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function a$(t,e){let n=ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function c$(t,e){let n=ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,F.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Eu(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function h_(t,e,n){return T(this,null,function*(){let r=ie(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Nu(o))throw o;z("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function PS(t,e,n){let r=ie(t),i=oe.min(),s=me();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,p){let g=ie(u),_=g._s.get(p);return _!==void 0?F.resolve(g.os.get(_)):g.Ur.getTargetData(d,p)}(r,o,ir(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:oe.min(),n?s:me())).next(a=>(u$(r,TB(e),a),{documents:a,Ts:s})))}function u$(t,e,n){let r=t.us.get(e)||oe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var Rf=class{constructor(){this.activeTargetIds=xB()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var f_=class{constructor(){this.so=new Rf,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Rf,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var p_=class{_o(e){}shutdown(){}};var xf=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var hf=null;function ow(){return hf===null?hf=function(){return 268435456+Math.round(2147483648*Math.random())}():hf++,"0x"+hf.toString(16)}var l$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var g_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Tt="WebChannelConnection",m_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=ow(),u=this.xo(n,r.toUriEncodedString());z("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,s,o),this.No(n,u,d,i).then(p=>(z("RestConnection",`Received RPC '${n}' ${a}: `,p),p),p=>{throw la("RestConnection",`RPC '${n}' ${a} failed with error: `,p,"url: ",u,"request:",i),p})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ta}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=l$[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=ow();return new Promise((o,a)=>{let u=new ew;u.setWithCredentials(!0),u.listenOnce(tw.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case du.NO_ERROR:let p=u.getResponseJson();z(Tt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),o(p);break;case du.TIMEOUT:z(Tt,`RPC '${e}' ${s} timed out`),a(new H(L.DEADLINE_EXCEEDED,"Request time out"));break;case du.HTTP_ERROR:let g=u.getStatus();if(z(Tt,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);let E=_?.error;if(E&&E.status&&E.message){let N=function(k){let U=k.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(U)>=0?U:L.UNKNOWN}(E.status);a(new H(N,E.message))}else a(new H(L.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new H(L.UNAVAILABLE,"Connection failed."));break;default:te()}}finally{z(Tt,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);z(Tt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",d,r,15)})}Bo(e,n,r){let i=ow(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=iw(),a=rw(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let p=s.join("");z(Tt,`Creating RPC '${e}' stream ${i}: ${p}`,u);let g=o.createWebChannel(p,u),_=!1,E=!1,N=new g_({Io:k=>{E?z(Tt,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(_||(z(Tt,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),z(Tt,`RPC '${e}' stream ${i} sending:`,k),g.send(k))},To:()=>g.close()}),O=(k,U,G)=>{k.listen(U,q=>{try{G(q)}catch(W){setTimeout(()=>{throw W},0)}})};return O(g,ra.EventType.OPEN,()=>{E||(z(Tt,`RPC '${e}' stream ${i} transport opened.`),N.yo())}),O(g,ra.EventType.CLOSE,()=>{E||(E=!0,z(Tt,`RPC '${e}' stream ${i} transport closed`),N.So())}),O(g,ra.EventType.ERROR,k=>{E||(E=!0,la(Tt,`RPC '${e}' stream ${i} transport errored:`,k),N.So(new H(L.UNAVAILABLE,"The operation could not be completed")))}),O(g,ra.EventType.MESSAGE,k=>{var U;if(!E){let G=k.data[0];Ne(!!G);let q=G,W=q.error||((U=q[0])===null||U===void 0?void 0:U.error);if(W){z(Tt,`RPC '${e}' stream ${i} received error:`,W);let Te=W.status,Y=function(b){let S=tt[b];if(S!==void 0)return pA(S)}(Te),C=W.message;Y===void 0&&(Y=L.INTERNAL,C="Unknown error status: "+Te+" with message "+W.message),E=!0,N.So(new H(Y,C)),g.close()}else z(Tt,`RPC '${e}' stream ${i} received:`,G),N.bo(G)}}),O(a,nw.STAT_EVENT,k=>{k.stat===lf.PROXY?z(Tt,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===lf.NOPROXY&&z(Tt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{N.wo()},0),N}};function aw(){return typeof document<"u"?document:null}function Jf(t){return new Bw(t,!0)}var Nf=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Pf=class{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Nf(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return T(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return T(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return T(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(kr(n.toString()),kr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new H(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>T(this,null,function*(){this.state=0,this.start()}))}I_(e){return z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},y_=class extends Pf{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=zB(this.serializer,e),r=function(s){if(!("targetChange"in s))return oe.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?oe.min():o.readTime?sr(o.readTime):oe.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=zw(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=xw(u)?{documents:KB(s,u)}:{query:QB(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=gA(s,o.resumeToken);let d=$w(s,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(oe.min())>0){a.readTime=Sf(s,o.snapshotVersion.toTimestamp());let d=$w(s,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);let r=ZB(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=zw(this.serializer),n.removeTarget=e,this.a_(n)}},v_=class extends Pf{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,Ne(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=WB(e.writeResults,e.commitTime),r=sr(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=zw(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>GB(this.serializer,r))};this.a_(n)}};var w_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new H(L.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Hw(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(L.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Hw(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(L.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},__=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(kr(n),this.D_=!1):z("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var I_=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>T(this,null,function*(){Vs(this)&&(z("RemoteStore","Restarting streams for network reachability change."),yield function(u){return T(this,null,function*(){let d=ie(u);d.L_.add(4),yield Pu(d),d.q_.set("Unknown"),d.L_.delete(4),yield Xf(d)})}(this))}))}),this.q_=new __(r,i)}};function Xf(t){return T(this,null,function*(){if(Vs(t))for(let e of t.B_)yield e(!0)})}function Pu(t){return T(this,null,function*(){for(let e of t.B_)yield e(!1)})}function TA(t,e){let n=ie(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),X_(n)?J_(n):Da(n).r_()&&Z_(n,e))}function Y_(t,e){let n=ie(t),r=Da(n);n.N_.delete(e),r.r_()&&DA(n,e),n.N_.size===0&&(r.r_()?r.o_():Vs(n)&&n.q_.set("Unknown"))}function Z_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Da(t).A_(e)}function DA(t,e){t.Q_.xe(e),Da(t).R_(e)}function J_(t){t.Q_=new jw({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Da(t).start(),t.q_.v_()}function X_(t){return Vs(t)&&!Da(t).n_()&&t.N_.size>0}function Vs(t){return ie(t).L_.size===0}function CA(t){t.Q_=void 0}function d$(t){return T(this,null,function*(){t.q_.set("Online")})}function h$(t){return T(this,null,function*(){t.N_.forEach((e,n)=>{Z_(t,e)})})}function f$(t,e){return T(this,null,function*(){CA(t),X_(t)?(t.q_.M_(e),J_(t)):t.q_.set("Unknown")})}function p$(t,e,n){return T(this,null,function*(){if(t.q_.set("Online"),e instanceof Df&&e.state===2&&e.cause)try{yield function(i,s){return T(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Mf(t,r)}else if(e instanceof ca?t.Q_.Ke(e):e instanceof Tf?t.Q_.He(e):t.Q_.We(e),!n.isEqual(oe.min()))try{let r=yield bA(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){let p=s.N_.get(d);p&&s.N_.set(d,p.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,d)=>{let p=s.N_.get(u);if(!p)return;s.N_.set(u,p.withResumeToken(Ct.EMPTY_BYTE_STRING,p.snapshotVersion)),DA(s,u);let g=new Eu(p.target,u,d,p.sequenceNumber);Z_(s,g)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){z("RemoteStore","Failed to raise snapshot:",r),yield Mf(t,r)}})}function Mf(t,e,n){return T(this,null,function*(){if(!Nu(e))throw e;t.L_.add(1),yield Pu(t),t.q_.set("Offline"),n||(n=()=>bA(t.localStore)),t.asyncQueue.enqueueRetryable(()=>T(this,null,function*(){z("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Xf(t)}))})}function SA(t,e){return e().catch(n=>Mf(t,n,e))}function ep(t){return T(this,null,function*(){let e=ie(t),n=Pi(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;g$(e);)try{let i=yield a$(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,m$(e,i)}catch(i){yield Mf(e,i)}AA(e)&&RA(e)})}function g$(t){return Vs(t)&&t.O_.length<10}function m$(t,e){t.O_.push(e);let n=Pi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function AA(t){return Vs(t)&&!Pi(t).n_()&&t.O_.length>0}function RA(t){Pi(t).start()}function y$(t){return T(this,null,function*(){Pi(t).p_()})}function v$(t){return T(this,null,function*(){let e=Pi(t);for(let n of t.O_)e.m_(n.mutations)})}function w$(t,e,n){return T(this,null,function*(){let r=t.O_.shift(),i=Lw.from(r,e,n);yield SA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield ep(t)})}function _$(t,e){return T(this,null,function*(){e&&Pi(t).V_&&(yield function(r,i){return T(this,null,function*(){if(function(o){return FB(o)&&o!==L.ABORTED}(i.code)){let s=r.O_.shift();Pi(r).s_(),yield SA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield ep(r)}})}(t,e)),AA(t)&&RA(t)})}function MS(t,e){return T(this,null,function*(){let n=ie(t);n.asyncQueue.verifyOperationInProgress(),z("RemoteStore","RemoteStore received new credentials");let r=Vs(n);n.L_.add(3),yield Pu(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Xf(n)})}function I$(t,e){return T(this,null,function*(){let n=ie(t);e?(n.L_.delete(2),yield Xf(n)):e||(n.L_.add(2),yield Pu(n),n.q_.set("Unknown"))})}function Da(t){return t.K_||(t.K_=function(n,r,i){let s=ie(n);return s.w_(),new y_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:d$.bind(null,t),Ro:h$.bind(null,t),mo:f$.bind(null,t),d_:p$.bind(null,t)}),t.B_.push(e=>T(this,null,function*(){e?(t.K_.s_(),X_(t)?J_(t):t.q_.set("Unknown")):(yield t.K_.stop(),CA(t))}))),t.K_}function Pi(t){return t.U_||(t.U_=function(n,r,i){let s=ie(n);return s.w_(),new v_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:y$.bind(null,t),mo:_$.bind(null,t),f_:v$.bind(null,t),g_:w$.bind(null,t)}),t.B_.push(e=>T(this,null,function*(){e?(t.U_.s_(),yield ep(t)):(yield t.U_.stop(),t.O_.length>0&&(z("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var E_=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function eI(t,e){if(kr("AsyncQueue",`${e}: ${t}`),Nu(t))return new H(L.UNAVAILABLE,`${e}: ${t}`);throw t}var kf=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=fu(),this.sortedSet=new qe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Of=class{constructor(){this.W_=new qe(Q.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):te():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},_a=class t{constructor(e,n,r,i,s,o,a,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,kf.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var b_=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},T_=class{constructor(){this.queries=kS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=ie(n),s=i.queries;i.queries=kS(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new H(L.ABORTED,"Firestore shutting down"))}};function kS(){return new Ni(t=>nA(t),Yf)}function xA(t,e){return T(this,null,function*(){let n=ie(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new b_,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=eI(o,`Initialization of query '${ia(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&tI(n)})}function NA(t,e){return T(this,null,function*(){let n=ie(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function E$(t,e){let n=ie(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&tI(n)}function b$(t,e,n){let r=ie(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function tI(t){t.Y_.forEach(e=>{e.next()})}var D_,OS;(OS=D_||(D_={})).ea="default",OS.Cache="cache";var Lf=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new _a(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=_a.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==D_.Cache}};var Ff=class{constructor(e){this.key=e}},Vf=class{constructor(e){this.key=e}},C_=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=me(),this.mutatedKeys=me(),this.Aa=rA(e),this.Ra=new kf(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Of,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,g)=>{let _=i.get(p),E=Zf(this.query,g)?g:null,N=!!_&&this.mutatedKeys.has(_.key),O=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations),k=!1;_&&E?_.data.isEqual(E.data)?N!==O&&(r.track({type:3,doc:E}),k=!0):this.ga(_,E)||(r.track({type:2,doc:E}),k=!0,(u&&this.Aa(E,u)>0||d&&this.Aa(E,d)<0)&&(a=!0)):!_&&E?(r.track({type:0,doc:E}),k=!0):_&&!E&&(r.track({type:1,doc:_}),k=!0,(u||d)&&(a=!0)),k&&(E?(o=o.add(E),s=O?s.add(p):s.delete(p)):(o=o.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((p,g)=>function(E,N){let O=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te()}};return O(E)-O(N)}(p.type,g.type)||this.Aa(p.doc,g.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,d=u!==this.Ea;return this.Ea=u,o.length!==0||d?{snapshot:new _a(this.query,e.Ra,s,o,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Of,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=me(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Vf(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Ff(r))}),n}ba(e){this.Ta=e.Ts,this.da=me();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return _a.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},S_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},A_=class{constructor(e){this.key=e,this.va=!1}},R_=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Ni(a=>nA(a),Yf),this.Ma=new Map,this.xa=new Set,this.Oa=new qe(Q.comparator),this.Na=new Map,this.La=new Tu,this.Ba={},this.ka=new Map,this.qa=bu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function T$(t,e,n=!0){return T(this,null,function*(){let r=FA(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield PA(r,e,n,!0),i})}function D$(t,e){return T(this,null,function*(){let n=FA(t);yield PA(n,e,!0,!1)})}function PA(t,e,n,r){return T(this,null,function*(){let i=yield c$(t.localStore,ir(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),a;return r&&(a=yield C$(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&TA(t.remoteStore,i),a})}function C$(t,e,n,r,i){return T(this,null,function*(){t.Ka=(g,_,E)=>function(O,k,U,G){return T(this,null,function*(){let q=k.view.ma(U);q.ns&&(q=yield PS(O.localStore,k.query,!1).then(({documents:C})=>k.view.ma(C,q)));let W=G&&G.targetChanges.get(k.targetId),Te=G&&G.targetMismatches.get(k.targetId)!=null,Y=k.view.applyChanges(q,O.isPrimaryClient,W,Te);return FS(O,k.targetId,Y.wa),Y.snapshot})}(t,g,_,E);let s=yield PS(t.localStore,e,!0),o=new C_(e,s.Ts),a=o.ma(s.documents),u=Iu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=o.applyChanges(a,t.isPrimaryClient,u);FS(t,n,d.wa);let p=new S_(e,n,o);return t.Fa.set(e,p),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot})}function S$(t,e,n){return T(this,null,function*(){let r=ie(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Yf(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield h_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Y_(r.remoteStore,i.targetId),x_(r,i.targetId)}).catch(xu))):(x_(r,i.targetId),yield h_(r.localStore,i.targetId,!0))})}function A$(t,e){return T(this,null,function*(){let n=ie(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Y_(n.remoteStore,r.targetId))})}function R$(t,e,n){return T(this,null,function*(){let r=L$(t);try{let i=yield function(o,a){let u=ie(o),d=vt.now(),p=a.reduce((E,N)=>E.add(N.key),me()),g,_;return u.persistence.runTransaction("Locally write mutations","readwrite",E=>{let N=Lr(),O=me();return u.cs.getEntries(E,p).next(k=>{N=k,N.forEach((U,G)=>{G.isValidDocument()||(O=O.add(U))})}).next(()=>u.localDocuments.getOverlayedDocuments(E,N)).next(k=>{g=k;let U=[];for(let G of a){let q=LB(G,g.get(G.key).overlayedDocument);q!=null&&U.push(new ar(G.key,q,QS(q.value.mapValue),Ai.exists(!0)))}return u.mutationQueue.addMutationBatch(E,d,U,a)}).next(k=>{_=k;let U=k.applyToLocalDocumentSet(g,O);return u.documentOverlayCache.saveOverlays(E,k.batchId,U)})}).then(()=>({batchId:_.batchId,changes:sA(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let d=o.Ba[o.currentUser.toKey()];d||(d=new qe(De)),d=d.insert(a,u),o.Ba[o.currentUser.toKey()]=d}(r,i.batchId,n),yield Mu(r,i.changes),yield ep(r.remoteStore)}catch(i){let s=eI(i,"Failed to persist write");n.reject(s)}})}function MA(t,e){return T(this,null,function*(){let n=ie(t);try{let r=yield s$(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(Ne(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ne(o.va):i.removedDocuments.size>0&&(Ne(o.va),o.va=!1))}),yield Mu(n,r,e)}catch(r){yield xu(r)}})}function LS(t,e,n){let r=ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=ie(o);u.onlineState=a;let d=!1;u.queries.forEach((p,g)=>{for(let _ of g.j_)_.Z_(a)&&(d=!0)}),d&&tI(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function x$(t,e,n){return T(this,null,function*(){let r=ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new qe(Q.comparator);o=o.insert(s,Sn.newNoDocument(s,oe.min()));let a=me().add(s),u=new bf(oe.min(),new Map,new qe(De),o,a);yield MA(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),nI(r)}else yield h_(r.localStore,e,!1).then(()=>x_(r,e,n)).catch(xu)})}function N$(t,e){return T(this,null,function*(){let n=ie(t),r=e.batch.batchId;try{let i=yield i$(n.localStore,e);OA(n,r,null),kA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Mu(n,i)}catch(i){yield xu(i)}})}function P$(t,e,n){return T(this,null,function*(){let r=ie(t);try{let i=yield function(o,a){let u=ie(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return u.mutationQueue.lookupMutationBatch(d,a).next(g=>(Ne(g!==null),p=g.keys(),u.mutationQueue.removeMutationBatch(d,g))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,p,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>u.localDocuments.getDocuments(d,p))})}(r.localStore,e);OA(r,e,n),kA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Mu(r,i)}catch(i){yield xu(i)}})}function kA(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function OA(t,e,n){let r=ie(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function x_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||LA(t,r)})}function LA(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(Y_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),nI(t))}function FS(t,e,n){for(let r of n)r instanceof Ff?(t.La.addReference(r.key,e),M$(t,r)):r instanceof Vf?(z("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||LA(t,r.key)):te()}function M$(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(z("SyncEngine","New document in limbo: "+n),t.xa.add(r),nI(t))}function nI(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new Q(Be.fromString(e)),r=t.qa.next();t.Na.set(r,new A_(n)),t.Oa=t.Oa.insert(n,r),TA(t.remoteStore,new Eu(ir(W_(n.path)),r,"TargetPurposeLimboResolution",zS.oe))}}function Mu(t,e,n){return T(this,null,function*(){let r=ie(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(d=>{var p;if((d||n)&&r.isPrimaryClient){let g=d?!d.fromCache:(p=n?.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(d){i.push(d);let g=c_.Wi(u.targetId,d);s.push(g)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,d){return T(this,null,function*(){let p=ie(u);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>F.forEach(d,_=>F.forEach(_.$i,E=>p.persistence.referenceDelegate.addReference(g,_.targetId,E)).next(()=>F.forEach(_.Ui,E=>p.persistence.referenceDelegate.removeReference(g,_.targetId,E)))))}catch(g){if(!Nu(g))throw g;z("LocalStore","Failed to update sequence numbers: "+g)}for(let g of d){let _=g.targetId;if(!g.fromCache){let E=p.os.get(_),N=E.snapshotVersion,O=E.withLastLimboFreeSnapshotVersion(N);p.os=p.os.insert(_,O)}}})}(r.localStore,s))})}function k$(t,e){return T(this,null,function*(){let n=ie(t);if(!n.currentUser.isEqual(e)){z("SyncEngine","User change. New user:",e.toKey());let r=yield EA(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new H(L.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Mu(n,r.hs)}})}function O$(t,e){let n=ie(t),r=n.Na.get(e);if(r&&r.va)return me().add(r.key);{let i=me(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function FA(t){let e=ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=MA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=O$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=x$.bind(null,e),e.Ca.d_=E$.bind(null,e.eventManager),e.Ca.$a=b$.bind(null,e.eventManager),e}function L$(t){let e=ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=N$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=P$.bind(null,e),e}var VS=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return T(this,null,function*(){this.serializer=Jf(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return r$(this.persistence,new l_,n.initialUser,this.serializer)}Ga(n){return new s_(a_.Zr,this.serializer)}Wa(n){return new f_}terminate(){return T(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var F$=(()=>{class t{initialize(n,r){return T(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>LS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=k$.bind(null,this.syncEngine),yield I$(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new T_}()}createDatastore(n){let r=Jf(n.databaseInfo.databaseId),i=function(o){return new m_(o)}(n.databaseInfo);return function(o,a,u,d){return new w_(o,a,u,d)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,s,o,a,u){return new I_(i,s,o,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>LS(this.syncEngine,r,0),function(){return xf.D()?new xf:new p_}())}createSyncEngine(n,r){return function(s,o,a,u,d,p,g){let _=new R_(s,o,a,u,d,p);return g&&(_.Qa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return T(this,null,function*(){var n,r;yield function(s){return T(this,null,function*(){let o=ie(s);z("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Pu(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Uf=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):kr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var N_=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=gt.UNAUTHENTICATED,this.clientId=mf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>T(this,null,function*(){z("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(z("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Cn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>T(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=eI(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function cw(t,e){return T(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),z("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>T(this,null,function*(){r.isEqual(i)||(yield EA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function US(t,e){return T(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield V$(t);z("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>MS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>MS(e.remoteStore,i)),t._onlineComponents=e})}function V$(t){return T(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){z("FirestoreClient","Using user provided OfflineComponentProvider");try{yield cw(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===L.FAILED_PRECONDITION||i.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;la("Error using user provided cache. Falling back to memory cache: "+n),yield cw(t,new VS)}}else z("FirestoreClient","Using default OfflineComponentProvider"),yield cw(t,new VS);return t._offlineComponents})}function VA(t){return T(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(z("FirestoreClient","Using user provided OnlineComponentProvider"),yield US(t,t._uninitializedComponentsProvider._online)):(z("FirestoreClient","Using default OnlineComponentProvider"),yield US(t,new F$))),t._onlineComponents})}function U$(t){return VA(t).then(e=>e.syncEngine)}function UA(t){return T(this,null,function*(){let e=yield VA(t),n=e.eventManager;return n.onListen=T$.bind(null,e.syncEngine),n.onUnlisten=S$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=D$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=A$.bind(null,e.syncEngine),n})}function j$(t,e,n={}){let r=new Cn;return t.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return function(s,o,a,u,d){let p=new Uf({next:_=>{p.Za(),o.enqueueAndForget(()=>NA(s,g));let E=_.docs.has(a);!E&&_.fromCache?d.reject(new H(L.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&_.fromCache&&u&&u.source==="server"?d.reject(new H(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(_)},error:_=>d.reject(_)}),g=new Lf(W_(a.path),p,{includeMetadataChanges:!0,_a:!0});return xA(s,g)}(yield UA(t),t.asyncQueue,e,n,r)})),r.promise}function B$(t,e,n={}){let r=new Cn;return t.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return function(s,o,a,u,d){let p=new Uf({next:_=>{p.Za(),o.enqueueAndForget(()=>NA(s,g)),_.fromCache&&u.source==="server"?d.reject(new H(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(_)},error:_=>d.reject(_)}),g=new Lf(a,p,{includeMetadataChanges:!0,_a:!0});return xA(s,g)}(yield UA(t),t.asyncQueue,e,n,r)})),r.promise}function jA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var jS=new Map;function BA(t,e,n){if(!n)throw new H(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $$(t,e,n,r){if(e===!0&&r===!0)throw new H(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function BS(t){if(!Q.isDocumentKey(t))throw new H(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $S(t){if(Q.isDocumentKey(t))throw new H(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":te()}function Fr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=tp(t);throw new H(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var jf=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new H(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new H(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new H(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ia=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jf({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jf(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new uw;switch(r.type){case"firstParty":return new fw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return T(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=jS.get(n);r&&(z("ComponentProvider","Removing Datastore"),jS.delete(n),r.terminate())}(this),Promise.resolve()}};function $A(t,e,n,r={}){var i;let s=(t=Fr(t,Ia))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&la("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=gt.MOCK_USER;else{a=Vh(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new H(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new gt(d)}t._authCredentials=new lw(new gf(a,u))}}var Ea=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},kt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ri(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Ri=class t extends Ea{constructor(e,n,r){super(e,n,W_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new Q(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function HA(t,e,...n){if(t=Le(t),BA("collection","path",e),t instanceof Ia){let r=Be.fromString(e,...n);return $S(r),new Ri(t,null,r)}{if(!(t instanceof kt||t instanceof Ri))throw new H(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Be.fromString(e,...n));return $S(r),new Ri(t.firestore,null,r)}}function qA(t,e,...n){if(t=Le(t),arguments.length===1&&(e=mf.newId()),BA("doc","path",e),t instanceof Ia){let r=Be.fromString(e,...n);return BS(r),new kt(t,null,new Q(r))}{if(!(t instanceof kt||t instanceof Ri))throw new H(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Be.fromString(e,...n));return BS(r),new kt(t.firestore,t instanceof Ri?t.converter:null,new Q(r))}}var Bf=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Nf(this,"async_queue_retry"),this.Vu=()=>{let r=aw();r&&z("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=aw();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=aw();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new Cn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return T(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Nu(e))throw e;z("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw kr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=E_.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&te()}verifyOperationInProgress(){}wu(){return T(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};var Ls=class extends Ia{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Bf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return T(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Bf(e),this._firestoreClient=void 0,yield e}})}};function zA(t,e){let n=typeof t=="object"?t:bi(),r=typeof t=="string"?t:e||"(default)",i=ms(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Fh("firestore");s&&$A(i,...s)}return i}function rI(t){if(t._terminated)throw new H(L.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||H$(t),t._firestoreClient}function H$(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,d,p){return new vw(a,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,jA(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new N_(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var Du=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Ct.fromBase64String(e))}catch(n){throw new H(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ba=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Cu=class{constructor(e){this._methodName=e}};var Su=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}};var Au=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var q$=/^__.*__$/,P_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ar(e,this.data,this.fieldMask,n,this.fieldTransforms):new Os(e,this.data,n,this.fieldTransforms)}},$f=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ar(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function GA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te()}}var M_=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return qf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(GA(this.Cu)&&q$.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},k_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Jf(e)}Qu(e,n,r,i=!1){return new M_({Cu:e,methodName:n,qu:r,path:en.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function iI(t){let e=t._freezeSettings(),n=Jf(t._databaseId);return new k_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function z$(t,e,n,r,i,s={}){let o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);sI("Data must be an object, but it was:",o,r);let a=WA(r,o),u,d;if(s.merge)u=new dn(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){let p=[];for(let g of s.mergeFields){let _=O_(e,g,n);if(!o.contains(_))throw new H(L.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);QA(p,_)||p.push(_)}u=new dn(p),d=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,d=o.fieldTransforms;return new P_(new Xt(a),u,d)}var Hf=class t extends Cu{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function G$(t,e,n,r){let i=t.Qu(1,e,n);sI("Data must be an object, but it was:",i,r);let s=[],o=Xt.empty();Fs(r,(u,d)=>{let p=oI(e,u,n);d=Le(d);let g=i.Nu(p);if(d instanceof Hf)s.push(p);else{let _=ku(d,g);_!=null&&(s.push(p),o.set(p,_))}});let a=new dn(s);return new $f(o,a,i.fieldTransforms)}function W$(t,e,n,r,i,s){let o=t.Qu(1,e,n),a=[O_(e,r,n)],u=[i];if(s.length%2!=0)throw new H(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)a.push(O_(e,s[_])),u.push(s[_+1]);let d=[],p=Xt.empty();for(let _=a.length-1;_>=0;--_)if(!QA(d,a[_])){let E=a[_],N=u[_];N=Le(N);let O=o.Nu(E);if(N instanceof Hf)d.push(E);else{let k=ku(N,O);k!=null&&(d.push(E),p.set(E,k))}}let g=new dn(d);return new $f(p,g,o.fieldTransforms)}function K$(t,e,n,r=!1){return ku(n,t.Qu(r?4:3,e))}function ku(t,e){if(KA(t=Le(t)))return sI("Unsupported field value:",e,t),WA(t,e);if(t instanceof Cu)return function(r,i){if(!GA(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=ku(a,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Le(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return NB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=vt.fromDate(r);return{timestampValue:Sf(i.serializer,s)}}if(r instanceof vt){let s=new vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sf(i.serializer,s)}}if(r instanceof Su)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Du)return{bytesValue:gA(i.serializer,r._byteString)};if(r instanceof kt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Q_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Au)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return K_(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${tp(r)}`)}(t,e)}function WA(t,e){let n={};return GS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fs(t,(r,i)=>{let s=ku(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function KA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof vt||t instanceof Su||t instanceof Du||t instanceof kt||t instanceof Cu||t instanceof Au)}function sI(t,e,n){if(!KA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=tp(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function O_(t,e,n){if((e=Le(e))instanceof ba)return e._internalPath;if(typeof e=="string")return oI(t,e);throw qf("Field path arguments must be of type string or ",t,!1,void 0,n)}var Q$=new RegExp("[~\\*/\\[\\]]");function oI(t,e,n){if(e.search(Q$)>=0)throw qf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ba(...e.split("."))._internalPath}catch{throw qf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function qf(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new H(L.INVALID_ARGUMENT,a+t+u)}function QA(t,e){return t.some(n=>n.isEqual(e))}var zf=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new L_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(aI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},L_=class extends zf{data(){return super.data()}};function aI(t,e){return typeof e=="string"?oI(t,e):e instanceof ba?e._internalPath:e._delegate._internalPath}function Y$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ru=class{},F_=class extends Ru{};function YA(t,e,...n){let r=[];e instanceof Ru&&r.push(e),r=r.concat(n),function(s){let o=s.filter(u=>u instanceof V_).length,a=s.filter(u=>u instanceof Gf).length;if(o>1||o>0&&a>0)throw new H(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Gf=class t extends F_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return JA(e._query,n),new Ea(e.firestore,e.converter,Nw(e._query,n))}_parse(e){let n=iI(e.firestore);return function(s,o,a,u,d,p,g){let _;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new H(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){qS(g,p);let E=[];for(let N of g)E.push(HS(u,s,N));_={arrayValue:{values:E}}}else _=HS(u,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||qS(g,p),_=K$(a,o,g,p==="in"||p==="not-in");return rt.create(d,p,_)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function ZA(t,e,n){let r=e,i=aI("where",t);return Gf._create(i,r,n)}var V_=class t extends Ru{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:An.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let u of a)JA(o,u),o=Nw(o,u)}(e._query,n),new Ea(e.firestore,e.converter,Nw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function HS(t,e,n){if(typeof(n=Le(n))=="string"){if(n==="")throw new H(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tA(e)&&n.indexOf("/")!==-1)throw new H(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Be.fromString(n));if(!Q.isDocumentKey(r))throw new H(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gS(t,new Q(r))}if(n instanceof kt)return gS(t,n._key);throw new H(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tp(n)}.`)}function qS(t,e){if(!Array.isArray(t)||t.length===0)throw new H(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JA(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var U_=class{convertValue(e,n="none"){switch(Ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Fs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Fe(o.doubleValue));return new Au(s)}convertGeoPoint(e){return new Su(Fe(e.latitude),Fe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=H_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wu(e));default:return null}}convertTimestamp(e){let n=Or(e);return new vt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Be.fromString(e);Ne(IA(r));let i=new _f(r.get(1),r.get(3)),s=new Q(r.popFirst(5));return i.isEqual(n)||kr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function Z$(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var As=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Wf=class extends zf{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ua(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(aI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},ua=class extends Wf{data(e={}){return super.data(e)}},j_=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new As(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ua(this._firestore,this._userDataWriter,r.key,r,new As(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new ua(i._firestore,i._userDataWriter,a.doc.key,a.doc,new As(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new ua(i._firestore,i._userDataWriter,a.doc.key,a.doc,new As(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,p=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),p=o.indexOf(a.doc.key)),{type:J$(a.type),doc:u,oldIndex:d,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function J$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te()}}function XA(t){t=Fr(t,kt);let e=Fr(t.firestore,Ls);return j$(rI(e),t._key).then(n=>X$(e,t,n))}var Kf=class extends U_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Du(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,n)}};function eR(t){t=Fr(t,Ea);let e=Fr(t.firestore,Ls),n=rI(e),r=new Kf(e);return Y$(t._query),B$(n,t._query).then(i=>new j_(e,r,t,i))}function tR(t,e,n){t=Fr(t,kt);let r=Fr(t.firestore,Ls),i=Z$(t.converter,e,n);return rR(r,[z$(iI(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ai.none())])}function nR(t,e,n,...r){t=Fr(t,kt);let i=Fr(t.firestore,Ls),s=iI(i),o;return o=typeof(e=Le(e))=="string"||e instanceof ba?W$(s,"updateDoc",t._key,e,n,r):G$(s,"updateDoc",t._key,e),rR(i,[o.toMutation(t._key,Ai.exists(!0))])}function rR(t,e){return function(r,i){let s=new Cn;return r.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return R$(yield U$(r),i,s)})),s.promise}(rI(t),e)}function X$(t,e,n){let r=n.docs.get(e._key),i=new Kf(t);return new Wf(t,i,e._key,r,new As(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ta=i})(Xn),Jn(new Bt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Ls(new dw(r.getProvider("auth-internal")),new gw(r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new H(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _f(d.options.projectId,p)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ue(dS,"4.7.3",e),Ue(dS,"4.7.3","esm2017")})();var Us=class{constructor(e){return e}},iR="firestore",cI=class{constructor(){return ea(iR)}};var uI=new X("angularfire2.firestore-instances");function eH(t,e){let n=tu(iR,t,e);return n&&new Us(n)}function tH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Us(r)}}var nH={provide:cI,deps:[[new bt,uI]]},rH={provide:Us,useFactory:eH,deps:[[new bt,uI],Sr]};function B7(t,...e){return Ue("angularfire",Ti.full,"fst"),Wn([rH,nH,{provide:uI,useFactory:tH(t),multi:!0,deps:[Ae,Et,ws,_s,[new bt,lu],[new bt,vs],...e]}])}var sR=je(HA,!0);var Ca=je(qA,!0);var oR=je(XA,!0);var aR=je(eR,!0);var $7=je(zA,!0);var H7=je(YA,!0);var cR=je(tR,!0);var np=je(nR,!0);var q7=je(ZA,!0);var gR="firebasestorage.googleapis.com",mR="storageBucket",sH=2*60*1e3,oH=10*60*1e3;var ze=class t extends Mt{constructor(e,n,r=0){super(lI(e),`Firebase Storage: ${n} (${lI(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return lI(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Ke=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Ke||{});function lI(t){return"storage/"+t}function mI(){let t="An unknown error occurred, please check the error payload for server response.";return new ze(Ke.UNKNOWN,t)}function aH(t){return new ze(Ke.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function cH(t){return new ze(Ke.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function uH(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ze(Ke.UNAUTHENTICATED,t)}function lH(){return new ze(Ke.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function dH(t){return new ze(Ke.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function hH(){return new ze(Ke.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function fH(){return new ze(Ke.CANCELED,"User canceled the upload/download.")}function pH(t){return new ze(Ke.INVALID_URL,"Invalid URL '"+t+"'.")}function gH(t){return new ze(Ke.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function mH(){return new ze(Ke.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+mR+"' property when initializing the app?")}function yH(){return new ze(Ke.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function vH(){return new ze(Ke.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function wH(t){return new ze(Ke.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function dI(t){return new ze(Ke.INVALID_ARGUMENT,t)}function yR(){return new ze(Ke.APP_DELETED,"The Firebase app was deleted.")}function _H(t){return new ze(Ke.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Lu(t,e){return new ze(Ke.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ou(t){throw new ze(Ke.INTERNAL_ERROR,"Internal error: "+t)}var Rn=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw gH(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(W){W.path.charAt(W.path.length-1)==="/"&&(W.path_=W.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function d(W){W.path_=decodeURIComponent(W.path)}let p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",E=new RegExp(`^https?://${g}/${p}/b/${i}/o${_}`,"i"),N={bucket:1,path:3},O=n===gR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",U=new RegExp(`^https?://${O}/${i}/${k}`,"i"),q=[{regex:a,indices:u,postModify:s},{regex:E,indices:N,postModify:d},{regex:U,indices:{bucket:1,path:2},postModify:d}];for(let W=0;W<q.length;W++){let Te=q[W],Y=Te.regex.exec(e);if(Y){let C=Y[Te.indices.bucket],I=Y[Te.indices.path];I||(I=""),r=new t(C,I),Te.postModify(r);break}}if(r==null)throw pH(e);return r}},hI=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function IH(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let d=!1;function p(...k){d||(d=!0,e.apply(null,k))}function g(k){i=setTimeout(()=>{i=null,t(E,u())},k)}function _(){s&&clearTimeout(s)}function E(k,...U){if(d){_();return}if(k){_(),p.call(null,k,...U);return}if(u()||o){_(),p.call(null,k,...U);return}r<64&&(r*=2);let q;a===1?(a=2,q=0):q=(r+Math.random())*1e3,g(q)}let N=!1;function O(k){N||(N=!0,_(),!d&&(i!==null?(k||(a=2),clearTimeout(i),g(0)):k||(a=1)))}return g(0),s=setTimeout(()=>{o=!0,O(!0)},n),O}function EH(t){t(!1)}function bH(t){return t!==void 0}function TH(t){return typeof t=="object"&&!Array.isArray(t)}function yI(t){return typeof t=="string"||t instanceof String}function uR(t){return vI()&&t instanceof Blob}function vI(){return typeof Blob<"u"}function lR(t,e,n,r){if(r<e)throw dI(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw dI(`Invalid value for '${t}'. Expected ${n} or less.`)}function wI(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function vR(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Aa=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Aa||{});function DH(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}var fI=class{constructor(e,n,r,i,s,o,a,u,d,p,g,_=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=p,this.connectionFactory_=g,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,N)=>{this.resolve_=E,this.reject_=N,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Sa(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let u=a.loaded,d=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===Aa.NO_ERROR,u=s.getStatus();if(!a||DH(u,this.additionalRetryCodes_)&&this.retry){let p=s.getErrorCode()===Aa.ABORT;r(!1,new Sa(!1,null,p));return}let d=this.successCodes_.indexOf(u)!==-1;r(!0,new Sa(d,s))})},n=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let u=this.callback_(a,a.getResponse());bH(u)?s(u):s()}catch(u){o(u)}else if(a!==null){let u=mI();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){let u=this.appDelete_?yR():fH();o(u)}else{let u=hH();o(u)}};this.canceled_?n(!1,new Sa(!1,null,!0)):this.backoffId_=IH(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&EH(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Sa=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function CH(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function SH(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function AH(t,e){e&&(t["X-Firebase-GMPID"]=e)}function RH(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function xH(t,e,n,r,i,s,o=!0){let a=vR(t.urlParams),u=t.url+a,d=Object.assign({},t.headers);return AH(d,e),CH(d,n),SH(d,s),RH(d,r),new fI(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}function NH(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function PH(...t){let e=NH();if(e!==void 0){let n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(vI())return new Blob(t);throw new ze(Ke.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function MH(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function kH(t){if(typeof atob>"u")throw wH("base-64");return atob(t)}var cr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Fu=class{constructor(e,n){this.data=e,this.contentType=n||null}};function OH(t,e){switch(t){case cr.RAW:return new Fu(wR(e));case cr.BASE64:case cr.BASE64URL:return new Fu(_R(t,e));case cr.DATA_URL:return new Fu(FH(e),VH(e))}throw mI()}function wR(t){let e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function LH(t){let e;try{e=decodeURIComponent(t)}catch{throw Lu(cr.DATA_URL,"Malformed data URL.")}return wR(e)}function _R(t,e){switch(t){case cr.BASE64:{let i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Lu(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case cr.BASE64URL:{let i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Lu(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=kH(e)}catch(i){throw i.message.includes("polyfill")?i:Lu(t,"Invalid character found")}let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}var ip=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw Lu(cr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=n[1]||null;r!=null&&(this.base64=UH(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function FH(t){let e=new ip(t);return e.base64?_R(cr.BASE64,e.rest):LH(e.rest)}function VH(t){return new ip(t).contentType}function UH(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var sp=class t{constructor(e,n){let r=0,i="";uR(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(uR(this.data_)){let r=this.data_,i=MH(r,e,n);return i===null?null:new t(i)}else{let r=new Uint8Array(this.data_.buffer,e,n-e);return new t(r,!0)}}static getBlob(...e){if(vI()){let n=e.map(r=>r instanceof t?r.data_:r);return new t(PH.apply(null,n))}else{let n=e.map(o=>yI(o)?OH(cr.RAW,o).data:o.data_),r=0;n.forEach(o=>{r+=o.byteLength});let i=new Uint8Array(r),s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new t(i,!0)}}uploadData(){return this.data_}};function IR(t){let e;try{e=JSON.parse(t)}catch{return null}return TH(e)?e:null}function jH(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function BH(t,e){let n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function ER(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function $H(t,e){return e}var wt=class{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||$H}},rp=null;function HH(t){return!yI(t)||t.length<2?t:ER(t)}function bR(){if(rp)return rp;let t=[];t.push(new wt("bucket")),t.push(new wt("generation")),t.push(new wt("metageneration")),t.push(new wt("name","fullPath",!0));function e(s,o){return HH(o)}let n=new wt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}let i=new wt("size");return i.xform=r,t.push(i),t.push(new wt("timeCreated")),t.push(new wt("updated")),t.push(new wt("md5Hash",null,!0)),t.push(new wt("cacheControl",null,!0)),t.push(new wt("contentDisposition",null,!0)),t.push(new wt("contentEncoding",null,!0)),t.push(new wt("contentLanguage",null,!0)),t.push(new wt("contentType",null,!0)),t.push(new wt("metadata","customMetadata",!0)),rp=t,rp}function qH(t,e){function n(){let r=t.bucket,i=t.fullPath,s=new Rn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function zH(t,e,n){let r={};r.type="file";let i=n.length;for(let s=0;s<i;s++){let o=n[s];r[o.local]=o.xform(r,e[o.server])}return qH(r,t),r}function TR(t,e,n){let r=IR(e);return r===null?null:zH(t,r,n)}function GH(t,e,n,r){let i=IR(e);if(i===null||!yI(i.downloadTokens))return null;let s=i.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(d=>{let p=t.bucket,g=t.fullPath,_="/b/"+o(p)+"/o/"+o(g),E=wI(_,n,r),N=vR({alt:"media",token:d});return E+N})[0]}function WH(t,e){let n={},r=e.length;for(let i=0;i<r;i++){let s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}var op=class{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function DR(t){if(!t)throw mI()}function KH(t,e){function n(r,i){let s=TR(t,i,e);return DR(s!==null),s}return n}function QH(t,e){function n(r,i){let s=TR(t,i,e);return DR(s!==null),GH(s,i,t.host,t._protocol)}return n}function CR(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=lH():i=uH():n.getStatus()===402?i=cH(t.bucket):n.getStatus()===403?i=dH(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function YH(t){let e=CR(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=aH(t.path)),s.serverResponse=i.serverResponse,s}return n}function ZH(t,e,n){let r=e.fullServerUrl(),i=wI(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new op(i,s,QH(t,n),o);return a.errorHandler=YH(e),a}function JH(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function XH(t,e,n){let r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=JH(null,e)),r}function eq(t,e,n,r,i){let s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let q="";for(let W=0;W<2;W++)q=q+Math.random().toString().slice(2);return q}let u=a();o["Content-Type"]="multipart/related; boundary="+u;let d=XH(e,r,i),p=WH(d,n),g="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+u+`\r
Content-Type: `+d.contentType+`\r
\r
`,_=`\r
--`+u+"--",E=sp.getBlob(g,r,_);if(E===null)throw yH();let N={name:d.fullPath},O=wI(s,t.host,t._protocol),k="POST",U=t.maxUploadRetryTime,G=new op(O,k,KH(t,n),U);return G.urlParams=N,G.headers=o,G.body=E.uploadData(),G.errorHandler=CR(e),G}var Q7=256*1024;var dR=null,pI=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Aa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Aa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Aa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Ou("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(let s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ou("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ou("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ou("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ou("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},gI=class extends pI{initXhr(){this.xhr_.responseType="text"}};function SR(){return dR?dR():new gI}var Ra=class t{constructor(e,n){this._service=e,n instanceof Rn?this._location=n:this._location=Rn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new Rn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ER(this._location.path)}get storage(){return this._service}get parent(){let e=jH(this._location.path);if(e===null)return null;let n=new Rn(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw _H(e)}};function tq(t,e,n){t._throwIfRoot("uploadBytes");let r=eq(t.storage,t._location,bR(),new sp(e,!0),n);return t.storage.makeRequestWithTokens(r,SR).then(i=>({metadata:i,ref:t}))}function nq(t){t._throwIfRoot("getDownloadURL");let e=ZH(t.storage,t._location,bR());return t.storage.makeRequestWithTokens(e,SR).then(n=>{if(n===null)throw vH();return n})}function rq(t,e){let n=BH(t._location.path,e),r=new Rn(t._location.bucket,n);return new Ra(t.storage,r)}function iq(t){return/^[A-Za-z]+:\/\//.test(t)}function sq(t,e){return new Ra(t,e)}function AR(t,e){if(t instanceof Vu){let n=t;if(n._bucket==null)throw mH();let r=new Ra(n,n._bucket);return e!=null?AR(r,e):r}else return e!==void 0?rq(t,e):t}function oq(t,e){if(e&&iq(e)){if(t instanceof Vu)return sq(t,e);throw dI("To use ref(service, url), the first argument must be a Storage instance.")}else return AR(t,e)}function hR(t,e){let n=e?.[mR];return n==null?null:Rn.makeFromBucketSpec(n,t)}function aq(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Vh(i,t.app.options.projectId))}var Vu=class{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=gR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=sH,this._maxUploadRetryTime=oH,this._requests=new Set,i!=null?this._bucket=Rn.makeFromBucketSpec(i,this._host):this._bucket=hR(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Rn.makeFromBucketSpec(this._url,e):this._bucket=hR(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){lR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){lR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return T(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return T(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ra(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new hI(yR());{let o=xH(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return T(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},fR="@firebase/storage",pR="0.13.2";var RR="storage";function xR(t,e,n){return t=Le(t),tq(t,e,n)}function NR(t){return t=Le(t),nq(t)}function PR(t,e){return t=Le(t),oq(t,e)}function MR(t=bi(),e){t=Le(t);let r=ms(t,RR).getImmediate({identifier:e}),i=Fh("storage");return i&&kR(r,...i),r}function kR(t,e,n,r={}){aq(t,e,n,r)}function cq(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Vu(n,r,i,e,Xn)}function uq(){Jn(new Bt(RR,cq,"PUBLIC").setMultipleInstances(!0)),Ue(fR,pR,""),Ue(fR,pR,"esm2017")}uq();var OR=je(NR,!0);var LR=je(MR,!0);var FR=je(PR,!0);var VR=je(xR,!0);var UR=class t{constructor(e,n){this.auth=e;this.firestore=n}userSubject=new ct(null);uploadImage(e){return T(this,null,function*(){let n=LR(),r=FR(n,`images/${e.name}`);try{return yield VR(r,e),yield OR(r)}catch(i){throw console.error("Error al subir la imagen:",i),i}})}registerUser(e,n,r,i){return T(this,null,function*(){try{let s=yield sS(this.auth,e,n);yield oS(s.user);let o=i!=="especialista",a=xe(B({uid:s.user.uid},r),{role:i,createdAt:new Date,habilitado:o,emailVerificado:!1});return yield cR(Ca(this.firestore,"users",s.user.uid),a),xe(B({},s.user),{role:i})}catch(s){throw console.error(`Error al registrar el ${i}:`,s),s}})}verificarCorreo(e){return T(this,null,function*(){let n=this.auth.currentUser;if(n){yield n.reload();let r=yield this.getUserData(n.uid);n.emailVerified&&(yield np(Ca(this.firestore,`users/${n.uid}`),{emailVerificado:!0}))}})}login(e,n){return T(this,null,function*(){try{let r=yield aS(this.auth,e,n);yield this.verificarCorreo(r.user.uid);let i=yield this.getUserData(r.user.uid);if(i.role==="especialista"){if(!i.habilitado)throw new Error("Tu cuenta debe ser aprobada por un administrador antes de poder iniciar sesi\xF3n.");if(!i.emailVerificado)throw new Error("Debes verificar tu correo electr\xF3nico para ingresar.")}else if(!i.emailVerificado)throw new Error("Debes verificar tu correo electr\xF3nico para ingresar.");return this.userSubject.next(B(B({},r.user),i)),B(B({},r.user),i)}catch(r){throw console.error("Error en el login:",r),r}})}getUserData(e){return T(this,null,function*(){let n=Ca(this.firestore,`users/${e}`),r=yield oR(n);if(r.exists())return r.data();throw new Error("No se encontr\xF3 el documento del usuario")})}logout(){return cS(this.auth).then(()=>{this.userSubject.next(null)})}habilitarUsuario(e){return T(this,null,function*(){let n=Ca(this.firestore,"users",e);yield np(n,{habilitado:!0})})}inhabilitarUsuario(e){return T(this,null,function*(){let n=Ca(this.firestore,"users",e);yield np(n,{habilitado:!1})})}obtenerUsuarios(){return T(this,null,function*(){let e=sR(this.firestore,"users");return(yield aR(e)).docs.map(r=>B({id:r.id},r.data()))})}getUser(){return this.userSubject.asObservable()}static \u0275fac=function(n){return new(n||t)(ee(Ds),ee(Us))};static \u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})};export{B as a,xe as b,pq as c,T as d,St as e,We as f,pe as g,cN as h,Z as i,nb as j,K as k,vc as l,X as m,ee as n,mb as o,_c as p,Mo as q,Gd as r,M3 as s,k3 as t,vm as u,Rt as v,Ec as w,O3 as x,L3 as y,Yt as z,oh as A,j3 as B,eO as C,fO as D,oD as E,SO as F,AO as G,cD as H,uD as I,jm as J,B3 as K,lD as L,$3 as M,zO as N,H3 as O,KO as P,hD as Q,QO as R,YO as S,ZO as T,q3 as U,JO as V,z3 as W,pD as X,G3 as Y,W3 as Z,K3 as _,Q3 as $,Y3 as aa,bc as ba,Z3 as ca,Tc as da,TD as ea,J3 as fa,D1 as ga,Vo as ha,T9 as ia,D9 as ja,C9 as ka,S9 as la,k1 as ma,eW as na,ML as oa,wi as pa,EW as qa,bW as ra,h8 as sa,f8 as ta,oK as ua,aK as va,Us as wa,B7 as xa,sR as ya,Ca as za,oR as Aa,aR as Ba,$7 as Ca,H7 as Da,cR as Ea,np as Fa,q7 as Ga,UR as Ha,lq as Ia};
